<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>CGNS: cgnslib.c Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.9 -->
<script type="text/javascript">
<!--
function changeDisplayState (e){
  var num=this.id.replace(/[^[0-9]/g,'');
  var button=this.firstChild;
  var sectionDiv=document.getElementById('dynsection'+num);
  if (sectionDiv.style.display=='none'||sectionDiv.style.display==''){
    sectionDiv.style.display='block';
    button.src='open.gif';
  }else{
    sectionDiv.style.display='none';
    button.src='closed.gif';
  }
}
function initDynSections(){
  var divs=document.getElementsByTagName('div');
  var sectionCounter=1;
  for(var i=0;i<divs.length-1;i++){
    if(divs[i].className=='dynheader'&&divs[i+1].className=='dynsection'){
      var header=divs[i];
      var section=divs[i+1];
      var button=header.firstChild;
      if (button!='IMG'){
        divs[i].insertBefore(document.createTextNode(' '),divs[i].firstChild);
        button=document.createElement('img');
        divs[i].insertBefore(button,divs[i].firstChild);
      }
      header.style.cursor='pointer';
      header.onclick=changeDisplayState;
      header.id='dynheader'+sectionCounter;
      button.src='closed.gif';
      section.id='dynsection'+sectionCounter;
      section.style.display='none';
      section.style.marginLeft='14px';
      sectionCounter++;
    }
  }
}
window.onload = initDynSections;
-->
</script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<h1>cgnslib.c</h1><a href="cgnslib_8c.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/*-------------------------------------------------------------------------</span>
<a name="l00002"></a>00002 <span class="comment">This software is provided 'as-is', without any express or implied warranty.</span>
<a name="l00003"></a>00003 <span class="comment">In no event will the authors be held liable for any damages arising from</span>
<a name="l00004"></a>00004 <span class="comment">the use of this software.</span>
<a name="l00005"></a>00005 <span class="comment"></span>
<a name="l00006"></a>00006 <span class="comment">Permission is granted to anyone to use this software for any purpose,</span>
<a name="l00007"></a>00007 <span class="comment">including commercial applications, and to alter it and redistribute it</span>
<a name="l00008"></a>00008 <span class="comment">freely, subject to the following restrictions:</span>
<a name="l00009"></a>00009 <span class="comment"></span>
<a name="l00010"></a>00010 <span class="comment">1. The origin of this software must not be misrepresented; you must not</span>
<a name="l00011"></a>00011 <span class="comment">   claim that you wrote the original software. If you use this software</span>
<a name="l00012"></a>00012 <span class="comment">   in a product, an acknowledgment in the product documentation would be</span>
<a name="l00013"></a>00013 <span class="comment">   appreciated but is not required.</span>
<a name="l00014"></a>00014 <span class="comment"></span>
<a name="l00015"></a>00015 <span class="comment">2. Altered source versions must be plainly marked as such, and must not</span>
<a name="l00016"></a>00016 <span class="comment">   be misrepresented as being the original software.</span>
<a name="l00017"></a>00017 <span class="comment"></span>
<a name="l00018"></a>00018 <span class="comment">3. This notice may not be removed or altered from any source distribution.</span>
<a name="l00019"></a>00019 <span class="comment">-------------------------------------------------------------------------*/</span>
<a name="l00020"></a>00020 
<a name="l00021"></a>00021 <span class="comment">/***********************************************************************</span>
<a name="l00022"></a>00022 <span class="comment"> * Revisions:</span>
<a name="l00023"></a>00023 <span class="comment"> *</span>
<a name="l00024"></a>00024 <span class="comment"> ***********************************************************************/</span>
<a name="l00025"></a>00025 
<a name="l00026"></a>00026 <span class="preprocessor">#include &lt;stdio.h&gt;</span>
<a name="l00027"></a>00027 <span class="preprocessor">#include &lt;stdlib.h&gt;</span>
<a name="l00028"></a>00028 <span class="preprocessor">#include &lt;string.h&gt;</span>
<a name="l00029"></a>00029 <span class="preprocessor">#include &lt;stdarg.h&gt;</span>
<a name="l00030"></a>00030 <span class="preprocessor">#include &lt;time.h&gt;</span>
<a name="l00031"></a>00031 <span class="preprocessor">#include &lt;sys/types.h&gt;</span>
<a name="l00032"></a>00032 <span class="preprocessor">#include &lt;sys/stat.h&gt;</span>
<a name="l00033"></a>00033 <span class="preprocessor">#if defined(_WIN32) &amp;&amp; !defined(__NUTC__)</span>
<a name="l00034"></a>00034 <span class="preprocessor"></span><span class="preprocessor">#include &lt;io.h&gt;</span>     <span class="comment">/* suggested by MTI */</span>
<a name="l00035"></a>00035 <span class="preprocessor">#else</span>
<a name="l00036"></a>00036 <span class="preprocessor"></span><span class="preprocessor">#include &lt;unistd.h&gt;</span>
<a name="l00037"></a>00037 <span class="preprocessor">#endif</span>
<a name="l00038"></a>00038 <span class="preprocessor"></span><span class="preprocessor">#include "<a class="code" href="cgnslib_8h.html">cgnslib.h</a>"</span>
<a name="l00039"></a>00039 <span class="preprocessor">#include "<a class="code" href="cgns__header_8h.html">cgns_header.h</a>"</span>
<a name="l00040"></a>00040 <span class="preprocessor">#include "<a class="code" href="cgns__io_8h.html">cgns_io.h</a>"</span>
<a name="l00041"></a>00041 <span class="preprocessor">#if defined(_WIN32) &amp;&amp; !defined(__NUTC__)</span>
<a name="l00042"></a>00042 <span class="preprocessor"></span><span class="preprocessor">#include &lt;ctype.h&gt;</span>
<a name="l00043"></a>00043 <span class="preprocessor">#ifndef F_OK</span>
<a name="l00044"></a>00044 <span class="preprocessor"></span><span class="preprocessor">#define R_OK    004 </span><span class="comment">/* Test for Read permission */</span>
<a name="l00045"></a>00045 <span class="preprocessor">#define W_OK    002 </span><span class="comment">/* Test for Write permission */</span>
<a name="l00046"></a>00046 <span class="preprocessor">#define X_OK    001 </span><span class="comment">/* Test for eXecute permission */</span>
<a name="l00047"></a>00047 <span class="preprocessor">#define F_OK    000 </span><span class="comment">/* Test for existence of File */</span>
<a name="l00048"></a>00048 <span class="preprocessor">#endif</span>
<a name="l00049"></a>00049 <span class="preprocessor"></span><span class="comment">/* fix for unresolved reference to __ftol2 when using VC7 with VC6 libs */</span>
<a name="l00050"></a>00050 <span class="comment">/* see http://www.manusoft.com/Resources/ARXTips/Main.stm */</span>
<a name="l00051"></a>00051 <span class="preprocessor">#ifdef NEED_FTOL2</span>
<a name="l00052"></a>00052 <span class="preprocessor"></span><span class="preprocessor">#ifdef __cplusplus</span>
<a name="l00053"></a>00053 <span class="preprocessor"></span><span class="keyword">extern</span> <span class="stringliteral">"C"</span> {
<a name="l00054"></a>00054 <span class="preprocessor">#endif</span>
<a name="l00055"></a>00055 <span class="preprocessor"></span><span class="keywordtype">long</span> _ftol(<span class="keywordtype">double</span>);
<a name="l00056"></a>00056 <span class="keywordtype">long</span> _ftol2(<span class="keywordtype">double</span> dValue) {<span class="keywordflow">return</span> _ftol(dValue);}
<a name="l00057"></a>00057 <span class="preprocessor">#ifdef __cplusplus</span>
<a name="l00058"></a>00058 <span class="preprocessor"></span>}
<a name="l00059"></a>00059 <span class="preprocessor">#endif</span>
<a name="l00060"></a>00060 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00061"></a>00061 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00062"></a>00062 <span class="preprocessor"></span><span class="preprocessor">#ifdef MEM_DEBUG</span>
<a name="l00063"></a>00063 <span class="preprocessor"></span><span class="preprocessor">#include "<a class="code" href="cg__malloc_8h.html">cg_malloc.h</a>"</span>
<a name="l00064"></a>00064 <span class="preprocessor">#endif</span>
<a name="l00065"></a>00065 <span class="preprocessor"></span>
<a name="l00066"></a>00066 <span class="comment">/***********************************************************************</span>
<a name="l00067"></a>00067 <span class="comment"> * external variable declarations</span>
<a name="l00068"></a>00068 <span class="comment"> ***********************************************************************/</span>
<a name="l00069"></a><a class="code" href="cgnslib_8c.html#e800adf968d2fa2ebb0716646bcf69e9">00069</a> <a class="code" href="structcgns__file.html">cgns_file</a> *<a class="code" href="cgns__header_8h.html#e800adf968d2fa2ebb0716646bcf69e9">cgns_files</a> = 0;
<a name="l00070"></a><a class="code" href="cgnslib_8c.html#a05678e737ae9f202f9e58521454f911">00070</a> <a class="code" href="structcgns__file.html">cgns_file</a> *<a class="code" href="cgns__header_8h.html#a05678e737ae9f202f9e58521454f911">cg</a>;
<a name="l00071"></a><a class="code" href="cgnslib_8c.html#1df1986083c90262e89c987163dfda00">00071</a> <span class="keywordtype">int</span> <a class="code" href="cgns__header_8h.html#1df1986083c90262e89c987163dfda00">n_cgns_files</a> = 0;
<a name="l00072"></a><a class="code" href="cgnslib_8c.html#137839be8362795fe24c705c6aaecf7a">00072</a> <a class="code" href="structcgns__posit.html">cgns_posit</a> *<a class="code" href="cgns__header_8h.html#137839be8362795fe24c705c6aaecf7a">posit</a> = 0;
<a name="l00073"></a><a class="code" href="cgnslib_8c.html#ebd0971a3f05d514c15194a9a9d08617">00073</a> <span class="keywordtype">int</span> <a class="code" href="cgns__header_8h.html#09600b02dcc6c76fad54f3d15c3be10f">posit_file</a>, <a class="code" href="cgns__header_8h.html#9aefb3fb2179957b84774f80fc7ca76a">posit_base</a>, <a class="code" href="cgns__header_8h.html#ebd0971a3f05d514c15194a9a9d08617">posit_zone</a>;
<a name="l00074"></a><a class="code" href="cgnslib_8c.html#c25956316d094fcd16096a039c4bea4f">00074</a> <span class="keywordtype">int</span> <a class="code" href="cgns__header_8h.html#c25956316d094fcd16096a039c4bea4f">CGNSLibVersion</a>=<a class="code" href="cgns_keywords_8h.html#2a5c0cc33e8f1ae352a2193106548c21">CGNS_VERSION</a>;<span class="comment">/* Version of the CGNSLibrary*1000  */</span>
<a name="l00075"></a><a class="code" href="cgnslib_8c.html#8130874cb175b93f3c080aa7eab00a94">00075</a> <span class="keywordtype">int</span> <a class="code" href="_a_d_f_h_8c.html#8130874cb175b93f3c080aa7eab00a94">cgns_compress</a> = -1;
<a name="l00076"></a><a class="code" href="cgnslib_8c.html#02b75e0153a380a02f1cd63d5353162f">00076</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#02b75e0153a380a02f1cd63d5353162f">cgns_filetype</a> = <a class="code" href="cgnslib_8h.html#d4f3fc67a6971bd12aa5d0a06468c9cc">CG_FILE_NONE</a>;
<a name="l00077"></a>00077 
<a name="l00078"></a>00078 <span class="keyword">extern</span> void (*<a class="code" href="cgns__error_8c.html#68f96459d0e0f96491e90a06ceb02276">cgns_error_handler</a>)(int, <span class="keywordtype">char</span> *);
<a name="l00079"></a>00079 
<a name="l00080"></a>00080 <span class="comment">/***********************************************************************</span>
<a name="l00081"></a>00081 <span class="comment"> * Name strings</span>
<a name="l00082"></a>00082 <span class="comment"> ***********************************************************************/</span>
<a name="l00083"></a><a class="code" href="cgnslib_8h.html#f07abdfeaf5d1334824db8d82d3f192a">00083</a> <span class="keywordtype">char</span> <span class="keyword">const</span> * <a class="code" href="cgnslib_8c.html#f07abdfeaf5d1334824db8d82d3f192a">MassUnitsName</a>[<a class="code" href="cgns_keywords_8h.html#c96a4bda33c372a14dc5483f3a79dbc3">NofValidMassUnits</a>] =
<a name="l00084"></a>00084     {<span class="stringliteral">"Null"</span>, <span class="stringliteral">"UserDefined"</span>,
<a name="l00085"></a>00085      <span class="stringliteral">"Kilogram"</span>, <span class="stringliteral">"Gram"</span>, <span class="stringliteral">"Slug"</span>, <span class="stringliteral">"PoundMass"</span>
<a name="l00086"></a>00086     };
<a name="l00087"></a><a class="code" href="cgnslib_8h.html#47ef1ad1a1674a8e8e87efb5ce439794">00087</a> <span class="keywordtype">char</span> <span class="keyword">const</span> * <a class="code" href="cgnslib_8c.html#47ef1ad1a1674a8e8e87efb5ce439794">LengthUnitsName</a>[<a class="code" href="cgns_keywords_8h.html#3408181646c0547c198171533d62294e">NofValidLengthUnits</a>] =
<a name="l00088"></a>00088     {<span class="stringliteral">"Null"</span>, <span class="stringliteral">"UserDefined"</span>,
<a name="l00089"></a>00089      <span class="stringliteral">"Meter"</span>, <span class="stringliteral">"Centimeter"</span>, <span class="stringliteral">"Millimeter"</span>, <span class="stringliteral">"Foot"</span>, <span class="stringliteral">"Inch"</span>
<a name="l00090"></a>00090     };
<a name="l00091"></a><a class="code" href="cgnslib_8h.html#2db3d42e3188a7f45ea7d69d09dc9ca7">00091</a> <span class="keywordtype">char</span> <span class="keyword">const</span> * <a class="code" href="cgnslib_8c.html#2db3d42e3188a7f45ea7d69d09dc9ca7">TimeUnitsName</a>[<a class="code" href="cgns_keywords_8h.html#8af9ee4e369cb4ad52daa7f33335096d">NofValidTimeUnits</a>] =
<a name="l00092"></a>00092     {<span class="stringliteral">"Null"</span>, <span class="stringliteral">"UserDefined"</span>,
<a name="l00093"></a>00093      <span class="stringliteral">"Second"</span>
<a name="l00094"></a>00094     };
<a name="l00095"></a><a class="code" href="cgnslib_8h.html#307e75f83365688cd741d667ef5bafd0">00095</a> <span class="keywordtype">char</span> <span class="keyword">const</span> * <a class="code" href="cgnslib_8c.html#307e75f83365688cd741d667ef5bafd0">TemperatureUnitsName</a>[<a class="code" href="cgns_keywords_8h.html#063b20bdddc67f3107041137aefa2e77">NofValidTemperatureUnits</a>] =
<a name="l00096"></a>00096     {<span class="stringliteral">"Null"</span>, <span class="stringliteral">"UserDefined"</span>,
<a name="l00097"></a>00097      <span class="stringliteral">"Kelvin"</span>, <span class="stringliteral">"Celsius"</span>, <span class="stringliteral">"Rankine"</span>, <span class="stringliteral">"Fahrenheit"</span>
<a name="l00098"></a>00098      };
<a name="l00099"></a><a class="code" href="cgnslib_8h.html#784eeb5096a5d28d223042574644cd8d">00099</a> <span class="keywordtype">char</span> <span class="keyword">const</span> * <a class="code" href="cgnslib_8c.html#784eeb5096a5d28d223042574644cd8d">AngleUnitsName</a>[<a class="code" href="cgns_keywords_8h.html#c5fa0c1105a77dd324c813cd01b2fd95">NofValidAngleUnits</a>] =
<a name="l00100"></a>00100     {<span class="stringliteral">"Null"</span>, <span class="stringliteral">"UserDefined"</span>,
<a name="l00101"></a>00101      <span class="stringliteral">"Degree"</span>, <span class="stringliteral">"Radian"</span>
<a name="l00102"></a>00102     };
<a name="l00103"></a><a class="code" href="cgnslib_8h.html#72ef15bb9a1392d2b990fdd5a403da09">00103</a> <span class="keywordtype">char</span> <span class="keyword">const</span> * <a class="code" href="cgnslib_8c.html#72ef15bb9a1392d2b990fdd5a403da09">ElectricCurrentUnitsName</a>[<a class="code" href="cgns_keywords_8h.html#b327911b02fba94e704010ded1fbe12f">NofValidElectricCurrentUnits</a>] =
<a name="l00104"></a>00104     {<span class="stringliteral">"Null"</span>, <span class="stringliteral">"UserDefined"</span>,
<a name="l00105"></a>00105      <span class="stringliteral">"Ampere"</span>, <span class="stringliteral">"Abampere"</span>, <span class="stringliteral">"Statampere"</span>, <span class="stringliteral">"Edison"</span>, <span class="stringliteral">"a.u."</span>
<a name="l00106"></a>00106     };
<a name="l00107"></a><a class="code" href="cgnslib_8h.html#121b1bdbfd5a9f8a94652f0e5e862b59">00107</a> <span class="keywordtype">char</span> <span class="keyword">const</span> * <a class="code" href="cgnslib_8c.html#121b1bdbfd5a9f8a94652f0e5e862b59">SubstanceAmountUnitsName</a>[<a class="code" href="cgns_keywords_8h.html#b2b47008296dcfea692371c2f4f386f0">NofValidSubstanceAmountUnits</a>] =
<a name="l00108"></a>00108     {<span class="stringliteral">"Null"</span>, <span class="stringliteral">"UserDefined"</span>,
<a name="l00109"></a>00109      <span class="stringliteral">"Mole"</span>, <span class="stringliteral">"Entities"</span>, <span class="stringliteral">"StandardCubicFoot"</span>, <span class="stringliteral">"StandardCubicMeter"</span>
<a name="l00110"></a>00110     };
<a name="l00111"></a><a class="code" href="cgnslib_8h.html#595e5257429a94ca1ca51d682c633e6e">00111</a> <span class="keywordtype">char</span> <span class="keyword">const</span> * <a class="code" href="cgnslib_8c.html#595e5257429a94ca1ca51d682c633e6e">LuminousIntensityUnitsName</a>[<a class="code" href="cgns_keywords_8h.html#17457e5834352cd71ea5f714865d1fe4">NofValidLuminousIntensityUnits</a>] =
<a name="l00112"></a>00112     {<span class="stringliteral">"Null"</span>, <span class="stringliteral">"UserDefined"</span>,
<a name="l00113"></a>00113      <span class="stringliteral">"Candela"</span>, <span class="stringliteral">"Candle"</span>, <span class="stringliteral">"Carcel"</span>, <span class="stringliteral">"Hefner"</span>, <span class="stringliteral">"Violle"</span>
<a name="l00114"></a>00114     };
<a name="l00115"></a><a class="code" href="cgnslib_8h.html#69d8b5aac82dbb48dbfbb1b8056cc2d1">00115</a> <span class="keywordtype">char</span> <span class="keyword">const</span> * <a class="code" href="cgnslib_8c.html#69d8b5aac82dbb48dbfbb1b8056cc2d1">DataClassName</a>[<a class="code" href="cgns_keywords_8h.html#7fa9dc1541eaeac6b88550ad13b91753">NofValidDataClass</a>] =
<a name="l00116"></a>00116     {<span class="stringliteral">"Null"</span>, <span class="stringliteral">"UserDefined"</span>,
<a name="l00117"></a>00117      <span class="stringliteral">"Dimensional"</span>, <span class="stringliteral">"NormalizedByDimensional"</span>,
<a name="l00118"></a>00118      <span class="stringliteral">"NormalizedByUnknownDimensional"</span>, <span class="stringliteral">"NondimensionalParameter"</span>,
<a name="l00119"></a>00119      <span class="stringliteral">"DimensionlessConstant"</span>
<a name="l00120"></a>00120     };
<a name="l00121"></a><a class="code" href="cgnslib_8h.html#eb037aad0a1892338bfeeb05176a29bd">00121</a> <span class="keywordtype">char</span> <span class="keyword">const</span> * <a class="code" href="cgnslib_8c.html#eb037aad0a1892338bfeeb05176a29bd">GridLocationName</a>[<a class="code" href="cgns_keywords_8h.html#1144a15b91557bdde064e950f7922446">NofValidGridLocation</a>] =
<a name="l00122"></a>00122     {<span class="stringliteral">"Null"</span>, <span class="stringliteral">"UserDefined"</span>,
<a name="l00123"></a>00123      <span class="stringliteral">"Vertex"</span>, <span class="stringliteral">"CellCenter"</span>, <span class="stringliteral">"FaceCenter"</span>, <span class="stringliteral">"IFaceCenter"</span>,
<a name="l00124"></a>00124      <span class="stringliteral">"JFaceCenter"</span>, <span class="stringliteral">"KFaceCenter"</span>, <span class="stringliteral">"EdgeCenter"</span>
<a name="l00125"></a>00125     };
<a name="l00126"></a><a class="code" href="cgnslib_8h.html#0d6e7fa0cfaca21c818f46905d2e1622">00126</a> <span class="keywordtype">char</span> <span class="keyword">const</span> * <a class="code" href="cgnslib_8c.html#0d6e7fa0cfaca21c818f46905d2e1622">BCDataTypeName</a>[<a class="code" href="cgns_keywords_8h.html#6d5a35b1d55444a926c9c0e3ba1f5817">NofValidBCDataTypes</a>] =
<a name="l00127"></a>00127     {<span class="stringliteral">"Null"</span>, <span class="stringliteral">"UserDefined"</span>,
<a name="l00128"></a>00128      <span class="stringliteral">"Dirichlet"</span>, <span class="stringliteral">"Neumann"</span>
<a name="l00129"></a>00129     };
<a name="l00130"></a><a class="code" href="cgnslib_8h.html#09091f99fae25229d9bc3d57f6c99f3e">00130</a> <span class="keywordtype">char</span> <span class="keyword">const</span> * <a class="code" href="cgnslib_8c.html#09091f99fae25229d9bc3d57f6c99f3e">GridConnectivityTypeName</a>[<a class="code" href="cgns_keywords_8h.html#41e970ada020b402f55c11f07bc2ff19">NofValidGridConnectivityTypes</a>] =
<a name="l00131"></a>00131     {<span class="stringliteral">"Null"</span>, <span class="stringliteral">"UserDefined"</span>,
<a name="l00132"></a>00132      <span class="stringliteral">"Overset"</span>, <span class="stringliteral">"Abutting"</span>, <span class="stringliteral">"Abutting1to1"</span>
<a name="l00133"></a>00133     };
<a name="l00134"></a><a class="code" href="cgnslib_8h.html#4a8e191f04e4a8f19c88e882e5451685">00134</a> <span class="keywordtype">char</span> <span class="keyword">const</span> * <a class="code" href="cgnslib_8c.html#4a8e191f04e4a8f19c88e882e5451685">PointSetTypeName</a>[<a class="code" href="cgns_keywords_8h.html#da48b346b4ee7094babfa65a68663322">NofValidPointSetTypes</a>] =
<a name="l00135"></a>00135     {<span class="stringliteral">"Null"</span>, <span class="stringliteral">"UserDefined"</span>,
<a name="l00136"></a>00136      <span class="stringliteral">"PointList"</span>,  <span class="stringliteral">"PointListDonor"</span>,
<a name="l00137"></a>00137      <span class="stringliteral">"PointRange"</span>, <span class="stringliteral">"PointRangeDonor"</span>,
<a name="l00138"></a>00138      <span class="stringliteral">"ElementRange"</span>, <span class="stringliteral">"ElementList"</span>, <span class="stringliteral">"CellListDonor"</span>
<a name="l00139"></a>00139     };
<a name="l00140"></a><a class="code" href="cgnslib_8h.html#7ff13aa230db5be593d4331ce66d354c">00140</a> <span class="keywordtype">char</span> <span class="keyword">const</span> * <a class="code" href="cgnslib_8c.html#7ff13aa230db5be593d4331ce66d354c">GoverningEquationsTypeName</a>[<a class="code" href="cgns_keywords_8h.html#27b265b03203281bea845cdeb957b117">NofValidGoverningEquationsTypes</a>]=
<a name="l00141"></a>00141     {<span class="stringliteral">"Null"</span>, <span class="stringliteral">"UserDefined"</span>,
<a name="l00142"></a>00142      <span class="stringliteral">"FullPotential"</span>, <span class="stringliteral">"Euler"</span>, <span class="stringliteral">"NSLaminar"</span>,
<a name="l00143"></a>00143      <span class="stringliteral">"NSTurbulent"</span>, <span class="stringliteral">"NSLaminarIncompressible"</span>,
<a name="l00144"></a>00144      <span class="stringliteral">"NSTurbulentIncompressible"</span>
<a name="l00145"></a>00145     };
<a name="l00146"></a><a class="code" href="cgnslib_8h.html#887f773531c0b4ffeb2b72fe5df81913">00146</a> <span class="keywordtype">char</span> <span class="keyword">const</span> * <a class="code" href="cgnslib_8c.html#887f773531c0b4ffeb2b72fe5df81913">ModelTypeName</a>[<a class="code" href="cgns_keywords_8h.html#843c181a3ef20f26c35af5910195aa2d">NofValidModelTypes</a>]=
<a name="l00147"></a>00147     {<span class="stringliteral">"Null"</span>, <span class="stringliteral">"UserDefined"</span>,
<a name="l00148"></a>00148      <span class="stringliteral">"Ideal"</span>, <span class="stringliteral">"VanderWaals"</span>, <span class="stringliteral">"Constant"</span>, <span class="stringliteral">"PowerLaw"</span>, <span class="stringliteral">"SutherlandLaw"</span>,
<a name="l00149"></a>00149      <span class="stringliteral">"ConstantPrandtl"</span>, <span class="stringliteral">"EddyViscosity"</span>, <span class="stringliteral">"ReynoldsStress"</span>, <span class="stringliteral">"ReynoldsStressAlgebraic"</span>,
<a name="l00150"></a>00150      <span class="stringliteral">"Algebraic_BaldwinLomax"</span>, <span class="stringliteral">"Algebraic_CebeciSmith"</span>,
<a name="l00151"></a>00151      <span class="stringliteral">"HalfEquation_JohnsonKing"</span>, <span class="stringliteral">"OneEquation_BaldwinBarth"</span>,
<a name="l00152"></a>00152      <span class="stringliteral">"OneEquation_SpalartAllmaras"</span>, <span class="stringliteral">"TwoEquation_JonesLaunder"</span>,
<a name="l00153"></a>00153      <span class="stringliteral">"TwoEquation_MenterSST"</span>, <span class="stringliteral">"TwoEquation_Wilcox"</span>,
<a name="l00154"></a>00154      <span class="stringliteral">"CaloricallyPerfect"</span>, <span class="stringliteral">"ThermallyPerfect"</span>,
<a name="l00155"></a>00155      <span class="stringliteral">"ConstantDensity"</span>, <span class="stringliteral">"RedlichKwong"</span>,
<a name="l00156"></a>00156      <span class="stringliteral">"Frozen"</span>, <span class="stringliteral">"ThermalEquilib"</span>, <span class="stringliteral">"ThermalNonequilib"</span>,
<a name="l00157"></a>00157      <span class="stringliteral">"ChemicalEquilibCurveFit"</span>, <span class="stringliteral">"ChemicalEquilibMinimization"</span>,
<a name="l00158"></a>00158      <span class="stringliteral">"ChemicalNonequilib"</span>,
<a name="l00159"></a>00159      <span class="stringliteral">"EMElectricField"</span>, <span class="stringliteral">"EMMagneticField"</span>, <span class="stringliteral">"EMConductivity"</span>,
<a name="l00160"></a>00160      <span class="stringliteral">"Voltage"</span>, <span class="stringliteral">"Interpolated"</span>, <span class="stringliteral">"Equilibrium_LinRessler"</span>, <span class="stringliteral">"Chemistry_LinRessler"</span>
<a name="l00161"></a>00161     };
<a name="l00162"></a><a class="code" href="cgnslib_8h.html#524bd2d700c329555ff489a4a15a239b">00162</a> <span class="keywordtype">char</span> <span class="keyword">const</span> * <a class="code" href="cgnslib_8c.html#524bd2d700c329555ff489a4a15a239b">BCTypeName</a>[<a class="code" href="cgns_keywords_8h.html#bf6f54174df8990df78582b7706aa8be">NofValidBCTypes</a>] =
<a name="l00163"></a>00163     {<span class="stringliteral">"Null"</span>, <span class="stringliteral">"UserDefined"</span>,
<a name="l00164"></a>00164      <span class="stringliteral">"BCAxisymmetricWedge"</span>, <span class="stringliteral">"BCDegenerateLine"</span>, <span class="stringliteral">"BCDegeneratePoint"</span>,
<a name="l00165"></a>00165      <span class="stringliteral">"BCDirichlet"</span>, <span class="stringliteral">"BCExtrapolate"</span>, <span class="stringliteral">"BCFarfield"</span>, <span class="stringliteral">"BCGeneral"</span>,
<a name="l00166"></a>00166      <span class="stringliteral">"BCInflow"</span>, <span class="stringliteral">"BCInflowSubsonic"</span>, <span class="stringliteral">"BCInflowSupersonic"</span>, <span class="stringliteral">"BCNeumann"</span>,
<a name="l00167"></a>00167      <span class="stringliteral">"BCOutflow"</span>, <span class="stringliteral">"BCOutflowSubsonic"</span>, <span class="stringliteral">"BCOutflowSupersonic"</span>,
<a name="l00168"></a>00168      <span class="stringliteral">"BCSymmetryPlane"</span>, <span class="stringliteral">"BCSymmetryPolar"</span>, <span class="stringliteral">"BCTunnelInflow"</span>,
<a name="l00169"></a>00169      <span class="stringliteral">"BCTunnelOutflow"</span>, <span class="stringliteral">"BCWall"</span>, <span class="stringliteral">"BCWallInviscid"</span>, <span class="stringliteral">"BCWallViscous"</span>,
<a name="l00170"></a>00170      <span class="stringliteral">"BCWallViscousHeatFlux"</span>, <span class="stringliteral">"BCWallViscousIsothermal"</span>, <span class="stringliteral">"FamilySpecified"</span>
<a name="l00171"></a>00171      };
<a name="l00172"></a><a class="code" href="cgnslib_8h.html#8656d25788085de6b9d034931a302975">00172</a> <span class="keywordtype">char</span> <span class="keyword">const</span> * <a class="code" href="cgnslib_8c.html#8656d25788085de6b9d034931a302975">DataTypeName</a>[<a class="code" href="cgns_keywords_8h.html#e2aacf63a0d1ef2109359675ae5f0fe2">NofValidDataTypes</a>] =
<a name="l00173"></a>00173     {<span class="stringliteral">"Null"</span>, <span class="stringliteral">"UserDefined"</span>,
<a name="l00174"></a>00174      <span class="stringliteral">"Integer"</span>, <span class="stringliteral">"RealSingle"</span>, <span class="stringliteral">"RealDouble"</span>, <span class="stringliteral">"Character"</span>
<a name="l00175"></a>00175     };
<a name="l00176"></a><a class="code" href="cgnslib_8h.html#0edb2f4e24d05b4e2f6d15ce7f2acc8f">00176</a> <span class="keywordtype">char</span> <span class="keyword">const</span> * <a class="code" href="cgnslib_8c.html#0edb2f4e24d05b4e2f6d15ce7f2acc8f">ElementTypeName</a>[<a class="code" href="cgns_keywords_8h.html#058dc8d7fafdb4b484144df5f83b437b">NofValidElementTypes</a>] =
<a name="l00177"></a>00177     {<span class="stringliteral">"Null"</span>, <span class="stringliteral">"UserDefined"</span>,
<a name="l00178"></a>00178      <span class="stringliteral">"NODE"</span>, <span class="stringliteral">"BAR_2"</span>, <span class="stringliteral">"BAR_3"</span>,
<a name="l00179"></a>00179      <span class="stringliteral">"TRI_3"</span>, <span class="stringliteral">"TRI_6"</span>,
<a name="l00180"></a>00180      <span class="stringliteral">"QUAD_4"</span>, <span class="stringliteral">"QUAD_8"</span>, <span class="stringliteral">"QUAD_9"</span>,
<a name="l00181"></a>00181      <span class="stringliteral">"TETRA_4"</span>, <span class="stringliteral">"TETRA_10"</span>,
<a name="l00182"></a>00182      <span class="stringliteral">"PYRA_5"</span>, <span class="stringliteral">"PYRA_13"</span>, <span class="stringliteral">"PYRA_14"</span>,
<a name="l00183"></a>00183      <span class="stringliteral">"PENTA_6"</span>, <span class="stringliteral">"PENTA_15"</span>, <span class="stringliteral">"PENTA_18"</span>,
<a name="l00184"></a>00184      <span class="stringliteral">"HEXA_8"</span>, <span class="stringliteral">"HEXA_20"</span>, <span class="stringliteral">"HEXA_27"</span>,
<a name="l00185"></a>00185      <span class="stringliteral">"MIXED"</span>, <span class="stringliteral">"NGON_n"</span>, <span class="stringliteral">"NFACE_n"</span>
<a name="l00186"></a>00186     };
<a name="l00187"></a><a class="code" href="cgnslib_8h.html#b13dcf3d3c19529f0fa0e8467d47e735">00187</a> <span class="keywordtype">char</span> <span class="keyword">const</span> * <a class="code" href="cgnslib_8c.html#b13dcf3d3c19529f0fa0e8467d47e735">ZoneTypeName</a>[<a class="code" href="cgns_keywords_8h.html#18ddabec7590df59060697f5c8d01028">NofValidZoneTypes</a>] =
<a name="l00188"></a>00188     {<span class="stringliteral">"Null"</span>, <span class="stringliteral">"UserDefined"</span>,
<a name="l00189"></a>00189      <span class="stringliteral">"Structured"</span>, <span class="stringliteral">"Unstructured"</span>
<a name="l00190"></a>00190     };
<a name="l00191"></a><a class="code" href="cgnslib_8h.html#8763960d0782caf63aa295c0f6824a39">00191</a> <span class="keywordtype">char</span> <span class="keyword">const</span> * <a class="code" href="cgnslib_8c.html#8763960d0782caf63aa295c0f6824a39">RigidGridMotionTypeName</a>[<a class="code" href="cgns_keywords_8h.html#d4916a43d4ddf44996cca0ca760a3e9a">NofValidRigidGridMotionTypes</a>] =
<a name="l00192"></a>00192     {<span class="stringliteral">"Null"</span>, <span class="stringliteral">"UserDefined"</span>,
<a name="l00193"></a>00193      <span class="stringliteral">"ConstantRate"</span>, <span class="stringliteral">"VariableRate"</span>
<a name="l00194"></a>00194     };
<a name="l00195"></a><a class="code" href="cgnslib_8h.html#0e45c271036ce12be0a015414009f10e">00195</a> <span class="keywordtype">char</span> <span class="keyword">const</span> * <a class="code" href="cgnslib_8c.html#0e45c271036ce12be0a015414009f10e">ArbitraryGridMotionTypeName</a>[<a class="code" href="cgns_keywords_8h.html#7e51b70f50e1ec975515103e52e4e525">NofValidArbitraryGridMotionTypes</a>] =
<a name="l00196"></a>00196     {<span class="stringliteral">"Null"</span>, <span class="stringliteral">"UserDefined"</span>,
<a name="l00197"></a>00197      <span class="stringliteral">"NonDeformingGrid"</span>, <span class="stringliteral">"DeformingGrid"</span>
<a name="l00198"></a>00198     };
<a name="l00199"></a><a class="code" href="cgnslib_8h.html#9bfe602795cb449e4a9aafabfd84395c">00199</a> <span class="keywordtype">char</span> <span class="keyword">const</span> * <a class="code" href="cgnslib_8c.html#9bfe602795cb449e4a9aafabfd84395c">SimulationTypeName</a>[<a class="code" href="cgns_keywords_8h.html#6487254ba3c8e3aa4d879a38faa220a1">NofValidSimulationTypes</a>] =
<a name="l00200"></a>00200     {<span class="stringliteral">"Null"</span>, <span class="stringliteral">"UserDefined"</span>,
<a name="l00201"></a>00201      <span class="stringliteral">"TimeAccurate"</span>, <span class="stringliteral">"NonTimeAccurate"</span>
<a name="l00202"></a>00202     };
<a name="l00203"></a><a class="code" href="cgnslib_8h.html#34a4a54a2ae236eabb4f61b38ad56179">00203</a> <span class="keywordtype">char</span> <span class="keyword">const</span> * <a class="code" href="cgnslib_8c.html#34a4a54a2ae236eabb4f61b38ad56179">WallFunctionTypeName</a>[<a class="code" href="cgns_keywords_8h.html#c6f8a568eb332eeb0694508187618b77">NofValidWallFunctionTypes</a>] =
<a name="l00204"></a>00204     {<span class="stringliteral">"Null"</span>, <span class="stringliteral">"UserDefined"</span>, <span class="stringliteral">"Generic"</span>
<a name="l00205"></a>00205     };
<a name="l00206"></a><a class="code" href="cgnslib_8h.html#5d4c2822b0dcdc8d4f09cc2618bed457">00206</a> <span class="keywordtype">char</span> <span class="keyword">const</span> * <a class="code" href="cgnslib_8c.html#5d4c2822b0dcdc8d4f09cc2618bed457">AreaTypeName</a>[<a class="code" href="cgns_keywords_8h.html#cb72dddb306fa2b4e2b89701b66d2744">NofValidAreaTypes</a>] =
<a name="l00207"></a>00207     {<span class="stringliteral">"Null"</span>, <span class="stringliteral">"UserDefined"</span>,
<a name="l00208"></a>00208      <span class="stringliteral">"BleedArea"</span>, <span class="stringliteral">"CaptureArea"</span>
<a name="l00209"></a>00209     };
<a name="l00210"></a><a class="code" href="cgnslib_8h.html#7691bda33234ea0735f1f4c74edff48d">00210</a> <span class="keywordtype">char</span> <span class="keyword">const</span> * <a class="code" href="cgnslib_8c.html#7691bda33234ea0735f1f4c74edff48d">AverageInterfaceTypeName</a>[<a class="code" href="cgns_keywords_8h.html#5e5d8a437369fdc558929202d9473375">NofValidAverageInterfaceTypes</a>] =
<a name="l00211"></a>00211     {<span class="stringliteral">"Null"</span>, <span class="stringliteral">"UserDefined"</span>,
<a name="l00212"></a>00212      <span class="stringliteral">"AverageAll"</span>, <span class="stringliteral">"AverageCircumferential"</span>, <span class="stringliteral">"AverageRadial"</span>,
<a name="l00213"></a>00213      <span class="stringliteral">"AverageI"</span>, <span class="stringliteral">"AverageJ"</span>, <span class="stringliteral">"AverageK"</span>
<a name="l00214"></a>00214     };
<a name="l00215"></a>00215 
<a name="l00216"></a>00216 <span class="comment">/***********************************************************************</span>
<a name="l00217"></a>00217 <span class="comment"> * global variable definitions</span>
<a name="l00218"></a>00218 <span class="comment"> ***********************************************************************/</span>
<a name="l00219"></a><a class="code" href="cgnslib_8c.html#9536b2534420fa415f834197e24a9ef3">00219</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#9536b2534420fa415f834197e24a9ef3">n_open</a> = 0;
<a name="l00220"></a><a class="code" href="cgnslib_8c.html#d448266afbfc803ce43eb0b634f05579">00220</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#d448266afbfc803ce43eb0b634f05579">cgns_file_size</a> = 0;
<a name="l00221"></a><a class="code" href="cgnslib_8c.html#67d7938940f5761267e5cd6c560507d6">00221</a> <span class="keywordtype">int</span> <a class="code" href="cgns__header_8h.html#67d7938940f5761267e5cd6c560507d6">file_number_offset</a> = 0;
<a name="l00222"></a><a class="code" href="cgnslib_8c.html#10d7c75ab01d6de4dde2f28e6c9ccab1">00222</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#10d7c75ab01d6de4dde2f28e6c9ccab1">VersionList</a>[] = {3000, 2530, 2520, 2510, 2500, 2460, 2420, 2400,
<a name="l00223"></a>00223                      2300, 2200, 2100, 2000, 1270, 1200, 1100, 1050};
<a name="l00224"></a><a class="code" href="cgnslib_8c.html#1353fa239c999689b40fb71cfc4c0767">00224</a> <span class="preprocessor">#define nVersions (sizeof(VersionList)/sizeof(int))</span>
<a name="l00225"></a>00225 <span class="preprocessor"></span>
<a name="l00226"></a>00226 <span class="comment">/***********************************************************************</span>
<a name="l00227"></a>00227 <span class="comment"> * library functions</span>
<a name="l00228"></a>00228 <span class="comment"> ***********************************************************************/</span>
<a name="l00229"></a>00229 
<a name="l00230"></a>00230 <span class="comment">/* check for a valid CGNS file */</span>
<a name="l00231"></a>00231 
<a name="l00232"></a><a class="code" href="cgnslib_8h.html#8fd9f6e3a3b5526cd294b7e28aab64cb">00232</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#8ee837c68f80f0299333fa81cbbbbd03">cg_is_cgns</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="_a_d_f__internals_8h.html#1bc14b345d09a9f773dfde50d7f2d830">filename</a>, <span class="keywordtype">int</span> *file_type) {
<a name="l00233"></a>00233     <span class="keywordtype">int</span> cgio, ierr;
<a name="l00234"></a>00234     <span class="keywordtype">double</span> rootid, childid;
<a name="l00235"></a>00235 
<a name="l00236"></a>00236     *file_type = <a class="code" href="cgnslib_8h.html#d4f3fc67a6971bd12aa5d0a06468c9cc">CG_FILE_NONE</a>;
<a name="l00237"></a>00237     <span class="keywordflow">if</span> (<a class="code" href="cgns__io_8c.html#982e6ef096af2a3c3cf9d8e9aff704a7">cgio_open_file</a>(filename, <a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>, <a class="code" href="cgnslib_8h.html#d4f3fc67a6971bd12aa5d0a06468c9cc">CG_FILE_NONE</a>, &amp;cgio))
<a name="l00238"></a>00238         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l00239"></a>00239     <a class="code" href="cgns__io_8c.html#0a555a3bec3ba7b46f6ea9030fb59802">cgio_get_root_id</a>(cgio, &amp;rootid);
<a name="l00240"></a>00240     <a class="code" href="cgns__io_8c.html#f25fed36bff5cbc87ffc7907f715ab6a">cgio_get_file_type</a>(cgio, file_type);
<a name="l00241"></a>00241     ierr = <a class="code" href="cgns__io_8c.html#24cc30fd69b9c44ffb201f863f131a5c">cgio_get_node_id</a>(cgio, rootid, <span class="stringliteral">"CGNSLibraryVersion"</span>, &amp;childid);
<a name="l00242"></a>00242     <a class="code" href="cgns__io_8c.html#8db9210097f7847883e770c7f350887e">cgio_close_file</a>(cgio);
<a name="l00243"></a>00243     <span class="keywordflow">return</span> ierr ? <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a> : <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l00244"></a>00244 }
<a name="l00245"></a>00245 
<a name="l00246"></a>00246 <span class="comment">/***********************************************************************</span>
<a name="l00247"></a>00247 <span class="comment"> * cg_open(char *filename, int mode, int *file_number)</span>
<a name="l00248"></a>00248 <span class="comment"> *</span>
<a name="l00249"></a>00249 <span class="comment"> ***********************************************************************/</span>
<a name="l00250"></a>00250 
<a name="l00251"></a><a class="code" href="cgnslib_8h.html#e1167a76752e230f452e89945d7c4c89">00251</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#2955a491a7a66eeba1892453e3d95466">cg_open</a>(<span class="keywordtype">char</span> <span class="keyword">const</span> * <a class="code" href="_a_d_f__internals_8h.html#1bc14b345d09a9f773dfde50d7f2d830">filename</a>, <span class="keywordtype">int</span> mode, <span class="keywordtype">int</span> *file_number) {
<a name="l00252"></a>00252     <span class="keywordtype">int</span> not_found, <a class="code" href="_a_d_f__internals_8h.html#830f6050ecf88958651b63cc1abfba2d">dim_vals</a>, cgio;
<a name="l00253"></a>00253     <span class="keywordtype">double</span> dummy_id;
<a name="l00254"></a>00254     <span class="keywordtype">float</span> FileVersion;
<a name="l00255"></a>00255 
<a name="l00256"></a>00256     <span class="comment">/* determine accessibility of a file :</span>
<a name="l00257"></a>00257 <span class="comment">       If the requested access is permitted, a value of 0 is returned. */</span>
<a name="l00258"></a>00258 
<a name="l00259"></a>00259     not_found = access(filename, F_OK) ;
<a name="l00260"></a>00260 
<a name="l00261"></a>00261     <span class="comment">/* check file mode */</span>
<a name="l00262"></a>00262     <span class="keywordflow">switch</span>(mode) {
<a name="l00263"></a>00263         <span class="keywordflow">case</span> <a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>:
<a name="l00264"></a>00264             <span class="keywordflow">if</span> (not_found) {
<a name="l00265"></a>00265                 <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Error opening file: '%s' not found!"</span>, filename);
<a name="l00266"></a>00266                 <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l00267"></a>00267             }
<a name="l00268"></a>00268             <span class="keywordflow">break</span>;
<a name="l00269"></a>00269         <span class="keywordflow">case</span> <a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>:
<a name="l00270"></a>00270             <span class="keywordflow">if</span> (!not_found) {
<a name="l00271"></a>00271                 unlink(filename);
<a name="l00272"></a>00272                 <span class="comment">/*cgi_error("Error opening file: '%s' already exists!", filename);</span>
<a name="l00273"></a>00273 <span class="comment">                        return CG_ERROR;</span>
<a name="l00274"></a>00274 <span class="comment">                */</span>
<a name="l00275"></a>00275             }
<a name="l00276"></a>00276             <span class="keywordflow">break</span>;
<a name="l00277"></a>00277         <span class="keywordflow">case</span> <a class="code" href="cgns_keywords_8h.html#a3eda4df29cceb4ed9a9c5d5d8f663d7">CG_MODE_MODIFY</a>:
<a name="l00278"></a>00278             <span class="keywordflow">if</span> (not_found) {
<a name="l00279"></a>00279                 <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Error opening file: '%s' not found!"</span>, filename);
<a name="l00280"></a>00280                 <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l00281"></a>00281             }
<a name="l00282"></a>00282             <span class="keywordflow">break</span>;
<a name="l00283"></a>00283         <span class="keywordflow">default</span>:
<a name="l00284"></a>00284             <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Unknown opening file mode: %d ??"</span>,mode);
<a name="l00285"></a>00285             <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l00286"></a>00286     }
<a name="l00287"></a>00287 
<a name="l00288"></a>00288     <span class="comment">/* set default file type if not done */</span>
<a name="l00289"></a>00289     <span class="keywordflow">if</span> (<a class="code" href="cgnslib_8c.html#02b75e0153a380a02f1cd63d5353162f">cgns_filetype</a> == <a class="code" href="cgnslib_8h.html#d4f3fc67a6971bd12aa5d0a06468c9cc">CG_FILE_NONE</a>)
<a name="l00290"></a>00290         <a class="code" href="cgnslib_8c.html#f55b496c46d53625e8abd466215aafba">cg_set_file_type</a>(<a class="code" href="cgnslib_8h.html#d4f3fc67a6971bd12aa5d0a06468c9cc">CG_FILE_NONE</a>);
<a name="l00291"></a>00291 
<a name="l00292"></a>00292     <span class="comment">/* Open CGNS file */</span>
<a name="l00293"></a>00293     <span class="keywordflow">if</span> (<a class="code" href="cgns__io_8c.html#982e6ef096af2a3c3cf9d8e9aff704a7">cgio_open_file</a>(filename, mode, <a class="code" href="cgnslib_8c.html#02b75e0153a380a02f1cd63d5353162f">cgns_filetype</a>, &amp;cgio)) {
<a name="l00294"></a>00294         <a class="code" href="cgns__error_8c.html#47dd09a377bc17d5807332f8c475a23b">cg_io_error</a>(<span class="stringliteral">"cgio_open_file"</span>);
<a name="l00295"></a>00295         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l00296"></a>00296     }
<a name="l00297"></a>00297     <a class="code" href="cgnslib_8c.html#9536b2534420fa415f834197e24a9ef3">n_open</a>++;
<a name="l00298"></a>00298 
<a name="l00299"></a>00299     <span class="comment">/* make sure there is enough space in the cgns_files array */</span>
<a name="l00300"></a>00300     <span class="keywordflow">if</span> (<a class="code" href="cgnslib_8c.html#d448266afbfc803ce43eb0b634f05579">cgns_file_size</a> == 0) {
<a name="l00301"></a>00301         <a class="code" href="cgnslib_8c.html#d448266afbfc803ce43eb0b634f05579">cgns_file_size</a> = 1;
<a name="l00302"></a>00302         cgns_files = <a class="code" href="cgns__header_8h.html#948c36b3700de0f3332aa3620eafb0f4">CGNS_NEW</a>(<a class="code" href="structcgns__file.html">cgns_file</a>,<a class="code" href="cgnslib_8c.html#d448266afbfc803ce43eb0b634f05579">cgns_file_size</a>);
<a name="l00303"></a>00303     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#1df1986083c90262e89c987163dfda00">n_cgns_files</a> == <a class="code" href="cgnslib_8c.html#d448266afbfc803ce43eb0b634f05579">cgns_file_size</a>) {
<a name="l00304"></a>00304         <a class="code" href="cgnslib_8c.html#d448266afbfc803ce43eb0b634f05579">cgns_file_size</a> *= 2;
<a name="l00305"></a>00305         cgns_files = <a class="code" href="cgns__header_8h.html#e23e608849b6dc488ccdad466e76e2ad">CGNS_RENEW</a>(<a class="code" href="structcgns__file.html">cgns_file</a>,<a class="code" href="cgnslib_8c.html#d448266afbfc803ce43eb0b634f05579">cgns_file_size</a>, cgns_files);
<a name="l00306"></a>00306     }
<a name="l00307"></a>00307     cg = &amp;(cgns_files[<a class="code" href="cgns__header_8h.html#1df1986083c90262e89c987163dfda00">n_cgns_files</a>]);
<a name="l00308"></a>00308     <a class="code" href="cgns__header_8h.html#1df1986083c90262e89c987163dfda00">n_cgns_files</a>++;
<a name="l00309"></a>00309     (*file_number) = <a class="code" href="cgns__header_8h.html#1df1986083c90262e89c987163dfda00">n_cgns_files</a> + <a class="code" href="cgns__header_8h.html#67d7938940f5761267e5cd6c560507d6">file_number_offset</a>;
<a name="l00310"></a>00310 
<a name="l00311"></a>00311     <span class="comment">/* Keep in-memory copy of cgns file 'header' information */</span>
<a name="l00312"></a>00312     cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a> = mode;
<a name="l00313"></a>00313     cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a> = <a class="code" href="cgns__header_8h.html#948c36b3700de0f3332aa3620eafb0f4">CGNS_NEW</a>(<span class="keywordtype">char</span>,strlen(filename) + 1);
<a name="l00314"></a>00314     strcpy(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, filename);
<a name="l00315"></a>00315     cg-&gt;<a class="code" href="structcgns__file.html#98363ec7b27905dbf2c56c6a194c69cc">cgio</a> = cgio;
<a name="l00316"></a>00316     <a class="code" href="cgns__io_8c.html#0a555a3bec3ba7b46f6ea9030fb59802">cgio_get_root_id</a>(cgio, &amp;cg-&gt;<a class="code" href="structcgns__file.html#3d645880a5978210c5510d61608c5869">rootid</a>);
<a name="l00317"></a>00317     cg-&gt;<a class="code" href="structcgns__file.html#849c7af3d080cfe2e761f6c2f479b285">file_number</a> = (*file_number);
<a name="l00318"></a>00318     cg-&gt;<a class="code" href="structcgns__file.html#ad880fc4455c253781e8968f2239d56f">version</a> = 0;
<a name="l00319"></a>00319     cg-&gt;<a class="code" href="structcgns__file.html#3cb0d95aa820737d010fdfaccac92ec3">deleted</a> = 0;
<a name="l00320"></a>00320     cg-&gt;<a class="code" href="structcgns__file.html#518dc951712ff1f919a3af4897ef91b9">added</a> = 0;
<a name="l00321"></a>00321 
<a name="l00322"></a>00322      <span class="comment">/* CGNS-Library Version */</span>
<a name="l00323"></a>00323     <span class="keywordflow">if</span> (mode == <a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>) {
<a name="l00324"></a>00324         dim_vals = 1;
<a name="l00325"></a>00325         FileVersion = (float) <a class="code" href="cgns_keywords_8h.html#acf16a6f556f5290735002c6f42cb25b">CGNS_DOTVERS</a>;
<a name="l00326"></a>00326         <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#184dd1d99e9f4e7b826f84887ba07748">cgi_new_node</a>(cg-&gt;<a class="code" href="structcgns__file.html#3d645880a5978210c5510d61608c5869">rootid</a>, <span class="stringliteral">"CGNSLibraryVersion"</span>,
<a name="l00327"></a>00327             <span class="stringliteral">"CGNSLibraryVersion_t"</span>, &amp;dummy_id, <span class="stringliteral">"R4"</span>, 1, &amp;dim_vals,
<a name="l00328"></a>00328             (<span class="keywordtype">void</span> *)&amp;FileVersion)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l00329"></a>00329         cg-&gt;<a class="code" href="structcgns__file.html#ad880fc4455c253781e8968f2239d56f">version</a> = <a class="code" href="cgns__header_8h.html#c25956316d094fcd16096a039c4bea4f">CGNSLibVersion</a>;
<a name="l00330"></a>00330     }
<a name="l00331"></a>00331     <span class="keywordflow">else</span> {
<a name="l00332"></a>00332 
<a name="l00333"></a>00333      <span class="comment">/* read file version from file and set cg-&gt;version = FileVersion*1000 */</span>
<a name="l00334"></a>00334         <span class="keywordflow">if</span> (<a class="code" href="cgnslib_8c.html#0f6ad489630fca6ed6e0057cc7699d4b">cg_version</a>(cg-&gt;<a class="code" href="structcgns__file.html#849c7af3d080cfe2e761f6c2f479b285">file_number</a>, &amp;FileVersion)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l00335"></a>00335 
<a name="l00336"></a>00336      <span class="comment">/* Check that the library version is at least as recent as the one used</span>
<a name="l00337"></a>00337 <span class="comment">        to create the file being read */</span>
<a name="l00338"></a>00338 
<a name="l00339"></a>00339         <span class="keywordflow">if</span> (cg-&gt;<a class="code" href="structcgns__file.html#ad880fc4455c253781e8968f2239d56f">version</a> &gt; <a class="code" href="cgns__header_8h.html#c25956316d094fcd16096a039c4bea4f">CGNSLibVersion</a>) {
<a name="l00340"></a>00340 
<a name="l00341"></a>00341         <span class="comment">/* This code allows reading version newer than the lib,</span>
<a name="l00342"></a>00342 <span class="comment">               as long as the 1st digit of the versions are equal */</span>
<a name="l00343"></a>00343             <span class="keywordflow">if</span> ((cg-&gt;<a class="code" href="structcgns__file.html#ad880fc4455c253781e8968f2239d56f">version</a> / 1000) &gt; (<a class="code" href="cgns__header_8h.html#c25956316d094fcd16096a039c4bea4f">CGNSLibVersion</a> / 1000)) {
<a name="l00344"></a>00344                 <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"The file %s was written with a more recent version of the CGNS library.  You must update your CGNS library before trying to read this file."</span>,filename);
<a name="l00345"></a>00345                 <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l00346"></a>00346             }
<a name="l00347"></a>00347             <span class="comment">/* warn only if different in second digit */</span>
<a name="l00348"></a>00348             <span class="keywordflow">if</span> ((cg-&gt;<a class="code" href="structcgns__file.html#ad880fc4455c253781e8968f2239d56f">version</a> / 100) &gt; (<a class="code" href="cgns__header_8h.html#c25956316d094fcd16096a039c4bea4f">CGNSLibVersion</a> / 100)) {
<a name="l00349"></a>00349                 <a class="code" href="cgns__error_8c.html#80b531384954db3a50716628b982b94c">cgi_warning</a>(<span class="stringliteral">"The file being read is more recent that the CGNS library used"</span>);
<a name="l00350"></a>00350             }
<a name="l00351"></a>00351         }
<a name="l00352"></a>00352     }
<a name="l00353"></a>00353 
<a name="l00354"></a>00354     <span class="comment">/* Get ADF Database version &amp; dates, and ADF Library version */</span>
<a name="l00355"></a>00355 
<a name="l00356"></a>00356     <span class="keywordflow">if</span> (<a class="code" href="cgns__io_8c.html#91fe97bbb695db26449d7ef2a37c513d">cgio_file_version</a>(cg-&gt;<a class="code" href="structcgns__file.html#98363ec7b27905dbf2c56c6a194c69cc">cgio</a>, cg-&gt;<a class="code" href="structcgns__file.html#6bbffe29dc607647c11021f2c6421cd9">dtb_version</a>, cg-&gt;<a class="code" href="structcgns__file.html#537d98a35f3c260588a83d3453fad201">creation_date</a>,
<a name="l00357"></a>00357             cg-&gt;<a class="code" href="structcgns__file.html#e2e7ad2821191d75945d0347610165ad">modify_date</a>)) {
<a name="l00358"></a>00358         <a class="code" href="cgns__error_8c.html#47dd09a377bc17d5807332f8c475a23b">cg_io_error</a>(<span class="stringliteral">"cgio_file_version"</span>);
<a name="l00359"></a>00359         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l00360"></a>00360     }
<a name="l00361"></a>00361     <span class="keywordflow">if</span> (<a class="code" href="cgns__io_8c.html#e04a2ba0e15fb2a0cb39762baee29af1">cgio_library_version</a>(cg-&gt;<a class="code" href="structcgns__file.html#98363ec7b27905dbf2c56c6a194c69cc">cgio</a>, cg-&gt;<a class="code" href="structcgns__file.html#bd40f6e871c6a23390eaa4a48d3aab65">adf_lib_version</a>)) {
<a name="l00362"></a>00362         <a class="code" href="cgns__error_8c.html#47dd09a377bc17d5807332f8c475a23b">cg_io_error</a>(<span class="stringliteral">"cgio_library_version"</span>);
<a name="l00363"></a>00363         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l00364"></a>00364     }
<a name="l00365"></a>00365 
<a name="l00366"></a>00366     <span class="comment">/* read CGNS file */</span>
<a name="l00367"></a>00367     <span class="keywordflow">if</span> (mode == <a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a> || mode == <a class="code" href="cgns_keywords_8h.html#a3eda4df29cceb4ed9a9c5d5d8f663d7">CG_MODE_MODIFY</a>) {
<a name="l00368"></a>00368         <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#df53d766d8aa42bcd2dcca8fe5ab7563">cgi_read</a>()) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l00369"></a>00369 
<a name="l00370"></a>00370         <span class="comment">/* update version number in modify mode */</span>
<a name="l00371"></a>00371         <span class="keywordflow">if</span> (cg-&gt;<a class="code" href="structcgns__file.html#ad880fc4455c253781e8968f2239d56f">version</a> &lt; <a class="code" href="cgns__header_8h.html#c25956316d094fcd16096a039c4bea4f">CGNSLibVersion</a> &amp;&amp; mode == <a class="code" href="cgns_keywords_8h.html#a3eda4df29cceb4ed9a9c5d5d8f663d7">CG_MODE_MODIFY</a>) {
<a name="l00372"></a>00372             <span class="keywordtype">int</span> nnod;
<a name="l00373"></a>00373             <span class="keywordtype">double</span> *id;
<a name="l00374"></a>00374             FileVersion = (float)<a class="code" href="cgns_keywords_8h.html#acf16a6f556f5290735002c6f42cb25b">CGNS_DOTVERS</a>;
<a name="l00375"></a>00375             <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#cfe07fe84e10d6657edf3bad58a71787">cgi_get_nodes</a>(cg-&gt;<a class="code" href="structcgns__file.html#3d645880a5978210c5510d61608c5869">rootid</a>, <span class="stringliteral">"CGNSLibraryVersion_t"</span>,
<a name="l00376"></a>00376                     &amp;nnod, &amp;<span class="keywordtype">id</span>))
<a name="l00377"></a>00377                 <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l00378"></a>00378             <span class="keywordflow">if</span> (nnod) {
<a name="l00379"></a>00379                 <span class="keywordflow">if</span> (<a class="code" href="cgns__io_8c.html#be9f73d86b7055717da0952a3f124baa">cgio_write_all_data</a>(cg-&gt;<a class="code" href="structcgns__file.html#98363ec7b27905dbf2c56c6a194c69cc">cgio</a>, <span class="keywordtype">id</span>[0], &amp;FileVersion)) {
<a name="l00380"></a>00380                     <a class="code" href="cgns__error_8c.html#47dd09a377bc17d5807332f8c475a23b">cg_io_error</a>(<span class="stringliteral">"cgio_write_all_data"</span>);
<a name="l00381"></a>00381                     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l00382"></a>00382                 }
<a name="l00383"></a>00383                 <a class="code" href="cg__malloc_8h.html#a7943e5d135734f6801bebcc37401fc0">free</a>(<span class="keywordtype">id</span>);
<a name="l00384"></a>00384             }
<a name="l00385"></a>00385             <span class="keywordflow">else</span> {
<a name="l00386"></a>00386                 dim_vals = 1;
<a name="l00387"></a>00387                 <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#184dd1d99e9f4e7b826f84887ba07748">cgi_new_node</a>(cg-&gt;<a class="code" href="structcgns__file.html#3d645880a5978210c5510d61608c5869">rootid</a>, <span class="stringliteral">"CGNSLibraryVersion"</span>,
<a name="l00388"></a>00388                     <span class="stringliteral">"CGNSLibraryVersion_t"</span>, &amp;dummy_id, <span class="stringliteral">"R4"</span>, 1, &amp;dim_vals,
<a name="l00389"></a>00389                     (<span class="keywordtype">void</span> *)&amp;FileVersion)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l00390"></a>00390             }
<a name="l00391"></a>00391             cg-&gt;<a class="code" href="structcgns__file.html#ad880fc4455c253781e8968f2239d56f">version</a> = <a class="code" href="cgns__header_8h.html#c25956316d094fcd16096a039c4bea4f">CGNSLibVersion</a>;
<a name="l00392"></a>00392         }
<a name="l00393"></a>00393     } <span class="keywordflow">else</span> {
<a name="l00394"></a>00394         cg-&gt;<a class="code" href="structcgns__file.html#4ca0d4ed1ea9b5b81441a2cdd7178df9">nbases</a>=0;
<a name="l00395"></a>00395         cg-&gt;<a class="code" href="structcgns__file.html#0429392e9c26dac2f0b97ae2d2127117">base</a> = 0;
<a name="l00396"></a>00396     }
<a name="l00397"></a>00397 
<a name="l00398"></a>00398     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l00399"></a>00399 }
<a name="l00400"></a>00400 
<a name="l00401"></a><a class="code" href="cgnslib_8h.html#6a0649df386e67e2a8247d2614be10d2">00401</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#0f6ad489630fca6ed6e0057cc7699d4b">cg_version</a>(<span class="keywordtype">int</span> file_number, <span class="keywordtype">float</span> *FileVersion) {
<a name="l00402"></a>00402     <span class="keywordtype">int</span> nnod;
<a name="l00403"></a>00403     <span class="keywordtype">double</span> *id;
<a name="l00404"></a>00404 
<a name="l00405"></a>00405     cg = <a class="code" href="cgns__header_8h.html#64a13852e04666fc73b74a8ff7727f4f">cgi_get_file</a>(file_number);
<a name="l00406"></a>00406     <span class="keywordflow">if</span> (cg == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l00407"></a>00407 
<a name="l00408"></a>00408 <span class="comment">/* if open in CG_MODE_WRITE */</span>
<a name="l00409"></a>00409     <span class="keywordflow">if</span> (cg-&gt;<a class="code" href="structcgns__file.html#ad880fc4455c253781e8968f2239d56f">version</a>) {
<a name="l00410"></a>00410         (*FileVersion)=(float)(cg-&gt;<a class="code" href="structcgns__file.html#ad880fc4455c253781e8968f2239d56f">version</a>)/1000;
<a name="l00411"></a>00411         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l00412"></a>00412     }
<a name="l00413"></a>00413 
<a name="l00414"></a>00414 <span class="comment">/* if open in MODE_READ or MODE_MODIFY */</span>
<a name="l00415"></a>00415      <span class="comment">/* get number of CGNSLibraryVersion_t nodes and their ID */</span>
<a name="l00416"></a>00416     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#cfe07fe84e10d6657edf3bad58a71787">cgi_get_nodes</a>(cg-&gt;<a class="code" href="structcgns__file.html#3d645880a5978210c5510d61608c5869">rootid</a>, <span class="stringliteral">"CGNSLibraryVersion_t"</span>, &amp;nnod, &amp;<span class="keywordtype">id</span>))
<a name="l00417"></a>00417         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l00418"></a>00418     <span class="keywordflow">if</span> (nnod==0) {
<a name="l00419"></a>00419         cg-&gt;<a class="code" href="structcgns__file.html#ad880fc4455c253781e8968f2239d56f">version</a>=1050;
<a name="l00420"></a>00420         *FileVersion= (float) 1.05;
<a name="l00421"></a>00421     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (nnod!=1) {
<a name="l00422"></a>00422         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"More then one CGNSLibraryVersion_t node found under ROOT."</span>);
<a name="l00423"></a>00423         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l00424"></a>00424     } <span class="keywordflow">else</span> {
<a name="l00425"></a>00425         <span class="keywordtype">int</span> vers, ndim, <a class="code" href="_a_d_f__internals_8h.html#830f6050ecf88958651b63cc1abfba2d">dim_vals</a>[12], temp_version;
<a name="l00426"></a>00426         <a class="code" href="cgns__header_8h.html#3643549b6f6f5f037878b262787434c0">char_33</a> node_name;
<a name="l00427"></a>00427         <a class="code" href="cgns__header_8h.html#3643549b6f6f5f037878b262787434c0">char_33</a> <a class="code" href="_a_d_f__internals_8h.html#e14d2e5ae7b32258ea2117fe241c78a3">data_type</a>;
<a name="l00428"></a>00428         <span class="keywordtype">void</span> *<a class="code" href="_a_d_f__internals_8h.html#1c4032c79398d15869ce0828a58de11f">data</a>;
<a name="l00429"></a>00429 
<a name="l00430"></a>00430         <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#8ca5304a31ee9ffe95b3edaa61a1a7f5">cgi_read_node</a>(<span class="keywordtype">id</span>[0], node_name, data_type, &amp;ndim, dim_vals,
<a name="l00431"></a>00431                 &amp;data, 1)) {
<a name="l00432"></a>00432             <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Error reading CGNS-Library-Version"</span>);
<a name="l00433"></a>00433             <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l00434"></a>00434         }
<a name="l00435"></a>00435      <span class="comment">/* check data type */</span>
<a name="l00436"></a>00436         <span class="keywordflow">if</span> (strcmp(data_type,<span class="stringliteral">"R4"</span>)!=0) {
<a name="l00437"></a>00437             <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Unexpected data type for CGNS-Library-Version='%s'"</span>,data_type);
<a name="l00438"></a>00438             <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l00439"></a>00439         }
<a name="l00440"></a>00440      <span class="comment">/* check data dim */</span>
<a name="l00441"></a>00441         <span class="keywordflow">if</span> (ndim != 1 || (dim_vals[0]!=1)) {
<a name="l00442"></a>00442             <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Wrong data dimension for CGNS-Library-Version"</span>);
<a name="l00443"></a>00443             <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l00444"></a>00444         }
<a name="l00445"></a>00445      <span class="comment">/* save data */</span>
<a name="l00446"></a>00446         *FileVersion = *((<span class="keywordtype">float</span> *)data);
<a name="l00447"></a>00447         <a class="code" href="cg__malloc_8h.html#a7943e5d135734f6801bebcc37401fc0">free</a>(data);
<a name="l00448"></a>00448         cg-&gt;<a class="code" href="structcgns__file.html#ad880fc4455c253781e8968f2239d56f">version</a> = (int)(1000.0*(*FileVersion)+0.5);
<a name="l00449"></a>00449 
<a name="l00450"></a>00450      <span class="comment">/* To prevent round off error in version number for file of older or current version */</span>
<a name="l00451"></a>00451         temp_version = cg-&gt;<a class="code" href="structcgns__file.html#ad880fc4455c253781e8968f2239d56f">version</a>;
<a name="l00452"></a>00452      <span class="comment">/* cg-&gt;version = 0;  Commented for fwd compatibility */</span>
<a name="l00453"></a>00453         <span class="keywordflow">for</span> (vers=0; vers&lt;<a class="code" href="cgnslib_8c.html#1353fa239c999689b40fb71cfc4c0767">nVersions</a>; vers++) {
<a name="l00454"></a>00454             <span class="keywordflow">if</span> (temp_version &gt; (<a class="code" href="cgnslib_8c.html#10d7c75ab01d6de4dde2f28e6c9ccab1">VersionList</a>[vers]-2) &amp;&amp;
<a name="l00455"></a>00455                 temp_version &lt; (<a class="code" href="cgnslib_8c.html#10d7c75ab01d6de4dde2f28e6c9ccab1">VersionList</a>[vers]+2)) {
<a name="l00456"></a>00456                 cg-&gt;<a class="code" href="structcgns__file.html#ad880fc4455c253781e8968f2239d56f">version</a> = <a class="code" href="cgnslib_8c.html#10d7c75ab01d6de4dde2f28e6c9ccab1">VersionList</a>[vers];
<a name="l00457"></a>00457                 <span class="keywordflow">break</span>;
<a name="l00458"></a>00458             }
<a name="l00459"></a>00459         }
<a name="l00460"></a>00460         <span class="keywordflow">if</span> (cg-&gt;<a class="code" href="structcgns__file.html#ad880fc4455c253781e8968f2239d56f">version</a> == 0) {
<a name="l00461"></a>00461             <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Error:  Unable to determine the version number"</span>);
<a name="l00462"></a>00462             <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l00463"></a>00463         }
<a name="l00464"></a>00464 
<a name="l00465"></a>00465         <a class="code" href="cg__malloc_8h.html#a7943e5d135734f6801bebcc37401fc0">free</a>(<span class="keywordtype">id</span>);
<a name="l00466"></a>00466     }
<a name="l00467"></a>00467 <span class="preprocessor">#if DEBUG_VERSION</span>
<a name="l00468"></a>00468 <span class="preprocessor"></span>    printf(<span class="stringliteral">"FileVersion=%f\n"</span>,*FileVersion);
<a name="l00469"></a>00469     printf(<span class="stringliteral">"cg-&gt;version=%d\n"</span>,cg-&gt;<a class="code" href="structcgns__file.html#ad880fc4455c253781e8968f2239d56f">version</a>);
<a name="l00470"></a>00470 <span class="preprocessor">#endif</span>
<a name="l00471"></a>00471 <span class="preprocessor"></span>
<a name="l00472"></a>00472     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l00473"></a>00473 }
<a name="l00474"></a>00474 
<a name="l00475"></a><a class="code" href="cgnslib_8h.html#9c2e79d660ed152deafcd2e03f8ddfb5">00475</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#6ddf0a34d741c920b84d52e341ffc533">cg_close</a>(<span class="keywordtype">int</span> file_number) {
<a name="l00476"></a>00476 
<a name="l00477"></a>00477     cg = <a class="code" href="cgns__header_8h.html#64a13852e04666fc73b74a8ff7727f4f">cgi_get_file</a>(file_number);
<a name="l00478"></a>00478     <span class="keywordflow">if</span> (cg == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l00479"></a>00479 
<a name="l00480"></a>00480     <span class="keywordflow">if</span> (<a class="code" href="_a_d_f_h_8c.html#8130874cb175b93f3c080aa7eab00a94">cgns_compress</a> &amp;&amp; cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a> == <a class="code" href="cgns_keywords_8h.html#a3eda4df29cceb4ed9a9c5d5d8f663d7">CG_MODE_MODIFY</a> &amp;&amp;
<a name="l00481"></a>00481        (cg-&gt;<a class="code" href="structcgns__file.html#3cb0d95aa820737d010fdfaccac92ec3">deleted</a> || <a class="code" href="_a_d_f_h_8c.html#8130874cb175b93f3c080aa7eab00a94">cgns_compress</a> == 1)) {
<a name="l00482"></a>00482         <span class="keywordflow">if</span> (<a class="code" href="cgns__io_8c.html#195e19786916fa716147962ef3abd35f">cgio_compress_file</a> (cg-&gt;<a class="code" href="structcgns__file.html#98363ec7b27905dbf2c56c6a194c69cc">cgio</a>, cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>)) {
<a name="l00483"></a>00483             <a class="code" href="cgns__error_8c.html#47dd09a377bc17d5807332f8c475a23b">cg_io_error</a>(<span class="stringliteral">"cgio_compress_file"</span>);
<a name="l00484"></a>00484             <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l00485"></a>00485         }
<a name="l00486"></a>00486     }
<a name="l00487"></a>00487     <span class="keywordflow">else</span> {
<a name="l00488"></a>00488         <span class="keywordflow">if</span> (<a class="code" href="cgns__io_8c.html#8db9210097f7847883e770c7f350887e">cgio_close_file</a>(cg-&gt;<a class="code" href="structcgns__file.html#98363ec7b27905dbf2c56c6a194c69cc">cgio</a>)) {
<a name="l00489"></a>00489             <a class="code" href="cgns__error_8c.html#47dd09a377bc17d5807332f8c475a23b">cg_io_error</a>(<span class="stringliteral">"cgio_close_file"</span>);
<a name="l00490"></a>00490             <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l00491"></a>00491         }
<a name="l00492"></a>00492     }
<a name="l00493"></a>00493     <a class="code" href="cgnslib_8c.html#9536b2534420fa415f834197e24a9ef3">n_open</a>--;
<a name="l00494"></a>00494 
<a name="l00495"></a>00495      <span class="comment">/* Free the in-memory copy of the CGNS file */</span>
<a name="l00496"></a>00496     <a class="code" href="cgns__header_8h.html#718cf213ba299709d352304035a37f84">cgi_free_file</a>(cg);
<a name="l00497"></a>00497     cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a> = <a class="code" href="cgns_keywords_8h.html#292791a56301c3db0a24c1535ea51b58">CG_MODE_CLOSED</a>;
<a name="l00498"></a>00498 
<a name="l00499"></a>00499     <span class="comment">/* if all files are closed, free up memory */</span>
<a name="l00500"></a>00500 
<a name="l00501"></a>00501     <span class="keywordflow">if</span> (<a class="code" href="cgnslib_8c.html#9536b2534420fa415f834197e24a9ef3">n_open</a> == 0) {
<a name="l00502"></a>00502       <a class="code" href="cgns__header_8h.html#67d7938940f5761267e5cd6c560507d6">file_number_offset</a> = <a class="code" href="cgns__header_8h.html#1df1986083c90262e89c987163dfda00">n_cgns_files</a>;
<a name="l00503"></a>00503       <a class="code" href="cg__malloc_8h.html#a7943e5d135734f6801bebcc37401fc0">free</a> (cgns_files);
<a name="l00504"></a>00504       cgns_files = 0;
<a name="l00505"></a>00505       <a class="code" href="cgnslib_8c.html#d448266afbfc803ce43eb0b634f05579">cgns_file_size</a> = 0;
<a name="l00506"></a>00506       <a class="code" href="cgns__header_8h.html#1df1986083c90262e89c987163dfda00">n_cgns_files</a> = 0;
<a name="l00507"></a>00507     }
<a name="l00508"></a>00508 
<a name="l00509"></a>00509     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l00510"></a>00510 }
<a name="l00511"></a>00511 
<a name="l00512"></a><a class="code" href="cgnslib_8h.html#17e374b36728f39d289b16fb74a06734">00512</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#86688d91235c040e4232ed3b8c9537a7">cg_save_as</a>(<span class="keywordtype">int</span> file_number, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="_a_d_f__internals_8h.html#1bc14b345d09a9f773dfde50d7f2d830">filename</a>, <span class="keywordtype">int</span> file_type,
<a name="l00513"></a>00513     <span class="keywordtype">int</span> follow_links)
<a name="l00514"></a>00514 {
<a name="l00515"></a>00515     <span class="keywordtype">int</span> output;
<a name="l00516"></a>00516 
<a name="l00517"></a>00517     cg = <a class="code" href="cgns__header_8h.html#64a13852e04666fc73b74a8ff7727f4f">cgi_get_file</a>(file_number);
<a name="l00518"></a>00518     <span class="keywordflow">if</span> (cg == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l00519"></a>00519 
<a name="l00520"></a>00520     <span class="keywordflow">if</span> (file_type == <a class="code" href="cgnslib_8h.html#d4f3fc67a6971bd12aa5d0a06468c9cc">CG_FILE_NONE</a>)
<a name="l00521"></a>00521         file_type = <a class="code" href="cgnslib_8c.html#02b75e0153a380a02f1cd63d5353162f">cgns_filetype</a>;
<a name="l00522"></a>00522     <span class="keywordflow">if</span> (<a class="code" href="cgns__io_8c.html#b7767e740ad5af3540d57122006a398c">cgio_is_supported</a>(file_type)) {
<a name="l00523"></a>00523         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"file type unknown or not supported"</span>);
<a name="l00524"></a>00524         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l00525"></a>00525     }
<a name="l00526"></a>00526     <span class="keywordflow">if</span> (<a class="code" href="cgns__io_8c.html#982e6ef096af2a3c3cf9d8e9aff704a7">cgio_open_file</a>(filename, <a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>, file_type, &amp;output)) {
<a name="l00527"></a>00527         <a class="code" href="cgns__error_8c.html#47dd09a377bc17d5807332f8c475a23b">cg_io_error</a> (<span class="stringliteral">"cgio_open_file"</span>);
<a name="l00528"></a>00528         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l00529"></a>00529     }
<a name="l00530"></a>00530     <span class="keywordflow">if</span> (<a class="code" href="cgns__io_8c.html#6489d7d9d1f34ed952b70804bca34289">cgio_copy_file</a>(cg-&gt;<a class="code" href="structcgns__file.html#98363ec7b27905dbf2c56c6a194c69cc">cgio</a>, output, follow_links)) {
<a name="l00531"></a>00531         <a class="code" href="cgns__error_8c.html#47dd09a377bc17d5807332f8c475a23b">cg_io_error</a>(<span class="stringliteral">"cgio_copy_file"</span>);
<a name="l00532"></a>00532         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l00533"></a>00533     }
<a name="l00534"></a>00534     <span class="keywordflow">if</span> (<a class="code" href="cgns__io_8c.html#8db9210097f7847883e770c7f350887e">cgio_close_file</a>(output)) {
<a name="l00535"></a>00535         <a class="code" href="cgns__error_8c.html#47dd09a377bc17d5807332f8c475a23b">cg_io_error</a>(<span class="stringliteral">"cgio_close_file"</span>);
<a name="l00536"></a>00536         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l00537"></a>00537     }
<a name="l00538"></a>00538     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l00539"></a>00539 }
<a name="l00540"></a>00540 
<a name="l00541"></a><a class="code" href="cgnslib_8h.html#3d747f0f35c35b14da49691faa1f91b6">00541</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#f55b496c46d53625e8abd466215aafba">cg_set_file_type</a>(<span class="keywordtype">int</span> file_type) {
<a name="l00542"></a>00542     <span class="keywordflow">if</span> (file_type == <a class="code" href="cgnslib_8h.html#d4f3fc67a6971bd12aa5d0a06468c9cc">CG_FILE_NONE</a>) {
<a name="l00543"></a>00543         <span class="keywordtype">char</span> *type = getenv(<span class="stringliteral">"CGNS_FILETYPE"</span>);
<a name="l00544"></a>00544         <span class="keywordflow">if</span> (type == NULL || !*type)
<a name="l00545"></a>00545             <a class="code" href="cgnslib_8c.html#02b75e0153a380a02f1cd63d5353162f">cgns_filetype</a> = <a class="code" href="cgnslib_8h.html#d9b9be55cda6146e2f66c3eadf857d4b">CG_FILE_ADF</a>;
<a name="l00546"></a>00546 <span class="preprocessor">#ifdef BUILD_HDF5</span>
<a name="l00547"></a>00547 <span class="preprocessor"></span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (*type == <span class="charliteral">'2'</span> || *type == <span class="charliteral">'h'</span> || *type == <span class="charliteral">'H'</span>)
<a name="l00548"></a>00548             <a class="code" href="cgnslib_8c.html#02b75e0153a380a02f1cd63d5353162f">cgns_filetype</a> = <a class="code" href="cgnslib_8h.html#47d0aaec7a83115740a60b566bbca88a">CG_FILE_HDF5</a>;
<a name="l00549"></a>00549 <span class="preprocessor">#endif        </span>
<a name="l00550"></a>00550 <span class="preprocessor"></span><span class="preprocessor">#ifdef BUILD_XML</span>
<a name="l00551"></a>00551 <span class="preprocessor"></span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (*type == <span class="charliteral">'3'</span> || *type == <span class="charliteral">'x'</span> || *type == <span class="charliteral">'X'</span>)
<a name="l00552"></a>00552             <a class="code" href="cgnslib_8c.html#02b75e0153a380a02f1cd63d5353162f">cgns_filetype</a> = <a class="code" href="cgnslib_8h.html#85f78bd6ff7e7bfcfae688647b651ddc">CG_FILE_XML</a>;
<a name="l00553"></a>00553 <span class="preprocessor">#endif</span>
<a name="l00554"></a>00554 <span class="preprocessor"></span>        <span class="keywordflow">else</span>
<a name="l00555"></a>00555             <a class="code" href="cgnslib_8c.html#02b75e0153a380a02f1cd63d5353162f">cgns_filetype</a> = <a class="code" href="cgnslib_8h.html#d9b9be55cda6146e2f66c3eadf857d4b">CG_FILE_ADF</a>;
<a name="l00556"></a>00556     }
<a name="l00557"></a>00557     <span class="keywordflow">else</span> {
<a name="l00558"></a>00558         <span class="keywordflow">if</span> (<a class="code" href="cgns__io_8c.html#b7767e740ad5af3540d57122006a398c">cgio_is_supported</a>(file_type)) {
<a name="l00559"></a>00559             <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"file type unknown or not supported"</span>);
<a name="l00560"></a>00560             <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l00561"></a>00561         }
<a name="l00562"></a>00562         <a class="code" href="cgnslib_8c.html#02b75e0153a380a02f1cd63d5353162f">cgns_filetype</a> = file_type;
<a name="l00563"></a>00563     }
<a name="l00564"></a>00564     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l00565"></a>00565 }
<a name="l00566"></a>00566 
<a name="l00567"></a><a class="code" href="cgnslib_8h.html#40601762bdc9b7e68557617427be06af">00567</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#238b7bf1589a8495c69d057b4d03f2d6">cg_get_file_type</a>(<span class="keywordtype">int</span> file_number, <span class="keywordtype">int</span> *file_type) {
<a name="l00568"></a>00568     cg = <a class="code" href="cgns__header_8h.html#64a13852e04666fc73b74a8ff7727f4f">cgi_get_file</a>(file_number);
<a name="l00569"></a>00569     <span class="keywordflow">if</span> (cg == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l00570"></a>00570     <span class="keywordflow">if</span> (<a class="code" href="cgns__io_8c.html#f25fed36bff5cbc87ffc7907f715ab6a">cgio_get_file_type</a>(cg-&gt;<a class="code" href="structcgns__file.html#98363ec7b27905dbf2c56c6a194c69cc">cgio</a>, file_type)) {
<a name="l00571"></a>00571         <a class="code" href="cgns__error_8c.html#47dd09a377bc17d5807332f8c475a23b">cg_io_error</a>(<span class="stringliteral">"cgio_get_file_type"</span>);
<a name="l00572"></a>00572         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l00573"></a>00573     }
<a name="l00574"></a>00574     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l00575"></a>00575 }
<a name="l00576"></a>00576 
<a name="l00577"></a><a class="code" href="cgnslib_8h.html#e308aafb33202cbcab334fdf9d76a2ac">00577</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#3d33e27fe77dac2d6941c0cbfb9d39c5">cg_root_id</a>(<span class="keywordtype">int</span> file_number, <span class="keywordtype">double</span> *root_id) {
<a name="l00578"></a>00578     cg = <a class="code" href="cgns__header_8h.html#64a13852e04666fc73b74a8ff7727f4f">cgi_get_file</a>(file_number);
<a name="l00579"></a>00579     <span class="keywordflow">if</span> (cg == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l00580"></a>00580     <span class="keywordflow">if</span> (<a class="code" href="cgns__io_8c.html#0a555a3bec3ba7b46f6ea9030fb59802">cgio_get_root_id</a>(cg-&gt;<a class="code" href="structcgns__file.html#98363ec7b27905dbf2c56c6a194c69cc">cgio</a>, root_id)) {
<a name="l00581"></a>00581         <a class="code" href="cgns__error_8c.html#47dd09a377bc17d5807332f8c475a23b">cg_io_error</a>(<span class="stringliteral">"cgio_get_root_id"</span>);
<a name="l00582"></a>00582         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l00583"></a>00583     }
<a name="l00584"></a>00584     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l00585"></a>00585 }
<a name="l00586"></a>00586 
<a name="l00587"></a>00587 <span class="comment">/* configure stuff */</span>
<a name="l00588"></a>00588 
<a name="l00589"></a><a class="code" href="cgnslib_8h.html#266cf71a4b679e69789fe22ca8d01fa2">00589</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#dfc72e6c2623dbd79ef6bc420fcc26cc">cg_configure</a>(<span class="keywordtype">int</span> what, <span class="keywordtype">void</span> *value) {
<a name="l00590"></a>00590     <span class="comment">/* cgio options */</span>
<a name="l00591"></a>00591     <span class="keywordflow">if</span> (what &gt; 100) {
<a name="l00592"></a>00592         <span class="keywordflow">if</span> (<a class="code" href="cgns__io_8c.html#e14dcd353a67443f7993dbd5f6753505">cgio_configure</a>(what, value)) {
<a name="l00593"></a>00593             <a class="code" href="cgns__error_8c.html#47dd09a377bc17d5807332f8c475a23b">cg_io_error</a>(<span class="stringliteral">"cgio_configure"</span>);
<a name="l00594"></a>00594             <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l00595"></a>00595         }
<a name="l00596"></a>00596     }
<a name="l00597"></a>00597     <span class="comment">/* error message handler */</span>
<a name="l00598"></a>00598     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (what == <a class="code" href="cgns_keywords_8h.html#54783db1587045d7d8e149914373d012">CG_CONFIG_ERROR</a>) {
<a name="l00599"></a>00599         <a class="code" href="cgns__error_8c.html#68f96459d0e0f96491e90a06ceb02276">cgns_error_handler</a> = (void (*)(int, <span class="keywordtype">char</span> *))value;
<a name="l00600"></a>00600     }
<a name="l00601"></a>00601     <span class="comment">/* file compression */</span>
<a name="l00602"></a>00602     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (what == <a class="code" href="cgns_keywords_8h.html#f51980e40eb73dffba596885716a6135">CG_CONFIG_COMPRESS</a>) {
<a name="l00603"></a>00603         <a class="code" href="_a_d_f_h_8c.html#8130874cb175b93f3c080aa7eab00a94">cgns_compress</a> = (int)((<span class="keywordtype">size_t</span>)value);
<a name="l00604"></a>00604     }
<a name="l00605"></a>00605     <span class="comment">/* initialize link search path */</span>
<a name="l00606"></a>00606     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (what == <a class="code" href="cgns_keywords_8h.html#fbdabd552114cfd9d31001aada45b7b2">CG_CONFIG_SET_PATH</a>) {
<a name="l00607"></a>00607         <span class="keywordflow">return</span> <a class="code" href="cgnslib_8c.html#58fd1cedd572b12938e3348e6600b239">cg_set_path</a>((<span class="keyword">const</span> <span class="keywordtype">char</span> *)value);
<a name="l00608"></a>00608     }
<a name="l00609"></a>00609     <span class="comment">/* add to link search path */</span>
<a name="l00610"></a>00610     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (what == <a class="code" href="cgns_keywords_8h.html#58a9859546dd4912c862179b8bb6d5df">CG_CONFIG_ADD_PATH</a>) {
<a name="l00611"></a>00611         <span class="keywordflow">return</span> <a class="code" href="cgnslib_8c.html#58fd1cedd572b12938e3348e6600b239">cg_set_path</a>((<span class="keyword">const</span> <span class="keywordtype">char</span> *)value);
<a name="l00612"></a>00612     }
<a name="l00613"></a>00613     <span class="comment">/* default file type */</span>
<a name="l00614"></a>00614     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (what == <a class="code" href="cgns_keywords_8h.html#6e72472bd20c28a7383a7124e6ca3c20">CG_CONFIG_FILE_TYPE</a>) {
<a name="l00615"></a>00615         <span class="keywordflow">return</span> <a class="code" href="cgnslib_8c.html#f55b496c46d53625e8abd466215aafba">cg_set_file_type</a>((<span class="keywordtype">int</span>)((<span class="keywordtype">size_t</span>)value));
<a name="l00616"></a>00616     }
<a name="l00617"></a>00617     <span class="keywordflow">else</span> {
<a name="l00618"></a>00618         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"unknown config setting"</span>);
<a name="l00619"></a>00619         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l00620"></a>00620     }
<a name="l00621"></a>00621     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l00622"></a>00622 }
<a name="l00623"></a>00623 
<a name="l00624"></a><a class="code" href="cgnslib_8h.html#5ff61b5191cadf9b7fd0b6037efa8d46">00624</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#abfe780af01b1781b5086b098728228b">cg_error_handler</a>(<span class="keywordtype">void</span> (*func)(<span class="keywordtype">int</span>, <span class="keywordtype">char</span> *)) {
<a name="l00625"></a>00625     <a class="code" href="cgns__error_8c.html#68f96459d0e0f96491e90a06ceb02276">cgns_error_handler</a> = func;
<a name="l00626"></a>00626     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l00627"></a>00627 }
<a name="l00628"></a>00628 
<a name="l00629"></a><a class="code" href="cgnslib_8h.html#b778778d17ce63bc6c56c5dfab00cd1a">00629</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#b2a79a5f3d353a0e03fc11ba265c2b84">cg_set_compress</a>(<span class="keywordtype">int</span> compress) {
<a name="l00630"></a>00630     <a class="code" href="_a_d_f_h_8c.html#8130874cb175b93f3c080aa7eab00a94">cgns_compress</a> = compress;
<a name="l00631"></a>00631     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l00632"></a>00632 }
<a name="l00633"></a>00633 
<a name="l00634"></a><a class="code" href="cgnslib_8h.html#87bebe8e3e33321a61a267544a552cb3">00634</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#5374af40d2d3bebf2d1fa6b29fffcff8">cg_get_compress</a>(<span class="keywordtype">int</span> *compress) {
<a name="l00635"></a>00635     *compress = <a class="code" href="_a_d_f_h_8c.html#8130874cb175b93f3c080aa7eab00a94">cgns_compress</a>;
<a name="l00636"></a>00636     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l00637"></a>00637 }
<a name="l00638"></a>00638 
<a name="l00639"></a><a class="code" href="cgnslib_8h.html#ddf60e296f9104fbc3183da9ae4cba26">00639</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#58fd1cedd572b12938e3348e6600b239">cg_set_path</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *path) {
<a name="l00640"></a>00640     <a class="code" href="cgns__io_8c.html#b64348e3a0d975555f1f3585a9f49acf">cgio_path_delete</a>(NULL);
<a name="l00641"></a>00641     <span class="keywordflow">if</span> (path &amp;&amp; *path) {
<a name="l00642"></a>00642         <span class="keywordflow">if</span> (<a class="code" href="cgns__io_8c.html#a4a04b96fd96003ef907f48ab4a647c7">cgio_path_add</a>(path)) {
<a name="l00643"></a>00643             <a class="code" href="cgns__error_8c.html#47dd09a377bc17d5807332f8c475a23b">cg_io_error</a>(<span class="stringliteral">"cgio_path_add"</span>);
<a name="l00644"></a>00644             <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l00645"></a>00645         }
<a name="l00646"></a>00646     }
<a name="l00647"></a>00647     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l00648"></a>00648 }
<a name="l00649"></a>00649 
<a name="l00650"></a><a class="code" href="cgnslib_8h.html#7f3096eccb63ad5101058316975c03ce">00650</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#cd4f77c2b037d458ea6af87fb6aa4e51">cg_add_path</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *path) {
<a name="l00651"></a>00651     <span class="keywordflow">if</span> (<a class="code" href="cgns__io_8c.html#a4a04b96fd96003ef907f48ab4a647c7">cgio_path_add</a>(path)) {
<a name="l00652"></a>00652         <a class="code" href="cgns__error_8c.html#47dd09a377bc17d5807332f8c475a23b">cg_io_error</a>(<span class="stringliteral">"cgio_path_add"</span>);
<a name="l00653"></a>00653         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l00654"></a>00654     }
<a name="l00655"></a>00655     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l00656"></a>00656 }
<a name="l00657"></a>00657 
<a name="l00658"></a>00658 <span class="comment">/*****************************************************************************\</span>
<a name="l00659"></a>00659 <span class="comment"> *          utility functions</span>
<a name="l00660"></a>00660 <span class="comment">\*****************************************************************************/</span>
<a name="l00661"></a>00661 
<a name="l00662"></a>00662 <span class="comment">/* get type name with bounds checking */</span>
<a name="l00663"></a>00663 
<a name="l00664"></a><a class="code" href="cgnslib_8h.html#473a72522b563b79d9b9ffddce5e1e71">00664</a> <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="cgnslib_8c.html#649fba4ba5e85a43ad0a32168e435daa">cg_get_name</a>(<span class="keywordtype">int</span> nnames, <span class="keyword">const</span> <span class="keywordtype">char</span> **<a class="code" href="_a_d_f__internals_8h.html#87e8d4fea30106a45a2d55992d102288">names</a>, <span class="keywordtype">int</span> type) {
<a name="l00665"></a>00665     <span class="keywordflow">if</span> (type &lt; 0 || type &gt;= nnames) <span class="keywordflow">return</span> <span class="stringliteral">"&lt;invalid&gt;"</span>;
<a name="l00666"></a>00666     <span class="keywordflow">return</span> names[type];
<a name="l00667"></a>00667 }
<a name="l00668"></a>00668 
<a name="l00669"></a><a class="code" href="cgnslib_8h.html#0c99b6088465ca8dc96f514a60037d0f">00669</a> <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="cgnslib_8c.html#bf2005eabb40eb9de0f9d64a4a978eb1">cg_MassUnitsName</a>(<a class="code" href="cgns_keywords_8h.html#8f0a5167b1d8319a0e481666e57ceca0">MassUnits_t</a> type) {
<a name="l00670"></a>00670     <span class="keywordflow">return</span> <a class="code" href="cgnslib_8c.html#649fba4ba5e85a43ad0a32168e435daa">cg_get_name</a>(<a class="code" href="cgns_keywords_8h.html#c96a4bda33c372a14dc5483f3a79dbc3">NofValidMassUnits</a>,<a class="code" href="cgnslib_8c.html#f07abdfeaf5d1334824db8d82d3f192a">MassUnitsName</a>,(<span class="keywordtype">int</span>)type);
<a name="l00671"></a>00671 }
<a name="l00672"></a><a class="code" href="cgnslib_8h.html#ce8c788c219e57840c52cc4bf2ddb5f4">00672</a> <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="cgnslib_8c.html#9b3bd755c31e2d3607cef41a6301a136">cg_LengthUnitsName</a>(<a class="code" href="cgns_keywords_8h.html#92ba99c00037b87031c19ec440a4a3ca">LengthUnits_t</a> type) {
<a name="l00673"></a>00673     <span class="keywordflow">return</span> <a class="code" href="cgnslib_8c.html#649fba4ba5e85a43ad0a32168e435daa">cg_get_name</a>(<a class="code" href="cgns_keywords_8h.html#3408181646c0547c198171533d62294e">NofValidLengthUnits</a>,<a class="code" href="cgnslib_8c.html#47ef1ad1a1674a8e8e87efb5ce439794">LengthUnitsName</a>,(<span class="keywordtype">int</span>)type);
<a name="l00674"></a>00674 }
<a name="l00675"></a><a class="code" href="cgnslib_8h.html#3bc1cd0e2b50aa5c6ee41e5ad514d51e">00675</a> <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="cgnslib_8c.html#75967dc4b9fc9c39ee30771717906a0e">cg_TimeUnitsName</a>(<a class="code" href="cgns_keywords_8h.html#b5fe9a7cbb1e8e49cf4649eeee249cb8">TimeUnits_t</a> type) {
<a name="l00676"></a>00676     <span class="keywordflow">return</span> <a class="code" href="cgnslib_8c.html#649fba4ba5e85a43ad0a32168e435daa">cg_get_name</a>(<a class="code" href="cgns_keywords_8h.html#8af9ee4e369cb4ad52daa7f33335096d">NofValidTimeUnits</a>,<a class="code" href="cgnslib_8c.html#2db3d42e3188a7f45ea7d69d09dc9ca7">TimeUnitsName</a>,(<span class="keywordtype">int</span>)type);
<a name="l00677"></a>00677 }
<a name="l00678"></a><a class="code" href="cgnslib_8h.html#dd362439732085161fc9bb62a0885bb7">00678</a> <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="cgnslib_8c.html#3be5195635f3d870334f29ffad861678">cg_TemperatureUnitsName</a>(<a class="code" href="cgns_keywords_8h.html#2d4e2b4a0daece6b3e91b47fafd82ff5">TemperatureUnits_t</a> type) {
<a name="l00679"></a>00679     <span class="keywordflow">return</span> <a class="code" href="cgnslib_8c.html#649fba4ba5e85a43ad0a32168e435daa">cg_get_name</a>(<a class="code" href="cgns_keywords_8h.html#063b20bdddc67f3107041137aefa2e77">NofValidTemperatureUnits</a>,<a class="code" href="cgnslib_8c.html#307e75f83365688cd741d667ef5bafd0">TemperatureUnitsName</a>,(<span class="keywordtype">int</span>)type);
<a name="l00680"></a>00680 }
<a name="l00681"></a><a class="code" href="cgnslib_8h.html#0efe9654efe5dbc0d2a8b9fb138fd937">00681</a> <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="cgnslib_8c.html#45ed805c797a8d4726d1cc9df843adc9">cg_AngleUnitsName</a>(<a class="code" href="cgns_keywords_8h.html#9fe6a2bd66677cb82aa84a64f0e7882d">AngleUnits_t</a> type) {
<a name="l00682"></a>00682     <span class="keywordflow">return</span> <a class="code" href="cgnslib_8c.html#649fba4ba5e85a43ad0a32168e435daa">cg_get_name</a>(<a class="code" href="cgns_keywords_8h.html#c5fa0c1105a77dd324c813cd01b2fd95">NofValidAngleUnits</a>,<a class="code" href="cgnslib_8c.html#784eeb5096a5d28d223042574644cd8d">AngleUnitsName</a>,(<span class="keywordtype">int</span>)type);
<a name="l00683"></a>00683 }
<a name="l00684"></a><a class="code" href="cgnslib_8h.html#3e410b63f3d68bf65a3c6ca5ac2301f2">00684</a> <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="cgnslib_8c.html#eba3d08d342e4e92e1f9169a43a78a33">cg_ElectricCurrentUnitsName</a>(<a class="code" href="cgns_keywords_8h.html#5d4973c6d234c38906f05d7e95adb91b">ElectricCurrentUnits_t</a> type) {
<a name="l00685"></a>00685     <span class="keywordflow">return</span> <a class="code" href="cgnslib_8c.html#649fba4ba5e85a43ad0a32168e435daa">cg_get_name</a>(<a class="code" href="cgns_keywords_8h.html#b327911b02fba94e704010ded1fbe12f">NofValidElectricCurrentUnits</a>,<a class="code" href="cgnslib_8c.html#72ef15bb9a1392d2b990fdd5a403da09">ElectricCurrentUnitsName</a>,(<span class="keywordtype">int</span>)type);
<a name="l00686"></a>00686 }
<a name="l00687"></a><a class="code" href="cgnslib_8h.html#aff696290bc36966e174edf4e47e246a">00687</a> <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="cgnslib_8c.html#70475a80009f0769cc139719988b7474">cg_SubstanceAmountUnitsName</a>(<a class="code" href="cgns_keywords_8h.html#cab7dbd0387c45e43fa52b67b1728a83">SubstanceAmountUnits_t</a> type) {
<a name="l00688"></a>00688     <span class="keywordflow">return</span> <a class="code" href="cgnslib_8c.html#649fba4ba5e85a43ad0a32168e435daa">cg_get_name</a>(<a class="code" href="cgns_keywords_8h.html#b2b47008296dcfea692371c2f4f386f0">NofValidSubstanceAmountUnits</a>,<a class="code" href="cgnslib_8c.html#121b1bdbfd5a9f8a94652f0e5e862b59">SubstanceAmountUnitsName</a>,(<span class="keywordtype">int</span>)type);
<a name="l00689"></a>00689 }
<a name="l00690"></a><a class="code" href="cgnslib_8h.html#0e32b0efc1ccca80c424d14488080f3e">00690</a> <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="cgnslib_8c.html#405c73e63176b62fb36138c5f4a1fd21">cg_LuminousIntensityUnitsName</a>(<a class="code" href="cgns_keywords_8h.html#2bfd9ba0eb7f7edef0ed7241ca258983">LuminousIntensityUnits_t</a> type) {
<a name="l00691"></a>00691     <span class="keywordflow">return</span> <a class="code" href="cgnslib_8c.html#649fba4ba5e85a43ad0a32168e435daa">cg_get_name</a>(<a class="code" href="cgns_keywords_8h.html#17457e5834352cd71ea5f714865d1fe4">NofValidLuminousIntensityUnits</a>,<a class="code" href="cgnslib_8c.html#595e5257429a94ca1ca51d682c633e6e">LuminousIntensityUnitsName</a>,(<span class="keywordtype">int</span>)type);
<a name="l00692"></a>00692 }
<a name="l00693"></a><a class="code" href="cgnslib_8h.html#5226f687472618859347e449f8be69fe">00693</a> <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="cgnslib_8c.html#763494a8fec5c73f46e65c861fcebb58">cg_DataClassName</a>(<a class="code" href="cgns_keywords_8h.html#6e3a45166e6780b756fef5c427279ca0">DataClass_t</a> type) {
<a name="l00694"></a>00694     <span class="keywordflow">return</span> <a class="code" href="cgnslib_8c.html#649fba4ba5e85a43ad0a32168e435daa">cg_get_name</a>(<a class="code" href="cgns_keywords_8h.html#7fa9dc1541eaeac6b88550ad13b91753">NofValidDataClass</a>,<a class="code" href="cgnslib_8c.html#69d8b5aac82dbb48dbfbb1b8056cc2d1">DataClassName</a>,(<span class="keywordtype">int</span>)type);
<a name="l00695"></a>00695 }
<a name="l00696"></a><a class="code" href="cgnslib_8h.html#d0aa162168e2a30c2c5b86efa8df2cb1">00696</a> <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="cgnslib_8c.html#7af88bef6535742b3a0bb04f976ff747">cg_GridLocationName</a>(<a class="code" href="cgns_keywords_8h.html#5a0e596ed46b12f73c2ed1b8b0176e13">GridLocation_t</a> type) {
<a name="l00697"></a>00697     <span class="keywordflow">return</span> <a class="code" href="cgnslib_8c.html#649fba4ba5e85a43ad0a32168e435daa">cg_get_name</a>(<a class="code" href="cgns_keywords_8h.html#1144a15b91557bdde064e950f7922446">NofValidGridLocation</a>,<a class="code" href="cgnslib_8c.html#eb037aad0a1892338bfeeb05176a29bd">GridLocationName</a>,(<span class="keywordtype">int</span>)type);
<a name="l00698"></a>00698 }
<a name="l00699"></a><a class="code" href="cgnslib_8h.html#a72f78ad30cf23d11a4cb8b861cd7bc2">00699</a> <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="cgnslib_8c.html#d625bb6abbac581c644df58d1f328f5b">cg_BCDataTypeName</a>(<a class="code" href="cgns_keywords_8h.html#3be0aed74a9dad8d4558fa68ff3e737d">BCDataType_t</a> type) {
<a name="l00700"></a>00700     <span class="keywordflow">return</span> <a class="code" href="cgnslib_8c.html#649fba4ba5e85a43ad0a32168e435daa">cg_get_name</a>(<a class="code" href="cgns_keywords_8h.html#6d5a35b1d55444a926c9c0e3ba1f5817">NofValidBCDataTypes</a>,<a class="code" href="cgnslib_8c.html#0d6e7fa0cfaca21c818f46905d2e1622">BCDataTypeName</a>,(<span class="keywordtype">int</span>)type);
<a name="l00701"></a>00701 }
<a name="l00702"></a><a class="code" href="cgnslib_8h.html#7085a29cd952745ec50255ec7dede059">00702</a> <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="cgnslib_8c.html#a50947c392340e9f217131cf36e1bcfb">cg_GridConnectivityTypeName</a>(<a class="code" href="cgns_keywords_8h.html#63b65ef61e306a412f1fabc9be3cc6d0">GridConnectivityType_t</a> type) {
<a name="l00703"></a>00703     <span class="keywordflow">return</span> <a class="code" href="cgnslib_8c.html#649fba4ba5e85a43ad0a32168e435daa">cg_get_name</a>(<a class="code" href="cgns_keywords_8h.html#41e970ada020b402f55c11f07bc2ff19">NofValidGridConnectivityTypes</a>,<a class="code" href="cgnslib_8c.html#09091f99fae25229d9bc3d57f6c99f3e">GridConnectivityTypeName</a>,(<span class="keywordtype">int</span>)type);
<a name="l00704"></a>00704 }
<a name="l00705"></a><a class="code" href="cgnslib_8h.html#b0606c8db7f5ed23e10faf83a80099cc">00705</a> <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="cgnslib_8c.html#6f8fbf63d32639cbaecf055db223423f">cg_PointSetTypeName</a>(<a class="code" href="cgns_keywords_8h.html#82fcf406991383f888f145541f6616f5">PointSetType_t</a> type) {
<a name="l00706"></a>00706     <span class="keywordflow">return</span> <a class="code" href="cgnslib_8c.html#649fba4ba5e85a43ad0a32168e435daa">cg_get_name</a>(<a class="code" href="cgns_keywords_8h.html#da48b346b4ee7094babfa65a68663322">NofValidPointSetTypes</a>,<a class="code" href="cgnslib_8c.html#4a8e191f04e4a8f19c88e882e5451685">PointSetTypeName</a>,(<span class="keywordtype">int</span>)type);
<a name="l00707"></a>00707 }
<a name="l00708"></a><a class="code" href="cgnslib_8h.html#ca87f21244e57dbb2a20434aed44dae0">00708</a> <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="cgnslib_8c.html#e4fdb31e8138e008817c59f592586afd">cg_GoverningEquationsTypeName</a>(<a class="code" href="cgns_keywords_8h.html#7a3f70ad41979f9879fdcb6707519cac">GoverningEquationsType_t</a> type) {
<a name="l00709"></a>00709     <span class="keywordflow">return</span> <a class="code" href="cgnslib_8c.html#649fba4ba5e85a43ad0a32168e435daa">cg_get_name</a>(<a class="code" href="cgns_keywords_8h.html#27b265b03203281bea845cdeb957b117">NofValidGoverningEquationsTypes</a>,<a class="code" href="cgnslib_8c.html#7ff13aa230db5be593d4331ce66d354c">GoverningEquationsTypeName</a>,(<span class="keywordtype">int</span>)type);
<a name="l00710"></a>00710 }
<a name="l00711"></a><a class="code" href="cgnslib_8h.html#6825096fd659dd897daef092723ed4fe">00711</a> <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="cgnslib_8c.html#6bac93eb29d890ffa5b44f83b0cb4ffd">cg_ModelTypeName</a>(<a class="code" href="cgns_keywords_8h.html#e4dcb1e90f970848fe809fbe830319fb">ModelType_t</a> type) {
<a name="l00712"></a>00712     <span class="keywordflow">return</span> <a class="code" href="cgnslib_8c.html#649fba4ba5e85a43ad0a32168e435daa">cg_get_name</a>(<a class="code" href="cgns_keywords_8h.html#843c181a3ef20f26c35af5910195aa2d">NofValidModelTypes</a>,<a class="code" href="cgnslib_8c.html#887f773531c0b4ffeb2b72fe5df81913">ModelTypeName</a>,(<span class="keywordtype">int</span>)type);
<a name="l00713"></a>00713 }
<a name="l00714"></a><a class="code" href="cgnslib_8h.html#fbd31a19651ae5fda63d24ba9957e016">00714</a> <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="cgnslib_8c.html#7b85152cdba9c91e213d433ca99240f6">cg_BCTypeName</a>(<a class="code" href="cgns_keywords_8h.html#44b677e45de9f4d98475b69a56eec4e1">BCType_t</a> type) {
<a name="l00715"></a>00715     <span class="keywordflow">return</span> <a class="code" href="cgnslib_8c.html#649fba4ba5e85a43ad0a32168e435daa">cg_get_name</a>(<a class="code" href="cgns_keywords_8h.html#bf6f54174df8990df78582b7706aa8be">NofValidBCTypes</a>,<a class="code" href="cgnslib_8c.html#524bd2d700c329555ff489a4a15a239b">BCTypeName</a>,(<span class="keywordtype">int</span>)type);
<a name="l00716"></a>00716 }
<a name="l00717"></a><a class="code" href="cgnslib_8h.html#76d3604e90894f9aeeecb46491851543">00717</a> <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="cgnslib_8c.html#4227609b60cff1b1349192871a24dca7">cg_DataTypeName</a>(<a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae">DataType_t</a> type) {
<a name="l00718"></a>00718     <span class="keywordflow">return</span> <a class="code" href="cgnslib_8c.html#649fba4ba5e85a43ad0a32168e435daa">cg_get_name</a>(<a class="code" href="cgns_keywords_8h.html#e2aacf63a0d1ef2109359675ae5f0fe2">NofValidDataTypes</a>,<a class="code" href="cgnslib_8c.html#8656d25788085de6b9d034931a302975">DataTypeName</a>,(<span class="keywordtype">int</span>)type);
<a name="l00719"></a>00719 }
<a name="l00720"></a><a class="code" href="cgnslib_8h.html#8f356a8dd4e3ad5a8572fbf69b1405e5">00720</a> <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="cgnslib_8c.html#5cec8db897d2366775cd9d70aa95430d">cg_ElementTypeName</a>(<a class="code" href="cgns_keywords_8h.html#4431a6cae8c3c9182a415851144aeac0">ElementType_t</a> type) {
<a name="l00721"></a>00721     <span class="keywordflow">return</span> <a class="code" href="cgnslib_8c.html#649fba4ba5e85a43ad0a32168e435daa">cg_get_name</a>(<a class="code" href="cgns_keywords_8h.html#058dc8d7fafdb4b484144df5f83b437b">NofValidElementTypes</a>,<a class="code" href="cgnslib_8c.html#0edb2f4e24d05b4e2f6d15ce7f2acc8f">ElementTypeName</a>,(<span class="keywordtype">int</span>)type);
<a name="l00722"></a>00722 }
<a name="l00723"></a><a class="code" href="cgnslib_8h.html#520c8bc74b174ded1709a1990a7d3712">00723</a> <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="cgnslib_8c.html#1025d15ec67c56b1937a230614494e93">cg_ZoneTypeName</a>(<a class="code" href="cgns_keywords_8h.html#68acb02e36b91d3020f4de86436a07fe">ZoneType_t</a> type) {
<a name="l00724"></a>00724     <span class="keywordflow">return</span> <a class="code" href="cgnslib_8c.html#649fba4ba5e85a43ad0a32168e435daa">cg_get_name</a>(<a class="code" href="cgns_keywords_8h.html#18ddabec7590df59060697f5c8d01028">NofValidZoneTypes</a>,<a class="code" href="cgnslib_8c.html#b13dcf3d3c19529f0fa0e8467d47e735">ZoneTypeName</a>,(<span class="keywordtype">int</span>)type);
<a name="l00725"></a>00725 }
<a name="l00726"></a><a class="code" href="cgnslib_8h.html#a3a61691674404a413b1e6863c06a863">00726</a> <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="cgnslib_8c.html#0475867506c858a9b3949eafb1096f27">cg_RigidGridMotionTypeName</a>(<a class="code" href="cgns_keywords_8h.html#a602987845520a58bcd078d161445d92">RigidGridMotionType_t</a> type) {
<a name="l00727"></a>00727     <span class="keywordflow">return</span> <a class="code" href="cgnslib_8c.html#649fba4ba5e85a43ad0a32168e435daa">cg_get_name</a>(<a class="code" href="cgns_keywords_8h.html#d4916a43d4ddf44996cca0ca760a3e9a">NofValidRigidGridMotionTypes</a>,<a class="code" href="cgnslib_8c.html#8763960d0782caf63aa295c0f6824a39">RigidGridMotionTypeName</a>,(<span class="keywordtype">int</span>)type);
<a name="l00728"></a>00728 }
<a name="l00729"></a><a class="code" href="cgnslib_8h.html#2bcea04e98572e16c144b3bf24a5e966">00729</a> <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="cgnslib_8c.html#896012894566788e8b2fe455f32c563d">cg_ArbitraryGridMotionTypeName</a>(<a class="code" href="cgns_keywords_8h.html#7c3ea967ff670b6a0961dcb231d4739c">ArbitraryGridMotionType_t</a> type) {
<a name="l00730"></a>00730     <span class="keywordflow">return</span> <a class="code" href="cgnslib_8c.html#649fba4ba5e85a43ad0a32168e435daa">cg_get_name</a>(<a class="code" href="cgns_keywords_8h.html#7e51b70f50e1ec975515103e52e4e525">NofValidArbitraryGridMotionTypes</a>,<a class="code" href="cgnslib_8c.html#0e45c271036ce12be0a015414009f10e">ArbitraryGridMotionTypeName</a>,(<span class="keywordtype">int</span>)type);
<a name="l00731"></a>00731 }
<a name="l00732"></a><a class="code" href="cgnslib_8h.html#2009727e80175ba120d482b3e7125556">00732</a> <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="cgnslib_8c.html#ebf5aa7794e316343205301f9a45e953">cg_SimulationTypeName</a>(<a class="code" href="cgns_keywords_8h.html#9e78c57e09b9a11a016f0c65bc00f185">SimulationType_t</a> type) {
<a name="l00733"></a>00733     <span class="keywordflow">return</span> <a class="code" href="cgnslib_8c.html#649fba4ba5e85a43ad0a32168e435daa">cg_get_name</a>(<a class="code" href="cgns_keywords_8h.html#6487254ba3c8e3aa4d879a38faa220a1">NofValidSimulationTypes</a>,<a class="code" href="cgnslib_8c.html#9bfe602795cb449e4a9aafabfd84395c">SimulationTypeName</a>,(<span class="keywordtype">int</span>)type);
<a name="l00734"></a>00734 }
<a name="l00735"></a><a class="code" href="cgnslib_8h.html#6469a75c53d4aff94a4f1f1dff58a10b">00735</a> <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="cgnslib_8c.html#34af4aff41507a6e8b7b975f31594e9a">cg_WallFunctionTypeName</a>(<a class="code" href="cgns_keywords_8h.html#2b4b0d12e36cae57838f1b5da29bce31">WallFunctionType_t</a> type) {
<a name="l00736"></a>00736     <span class="keywordflow">return</span> <a class="code" href="cgnslib_8c.html#649fba4ba5e85a43ad0a32168e435daa">cg_get_name</a>(<a class="code" href="cgns_keywords_8h.html#c6f8a568eb332eeb0694508187618b77">NofValidWallFunctionTypes</a>,<a class="code" href="cgnslib_8c.html#34a4a54a2ae236eabb4f61b38ad56179">WallFunctionTypeName</a>,(<span class="keywordtype">int</span>)type);
<a name="l00737"></a>00737 }
<a name="l00738"></a><a class="code" href="cgnslib_8h.html#0a233e3727ad48ecb75f1b8b5fb8f001">00738</a> <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="cgnslib_8c.html#804ddaf0925cf1dfc988e152cd0d7242">cg_AreaTypeName</a>(<a class="code" href="cgns_keywords_8h.html#1880bd253228588cf62ef75ab37c07e2">AreaType_t</a> type) {
<a name="l00739"></a>00739     <span class="keywordflow">return</span> <a class="code" href="cgnslib_8c.html#649fba4ba5e85a43ad0a32168e435daa">cg_get_name</a>(<a class="code" href="cgns_keywords_8h.html#cb72dddb306fa2b4e2b89701b66d2744">NofValidAreaTypes</a>,<a class="code" href="cgnslib_8c.html#5d4c2822b0dcdc8d4f09cc2618bed457">AreaTypeName</a>,(<span class="keywordtype">int</span>)type);
<a name="l00740"></a>00740 }
<a name="l00741"></a><a class="code" href="cgnslib_8h.html#8c35240adbcbbd7064ea61a162d293a1">00741</a> <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="cgnslib_8c.html#a2056c30ab04c5dcff5667d574619275">cg_AverageInterfaceTypeName</a>(<a class="code" href="cgns_keywords_8h.html#f47b7b9aa4b1c696a7e559427686a083">AverageInterfaceType_t</a> type) {
<a name="l00742"></a>00742     <span class="keywordflow">return</span> <a class="code" href="cgnslib_8c.html#649fba4ba5e85a43ad0a32168e435daa">cg_get_name</a>(<a class="code" href="cgns_keywords_8h.html#5e5d8a437369fdc558929202d9473375">NofValidAverageInterfaceTypes</a>,<a class="code" href="cgnslib_8c.html#7691bda33234ea0735f1f4c74edff48d">AverageInterfaceTypeName</a>,(<span class="keywordtype">int</span>)type);
<a name="l00743"></a>00743 }
<a name="l00744"></a>00744 
<a name="l00745"></a>00745 <span class="comment">/*****************************************************************************\</span>
<a name="l00746"></a>00746 <span class="comment"> *          Inquiry Functions for CGNSBase_t Nodes</span>
<a name="l00747"></a>00747 <span class="comment">\*****************************************************************************/</span>
<a name="l00748"></a>00748 
<a name="l00749"></a><a class="code" href="cgnslib_8h.html#59218fe84ee2b50a172c53e9a6e32302">00749</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#2ba1455488f589ca9f720fd84056eed1">cg_nbases</a>(<span class="keywordtype">int</span> file_number, <span class="keywordtype">int</span> *nbases) {
<a name="l00750"></a>00750 
<a name="l00751"></a>00751     cg = <a class="code" href="cgns__header_8h.html#64a13852e04666fc73b74a8ff7727f4f">cgi_get_file</a>(file_number);
<a name="l00752"></a>00752     <span class="keywordflow">if</span> (cg == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l00753"></a>00753 
<a name="l00754"></a>00754     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l00755"></a>00755 
<a name="l00756"></a>00756     *nbases = cg-&gt;<a class="code" href="structcgns__file.html#4ca0d4ed1ea9b5b81441a2cdd7178df9">nbases</a>;
<a name="l00757"></a>00757     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l00758"></a>00758 }
<a name="l00759"></a>00759 
<a name="l00760"></a><a class="code" href="cgnslib_8h.html#da0b78995a2bc20140d95bb049136992">00760</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#cb7189dc6bb6c007a47ce0fe7a28fec3">cg_base_read</a>(<span class="keywordtype">int</span> file_number, <span class="keywordtype">int</span> B, <span class="keywordtype">char</span> *basename, <span class="keywordtype">int</span> *cell_dim,
<a name="l00761"></a>00761     <span class="keywordtype">int</span> *phys_dim) {
<a name="l00762"></a>00762     <a class="code" href="structcgns__base.html">cgns_base</a> *base;
<a name="l00763"></a>00763 
<a name="l00764"></a>00764     cg = <a class="code" href="cgns__header_8h.html#64a13852e04666fc73b74a8ff7727f4f">cgi_get_file</a>(file_number);
<a name="l00765"></a>00765     <span class="keywordflow">if</span> (cg == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l00766"></a>00766 
<a name="l00767"></a>00767     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l00768"></a>00768 
<a name="l00769"></a>00769     base = <a class="code" href="cgns__header_8h.html#09d3b45ead80b0d2b1921ff6a1b1d3ae">cgi_get_base</a>(cg, B);
<a name="l00770"></a>00770     <span class="keywordflow">if</span> (base==0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l00771"></a>00771 
<a name="l00772"></a>00772     *cell_dim = base-&gt;<a class="code" href="structcgns__base.html#1bee6ac28f8d5df04476d015a8643d3a">cell_dim</a>;
<a name="l00773"></a>00773     *phys_dim = base-&gt;<a class="code" href="structcgns__base.html#f210aa767697826c3dc29cfb2ffec256">phys_dim</a>;
<a name="l00774"></a>00774     strcpy(basename, base-&gt;<a class="code" href="structcgns__base.html#b5192b2e796e6224c74ec532ec32abf7">name</a>);
<a name="l00775"></a>00775 
<a name="l00776"></a>00776     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l00777"></a>00777 }
<a name="l00778"></a>00778 
<a name="l00779"></a><a class="code" href="cgnslib_8h.html#b597d370164ec50099cca64e6f77cdf8">00779</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#a7a7dec37946be803df003be7cd0f442">cg_base_id</a>(<span class="keywordtype">int</span> file_number, <span class="keywordtype">int</span> B, <span class="keywordtype">double</span> *base_id) {
<a name="l00780"></a>00780     <a class="code" href="structcgns__base.html">cgns_base</a> *base;
<a name="l00781"></a>00781 
<a name="l00782"></a>00782     cg = <a class="code" href="cgns__header_8h.html#64a13852e04666fc73b74a8ff7727f4f">cgi_get_file</a>(file_number);
<a name="l00783"></a>00783     <span class="keywordflow">if</span> (cg == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l00784"></a>00784 
<a name="l00785"></a>00785     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l00786"></a>00786 
<a name="l00787"></a>00787     base = <a class="code" href="cgns__header_8h.html#09d3b45ead80b0d2b1921ff6a1b1d3ae">cgi_get_base</a>(cg, B);
<a name="l00788"></a>00788     <span class="keywordflow">if</span> (base==0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l00789"></a>00789 
<a name="l00790"></a>00790     *base_id = base-&gt;<a class="code" href="structcgns__base.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>;
<a name="l00791"></a>00791     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l00792"></a>00792 }
<a name="l00793"></a>00793 <span class="comment">/*****************************************************************************\</span>
<a name="l00794"></a>00794 <span class="comment"> *            Inquiry Functions for Zone_t Nodes</span>
<a name="l00795"></a>00795 <span class="comment">\*****************************************************************************/</span>
<a name="l00796"></a>00796 
<a name="l00797"></a><a class="code" href="cgnslib_8h.html#90bae8e44de9b28526e7d63d0ebddd3a">00797</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#07dcc0b8b0f82b92663ab05823d379c8">cg_nzones</a>(<span class="keywordtype">int</span> file_number, <span class="keywordtype">int</span> B, <span class="keywordtype">int</span> *nzones) {
<a name="l00798"></a>00798     <a class="code" href="structcgns__base.html">cgns_base</a> *base;
<a name="l00799"></a>00799 
<a name="l00800"></a>00800     cg = <a class="code" href="cgns__header_8h.html#64a13852e04666fc73b74a8ff7727f4f">cgi_get_file</a>(file_number);
<a name="l00801"></a>00801     <span class="keywordflow">if</span> (cg == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l00802"></a>00802 
<a name="l00803"></a>00803     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l00804"></a>00804 
<a name="l00805"></a>00805     base = <a class="code" href="cgns__header_8h.html#09d3b45ead80b0d2b1921ff6a1b1d3ae">cgi_get_base</a>(cg, B);
<a name="l00806"></a>00806     <span class="keywordflow">if</span> (base==0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l00807"></a>00807 
<a name="l00808"></a>00808     *nzones = base-&gt;<a class="code" href="structcgns__base.html#8ebd3b4b8ec8f082c7fceaad6ed6c68f">nzones</a>;
<a name="l00809"></a>00809     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l00810"></a>00810 }
<a name="l00811"></a>00811 
<a name="l00812"></a><a class="code" href="cgnslib_8h.html#433fe64ecd13e1452a6469d3850e9081">00812</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#ca913e5589d1d18ef8a8166d3afd01de">cg_zone_type</a>(<span class="keywordtype">int</span> file_number, <span class="keywordtype">int</span> B, <span class="keywordtype">int</span> Z, <a class="code" href="cgns_keywords_8h.html#68acb02e36b91d3020f4de86436a07fe">ZoneType_t</a> *type) {
<a name="l00813"></a>00813     <a class="code" href="structcgns__zone.html">cgns_zone</a> *zone;
<a name="l00814"></a>00814 
<a name="l00815"></a>00815     cg = <a class="code" href="cgns__header_8h.html#64a13852e04666fc73b74a8ff7727f4f">cgi_get_file</a>(file_number);
<a name="l00816"></a>00816     <span class="keywordflow">if</span> (cg == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l00817"></a>00817 
<a name="l00818"></a>00818     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l00819"></a>00819 
<a name="l00820"></a>00820     zone = <a class="code" href="cgns__header_8h.html#5ce4ef97dee99baf9183b8c23419bfe0">cgi_get_zone</a>(cg, B, Z);
<a name="l00821"></a>00821     <span class="keywordflow">if</span> (zone==0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l00822"></a>00822 
<a name="l00823"></a>00823     *type = zone-&gt;<a class="code" href="structcgns__zone.html#70e3228eb924895531acd9144d41916f">type</a>;
<a name="l00824"></a>00824     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l00825"></a>00825 }
<a name="l00826"></a>00826 
<a name="l00827"></a><a class="code" href="cgnslib_8h.html#96660226a852571601eb17afb499cb4e">00827</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#1c1bb65f85bc267b9dfeb71793f813ec">cg_zone_read</a>(<span class="keywordtype">int</span> file_number, <span class="keywordtype">int</span> B, <span class="keywordtype">int</span> Z, <span class="keywordtype">char</span> *zonename,
<a name="l00828"></a>00828     <span class="keywordtype">int</span> *nijk) {
<a name="l00829"></a>00829     <a class="code" href="structcgns__zone.html">cgns_zone</a> *zone;
<a name="l00830"></a>00830     <span class="keywordtype">int</span> <a class="code" href="namespacefmain.html#c6f559daa4a4864f2449315176500469">i</a>;
<a name="l00831"></a>00831 
<a name="l00832"></a>00832     cg = <a class="code" href="cgns__header_8h.html#64a13852e04666fc73b74a8ff7727f4f">cgi_get_file</a>(file_number);
<a name="l00833"></a>00833     <span class="keywordflow">if</span> (cg == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l00834"></a>00834 
<a name="l00835"></a>00835     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l00836"></a>00836 
<a name="l00837"></a>00837     zone = <a class="code" href="cgns__header_8h.html#5ce4ef97dee99baf9183b8c23419bfe0">cgi_get_zone</a>(cg, B, Z);
<a name="l00838"></a>00838     <span class="keywordflow">if</span> (zone==0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l00839"></a>00839 
<a name="l00840"></a>00840     strcpy(zonename, zone-&gt;<a class="code" href="structcgns__zone.html#b5192b2e796e6224c74ec532ec32abf7">name</a>);
<a name="l00841"></a>00841 
<a name="l00842"></a>00842     <span class="keywordflow">for</span> (i=0; i&lt;3*(zone-&gt;<a class="code" href="structcgns__zone.html#5ea7c3da009c9add916c0eeca1973c05">index_dim</a>); i++) nijk[i] = zone-&gt;<a class="code" href="structcgns__zone.html#41ee98048c689af7dcf7cf361860ee09">nijk</a>[i];
<a name="l00843"></a>00843 
<a name="l00844"></a>00844     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l00845"></a>00845 }
<a name="l00846"></a>00846 
<a name="l00847"></a><a class="code" href="cgnslib_8h.html#2c94e2a08f5991c7b87f47a0eceea704">00847</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#5d74b97f85cd46e7505589f273abccbd">cg_zone_id</a>(<span class="keywordtype">int</span> file_number, <span class="keywordtype">int</span> B, <span class="keywordtype">int</span> Z, <span class="keywordtype">double</span> *zone_id) {
<a name="l00848"></a>00848     <a class="code" href="structcgns__zone.html">cgns_zone</a> *zone;
<a name="l00849"></a>00849 
<a name="l00850"></a>00850     cg = <a class="code" href="cgns__header_8h.html#64a13852e04666fc73b74a8ff7727f4f">cgi_get_file</a>(file_number);
<a name="l00851"></a>00851     <span class="keywordflow">if</span> (cg == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l00852"></a>00852 
<a name="l00853"></a>00853     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l00854"></a>00854 
<a name="l00855"></a>00855     zone = <a class="code" href="cgns__header_8h.html#5ce4ef97dee99baf9183b8c23419bfe0">cgi_get_zone</a>(cg, B, Z);
<a name="l00856"></a>00856     <span class="keywordflow">if</span> (zone==0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l00857"></a>00857 
<a name="l00858"></a>00858     *zone_id = zone-&gt;<a class="code" href="structcgns__zone.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>;
<a name="l00859"></a>00859     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l00860"></a>00860 }
<a name="l00861"></a>00861 
<a name="l00862"></a>00862 <span class="comment">/*****************************************************************************\</span>
<a name="l00863"></a>00863 <span class="comment"> *    Inquiry Functions for Family_t Nodes</span>
<a name="l00864"></a>00864 <span class="comment">\*****************************************************************************/</span>
<a name="l00865"></a><a class="code" href="cgnslib_8h.html#0cd21f5634be3a1384dde83f057a8ad2">00865</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#15ebfa562832f11f2a199e891884248a">cg_nfamilies</a>(<span class="keywordtype">int</span> file_number, <span class="keywordtype">int</span> B, <span class="keywordtype">int</span> *nfamilies) {
<a name="l00866"></a>00866     <a class="code" href="structcgns__base.html">cgns_base</a> *base;
<a name="l00867"></a>00867 
<a name="l00868"></a>00868     cg = <a class="code" href="cgns__header_8h.html#64a13852e04666fc73b74a8ff7727f4f">cgi_get_file</a>(file_number);
<a name="l00869"></a>00869     <span class="keywordflow">if</span> (cg == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l00870"></a>00870 
<a name="l00871"></a>00871     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l00872"></a>00872 
<a name="l00873"></a>00873     base = <a class="code" href="cgns__header_8h.html#09d3b45ead80b0d2b1921ff6a1b1d3ae">cgi_get_base</a>(cg, B);
<a name="l00874"></a>00874     <span class="keywordflow">if</span> (base==0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l00875"></a>00875 
<a name="l00876"></a>00876     *nfamilies = base-&gt;<a class="code" href="structcgns__base.html#e2fe5767615f9689821aa55d364cdbfc">nfamilies</a>;
<a name="l00877"></a>00877     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l00878"></a>00878 }
<a name="l00879"></a>00879 
<a name="l00880"></a><a class="code" href="cgnslib_8h.html#65ebb8b5c7007426003d07374d7d175e">00880</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#a9faa3668e4a4a73e7226f7d93563b22">cg_family_read</a>(<span class="keywordtype">int</span> file_number, <span class="keywordtype">int</span> B, <span class="keywordtype">int</span> F, <span class="keywordtype">char</span> *family_name,
<a name="l00881"></a>00881     <span class="keywordtype">int</span> *nboco, <span class="keywordtype">int</span> *ngeos) {
<a name="l00882"></a>00882 
<a name="l00883"></a>00883     <a class="code" href="structcgns__family.html">cgns_family</a> *family;
<a name="l00884"></a>00884 
<a name="l00885"></a>00885     cg = <a class="code" href="cgns__header_8h.html#64a13852e04666fc73b74a8ff7727f4f">cgi_get_file</a>(file_number);
<a name="l00886"></a>00886     <span class="keywordflow">if</span> (cg == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l00887"></a>00887 
<a name="l00888"></a>00888     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l00889"></a>00889 
<a name="l00890"></a>00890     family = <a class="code" href="cgns__header_8h.html#82dbb4d97201567a642f400c4233c4dc">cgi_get_family</a>(cg, B, F);
<a name="l00891"></a>00891     <span class="keywordflow">if</span> (family==0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l00892"></a>00892 
<a name="l00893"></a>00893     strcpy(family_name, family-&gt;<a class="code" href="structcgns__family.html#b5192b2e796e6224c74ec532ec32abf7">name</a>);
<a name="l00894"></a>00894     *nboco = family-&gt;<a class="code" href="structcgns__family.html#0d6a67c7611982223976259cf274ad45">nfambc</a>;
<a name="l00895"></a>00895     *ngeos  = family-&gt;<a class="code" href="structcgns__family.html#d4cc3ca01272c35cb7b773c627416779">ngeos</a>;
<a name="l00896"></a>00896 
<a name="l00897"></a>00897     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l00898"></a>00898 }
<a name="l00899"></a>00899 
<a name="l00900"></a><a class="code" href="cgnslib_8h.html#1d0f285c989897cd9d1ae167ac862929">00900</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#1b24674d2179f032f4a3c1c7430da2fc">cg_fambc_read</a>(<span class="keywordtype">int</span> file_number, <span class="keywordtype">int</span> B, <span class="keywordtype">int</span> F, <span class="keywordtype">int</span> BC,
<a name="l00901"></a>00901     <span class="keywordtype">char</span> *fambc_name, <a class="code" href="cgns_keywords_8h.html#44b677e45de9f4d98475b69a56eec4e1">BCType_t</a> *bocotype) {
<a name="l00902"></a>00902     <a class="code" href="structcgns__family.html">cgns_family</a> *family;
<a name="l00903"></a>00903 
<a name="l00904"></a>00904     cg = <a class="code" href="cgns__header_8h.html#64a13852e04666fc73b74a8ff7727f4f">cgi_get_file</a>(file_number);
<a name="l00905"></a>00905     <span class="keywordflow">if</span> (cg == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l00906"></a>00906 
<a name="l00907"></a>00907     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l00908"></a>00908 
<a name="l00909"></a>00909     family = <a class="code" href="cgns__header_8h.html#82dbb4d97201567a642f400c4233c4dc">cgi_get_family</a>(cg, B, F);
<a name="l00910"></a>00910     <span class="keywordflow">if</span> (family==0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l00911"></a>00911 
<a name="l00912"></a>00912     <span class="keywordflow">if</span> (BC&lt;=0 || BC&gt;family-&gt;<a class="code" href="structcgns__family.html#0d6a67c7611982223976259cf274ad45">nfambc</a>) {
<a name="l00913"></a>00913         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Invalid family b.c. number"</span>);
<a name="l00914"></a>00914         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l00915"></a>00915     }
<a name="l00916"></a>00916     strcpy(fambc_name,family-&gt;<a class="code" href="structcgns__family.html#06738c6feece4d56e6f232fd2fdb4766">fambc</a>[BC-1].<a class="code" href="structcgns__fambc.html#b5192b2e796e6224c74ec532ec32abf7">name</a>);
<a name="l00917"></a>00917     *bocotype = family-&gt;<a class="code" href="structcgns__family.html#06738c6feece4d56e6f232fd2fdb4766">fambc</a>[BC-1].<a class="code" href="structcgns__fambc.html#3559c6e2ba54cdf205f7b0229c1f43de">type</a>;
<a name="l00918"></a>00918 
<a name="l00919"></a>00919     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l00920"></a>00920 }
<a name="l00921"></a>00921 
<a name="l00922"></a><a class="code" href="cgnslib_8h.html#96d39db32b52f039c5f2963ef7770dad">00922</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#1fd4d75606054b629455ca361297d177">cg_geo_read</a>(<span class="keywordtype">int</span> file_number, <span class="keywordtype">int</span> B, <span class="keywordtype">int</span> F, <span class="keywordtype">int</span> G, <span class="keywordtype">char</span> *geo_name,
<a name="l00923"></a>00923     <span class="keywordtype">char</span> **geo_file, <span class="keywordtype">char</span> *CAD_name, <span class="keywordtype">int</span> *npart) {
<a name="l00924"></a>00924     <a class="code" href="structcgns__family.html">cgns_family</a> *family;
<a name="l00925"></a>00925 
<a name="l00926"></a>00926     cg = <a class="code" href="cgns__header_8h.html#64a13852e04666fc73b74a8ff7727f4f">cgi_get_file</a>(file_number);
<a name="l00927"></a>00927     <span class="keywordflow">if</span> (cg == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l00928"></a>00928 
<a name="l00929"></a>00929     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l00930"></a>00930 
<a name="l00931"></a>00931     family = <a class="code" href="cgns__header_8h.html#82dbb4d97201567a642f400c4233c4dc">cgi_get_family</a>(cg, B, F);
<a name="l00932"></a>00932     <span class="keywordflow">if</span> (family==0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l00933"></a>00933 
<a name="l00934"></a>00934     <span class="keywordflow">if</span> (G&lt;=0 || G&gt;family-&gt;<a class="code" href="structcgns__family.html#d4cc3ca01272c35cb7b773c627416779">ngeos</a>) {
<a name="l00935"></a>00935         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Invalid geometry reference number"</span>);
<a name="l00936"></a>00936         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l00937"></a>00937     }
<a name="l00938"></a>00938     strcpy(geo_name,family-&gt;<a class="code" href="structcgns__family.html#988b87c1b2e6b16e9b129bf3e5b37ab0">geo</a>[G-1].<a class="code" href="structcgns__geo.html#b5192b2e796e6224c74ec532ec32abf7">name</a>);
<a name="l00939"></a>00939     strcpy(CAD_name,family-&gt;<a class="code" href="structcgns__family.html#988b87c1b2e6b16e9b129bf3e5b37ab0">geo</a>[G-1].<a class="code" href="structcgns__geo.html#72ab240d337ac7cead68a73959928bef">format</a>);
<a name="l00940"></a>00940 
<a name="l00941"></a>00941      <span class="comment">/* This string is not limited to 32 characters and can't be pre-allocated</span>
<a name="l00942"></a>00942 <span class="comment">    in the application */</span>
<a name="l00943"></a>00943     geo_file[0]=<a class="code" href="cgns__header_8h.html#948c36b3700de0f3332aa3620eafb0f4">CGNS_NEW</a>(<span class="keywordtype">char</span>,strlen(family-&gt;<a class="code" href="structcgns__family.html#988b87c1b2e6b16e9b129bf3e5b37ab0">geo</a>[G-1].<a class="code" href="structcgns__geo.html#df16cd437526a5c5e0e0af87745acbb8">file</a>)+1);
<a name="l00944"></a>00944     strcpy(geo_file[0],family-&gt;<a class="code" href="structcgns__family.html#988b87c1b2e6b16e9b129bf3e5b37ab0">geo</a>[G-1].<a class="code" href="structcgns__geo.html#df16cd437526a5c5e0e0af87745acbb8">file</a>);
<a name="l00945"></a>00945 
<a name="l00946"></a>00946     *npart=family-&gt;<a class="code" href="structcgns__family.html#988b87c1b2e6b16e9b129bf3e5b37ab0">geo</a>[G-1].<a class="code" href="structcgns__geo.html#8852a945ad0b8536ee161f7ddb1e4be0">npart</a>;
<a name="l00947"></a>00947 
<a name="l00948"></a>00948     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l00949"></a>00949 }
<a name="l00950"></a>00950 
<a name="l00951"></a><a class="code" href="cgnslib_8h.html#c0ee3978db4c4c5d360a067575107829">00951</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#395d7c8ec498b9efa940f3e2e74342ff">cg_part_read</a>(<span class="keywordtype">int</span> file_number, <span class="keywordtype">int</span> B, <span class="keywordtype">int</span> F, <span class="keywordtype">int</span> G, <span class="keywordtype">int</span> P, <span class="keywordtype">char</span> *part_name) {
<a name="l00952"></a>00952     <a class="code" href="structcgns__family.html">cgns_family</a> *family;
<a name="l00953"></a>00953 
<a name="l00954"></a>00954     cg = <a class="code" href="cgns__header_8h.html#64a13852e04666fc73b74a8ff7727f4f">cgi_get_file</a>(file_number);
<a name="l00955"></a>00955     <span class="keywordflow">if</span> (cg == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l00956"></a>00956 
<a name="l00957"></a>00957     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l00958"></a>00958 
<a name="l00959"></a>00959     family = <a class="code" href="cgns__header_8h.html#82dbb4d97201567a642f400c4233c4dc">cgi_get_family</a>(cg, B, F);
<a name="l00960"></a>00960     <span class="keywordflow">if</span> (family==0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l00961"></a>00961 
<a name="l00962"></a>00962     <span class="keywordflow">if</span> (P&lt;=0 || P&gt;family-&gt;<a class="code" href="structcgns__family.html#988b87c1b2e6b16e9b129bf3e5b37ab0">geo</a>[G-1].<a class="code" href="structcgns__geo.html#8852a945ad0b8536ee161f7ddb1e4be0">npart</a>) {
<a name="l00963"></a>00963         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Invalid part number"</span>);
<a name="l00964"></a>00964         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l00965"></a>00965     }
<a name="l00966"></a>00966     strcpy(part_name,family-&gt;<a class="code" href="structcgns__family.html#988b87c1b2e6b16e9b129bf3e5b37ab0">geo</a>[G-1].<a class="code" href="structcgns__geo.html#022b0ad1bcd6d0eab9752c498161c563">part</a>[P-1].<a class="code" href="structcgns__part.html#b5192b2e796e6224c74ec532ec32abf7">name</a>);
<a name="l00967"></a>00967     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l00968"></a>00968 }
<a name="l00969"></a>00969 
<a name="l00970"></a>00970 <span class="comment">/*****************************************************************************\</span>
<a name="l00971"></a>00971 <span class="comment"> *    Inquiry Functions for DiscreteData_t Nodes</span>
<a name="l00972"></a>00972 <span class="comment">\*****************************************************************************/</span>
<a name="l00973"></a><a class="code" href="cgnslib_8h.html#8c7229116af70c1003acc82daf98de60">00973</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#672472989e2c26b2293c6d91f8e978ce">cg_ndiscrete</a>(<span class="keywordtype">int</span> file_number, <span class="keywordtype">int</span> B, <span class="keywordtype">int</span> Z, <span class="keywordtype">int</span> *ndiscrete) {
<a name="l00974"></a>00974     <a class="code" href="structcgns__zone.html">cgns_zone</a> *zone;
<a name="l00975"></a>00975 
<a name="l00976"></a>00976     cg = <a class="code" href="cgns__header_8h.html#64a13852e04666fc73b74a8ff7727f4f">cgi_get_file</a>(file_number);
<a name="l00977"></a>00977     <span class="keywordflow">if</span> (cg == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l00978"></a>00978 
<a name="l00979"></a>00979     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l00980"></a>00980 
<a name="l00981"></a>00981     zone = <a class="code" href="cgns__header_8h.html#5ce4ef97dee99baf9183b8c23419bfe0">cgi_get_zone</a>(cg, B, Z);
<a name="l00982"></a>00982     <span class="keywordflow">if</span> (zone==0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l00983"></a>00983 
<a name="l00984"></a>00984     (*ndiscrete) = zone-&gt;<a class="code" href="structcgns__zone.html#0f925e18f7d56d06ed91eeb5e590f846">ndiscrete</a>;
<a name="l00985"></a>00985     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l00986"></a>00986 }
<a name="l00987"></a>00987 
<a name="l00988"></a><a class="code" href="cgnslib_8h.html#a47226e77020b3b36630cf0eb8854510">00988</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#8051996f13674066bd8308777192a775">cg_discrete_read</a>(<span class="keywordtype">int</span> file_number, <span class="keywordtype">int</span> B, <span class="keywordtype">int</span> Z, <span class="keywordtype">int</span> D, <span class="keywordtype">char</span> *discrete_name) {
<a name="l00989"></a>00989 
<a name="l00990"></a>00990     <a class="code" href="structcgns__discrete.html">cgns_discrete</a> *discrete;
<a name="l00991"></a>00991 
<a name="l00992"></a>00992     cg = <a class="code" href="cgns__header_8h.html#64a13852e04666fc73b74a8ff7727f4f">cgi_get_file</a>(file_number);
<a name="l00993"></a>00993     <span class="keywordflow">if</span> (cg == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l00994"></a>00994 
<a name="l00995"></a>00995     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l00996"></a>00996 
<a name="l00997"></a>00997     discrete = <a class="code" href="cgns__header_8h.html#138126dcb9d1a5fd5cc59725b2487af1">cgi_get_discrete</a>(cg, B, Z, D);
<a name="l00998"></a>00998     <span class="keywordflow">if</span> (discrete==0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l00999"></a>00999 
<a name="l01000"></a>01000     strcpy(discrete_name, discrete-&gt;<a class="code" href="structcgns__discrete.html#b5192b2e796e6224c74ec532ec32abf7">name</a>);
<a name="l01001"></a>01001 
<a name="l01002"></a>01002     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l01003"></a>01003 }
<a name="l01004"></a>01004 <span class="comment">/*****************************************************************************\</span>
<a name="l01005"></a>01005 <span class="comment"> *    Inquiry Functions for GridCoordinates_t Nodes</span>
<a name="l01006"></a>01006 <span class="comment">\*****************************************************************************/</span>
<a name="l01007"></a><a class="code" href="cgnslib_8h.html#2df2ed3f20c69cdf153daa8fd38da7c9">01007</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#f2a8c7418f6393b5951fc8a8c3f31182">cg_ngrids</a>(<span class="keywordtype">int</span> file_number, <span class="keywordtype">int</span> B, <span class="keywordtype">int</span> Z, <span class="keywordtype">int</span> *ngrids) {
<a name="l01008"></a>01008     <a class="code" href="structcgns__zone.html">cgns_zone</a> *zone;
<a name="l01009"></a>01009 
<a name="l01010"></a>01010     cg = <a class="code" href="cgns__header_8h.html#64a13852e04666fc73b74a8ff7727f4f">cgi_get_file</a>(file_number);
<a name="l01011"></a>01011     <span class="keywordflow">if</span> (cg == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l01012"></a>01012 
<a name="l01013"></a>01013     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l01014"></a>01014 
<a name="l01015"></a>01015      <span class="comment">/* Get memory address for zone */</span>
<a name="l01016"></a>01016     zone = <a class="code" href="cgns__header_8h.html#5ce4ef97dee99baf9183b8c23419bfe0">cgi_get_zone</a>(cg, B, Z);
<a name="l01017"></a>01017     <span class="keywordflow">if</span> (zone==0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l01018"></a>01018 
<a name="l01019"></a>01019     (*ngrids) = zone-&gt;<a class="code" href="structcgns__zone.html#f0b700b76075cef935eadd2463de5ce2">nzcoor</a>;
<a name="l01020"></a>01020     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l01021"></a>01021 }
<a name="l01022"></a>01022 
<a name="l01023"></a><a class="code" href="cgnslib_8h.html#bc1407aedb6e3c90c5285e520b55e2ae">01023</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#fcbec3a6a381caa5d93df4c242c43769">cg_grid_read</a>(<span class="keywordtype">int</span> file_number, <span class="keywordtype">int</span> B, <span class="keywordtype">int</span> Z, <span class="keywordtype">int</span> G, <span class="keywordtype">char</span> *gridname) {
<a name="l01024"></a>01024     <a class="code" href="structcgns__zcoor.html">cgns_zcoor</a> *zcoor;
<a name="l01025"></a>01025 
<a name="l01026"></a>01026     cg = <a class="code" href="cgns__header_8h.html#64a13852e04666fc73b74a8ff7727f4f">cgi_get_file</a>(file_number);
<a name="l01027"></a>01027     <span class="keywordflow">if</span> (cg == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l01028"></a>01028 
<a name="l01029"></a>01029     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l01030"></a>01030 
<a name="l01031"></a>01031      <span class="comment">/* Get memory address for GridCoordinates_t node */</span>
<a name="l01032"></a>01032     zcoor = <a class="code" href="cgns__header_8h.html#5a5f7b7fe8d4f22127102f2617c40090">cgi_get_zcoor</a>(cg, B, Z, G);
<a name="l01033"></a>01033     <span class="keywordflow">if</span> (zcoor==0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l01034"></a>01034 
<a name="l01035"></a>01035      <span class="comment">/* Return ADF name for the GridCoordinates_t node */</span>
<a name="l01036"></a>01036     strcpy(gridname,zcoor-&gt;<a class="code" href="structcgns__zcoor.html#b5192b2e796e6224c74ec532ec32abf7">name</a>);
<a name="l01037"></a>01037     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l01038"></a>01038 }
<a name="l01039"></a>01039 
<a name="l01040"></a>01040 <span class="comment">/*****************************************************************************\</span>
<a name="l01041"></a>01041 <span class="comment"> *    Inquiry Functions for GridCoordinates_t/DataArray_t Nodes</span>
<a name="l01042"></a>01042 <span class="comment">\*****************************************************************************/</span>
<a name="l01043"></a><a class="code" href="cgnslib_8h.html#aea0e65da3ce444e939a46c850be1700">01043</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#b49be603b3ac68fd6862f2582a422e79">cg_ncoords</a>(<span class="keywordtype">int</span> file_number, <span class="keywordtype">int</span> B, <span class="keywordtype">int</span> Z, <span class="keywordtype">int</span> *ncoords) {
<a name="l01044"></a>01044     <a class="code" href="structcgns__zcoor.html">cgns_zcoor</a> *zcoor;
<a name="l01045"></a>01045 
<a name="l01046"></a>01046     cg = <a class="code" href="cgns__header_8h.html#64a13852e04666fc73b74a8ff7727f4f">cgi_get_file</a>(file_number);
<a name="l01047"></a>01047     <span class="keywordflow">if</span> (cg == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l01048"></a>01048 
<a name="l01049"></a>01049     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l01050"></a>01050 
<a name="l01051"></a>01051      <span class="comment">/* Get memory address for node "GridCoordinates" */</span>
<a name="l01052"></a>01052     zcoor = <a class="code" href="cgns__header_8h.html#3e5a876b81ce952b44c23a9b934dbe01">cgi_get_zcoorGC</a>(cg, B, Z);
<a name="l01053"></a>01053     <span class="keywordflow">if</span> (zcoor==0) *ncoords = 0;     <span class="comment">/* if ZoneGridCoordinates_t is undefined */</span>
<a name="l01054"></a>01054     <span class="keywordflow">else</span>          *ncoords = zcoor-&gt;<a class="code" href="structcgns__zcoor.html#a6cb1b2f94bbe4063ed616bdc8797abf">ncoords</a>;
<a name="l01055"></a>01055     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l01056"></a>01056 }
<a name="l01057"></a>01057 
<a name="l01058"></a><a class="code" href="cgnslib_8h.html#720cc2b5dff748beea2089b224fa2f08">01058</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#cda3b530feeeb4ac97c7cfda688dc8ca">cg_coord_info</a>(<span class="keywordtype">int</span> file_number, <span class="keywordtype">int</span> B, <span class="keywordtype">int</span> Z, <span class="keywordtype">int</span> <a class="code" href="cgnswin__f_8h.html#1f39f73b12ce2dca81d3aa4b3c4b1824">C</a>, <a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae">DataType_t</a> *type, <span class="keywordtype">char</span> *coordname) {
<a name="l01059"></a>01059     <a class="code" href="structcgns__zcoor.html">cgns_zcoor</a> *zcoor;
<a name="l01060"></a>01060 
<a name="l01061"></a>01061     cg = <a class="code" href="cgns__header_8h.html#64a13852e04666fc73b74a8ff7727f4f">cgi_get_file</a>(file_number);
<a name="l01062"></a>01062     <span class="keywordflow">if</span> (cg == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l01063"></a>01063 
<a name="l01064"></a>01064     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l01065"></a>01065 
<a name="l01066"></a>01066      <span class="comment">/* Get memory address for node "GridCoordinates" */</span>
<a name="l01067"></a>01067     zcoor = <a class="code" href="cgns__header_8h.html#3e5a876b81ce952b44c23a9b934dbe01">cgi_get_zcoorGC</a>(cg, B, Z);
<a name="l01068"></a>01068     <span class="keywordflow">if</span> (zcoor==0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l01069"></a>01069 
<a name="l01070"></a>01070     <span class="keywordflow">if</span> (C&gt;zcoor-&gt;<a class="code" href="structcgns__zcoor.html#a6cb1b2f94bbe4063ed616bdc8797abf">ncoords</a> || C&lt;=0) {
<a name="l01071"></a>01071         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"coord number %d invalid"</span>,C);
<a name="l01072"></a>01072         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l01073"></a>01073     }
<a name="l01074"></a>01074     *type = <a class="code" href="cgns__header_8h.html#24e3b83316ff66e5d321d73ee64319f2">cgi_datatype</a>(zcoor-&gt;<a class="code" href="structcgns__zcoor.html#5ab5360b57c24503e4ef160d06387c15">coord</a>[C-1].<a class="code" href="structcgns__array.html#86e4d546d1321bcac60584c413eb0f6d">data_type</a>);
<a name="l01075"></a>01075     strcpy(coordname, zcoor-&gt;<a class="code" href="structcgns__zcoor.html#5ab5360b57c24503e4ef160d06387c15">coord</a>[C-1].<a class="code" href="structcgns__array.html#b5192b2e796e6224c74ec532ec32abf7">name</a>);
<a name="l01076"></a>01076 
<a name="l01077"></a>01077     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l01078"></a>01078 }
<a name="l01079"></a>01079 
<a name="l01080"></a><a class="code" href="cgnslib_8h.html#152b2b4392302117686318e29011d2f9">01080</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#552efda8397ec5445917bc02a64cbcb4">cg_coord_read</a>(<span class="keywordtype">int</span> file_number, <span class="keywordtype">int</span> B, <span class="keywordtype">int</span> Z, <span class="keywordtype">char</span> <span class="keyword">const</span> * coordname, <a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae">DataType_t</a> type,
<a name="l01081"></a>01081           <span class="keywordtype">int</span> <span class="keyword">const</span> * rmin, <span class="keywordtype">int</span> <span class="keyword">const</span> * rmax, <span class="keywordtype">void</span> *coord_ptr) {
<a name="l01082"></a>01082     <a class="code" href="structcgns__zcoor.html">cgns_zcoor</a> *zcoor;
<a name="l01083"></a>01083     <a class="code" href="structcgns__array.html">cgns_array</a> *<a class="code" href="test__exts_8c.html#b746fd2146196cc6771f0a754171181e">coord</a>;
<a name="l01084"></a>01084     <span class="keywordtype">int</span> n, num=1, pos, <a class="code" href="namespacefmain.html#c6f559daa4a4864f2449315176500469">i</a>, <a class="code" href="namespacefmain.html#3025f2b2bc0423c9a3a45cb7261e32eb">j</a>, k, c;
<a name="l01085"></a>01085     <span class="keywordtype">void</span> *xyz;
<a name="l01086"></a>01086     <span class="keywordtype">int</span> imin[3], imax[3];
<a name="l01087"></a>01087     <span class="keywordtype">int</span> read_full_range=1;
<a name="l01088"></a>01088     <span class="keywordtype">int</span> npt=0;
<a name="l01089"></a>01089     <span class="keywordtype">int</span> index_dim;
<a name="l01090"></a>01090 
<a name="l01091"></a>01091 <span class="comment">/* define: rmin[0]&lt;=i&lt;=rmax[0]  where the max range is 1&lt;=i&lt;=imax</span>
<a name="l01092"></a>01092 <span class="comment">       rmin[1]&lt;=j&lt;=rmax[1]                 1&lt;=j&lt;=jmax</span>
<a name="l01093"></a>01093 <span class="comment"> only 3D   rmin[2]&lt;=k&lt;=rmax[2]                 1&lt;=k&lt;=kmax</span>
<a name="l01094"></a>01094 <span class="comment">*/</span>
<a name="l01095"></a>01095 
<a name="l01096"></a>01096      <span class="comment">/* verify input */</span>
<a name="l01097"></a>01097     <span class="keywordflow">if</span> (type!=<a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae1ca5e5244f4627fd3bf71c72015c2060">RealSingle</a> &amp;&amp; type!=<a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae5f954e649a6da0e65898e0faf7724549">RealDouble</a>) {
<a name="l01098"></a>01098         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Invalid data type for coord. array: %d"</span>,type);
<a name="l01099"></a>01099         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l01100"></a>01100     }
<a name="l01101"></a>01101      <span class="comment">/* find address */</span>
<a name="l01102"></a>01102     cg = <a class="code" href="cgns__header_8h.html#64a13852e04666fc73b74a8ff7727f4f">cgi_get_file</a>(file_number);
<a name="l01103"></a>01103     <span class="keywordflow">if</span> (cg == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l01104"></a>01104 
<a name="l01105"></a>01105     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l01106"></a>01106 
<a name="l01107"></a>01107      <span class="comment">/* Get memory address for node "GridCoordinates" */</span>
<a name="l01108"></a>01108     zcoor = <a class="code" href="cgns__header_8h.html#3e5a876b81ce952b44c23a9b934dbe01">cgi_get_zcoorGC</a>(cg, B, Z);
<a name="l01109"></a>01109     <span class="keywordflow">if</span> (zcoor==0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l01110"></a>01110 
<a name="l01111"></a>01111      <span class="comment">/* find the coord address in the database */</span>
<a name="l01112"></a>01112     coord = 0;
<a name="l01113"></a>01113     <span class="keywordflow">for</span> (c=0; c&lt;zcoor-&gt;<a class="code" href="structcgns__zcoor.html#a6cb1b2f94bbe4063ed616bdc8797abf">ncoords</a>; c++) {
<a name="l01114"></a>01114         <span class="keywordflow">if</span> (strcmp(zcoor-&gt;<a class="code" href="structcgns__zcoor.html#5ab5360b57c24503e4ef160d06387c15">coord</a>[c].<a class="code" href="structcgns__array.html#b5192b2e796e6224c74ec532ec32abf7">name</a>, coordname)==0) {
<a name="l01115"></a>01115             coord = &amp;zcoor-&gt;<a class="code" href="structcgns__zcoor.html#5ab5360b57c24503e4ef160d06387c15">coord</a>[c];
<a name="l01116"></a>01116             <span class="keywordflow">break</span>;
<a name="l01117"></a>01117         }
<a name="l01118"></a>01118     }
<a name="l01119"></a>01119     <span class="keywordflow">if</span> (coord==0) {
<a name="l01120"></a>01120         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Coordinate %s not found."</span>,coordname);
<a name="l01121"></a>01121         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#e3177764863da4b451449a76ab55bebd">CG_NODE_NOT_FOUND</a>;
<a name="l01122"></a>01122     }
<a name="l01123"></a>01123 
<a name="l01124"></a>01124      <span class="comment">/* number of points in data array: */</span>
<a name="l01125"></a>01125     index_dim=cg-&gt;<a class="code" href="structcgns__file.html#0429392e9c26dac2f0b97ae2d2127117">base</a>[B-1].<a class="code" href="structcgns__base.html#abbb754f366f926198416ad91b8155ef">zone</a>[Z-1].<a class="code" href="structcgns__zone.html#5ea7c3da009c9add916c0eeca1973c05">index_dim</a>;
<a name="l01126"></a>01126     num = 1;
<a name="l01127"></a>01127     <span class="keywordflow">for</span> (n=0; n&lt;index_dim; n++) num *= coord-&gt;<a class="code" href="structcgns__array.html#5ca9ee30477c56421c793e2341f75931">dim_vals</a>[n];
<a name="l01128"></a>01128 
<a name="l01129"></a>01129      <span class="comment">/* verify that range requested does not exceed range stored */</span>
<a name="l01130"></a>01130     for (n=0; n&lt;index_dim; n++) {
<a name="l01131"></a>01131         <span class="keywordflow">if</span> (rmax[n] &gt; coord-&gt;<a class="code" href="structcgns__array.html#5ca9ee30477c56421c793e2341f75931">dim_vals</a>[n] || rmin[n]&lt;1) {
<a name="l01132"></a>01132             <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Invalid range of data requested"</span>);
<a name="l01133"></a>01133             <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l01134"></a>01134         }
<a name="l01135"></a>01135     }
<a name="l01136"></a>01136 
<a name="l01137"></a>01137      <span class="comment">/* check if requested to return full range */</span>
<a name="l01138"></a>01138     <span class="keywordflow">for</span> (n=0; n&lt;index_dim; n++) {
<a name="l01139"></a>01139         <span class="keywordflow">if</span> (rmin[n]!=1 || rmax[n] != coord-&gt;<a class="code" href="structcgns__array.html#5ca9ee30477c56421c793e2341f75931">dim_vals</a>[n]) {
<a name="l01140"></a>01140             read_full_range=0;
<a name="l01141"></a>01141             <span class="keywordflow">break</span>;
<a name="l01142"></a>01142         }
<a name="l01143"></a>01143     }
<a name="l01144"></a>01144 
<a name="l01145"></a>01145      <span class="comment">/* Read entire data array into 'xyz': */</span>
<a name="l01146"></a>01146     <span class="comment">/* Decide not to use Read_Data due to the C/f77 ordering mismatch */</span>
<a name="l01147"></a>01147     <span class="keywordflow">if</span> ((xyz=(<span class="keywordtype">void</span> *)<a class="code" href="cg__malloc_8h.html#535b58ab5aa48e2e86073e334d43fd32">malloc</a>(num*<a class="code" href="cgns__header_8h.html#c7abea28547e8f0f35e8eaa9d3048889">size_of</a>(coord-&gt;<a class="code" href="structcgns__array.html#86e4d546d1321bcac60584c413eb0f6d">data_type</a>)))==NULL) {
<a name="l01148"></a>01148         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Error allocating xyz"</span>);
<a name="l01149"></a>01149         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l01150"></a>01150     }
<a name="l01151"></a>01151     <span class="keywordflow">if</span> (<a class="code" href="cgns__io_8c.html#4ae7c787c3def6d3bbd675d83aab48e3">cgio_read_all_data</a>(cg-&gt;<a class="code" href="structcgns__file.html#98363ec7b27905dbf2c56c6a194c69cc">cgio</a>, coord-&gt;<a class="code" href="structcgns__array.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, xyz)) {
<a name="l01152"></a>01152         <a class="code" href="cgns__error_8c.html#47dd09a377bc17d5807332f8c475a23b">cg_io_error</a>(<span class="stringliteral">"cgio_read_all_data"</span>);
<a name="l01153"></a>01153         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l01154"></a>01154     }
<a name="l01155"></a>01155     <span class="comment">/* qick transfer of data if same data types and if read whole array */</span>
<a name="l01156"></a>01156     <span class="keywordflow">if</span> (read_full_range &amp;&amp; type==<a class="code" href="cgns__header_8h.html#24e3b83316ff66e5d321d73ee64319f2">cgi_datatype</a>(coord-&gt;<a class="code" href="structcgns__array.html#86e4d546d1321bcac60584c413eb0f6d">data_type</a>)) {
<a name="l01157"></a>01157         memcpy(coord_ptr, xyz, num*<a class="code" href="cgns__header_8h.html#c7abea28547e8f0f35e8eaa9d3048889">size_of</a>(coord-&gt;<a class="code" href="structcgns__array.html#86e4d546d1321bcac60584c413eb0f6d">data_type</a>));
<a name="l01158"></a>01158 
<a name="l01159"></a>01159     } <span class="keywordflow">else</span> {
<a name="l01160"></a>01160      <span class="comment">/* Bring to 3D even if 2D or 1D */</span>
<a name="l01161"></a>01161         <span class="keywordflow">for</span> (n=0; n&lt;index_dim; n++) {
<a name="l01162"></a>01162             imin[n]=rmin[n];
<a name="l01163"></a>01163             imax[n]=rmax[n];
<a name="l01164"></a>01164         }
<a name="l01165"></a>01165         <span class="keywordflow">for</span> (n=index_dim; n&lt;3; n++) imin[n]=imax[n]=1;
<a name="l01166"></a>01166 
<a name="l01167"></a>01167      <span class="comment">/* return array only for the range prescribed */</span>
<a name="l01168"></a>01168         npt=0;
<a name="l01169"></a>01169 
<a name="l01170"></a>01170      <span class="comment">/* R4 - R4 */</span>
<a name="l01171"></a>01171         <span class="keywordflow">if</span> (type==<a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae1ca5e5244f4627fd3bf71c72015c2060">RealSingle</a> &amp;&amp; <a class="code" href="cgns__header_8h.html#24e3b83316ff66e5d321d73ee64319f2">cgi_datatype</a>(coord-&gt;<a class="code" href="structcgns__array.html#86e4d546d1321bcac60584c413eb0f6d">data_type</a>)==<a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae1ca5e5244f4627fd3bf71c72015c2060">RealSingle</a>) {
<a name="l01172"></a>01172             <span class="keywordflow">for</span> (k=imin[2]-1; k&lt;imax[2]; k++)
<a name="l01173"></a>01173             <span class="keywordflow">for</span> (j=imin[1]-1; j&lt;imax[1]; j++)
<a name="l01174"></a>01174             <span class="keywordflow">for</span> (i=imin[0]-1; i&lt;imax[0]; i++) {
<a name="l01175"></a>01175                 pos = i + j*coord-&gt;<a class="code" href="structcgns__array.html#5ca9ee30477c56421c793e2341f75931">dim_vals</a>[0] + k*coord-&gt;<a class="code" href="structcgns__array.html#5ca9ee30477c56421c793e2341f75931">dim_vals</a>[0]*coord-&gt;<a class="code" href="structcgns__array.html#5ca9ee30477c56421c793e2341f75931">dim_vals</a>[1];
<a name="l01176"></a>01176                 *((<span class="keywordtype">float</span> *) coord_ptr+npt) = *((<span class="keywordtype">float</span> *) xyz+pos);
<a name="l01177"></a>01177                 npt++;
<a name="l01178"></a>01178             }
<a name="l01179"></a>01179      <span class="comment">/* R4 - R8 */</span>
<a name="l01180"></a>01180         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (type==<a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae1ca5e5244f4627fd3bf71c72015c2060">RealSingle</a> &amp;&amp; <a class="code" href="cgns__header_8h.html#24e3b83316ff66e5d321d73ee64319f2">cgi_datatype</a>(coord-&gt;<a class="code" href="structcgns__array.html#86e4d546d1321bcac60584c413eb0f6d">data_type</a>)==<a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae5f954e649a6da0e65898e0faf7724549">RealDouble</a>) {
<a name="l01181"></a>01181             <span class="keywordflow">for</span> (k=imin[2]-1; k&lt;imax[2]; k++)
<a name="l01182"></a>01182             <span class="keywordflow">for</span> (j=imin[1]-1; j&lt;imax[1]; j++)
<a name="l01183"></a>01183             <span class="keywordflow">for</span> (i=imin[0]-1; i&lt;imax[0]; i++) {
<a name="l01184"></a>01184                 pos = i + j*coord-&gt;<a class="code" href="structcgns__array.html#5ca9ee30477c56421c793e2341f75931">dim_vals</a>[0] + k*coord-&gt;<a class="code" href="structcgns__array.html#5ca9ee30477c56421c793e2341f75931">dim_vals</a>[0]*coord-&gt;<a class="code" href="structcgns__array.html#5ca9ee30477c56421c793e2341f75931">dim_vals</a>[1];
<a name="l01185"></a>01185                 *((<span class="keywordtype">float</span> *) coord_ptr+npt) = (float)(*((<span class="keywordtype">double</span> *) xyz+pos));
<a name="l01186"></a>01186                 npt++;
<a name="l01187"></a>01187             }
<a name="l01188"></a>01188      <span class="comment">/* R8 - R4 */</span>
<a name="l01189"></a>01189         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (type==<a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae5f954e649a6da0e65898e0faf7724549">RealDouble</a> &amp;&amp; <a class="code" href="cgns__header_8h.html#24e3b83316ff66e5d321d73ee64319f2">cgi_datatype</a>(coord-&gt;<a class="code" href="structcgns__array.html#86e4d546d1321bcac60584c413eb0f6d">data_type</a>)==<a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae1ca5e5244f4627fd3bf71c72015c2060">RealSingle</a>) {
<a name="l01190"></a>01190             <span class="keywordflow">for</span> (k=imin[2]-1; k&lt;imax[2]; k++)
<a name="l01191"></a>01191             <span class="keywordflow">for</span> (j=imin[1]-1; j&lt;imax[1]; j++)
<a name="l01192"></a>01192             <span class="keywordflow">for</span> (i=imin[0]-1; i&lt;imax[0]; i++) {
<a name="l01193"></a>01193                 pos = i + j*coord-&gt;<a class="code" href="structcgns__array.html#5ca9ee30477c56421c793e2341f75931">dim_vals</a>[0] + k*coord-&gt;<a class="code" href="structcgns__array.html#5ca9ee30477c56421c793e2341f75931">dim_vals</a>[0]*coord-&gt;<a class="code" href="structcgns__array.html#5ca9ee30477c56421c793e2341f75931">dim_vals</a>[1];
<a name="l01194"></a>01194                 *((<span class="keywordtype">double</span> *) coord_ptr+npt) = (double)(*((<span class="keywordtype">float</span> *) xyz+pos));
<a name="l01195"></a>01195                 npt++;
<a name="l01196"></a>01196             }
<a name="l01197"></a>01197      <span class="comment">/* R8 - R8 */</span>
<a name="l01198"></a>01198         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (type==<a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae5f954e649a6da0e65898e0faf7724549">RealDouble</a> &amp;&amp; <a class="code" href="cgns__header_8h.html#24e3b83316ff66e5d321d73ee64319f2">cgi_datatype</a>(coord-&gt;<a class="code" href="structcgns__array.html#86e4d546d1321bcac60584c413eb0f6d">data_type</a>)==<a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae5f954e649a6da0e65898e0faf7724549">RealDouble</a>) {
<a name="l01199"></a>01199             <span class="keywordflow">for</span> (k=imin[2]-1; k&lt;imax[2]; k++)
<a name="l01200"></a>01200             <span class="keywordflow">for</span> (j=imin[1]-1; j&lt;imax[1]; j++)
<a name="l01201"></a>01201             <span class="keywordflow">for</span> (i=imin[0]-1; i&lt;imax[0]; i++) {
<a name="l01202"></a>01202                 pos = i + j*coord-&gt;<a class="code" href="structcgns__array.html#5ca9ee30477c56421c793e2341f75931">dim_vals</a>[0] + k*coord-&gt;<a class="code" href="structcgns__array.html#5ca9ee30477c56421c793e2341f75931">dim_vals</a>[0]*coord-&gt;<a class="code" href="structcgns__array.html#5ca9ee30477c56421c793e2341f75931">dim_vals</a>[1];
<a name="l01203"></a>01203                 *((<span class="keywordtype">double</span> *) coord_ptr+npt) = *((<span class="keywordtype">double</span> *) xyz+pos);
<a name="l01204"></a>01204                 npt++;
<a name="l01205"></a>01205             }
<a name="l01206"></a>01206         }
<a name="l01207"></a>01207     }
<a name="l01208"></a>01208     <a class="code" href="cg__malloc_8h.html#a7943e5d135734f6801bebcc37401fc0">free</a>(xyz);
<a name="l01209"></a>01209     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l01210"></a>01210 }
<a name="l01211"></a>01211 
<a name="l01212"></a><a class="code" href="cgnslib_8h.html#ad1f759b7666e2ee0dd902f0ac399a11">01212</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#ef781a6f303257a7d238be95f85a950b">cg_coord_id</a>(<span class="keywordtype">int</span> file_number, <span class="keywordtype">int</span> B, <span class="keywordtype">int</span> Z, <span class="keywordtype">int</span> <a class="code" href="cgnswin__f_8h.html#1f39f73b12ce2dca81d3aa4b3c4b1824">C</a>, <span class="keywordtype">double</span> *coord_id) {
<a name="l01213"></a>01213     <a class="code" href="structcgns__zcoor.html">cgns_zcoor</a> *zcoor;
<a name="l01214"></a>01214 
<a name="l01215"></a>01215     cg = <a class="code" href="cgns__header_8h.html#64a13852e04666fc73b74a8ff7727f4f">cgi_get_file</a>(file_number);
<a name="l01216"></a>01216     <span class="keywordflow">if</span> (cg == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l01217"></a>01217 
<a name="l01218"></a>01218     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l01219"></a>01219 
<a name="l01220"></a>01220      <span class="comment">/* Get memory address for node "GridCoordinates" */</span>
<a name="l01221"></a>01221     zcoor = <a class="code" href="cgns__header_8h.html#3e5a876b81ce952b44c23a9b934dbe01">cgi_get_zcoorGC</a>(cg, B, Z);
<a name="l01222"></a>01222     <span class="keywordflow">if</span> (zcoor==0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l01223"></a>01223 
<a name="l01224"></a>01224     <span class="keywordflow">if</span> (C&gt;zcoor-&gt;<a class="code" href="structcgns__zcoor.html#a6cb1b2f94bbe4063ed616bdc8797abf">ncoords</a> || C&lt;=0) {
<a name="l01225"></a>01225         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"coord number %d invalid"</span>,C);
<a name="l01226"></a>01226         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l01227"></a>01227     }
<a name="l01228"></a>01228 
<a name="l01229"></a>01229     *coord_id = zcoor-&gt;<a class="code" href="structcgns__zcoor.html#5ab5360b57c24503e4ef160d06387c15">coord</a>[C-1].<a class="code" href="structcgns__array.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>;
<a name="l01230"></a>01230     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l01231"></a>01231 }
<a name="l01232"></a>01232 
<a name="l01233"></a>01233 <span class="comment">/*****************************************************************************\</span>
<a name="l01234"></a>01234 <span class="comment"> *    Inquiry Functions for Elements_t Nodes</span>
<a name="l01235"></a>01235 <span class="comment">\*****************************************************************************/</span>
<a name="l01236"></a>01236 
<a name="l01237"></a><a class="code" href="cgnslib_8h.html#c5c122d053e8e9022181502e93594b49">01237</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#e550ccdd464166794b7ae8c68498f7c6">cg_nsections</a>(<span class="keywordtype">int</span> file_number, <span class="keywordtype">int</span> B, <span class="keywordtype">int</span> Z, <span class="keywordtype">int</span> *nsections) {
<a name="l01238"></a>01238     <a class="code" href="structcgns__zone.html">cgns_zone</a> *zone;
<a name="l01239"></a>01239 
<a name="l01240"></a>01240     cg = <a class="code" href="cgns__header_8h.html#64a13852e04666fc73b74a8ff7727f4f">cgi_get_file</a>(file_number);
<a name="l01241"></a>01241     <span class="keywordflow">if</span> (cg == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l01242"></a>01242 
<a name="l01243"></a>01243      <span class="comment">/* verify input */</span>
<a name="l01244"></a>01244     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l01245"></a>01245 
<a name="l01246"></a>01246     zone = <a class="code" href="cgns__header_8h.html#5ce4ef97dee99baf9183b8c23419bfe0">cgi_get_zone</a>(cg, B, Z);
<a name="l01247"></a>01247     <span class="keywordflow">if</span> (zone==0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l01248"></a>01248 
<a name="l01249"></a>01249     (*nsections) = zone-&gt;<a class="code" href="structcgns__zone.html#62b0a12fb47ee3dd5c39282c5610980c">nsections</a>;
<a name="l01250"></a>01250     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l01251"></a>01251 }
<a name="l01252"></a>01252 
<a name="l01253"></a><a class="code" href="cgnslib_8h.html#a5503c64d779ad8c3e55e8c2894d221f">01253</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#c3fcb93fd744bd1715a203d4d5ac4165">cg_section_read</a>(<span class="keywordtype">int</span> file_number, <span class="keywordtype">int</span> B, <span class="keywordtype">int</span> Z, <span class="keywordtype">int</span> S, <span class="keywordtype">char</span> *SectionName,
<a name="l01254"></a>01254     <a class="code" href="cgns_keywords_8h.html#4431a6cae8c3c9182a415851144aeac0">ElementType_t</a> *type, <span class="keywordtype">int</span> *<a class="code" href="write__bcdata_8c.html#96c2ad5611cd5302c6e5cf2a9a4bf73b">start</a>, <span class="keywordtype">int</span> *end, <span class="keywordtype">int</span> *nbndry, <span class="keywordtype">int</span> *parent_flag) {
<a name="l01255"></a>01255     <a class="code" href="structcgns__section.html">cgns_section</a> *section;
<a name="l01256"></a>01256 
<a name="l01257"></a>01257     cg = <a class="code" href="cgns__header_8h.html#64a13852e04666fc73b74a8ff7727f4f">cgi_get_file</a>(file_number);
<a name="l01258"></a>01258     <span class="keywordflow">if</span> (cg == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l01259"></a>01259 
<a name="l01260"></a>01260      <span class="comment">/* verify input */</span>
<a name="l01261"></a>01261     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l01262"></a>01262 
<a name="l01263"></a>01263     section = <a class="code" href="cgns__header_8h.html#0f40f721f66bc81a686c3ed01ae96e0a">cgi_get_section</a>(cg, B, Z, S);
<a name="l01264"></a>01264     <span class="keywordflow">if</span> (section == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l01265"></a>01265 
<a name="l01266"></a>01266     strcpy(SectionName, section-&gt;<a class="code" href="structcgns__section.html#b5192b2e796e6224c74ec532ec32abf7">name</a>);
<a name="l01267"></a>01267     *type = section-&gt;<a class="code" href="structcgns__section.html#aba2784ee38437a66e1cc555bc27d00a">el_type</a>;
<a name="l01268"></a>01268     *start = section-&gt;<a class="code" href="structcgns__section.html#0ab09fc1a7a4595026e16dad45ebf756">range</a>[0];
<a name="l01269"></a>01269     *end   = section-&gt;<a class="code" href="structcgns__section.html#0ab09fc1a7a4595026e16dad45ebf756">range</a>[1];
<a name="l01270"></a>01270     *nbndry = section-&gt;<a class="code" href="structcgns__section.html#2a8c9b8e52efadfcb30b65c67d537896">el_bound</a>;
<a name="l01271"></a>01271     <span class="keywordflow">if</span> (section-&gt;<a class="code" href="structcgns__section.html#e62c9afa58926a65c9014d2be3e5f554">parent</a>) *parent_flag=1;
<a name="l01272"></a>01272     <span class="keywordflow">else</span> *parent_flag=0;
<a name="l01273"></a>01273     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l01274"></a>01274 }
<a name="l01275"></a>01275 
<a name="l01276"></a>01276 <span class="comment">/* This function was created for revision 1.2 to return the size of the</span>
<a name="l01277"></a>01277 <span class="comment">   connectivity vector, which can't be known without it when type=MIXED */</span>
<a name="l01278"></a>01278 
<a name="l01279"></a><a class="code" href="cgnslib_8h.html#ae7872811db5601840f479e488040f05">01279</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#1dbd1441ae83c15a816de544a793a167">cg_ElementDataSize</a>(<span class="keywordtype">int</span> file_number, <span class="keywordtype">int</span> B, <span class="keywordtype">int</span> Z, <span class="keywordtype">int</span> S, <span class="keywordtype">int</span> *ElementDataSize) {
<a name="l01280"></a>01280 
<a name="l01281"></a>01281     <a class="code" href="structcgns__section.html">cgns_section</a> *section;
<a name="l01282"></a>01282 
<a name="l01283"></a>01283     cg = <a class="code" href="cgns__header_8h.html#64a13852e04666fc73b74a8ff7727f4f">cgi_get_file</a>(file_number);
<a name="l01284"></a>01284     <span class="keywordflow">if</span> (cg == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l01285"></a>01285 
<a name="l01286"></a>01286      <span class="comment">/* verify input */</span>
<a name="l01287"></a>01287     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l01288"></a>01288 
<a name="l01289"></a>01289     section = <a class="code" href="cgns__header_8h.html#0f40f721f66bc81a686c3ed01ae96e0a">cgi_get_section</a>(cg, B, Z, S);
<a name="l01290"></a>01290     <span class="keywordflow">if</span> (section == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l01291"></a>01291 
<a name="l01292"></a>01292     *ElementDataSize = section-&gt;<a class="code" href="structcgns__section.html#2c31858307755ffce74be48ed9c17699">connect</a>-&gt;<a class="code" href="structcgns__array.html#5ca9ee30477c56421c793e2341f75931">dim_vals</a>[0];
<a name="l01293"></a>01293     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l01294"></a>01294 }
<a name="l01295"></a>01295 
<a name="l01296"></a><a class="code" href="cgnslib_8h.html#219d983ac049091b651542a971a608de">01296</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#898fef85377c31c6ff996b83b9abd2fd">cg_elements_read</a>(<span class="keywordtype">int</span> file_number, <span class="keywordtype">int</span> B, <span class="keywordtype">int</span> Z, <span class="keywordtype">int</span> S, <span class="keywordtype">int</span> *<a class="code" href="test__partial_8c.html#7f858599c75d4d48b0a564d2dbc9f693">elements</a>,
<a name="l01297"></a>01297     <span class="keywordtype">int</span> *parent_data) {
<a name="l01298"></a>01298     <a class="code" href="structcgns__section.html">cgns_section</a> *section;
<a name="l01299"></a>01299     <span class="keywordtype">int</span> count, num, ElementDataSize=0;
<a name="l01300"></a>01300 
<a name="l01301"></a>01301     cg = <a class="code" href="cgns__header_8h.html#64a13852e04666fc73b74a8ff7727f4f">cgi_get_file</a>(file_number);
<a name="l01302"></a>01302     <span class="keywordflow">if</span> (cg == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l01303"></a>01303 
<a name="l01304"></a>01304      <span class="comment">/* verify input */</span>
<a name="l01305"></a>01305     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l01306"></a>01306 
<a name="l01307"></a>01307     section = <a class="code" href="cgns__header_8h.html#0f40f721f66bc81a686c3ed01ae96e0a">cgi_get_section</a>(cg, B, Z, S);
<a name="l01308"></a>01308     <span class="keywordflow">if</span> (section == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l01309"></a>01309 
<a name="l01310"></a>01310      <span class="comment">/* cgns_internals takes care of adjusting for version */</span>
<a name="l01311"></a>01311     ElementDataSize = section-&gt;<a class="code" href="structcgns__section.html#2c31858307755ffce74be48ed9c17699">connect</a>-&gt;<a class="code" href="structcgns__array.html#5ca9ee30477c56421c793e2341f75931">dim_vals</a>[0];
<a name="l01312"></a>01312 
<a name="l01313"></a>01313      <span class="comment">/* Double check ElementDataSize (not necessary) */</span>
<a name="l01314"></a>01314     num = section-&gt;<a class="code" href="structcgns__section.html#0ab09fc1a7a4595026e16dad45ebf756">range</a>[1] - section-&gt;<a class="code" href="structcgns__section.html#0ab09fc1a7a4595026e16dad45ebf756">range</a>[0] +1;
<a name="l01315"></a>01315     count = <a class="code" href="cgns__header_8h.html#2e35407a6176513c7f10fdae217b8dd7">cgi_element_data_size</a>(section-&gt;<a class="code" href="structcgns__section.html#aba2784ee38437a66e1cc555bc27d00a">el_type</a>, num, section-&gt;<a class="code" href="structcgns__section.html#2c31858307755ffce74be48ed9c17699">connect</a>-&gt;<a class="code" href="structcgns__array.html#735984d41155bc1032e09bece8f8d66d">data</a>);
<a name="l01316"></a>01316     <span class="keywordflow">if</span> (count &lt; 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l01317"></a>01317     <span class="keywordflow">if</span> (count != ElementDataSize) {
<a name="l01318"></a>01318         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Error in recorded element connectivity array..."</span>);
<a name="l01319"></a>01319         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l01320"></a>01320     }
<a name="l01321"></a>01321 
<a name="l01322"></a>01322     memcpy(elements, (<span class="keywordtype">int</span> *)section-&gt;<a class="code" href="structcgns__section.html#2c31858307755ffce74be48ed9c17699">connect</a>-&gt;<a class="code" href="structcgns__array.html#735984d41155bc1032e09bece8f8d66d">data</a>, ElementDataSize*<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>));
<a name="l01323"></a>01323 
<a name="l01324"></a>01324     <span class="keywordflow">if</span> (section-&gt;<a class="code" href="structcgns__section.html#e62c9afa58926a65c9014d2be3e5f554">parent</a> &amp;&amp; parent_data) {
<a name="l01325"></a>01325         memcpy(parent_data, section-&gt;<a class="code" href="structcgns__section.html#e62c9afa58926a65c9014d2be3e5f554">parent</a>-&gt;<a class="code" href="structcgns__array.html#735984d41155bc1032e09bece8f8d66d">data</a>, num*4*<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>));
<a name="l01326"></a>01326     }
<a name="l01327"></a>01327     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l01328"></a>01328 }
<a name="l01329"></a>01329 
<a name="l01330"></a>01330 <span class="comment">/*****************************************************************************\</span>
<a name="l01331"></a>01331 <span class="comment"> *    Inquiry Functions for FlowSolution_t Nodes</span>
<a name="l01332"></a>01332 <span class="comment">\*****************************************************************************/</span>
<a name="l01333"></a><a class="code" href="cgnslib_8h.html#b6db3b98f8a39c9c106ab01537307950">01333</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#513d544d69ce08ab7c0fcac9fcf34436">cg_nsols</a>(<span class="keywordtype">int</span> file_number, <span class="keywordtype">int</span> B, <span class="keywordtype">int</span> Z, <span class="keywordtype">int</span> *nsols) {
<a name="l01334"></a>01334     <a class="code" href="structcgns__zone.html">cgns_zone</a> *zone;
<a name="l01335"></a>01335 
<a name="l01336"></a>01336     cg = <a class="code" href="cgns__header_8h.html#64a13852e04666fc73b74a8ff7727f4f">cgi_get_file</a>(file_number);
<a name="l01337"></a>01337     <span class="keywordflow">if</span> (cg == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l01338"></a>01338 
<a name="l01339"></a>01339     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l01340"></a>01340 
<a name="l01341"></a>01341     zone = <a class="code" href="cgns__header_8h.html#5ce4ef97dee99baf9183b8c23419bfe0">cgi_get_zone</a>(cg, B, Z);
<a name="l01342"></a>01342     <span class="keywordflow">if</span> (zone==0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l01343"></a>01343 
<a name="l01344"></a>01344     *nsols = zone-&gt;<a class="code" href="structcgns__zone.html#d79140df20a564ec330f3ded0dec359e">nsols</a>;
<a name="l01345"></a>01345     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l01346"></a>01346 }
<a name="l01347"></a>01347 
<a name="l01348"></a><a class="code" href="cgnslib_8h.html#fef9197ec576ff60c27a1179cf34edf4">01348</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#9ddf9ce05418ff49578f0b57eadee606">cg_sol_info</a>(<span class="keywordtype">int</span> file_number, <span class="keywordtype">int</span> B, <span class="keywordtype">int</span> Z, <span class="keywordtype">int</span> S, <span class="keywordtype">char</span> *solname,
<a name="l01349"></a>01349         <a class="code" href="cgns_keywords_8h.html#5a0e596ed46b12f73c2ed1b8b0176e13">GridLocation_t</a> *location) {
<a name="l01350"></a>01350     <a class="code" href="structcgns__sol.html">cgns_sol</a> *sol;
<a name="l01351"></a>01351 
<a name="l01352"></a>01352     cg = <a class="code" href="cgns__header_8h.html#64a13852e04666fc73b74a8ff7727f4f">cgi_get_file</a>(file_number);
<a name="l01353"></a>01353     <span class="keywordflow">if</span> (cg == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l01354"></a>01354 
<a name="l01355"></a>01355     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l01356"></a>01356 
<a name="l01357"></a>01357     sol = <a class="code" href="cgns__header_8h.html#16decafa9c28c0d177bbebffa327258b">cgi_get_sol</a>(cg, B, Z, S);
<a name="l01358"></a>01358     <span class="keywordflow">if</span> (sol==0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l01359"></a>01359 
<a name="l01360"></a>01360     strcpy(solname, sol-&gt;<a class="code" href="structcgns__sol.html#b5192b2e796e6224c74ec532ec32abf7">name</a>);
<a name="l01361"></a>01361     *location = sol-&gt;<a class="code" href="structcgns__sol.html#0e4921cde80f9718431923eedef14779">location</a>;
<a name="l01362"></a>01362     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l01363"></a>01363 }
<a name="l01364"></a>01364 
<a name="l01365"></a><a class="code" href="cgnslib_8h.html#4d29e675867a8c2569628ca69f2e6c4c">01365</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#3320fb3d3c927c98f4f3b64939309ce2">cg_sol_id</a>(<span class="keywordtype">int</span> file_number, <span class="keywordtype">int</span> B, <span class="keywordtype">int</span> Z, <span class="keywordtype">int</span> S, <span class="keywordtype">double</span> *sol_id) {
<a name="l01366"></a>01366     <a class="code" href="structcgns__sol.html">cgns_sol</a> *sol;
<a name="l01367"></a>01367 
<a name="l01368"></a>01368     cg = <a class="code" href="cgns__header_8h.html#64a13852e04666fc73b74a8ff7727f4f">cgi_get_file</a>(file_number);
<a name="l01369"></a>01369     <span class="keywordflow">if</span> (cg == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l01370"></a>01370 
<a name="l01371"></a>01371     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l01372"></a>01372 
<a name="l01373"></a>01373     sol = <a class="code" href="cgns__header_8h.html#16decafa9c28c0d177bbebffa327258b">cgi_get_sol</a>(cg, B, Z, S);
<a name="l01374"></a>01374     <span class="keywordflow">if</span> (sol==0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l01375"></a>01375 
<a name="l01376"></a>01376     *sol_id = sol-&gt;<a class="code" href="structcgns__sol.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>;
<a name="l01377"></a>01377     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l01378"></a>01378 }
<a name="l01379"></a>01379 
<a name="l01380"></a>01380 <span class="comment">/*****************************************************************************\</span>
<a name="l01381"></a>01381 <span class="comment"> *    Inquiry Functions for flow field  DataArray_t Nodes</span>
<a name="l01382"></a>01382 <span class="comment">\*****************************************************************************/</span>
<a name="l01383"></a><a class="code" href="cgnslib_8h.html#0f2f32df8bf7dfa6ed8e1124473557c4">01383</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#5ee98672b9d0510e4c8b5e81221aa8d7">cg_nfields</a>(<span class="keywordtype">int</span> file_number, <span class="keywordtype">int</span> B, <span class="keywordtype">int</span> Z, <span class="keywordtype">int</span> S, <span class="keywordtype">int</span> *nfields) {
<a name="l01384"></a>01384     <a class="code" href="structcgns__sol.html">cgns_sol</a> *sol;
<a name="l01385"></a>01385 
<a name="l01386"></a>01386     cg = <a class="code" href="cgns__header_8h.html#64a13852e04666fc73b74a8ff7727f4f">cgi_get_file</a>(file_number);
<a name="l01387"></a>01387     <span class="keywordflow">if</span> (cg == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l01388"></a>01388 
<a name="l01389"></a>01389     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l01390"></a>01390 
<a name="l01391"></a>01391     sol = <a class="code" href="cgns__header_8h.html#16decafa9c28c0d177bbebffa327258b">cgi_get_sol</a>(cg, B, Z, S);
<a name="l01392"></a>01392     <span class="keywordflow">if</span> (sol==0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l01393"></a>01393 
<a name="l01394"></a>01394     *nfields = sol-&gt;<a class="code" href="structcgns__sol.html#6a44392df035942bf1234e9e4414cdf5">nfields</a>;
<a name="l01395"></a>01395     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l01396"></a>01396 }
<a name="l01397"></a>01397 
<a name="l01398"></a><a class="code" href="cgnslib_8h.html#86de36620f77fc890ea096e60acb9eb7">01398</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#6d5ae063d1baa62128e2a169d324f17b">cg_field_info</a>(<span class="keywordtype">int</span> file_number, <span class="keywordtype">int</span> B, <span class="keywordtype">int</span> Z, <span class="keywordtype">int</span> S, <span class="keywordtype">int</span> F, <a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae">DataType_t</a> *type,
<a name="l01399"></a>01399           <span class="keywordtype">char</span> *fieldname) {
<a name="l01400"></a>01400     <a class="code" href="structcgns__array.html">cgns_array</a> *field;
<a name="l01401"></a>01401 
<a name="l01402"></a>01402     cg = <a class="code" href="cgns__header_8h.html#64a13852e04666fc73b74a8ff7727f4f">cgi_get_file</a>(file_number);
<a name="l01403"></a>01403     <span class="keywordflow">if</span> (cg == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l01404"></a>01404 
<a name="l01405"></a>01405     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l01406"></a>01406 
<a name="l01407"></a>01407     field = <a class="code" href="cgns__header_8h.html#00b263cc3619d8de5781a0ed47d0449f">cgi_get_field</a>(cg, B, Z, S, F);
<a name="l01408"></a>01408     <span class="keywordflow">if</span> (field==0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l01409"></a>01409 
<a name="l01410"></a>01410     strcpy(fieldname, field-&gt;<a class="code" href="structcgns__array.html#b5192b2e796e6224c74ec532ec32abf7">name</a>);
<a name="l01411"></a>01411     *type = <a class="code" href="cgns__header_8h.html#24e3b83316ff66e5d321d73ee64319f2">cgi_datatype</a>(field-&gt;<a class="code" href="structcgns__array.html#86e4d546d1321bcac60584c413eb0f6d">data_type</a>);
<a name="l01412"></a>01412 
<a name="l01413"></a>01413     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l01414"></a>01414 }
<a name="l01415"></a>01415 
<a name="l01416"></a><a class="code" href="cgnslib_8h.html#180789264e42267ebd7067406b63c55b">01416</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#aa6fcbda817d1c9ea22991b9388f405a">cg_field_read</a>(<span class="keywordtype">int</span> file_number, <span class="keywordtype">int</span> B, <span class="keywordtype">int</span> Z, <span class="keywordtype">int</span> S, <span class="keywordtype">char</span> *fieldname, <a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae">DataType_t</a> type,
<a name="l01417"></a>01417           <span class="keywordtype">int</span> *rmin, <span class="keywordtype">int</span> *rmax, <span class="keywordtype">void</span> *field_ptr) {
<a name="l01418"></a>01418     <a class="code" href="structcgns__sol.html">cgns_sol</a> *sol;
<a name="l01419"></a>01419     <a class="code" href="structcgns__array.html">cgns_array</a> *field;
<a name="l01420"></a>01420     <span class="keywordtype">int</span> n, num=1, pos, <a class="code" href="namespacefmain.html#c6f559daa4a4864f2449315176500469">i</a>, <a class="code" href="namespacefmain.html#3025f2b2bc0423c9a3a45cb7261e32eb">j</a>, k, f;
<a name="l01421"></a>01421     <span class="keywordtype">void</span> *values;
<a name="l01422"></a>01422     <span class="keywordtype">int</span> imin[3], imax[3];
<a name="l01423"></a>01423     <span class="keywordtype">int</span> read_full_range=1;
<a name="l01424"></a>01424     <span class="keywordtype">int</span> index_dim;
<a name="l01425"></a>01425 
<a name="l01426"></a>01426 <span class="comment">/* define: rmin[0]&lt;=i&lt;=rmax[0]  where the max range is 1&lt;=i&lt;=imax</span>
<a name="l01427"></a>01427 <span class="comment">       rmin[1]&lt;=j&lt;=rmax[1]                 1&lt;=j&lt;=jmax</span>
<a name="l01428"></a>01428 <span class="comment"> only 3D   rmin[2]&lt;=k&lt;=rmax[2]                 1&lt;=k&lt;=kmax</span>
<a name="l01429"></a>01429 <span class="comment">*/</span>
<a name="l01430"></a>01430      <span class="comment">/* verify input */</span>
<a name="l01431"></a>01431     <span class="keywordflow">if</span> (type&lt;0 || type&gt;=<a class="code" href="cgns_keywords_8h.html#e2aacf63a0d1ef2109359675ae5f0fe2">NofValidDataTypes</a>) {
<a name="l01432"></a>01432         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Invalid data type requested for flow solution: %d"</span>,type);
<a name="l01433"></a>01433         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l01434"></a>01434     }
<a name="l01435"></a>01435     cg = <a class="code" href="cgns__header_8h.html#64a13852e04666fc73b74a8ff7727f4f">cgi_get_file</a>(file_number);
<a name="l01436"></a>01436     <span class="keywordflow">if</span> (cg == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l01437"></a>01437 
<a name="l01438"></a>01438     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l01439"></a>01439 
<a name="l01440"></a>01440     sol = <a class="code" href="cgns__header_8h.html#16decafa9c28c0d177bbebffa327258b">cgi_get_sol</a>(cg, B, Z, S);
<a name="l01441"></a>01441     <span class="keywordflow">if</span> (sol==0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l01442"></a>01442     field = 0;
<a name="l01443"></a>01443     <span class="keywordflow">for</span> (f=0; f&lt;sol-&gt;<a class="code" href="structcgns__sol.html#6a44392df035942bf1234e9e4414cdf5">nfields</a>; f++) {
<a name="l01444"></a>01444         <span class="keywordflow">if</span> (strcmp(sol-&gt;<a class="code" href="structcgns__sol.html#990a8448589e50065dfa499f60fa4888">field</a>[f].<a class="code" href="structcgns__array.html#b5192b2e796e6224c74ec532ec32abf7">name</a>, fieldname)==0) {
<a name="l01445"></a>01445             field = <a class="code" href="cgns__header_8h.html#00b263cc3619d8de5781a0ed47d0449f">cgi_get_field</a>(cg, B, Z, S, f+1);
<a name="l01446"></a>01446             <span class="keywordflow">if</span> (field==0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l01447"></a>01447             <span class="keywordflow">break</span>;
<a name="l01448"></a>01448         }
<a name="l01449"></a>01449     }
<a name="l01450"></a>01450     <span class="keywordflow">if</span> (field==0) {
<a name="l01451"></a>01451         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Flow solution array %s not found"</span>,fieldname);
<a name="l01452"></a>01452         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#e3177764863da4b451449a76ab55bebd">CG_NODE_NOT_FOUND</a>;
<a name="l01453"></a>01453     }
<a name="l01454"></a>01454 
<a name="l01455"></a>01455      <span class="comment">/* number of points in data array: */</span>
<a name="l01456"></a>01456     index_dim=cg-&gt;<a class="code" href="structcgns__file.html#0429392e9c26dac2f0b97ae2d2127117">base</a>[B-1].<a class="code" href="structcgns__base.html#abbb754f366f926198416ad91b8155ef">zone</a>[Z-1].<a class="code" href="structcgns__zone.html#5ea7c3da009c9add916c0eeca1973c05">index_dim</a>;
<a name="l01457"></a>01457     num =1;
<a name="l01458"></a>01458     <span class="keywordflow">for</span> (n=0; n&lt;index_dim; n++) num *= field-&gt;<a class="code" href="structcgns__array.html#5ca9ee30477c56421c793e2341f75931">dim_vals</a>[n];
<a name="l01459"></a>01459 
<a name="l01460"></a>01460      <span class="comment">/* verify that range requested does not exceed range stored */</span>
<a name="l01461"></a>01461     for (n=0; n&lt;index_dim; n++) {
<a name="l01462"></a>01462         <span class="keywordflow">if</span> (rmax[n] &gt; field-&gt;<a class="code" href="structcgns__array.html#5ca9ee30477c56421c793e2341f75931">dim_vals</a>[n] || rmin[n]&lt;1) {
<a name="l01463"></a>01463             <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Invalid range of data requested"</span>);
<a name="l01464"></a>01464             <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l01465"></a>01465         }
<a name="l01466"></a>01466     }
<a name="l01467"></a>01467 
<a name="l01468"></a>01468      <span class="comment">/* check if requested to return full range */</span>
<a name="l01469"></a>01469     <span class="keywordflow">for</span> (n=0; n&lt;index_dim; n++) {
<a name="l01470"></a>01470         <span class="keywordflow">if</span> (rmin[n]!=1 || rmax[n] != field-&gt;<a class="code" href="structcgns__array.html#5ca9ee30477c56421c793e2341f75931">dim_vals</a>[n]) {
<a name="l01471"></a>01471             read_full_range=0;
<a name="l01472"></a>01472             <span class="keywordflow">break</span>;
<a name="l01473"></a>01473         }
<a name="l01474"></a>01474     }
<a name="l01475"></a>01475 
<a name="l01476"></a>01476      <span class="comment">/* Read entire data array into 'values': */</span>
<a name="l01477"></a>01477     <span class="comment">/* Decide not to use Read_Data due to the C/f77 ordering mismatch */</span>
<a name="l01478"></a>01478     <span class="keywordflow">if</span> ((values=(<span class="keywordtype">void</span> *)<a class="code" href="cg__malloc_8h.html#535b58ab5aa48e2e86073e334d43fd32">malloc</a>(num*<a class="code" href="cgns__header_8h.html#c7abea28547e8f0f35e8eaa9d3048889">size_of</a>(field-&gt;<a class="code" href="structcgns__array.html#86e4d546d1321bcac60584c413eb0f6d">data_type</a>)))==NULL) {
<a name="l01479"></a>01479         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Error allocating values"</span>);
<a name="l01480"></a>01480         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l01481"></a>01481     }
<a name="l01482"></a>01482     <span class="keywordflow">if</span> (<a class="code" href="cgns__io_8c.html#4ae7c787c3def6d3bbd675d83aab48e3">cgio_read_all_data</a>(cg-&gt;<a class="code" href="structcgns__file.html#98363ec7b27905dbf2c56c6a194c69cc">cgio</a>, field-&gt;<a class="code" href="structcgns__array.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, values)) {
<a name="l01483"></a>01483         <a class="code" href="cgns__error_8c.html#47dd09a377bc17d5807332f8c475a23b">cg_io_error</a>(<span class="stringliteral">"cgio_read_all_data"</span>);
<a name="l01484"></a>01484         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l01485"></a>01485     }
<a name="l01486"></a>01486      <span class="comment">/* quick transfer of data if same data types and if read whole array */</span>
<a name="l01487"></a>01487     <span class="keywordflow">if</span> (read_full_range &amp;&amp; type == <a class="code" href="cgns__header_8h.html#24e3b83316ff66e5d321d73ee64319f2">cgi_datatype</a>(field-&gt;<a class="code" href="structcgns__array.html#86e4d546d1321bcac60584c413eb0f6d">data_type</a>)) {
<a name="l01488"></a>01488         memcpy(field_ptr, values, num*<a class="code" href="cgns__header_8h.html#c7abea28547e8f0f35e8eaa9d3048889">size_of</a>(field-&gt;<a class="code" href="structcgns__array.html#86e4d546d1321bcac60584c413eb0f6d">data_type</a>));
<a name="l01489"></a>01489 
<a name="l01490"></a>01490     } <span class="keywordflow">else</span> {
<a name="l01491"></a>01491      <span class="comment">/* Bring to 3D even if 2D or 1D */</span>
<a name="l01492"></a>01492         <span class="keywordflow">for</span> (n=0; n&lt;index_dim; n++) {
<a name="l01493"></a>01493             imin[n]=rmin[n];
<a name="l01494"></a>01494             imax[n]=rmax[n];
<a name="l01495"></a>01495         }
<a name="l01496"></a>01496         <span class="keywordflow">for</span> (n=index_dim; n&lt;3; n++) imin[n]=imax[n]=1;
<a name="l01497"></a>01497 
<a name="l01498"></a>01498      <span class="comment">/* return data array members in the range prescribed */</span>
<a name="l01499"></a>01499         n=0;
<a name="l01500"></a>01500 
<a name="l01501"></a>01501      <span class="comment">/* I4 - I4 */</span>
<a name="l01502"></a>01502         <span class="keywordflow">if</span> (type==<a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae1e2f89e867cd91c3de2ea9fbd2ef96a3">Integer</a> &amp;&amp; <a class="code" href="cgns__header_8h.html#24e3b83316ff66e5d321d73ee64319f2">cgi_datatype</a>(field-&gt;<a class="code" href="structcgns__array.html#86e4d546d1321bcac60584c413eb0f6d">data_type</a>)==<a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae1e2f89e867cd91c3de2ea9fbd2ef96a3">Integer</a>) {
<a name="l01503"></a>01503             <span class="keywordflow">for</span> (k=imin[2]-1; k&lt;imax[2]; k++)
<a name="l01504"></a>01504             <span class="keywordflow">for</span> (j=imin[1]-1; j&lt;imax[1]; j++)
<a name="l01505"></a>01505             <span class="keywordflow">for</span> (i=imin[0]-1; i&lt;imax[0]; i++) {
<a name="l01506"></a>01506                 pos = i + j*field-&gt;<a class="code" href="structcgns__array.html#5ca9ee30477c56421c793e2341f75931">dim_vals</a>[0] + k*field-&gt;<a class="code" href="structcgns__array.html#5ca9ee30477c56421c793e2341f75931">dim_vals</a>[0]*field-&gt;<a class="code" href="structcgns__array.html#5ca9ee30477c56421c793e2341f75931">dim_vals</a>[1];
<a name="l01507"></a>01507                 *((<span class="keywordtype">int</span> *) field_ptr+n) = *((<span class="keywordtype">int</span> *) values+pos);
<a name="l01508"></a>01508                 n++;
<a name="l01509"></a>01509             }
<a name="l01510"></a>01510      <span class="comment">/* I4 - R4 */</span>
<a name="l01511"></a>01511         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (type==<a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae1e2f89e867cd91c3de2ea9fbd2ef96a3">Integer</a> &amp;&amp; <a class="code" href="cgns__header_8h.html#24e3b83316ff66e5d321d73ee64319f2">cgi_datatype</a>(field-&gt;<a class="code" href="structcgns__array.html#86e4d546d1321bcac60584c413eb0f6d">data_type</a>)==<a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae1ca5e5244f4627fd3bf71c72015c2060">RealSingle</a>) {
<a name="l01512"></a>01512             <span class="keywordflow">for</span> (k=imin[2]-1; k&lt;imax[2]; k++)
<a name="l01513"></a>01513             <span class="keywordflow">for</span> (j=imin[1]-1; j&lt;imax[1]; j++)
<a name="l01514"></a>01514             <span class="keywordflow">for</span> (i=imin[0]-1; i&lt;imax[0]; i++) {
<a name="l01515"></a>01515                 pos = i + j*field-&gt;<a class="code" href="structcgns__array.html#5ca9ee30477c56421c793e2341f75931">dim_vals</a>[0] + k*field-&gt;<a class="code" href="structcgns__array.html#5ca9ee30477c56421c793e2341f75931">dim_vals</a>[0]*field-&gt;<a class="code" href="structcgns__array.html#5ca9ee30477c56421c793e2341f75931">dim_vals</a>[1];
<a name="l01516"></a>01516                 *((<span class="keywordtype">int</span> *) field_ptr+n) = (int) (*((<span class="keywordtype">float</span> *) values+pos));
<a name="l01517"></a>01517                 n++;
<a name="l01518"></a>01518             }
<a name="l01519"></a>01519      <span class="comment">/* I4 - R8 */</span>
<a name="l01520"></a>01520         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (type==<a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae1e2f89e867cd91c3de2ea9fbd2ef96a3">Integer</a> &amp;&amp; <a class="code" href="cgns__header_8h.html#24e3b83316ff66e5d321d73ee64319f2">cgi_datatype</a>(field-&gt;<a class="code" href="structcgns__array.html#86e4d546d1321bcac60584c413eb0f6d">data_type</a>)==<a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae5f954e649a6da0e65898e0faf7724549">RealDouble</a>) {
<a name="l01521"></a>01521             <span class="keywordflow">for</span> (k=imin[2]-1; k&lt;imax[2]; k++)
<a name="l01522"></a>01522             <span class="keywordflow">for</span> (j=imin[1]-1; j&lt;imax[1]; j++)
<a name="l01523"></a>01523             <span class="keywordflow">for</span> (i=imin[0]-1; i&lt;imax[0]; i++) {
<a name="l01524"></a>01524                 pos = i + j*field-&gt;<a class="code" href="structcgns__array.html#5ca9ee30477c56421c793e2341f75931">dim_vals</a>[0] + k*field-&gt;<a class="code" href="structcgns__array.html#5ca9ee30477c56421c793e2341f75931">dim_vals</a>[0]*field-&gt;<a class="code" href="structcgns__array.html#5ca9ee30477c56421c793e2341f75931">dim_vals</a>[1];
<a name="l01525"></a>01525                 *((<span class="keywordtype">int</span> *) field_ptr+n) = (int) (*((<span class="keywordtype">double</span> *) values+pos));
<a name="l01526"></a>01526                 n++;
<a name="l01527"></a>01527             }
<a name="l01528"></a>01528      <span class="comment">/* R4 - I4 */</span>
<a name="l01529"></a>01529         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (type==<a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae1ca5e5244f4627fd3bf71c72015c2060">RealSingle</a> &amp;&amp; <a class="code" href="cgns__header_8h.html#24e3b83316ff66e5d321d73ee64319f2">cgi_datatype</a>(field-&gt;<a class="code" href="structcgns__array.html#86e4d546d1321bcac60584c413eb0f6d">data_type</a>)==<a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae1e2f89e867cd91c3de2ea9fbd2ef96a3">Integer</a>) {
<a name="l01530"></a>01530             <span class="keywordflow">for</span> (k=imin[2]-1; k&lt;imax[2]; k++)
<a name="l01531"></a>01531             <span class="keywordflow">for</span> (j=imin[1]-1; j&lt;imax[1]; j++)
<a name="l01532"></a>01532             <span class="keywordflow">for</span> (i=imin[0]-1; i&lt;imax[0]; i++) {
<a name="l01533"></a>01533                 pos = i + j*field-&gt;<a class="code" href="structcgns__array.html#5ca9ee30477c56421c793e2341f75931">dim_vals</a>[0] + k*field-&gt;<a class="code" href="structcgns__array.html#5ca9ee30477c56421c793e2341f75931">dim_vals</a>[0]*field-&gt;<a class="code" href="structcgns__array.html#5ca9ee30477c56421c793e2341f75931">dim_vals</a>[1];
<a name="l01534"></a>01534                 *((<span class="keywordtype">float</span> *) field_ptr+n) = (float) (*((<span class="keywordtype">int</span> *) values+pos));
<a name="l01535"></a>01535                 n++;
<a name="l01536"></a>01536             }
<a name="l01537"></a>01537      <span class="comment">/* R4 - R4 */</span>
<a name="l01538"></a>01538         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (type==<a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae1ca5e5244f4627fd3bf71c72015c2060">RealSingle</a> &amp;&amp; <a class="code" href="cgns__header_8h.html#24e3b83316ff66e5d321d73ee64319f2">cgi_datatype</a>(field-&gt;<a class="code" href="structcgns__array.html#86e4d546d1321bcac60584c413eb0f6d">data_type</a>)==<a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae1ca5e5244f4627fd3bf71c72015c2060">RealSingle</a>) {
<a name="l01539"></a>01539             <span class="keywordflow">for</span> (k=imin[2]-1; k&lt;imax[2]; k++)
<a name="l01540"></a>01540             <span class="keywordflow">for</span> (j=imin[1]-1; j&lt;imax[1]; j++)
<a name="l01541"></a>01541             <span class="keywordflow">for</span> (i=imin[0]-1; i&lt;imax[0]; i++) {
<a name="l01542"></a>01542                 pos = i + j*field-&gt;<a class="code" href="structcgns__array.html#5ca9ee30477c56421c793e2341f75931">dim_vals</a>[0] + k*field-&gt;<a class="code" href="structcgns__array.html#5ca9ee30477c56421c793e2341f75931">dim_vals</a>[0]*field-&gt;<a class="code" href="structcgns__array.html#5ca9ee30477c56421c793e2341f75931">dim_vals</a>[1];
<a name="l01543"></a>01543                 *((<span class="keywordtype">float</span> *) field_ptr+n) = *((<span class="keywordtype">float</span> *) values+pos);
<a name="l01544"></a>01544                 n++;
<a name="l01545"></a>01545             }
<a name="l01546"></a>01546      <span class="comment">/* R4 - R8 */</span>
<a name="l01547"></a>01547         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (type==<a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae1ca5e5244f4627fd3bf71c72015c2060">RealSingle</a> &amp;&amp; <a class="code" href="cgns__header_8h.html#24e3b83316ff66e5d321d73ee64319f2">cgi_datatype</a>(field-&gt;<a class="code" href="structcgns__array.html#86e4d546d1321bcac60584c413eb0f6d">data_type</a>)==<a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae5f954e649a6da0e65898e0faf7724549">RealDouble</a>) {
<a name="l01548"></a>01548             <span class="keywordflow">for</span> (k=imin[2]-1; k&lt;imax[2]; k++)
<a name="l01549"></a>01549             <span class="keywordflow">for</span> (j=imin[1]-1; j&lt;imax[1]; j++)
<a name="l01550"></a>01550             <span class="keywordflow">for</span> (i=imin[0]-1; i&lt;imax[0]; i++) {
<a name="l01551"></a>01551                 pos = i + j*field-&gt;<a class="code" href="structcgns__array.html#5ca9ee30477c56421c793e2341f75931">dim_vals</a>[0] + k*field-&gt;<a class="code" href="structcgns__array.html#5ca9ee30477c56421c793e2341f75931">dim_vals</a>[0]*field-&gt;<a class="code" href="structcgns__array.html#5ca9ee30477c56421c793e2341f75931">dim_vals</a>[1];
<a name="l01552"></a>01552                 *((<span class="keywordtype">float</span> *) field_ptr+n) = (float)(*((<span class="keywordtype">double</span> *) values+pos));
<a name="l01553"></a>01553                 n++;
<a name="l01554"></a>01554             }
<a name="l01555"></a>01555      <span class="comment">/* R8 - I4 */</span>
<a name="l01556"></a>01556         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (type==<a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae5f954e649a6da0e65898e0faf7724549">RealDouble</a> &amp;&amp; <a class="code" href="cgns__header_8h.html#24e3b83316ff66e5d321d73ee64319f2">cgi_datatype</a>(field-&gt;<a class="code" href="structcgns__array.html#86e4d546d1321bcac60584c413eb0f6d">data_type</a>)==<a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae1e2f89e867cd91c3de2ea9fbd2ef96a3">Integer</a>) {
<a name="l01557"></a>01557             <span class="keywordflow">for</span> (k=imin[2]-1; k&lt;imax[2]; k++)
<a name="l01558"></a>01558             <span class="keywordflow">for</span> (j=imin[1]-1; j&lt;imax[1]; j++)
<a name="l01559"></a>01559             <span class="keywordflow">for</span> (i=imin[0]-1; i&lt;imax[0]; i++) {
<a name="l01560"></a>01560                 pos = i + j*field-&gt;<a class="code" href="structcgns__array.html#5ca9ee30477c56421c793e2341f75931">dim_vals</a>[0] + k*field-&gt;<a class="code" href="structcgns__array.html#5ca9ee30477c56421c793e2341f75931">dim_vals</a>[0]*field-&gt;<a class="code" href="structcgns__array.html#5ca9ee30477c56421c793e2341f75931">dim_vals</a>[1];
<a name="l01561"></a>01561                 *((<span class="keywordtype">double</span> *) field_ptr+n) = (double)(*((<span class="keywordtype">int</span> *) values+pos));
<a name="l01562"></a>01562                 n++;
<a name="l01563"></a>01563             }
<a name="l01564"></a>01564      <span class="comment">/* R8 - R4 */</span>
<a name="l01565"></a>01565         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (type==<a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae5f954e649a6da0e65898e0faf7724549">RealDouble</a> &amp;&amp; <a class="code" href="cgns__header_8h.html#24e3b83316ff66e5d321d73ee64319f2">cgi_datatype</a>(field-&gt;<a class="code" href="structcgns__array.html#86e4d546d1321bcac60584c413eb0f6d">data_type</a>)==<a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae1ca5e5244f4627fd3bf71c72015c2060">RealSingle</a>) {
<a name="l01566"></a>01566             <span class="keywordflow">for</span> (k=imin[2]-1; k&lt;imax[2]; k++)
<a name="l01567"></a>01567             <span class="keywordflow">for</span> (j=imin[1]-1; j&lt;imax[1]; j++)
<a name="l01568"></a>01568             <span class="keywordflow">for</span> (i=imin[0]-1; i&lt;imax[0]; i++) {
<a name="l01569"></a>01569                 pos = i + j*field-&gt;<a class="code" href="structcgns__array.html#5ca9ee30477c56421c793e2341f75931">dim_vals</a>[0] + k*field-&gt;<a class="code" href="structcgns__array.html#5ca9ee30477c56421c793e2341f75931">dim_vals</a>[0]*field-&gt;<a class="code" href="structcgns__array.html#5ca9ee30477c56421c793e2341f75931">dim_vals</a>[1];
<a name="l01570"></a>01570                 *((<span class="keywordtype">double</span> *) field_ptr+n) = (double)(*((<span class="keywordtype">float</span> *) values+pos));
<a name="l01571"></a>01571                 n++;
<a name="l01572"></a>01572             }
<a name="l01573"></a>01573      <span class="comment">/* R8 - R8 */</span>
<a name="l01574"></a>01574         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (type==<a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae5f954e649a6da0e65898e0faf7724549">RealDouble</a> &amp;&amp; <a class="code" href="cgns__header_8h.html#24e3b83316ff66e5d321d73ee64319f2">cgi_datatype</a>(field-&gt;<a class="code" href="structcgns__array.html#86e4d546d1321bcac60584c413eb0f6d">data_type</a>)==<a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae5f954e649a6da0e65898e0faf7724549">RealDouble</a>) {
<a name="l01575"></a>01575             <span class="keywordflow">for</span> (k=imin[2]-1; k&lt;imax[2]; k++)
<a name="l01576"></a>01576             <span class="keywordflow">for</span> (j=imin[1]-1; j&lt;imax[1]; j++)
<a name="l01577"></a>01577             <span class="keywordflow">for</span> (i=imin[0]-1; i&lt;imax[0]; i++) {
<a name="l01578"></a>01578                 pos = i + j*field-&gt;<a class="code" href="structcgns__array.html#5ca9ee30477c56421c793e2341f75931">dim_vals</a>[0] + k*field-&gt;<a class="code" href="structcgns__array.html#5ca9ee30477c56421c793e2341f75931">dim_vals</a>[0]*field-&gt;<a class="code" href="structcgns__array.html#5ca9ee30477c56421c793e2341f75931">dim_vals</a>[1];
<a name="l01579"></a>01579                 *((<span class="keywordtype">double</span> *) field_ptr+n) = *((<span class="keywordtype">double</span> *) values+pos);
<a name="l01580"></a>01580                 n++;
<a name="l01581"></a>01581             }
<a name="l01582"></a>01582         }
<a name="l01583"></a>01583     }
<a name="l01584"></a>01584     <a class="code" href="cg__malloc_8h.html#a7943e5d135734f6801bebcc37401fc0">free</a>(values);
<a name="l01585"></a>01585 
<a name="l01586"></a>01586     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l01587"></a>01587 }
<a name="l01588"></a>01588 
<a name="l01589"></a><a class="code" href="cgnslib_8h.html#8dbeaa234091c4fd97d8db5e1b7a2ea6">01589</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#d09e34c990d2ae9d9b7ad44f48c897f1">cg_field_id</a>(<span class="keywordtype">int</span> file_number, <span class="keywordtype">int</span> B, <span class="keywordtype">int</span> Z, <span class="keywordtype">int</span> S, <span class="keywordtype">int</span> F, <span class="keywordtype">double</span> *field_id) {
<a name="l01590"></a>01590     <a class="code" href="structcgns__array.html">cgns_array</a> *field;
<a name="l01591"></a>01591 
<a name="l01592"></a>01592     cg = <a class="code" href="cgns__header_8h.html#64a13852e04666fc73b74a8ff7727f4f">cgi_get_file</a>(file_number);
<a name="l01593"></a>01593     <span class="keywordflow">if</span> (cg == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l01594"></a>01594 
<a name="l01595"></a>01595     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l01596"></a>01596 
<a name="l01597"></a>01597     field = <a class="code" href="cgns__header_8h.html#00b263cc3619d8de5781a0ed47d0449f">cgi_get_field</a>(cg, B, Z, S, F);
<a name="l01598"></a>01598     <span class="keywordflow">if</span> (field==0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l01599"></a>01599 
<a name="l01600"></a>01600     *field_id = field-&gt;<a class="code" href="structcgns__array.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>;
<a name="l01601"></a>01601     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l01602"></a>01602 }
<a name="l01603"></a>01603 
<a name="l01604"></a>01604 <span class="comment">/*****************************************************************************\</span>
<a name="l01605"></a>01605 <span class="comment"> *         Inquiry Functions for OversetHoles_t Nodes</span>
<a name="l01606"></a>01606 <span class="comment">\*****************************************************************************/</span>
<a name="l01607"></a>01607 
<a name="l01608"></a><a class="code" href="cgnslib_8h.html#1981fe00ce132c4d4551ae95bcd13ffa">01608</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#3a0e6319ddad911e027b4b1df88fc140">cg_nholes</a>(<span class="keywordtype">int</span> file_number, <span class="keywordtype">int</span> B, <span class="keywordtype">int</span> Z, <span class="keywordtype">int</span> *nholes) {
<a name="l01609"></a>01609     <a class="code" href="structcgns__zconn.html">cgns_zconn</a> *zconn;
<a name="l01610"></a>01610 
<a name="l01611"></a>01611     cg = <a class="code" href="cgns__header_8h.html#64a13852e04666fc73b74a8ff7727f4f">cgi_get_file</a>(file_number);
<a name="l01612"></a>01612     <span class="keywordflow">if</span> (cg == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l01613"></a>01613 
<a name="l01614"></a>01614     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l01615"></a>01615 
<a name="l01616"></a>01616     zconn = <a class="code" href="cgns__header_8h.html#418258794e9a6f702e11ad14491c5d4c">cgi_get_zconn</a>(cg, B, Z);
<a name="l01617"></a>01617     <span class="keywordflow">if</span> (zconn==0) *nholes = 0;  <span class="comment">/* if ZoneGridConnectivity_t is undefined */</span>
<a name="l01618"></a>01618     <span class="keywordflow">else</span>          *nholes = zconn-&gt;<a class="code" href="structcgns__zconn.html#14616d97c7f10ee666a79d99cd931353">nholes</a>;
<a name="l01619"></a>01619     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l01620"></a>01620 }
<a name="l01621"></a>01621 
<a name="l01622"></a><a class="code" href="cgnslib_8h.html#c6f87eba9d4d6c1221ada64fb5cc724a">01622</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#26f6aa29d94b699e96af897afd2bfb67">cg_hole_info</a>(<span class="keywordtype">int</span> file_number, <span class="keywordtype">int</span> B, <span class="keywordtype">int</span> Z, <span class="keywordtype">int</span> I, <span class="keywordtype">char</span> *holename,
<a name="l01623"></a>01623     <a class="code" href="cgns_keywords_8h.html#5a0e596ed46b12f73c2ed1b8b0176e13">GridLocation_t</a> *location, <a class="code" href="cgns_keywords_8h.html#82fcf406991383f888f145541f6616f5">PointSetType_t</a> *ptset_type, <span class="keywordtype">int</span> *nptsets,
<a name="l01624"></a>01624     <span class="keywordtype">int</span> *<a class="code" href="write__bcdata_8c.html#5444c4f4b8152e0b11ea6acae6b6de2a">npnts</a>) {
<a name="l01625"></a>01625 
<a name="l01626"></a>01626     <a class="code" href="structcgns__hole.html">cgns_hole</a> *hole;
<a name="l01627"></a>01627 
<a name="l01628"></a>01628     cg = <a class="code" href="cgns__header_8h.html#64a13852e04666fc73b74a8ff7727f4f">cgi_get_file</a>(file_number);
<a name="l01629"></a>01629     <span class="keywordflow">if</span> (cg == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l01630"></a>01630 
<a name="l01631"></a>01631     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l01632"></a>01632 
<a name="l01633"></a>01633     hole = <a class="code" href="cgns__header_8h.html#06359965d683b0d081bb031598852157">cgi_get_hole</a>(cg, B, Z, I);
<a name="l01634"></a>01634     <span class="keywordflow">if</span> (hole==0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l01635"></a>01635 
<a name="l01636"></a>01636     strcpy(holename, hole-&gt;<a class="code" href="structcgns__hole.html#b5192b2e796e6224c74ec532ec32abf7">name</a>);
<a name="l01637"></a>01637     *location = hole-&gt;<a class="code" href="structcgns__hole.html#0e4921cde80f9718431923eedef14779">location</a>;
<a name="l01638"></a>01638     *ptset_type = hole-&gt;<a class="code" href="structcgns__hole.html#ce3b1013b59c4ff783e210168434d9e6">nptsets</a> ? hole-&gt;<a class="code" href="structcgns__hole.html#8b7e2cc8709c8363359a7b3f8dba99c1">ptset</a>[0].<a class="code" href="structcgns__ptset.html#5aec710ee64d19d29072491968901bb5">type</a> : <a class="code" href="cgns_keywords_8h.html#82fcf406991383f888f145541f6616f5d798d4e83da7be175c4bd0dcc0be0a84">PointSetTypeNull</a>;
<a name="l01639"></a>01639     *nptsets = hole-&gt;<a class="code" href="structcgns__hole.html#ce3b1013b59c4ff783e210168434d9e6">nptsets</a>;
<a name="l01640"></a>01640      <span class="comment">/* if multiple pointsets are defined, only PointRange is allowed */</span>
<a name="l01641"></a>01641     <span class="keywordflow">if</span> (hole-&gt;<a class="code" href="structcgns__hole.html#ce3b1013b59c4ff783e210168434d9e6">nptsets</a>==1) *npnts = hole-&gt;<a class="code" href="structcgns__hole.html#8b7e2cc8709c8363359a7b3f8dba99c1">ptset</a>[0].<a class="code" href="structcgns__ptset.html#0306378cd06415f84b10cb3d15516ec3">npts</a>;
<a name="l01642"></a>01642     <span class="keywordflow">else</span>                  *npnts = 2*hole-&gt;<a class="code" href="structcgns__hole.html#ce3b1013b59c4ff783e210168434d9e6">nptsets</a>;
<a name="l01643"></a>01643     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l01644"></a>01644 }
<a name="l01645"></a>01645 
<a name="l01646"></a><a class="code" href="cgnslib_8h.html#493791ae3fa44256eadfedc9cc988b6e">01646</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#32478e71f96b0a1ff8f95aacf7c9a1d9">cg_hole_read</a>(<span class="keywordtype">int</span> file_number, <span class="keywordtype">int</span> B, <span class="keywordtype">int</span> Z, <span class="keywordtype">int</span> I, <span class="keywordtype">int</span> *<a class="code" href="write__bcdata_8c.html#5e162cfaac90b1bb6effc1042b58b64e">pnts</a>) {
<a name="l01647"></a>01647     <a class="code" href="structcgns__hole.html">cgns_hole</a> *hole;
<a name="l01648"></a>01648     <span class="keywordtype">int</span> <span class="keyword">set</span>, index_dim;
<a name="l01649"></a>01649 
<a name="l01650"></a>01650     cg = <a class="code" href="cgns__header_8h.html#64a13852e04666fc73b74a8ff7727f4f">cgi_get_file</a>(file_number);
<a name="l01651"></a>01651     <span class="keywordflow">if</span> (cg == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l01652"></a>01652 
<a name="l01653"></a>01653     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l01654"></a>01654 
<a name="l01655"></a>01655     hole = <a class="code" href="cgns__header_8h.html#06359965d683b0d081bb031598852157">cgi_get_hole</a>(cg, B, Z, I);
<a name="l01656"></a>01656     <span class="keywordflow">if</span> (hole==0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l01657"></a>01657 
<a name="l01658"></a>01658     index_dim = cg-&gt;<a class="code" href="structcgns__file.html#0429392e9c26dac2f0b97ae2d2127117">base</a>[B-1].<a class="code" href="structcgns__base.html#abbb754f366f926198416ad91b8155ef">zone</a>[Z-1].<a class="code" href="structcgns__zone.html#5ea7c3da009c9add916c0eeca1973c05">index_dim</a>;
<a name="l01659"></a>01659 
<a name="l01660"></a>01660      <span class="comment">/* read point-set directly from ADF file */</span>
<a name="l01661"></a>01661     <span class="keywordflow">for</span> (<span class="keyword">set</span>=0; <span class="keyword">set</span>&lt;hole-&gt;<a class="code" href="structcgns__hole.html#ce3b1013b59c4ff783e210168434d9e6">nptsets</a>; <span class="keyword">set</span>++) {
<a name="l01662"></a>01662         <span class="keywordflow">if</span> (hole-&gt;<a class="code" href="structcgns__hole.html#8b7e2cc8709c8363359a7b3f8dba99c1">ptset</a>[<span class="keyword">set</span>].<a class="code" href="structcgns__ptset.html#0306378cd06415f84b10cb3d15516ec3">npts</a>&gt;0) {
<a name="l01663"></a>01663             <span class="keywordflow">if</span> (<a class="code" href="cgns__io_8c.html#4ae7c787c3def6d3bbd675d83aab48e3">cgio_read_all_data</a>(cg-&gt;<a class="code" href="structcgns__file.html#98363ec7b27905dbf2c56c6a194c69cc">cgio</a>, hole-&gt;<a class="code" href="structcgns__hole.html#8b7e2cc8709c8363359a7b3f8dba99c1">ptset</a>[<span class="keyword">set</span>].<a class="code" href="structcgns__ptset.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>,
<a name="l01664"></a>01664                 (<span class="keywordtype">void</span> *)((<span class="keywordtype">int</span> *)pnts+2*index_dim*<span class="keyword">set</span>))) {
<a name="l01665"></a>01665                 <a class="code" href="cgns__error_8c.html#47dd09a377bc17d5807332f8c475a23b">cg_io_error</a>(<span class="stringliteral">"cgio_read_all_data"</span>);
<a name="l01666"></a>01666                 <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l01667"></a>01667             }
<a name="l01668"></a>01668         } <span class="keywordflow">else</span> {
<a name="l01669"></a>01669             <a class="code" href="cgns__error_8c.html#80b531384954db3a50716628b982b94c">cgi_warning</a>(<span class="stringliteral">"Overset hole #%d set %d, of zone #%d, base #%d, contains no points"</span>,
<a name="l01670"></a>01670                 I, <span class="keyword">set</span>, Z, B);
<a name="l01671"></a>01671         }
<a name="l01672"></a>01672     }
<a name="l01673"></a>01673 
<a name="l01674"></a>01674     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l01675"></a>01675 }
<a name="l01676"></a>01676 
<a name="l01677"></a><a class="code" href="cgnslib_8h.html#98455aafbe7bf82ec778bdb86f804b91">01677</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#f026c777326a683d6b2e7f2fb7b12267">cg_hole_id</a>(<span class="keywordtype">int</span> file_number, <span class="keywordtype">int</span> B, <span class="keywordtype">int</span> Z, <span class="keywordtype">int</span> I, <span class="keywordtype">double</span> *hole_id) {
<a name="l01678"></a>01678     <a class="code" href="structcgns__hole.html">cgns_hole</a> *hole;
<a name="l01679"></a>01679 
<a name="l01680"></a>01680     cg = <a class="code" href="cgns__header_8h.html#64a13852e04666fc73b74a8ff7727f4f">cgi_get_file</a>(file_number);
<a name="l01681"></a>01681     <span class="keywordflow">if</span> (cg == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l01682"></a>01682 
<a name="l01683"></a>01683     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l01684"></a>01684 
<a name="l01685"></a>01685     hole = <a class="code" href="cgns__header_8h.html#06359965d683b0d081bb031598852157">cgi_get_hole</a>(cg, B, Z, I);
<a name="l01686"></a>01686     <span class="keywordflow">if</span> (hole==0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l01687"></a>01687 
<a name="l01688"></a>01688     *hole_id = hole-&gt;<a class="code" href="structcgns__hole.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>;
<a name="l01689"></a>01689     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l01690"></a>01690 }
<a name="l01691"></a>01691 
<a name="l01692"></a>01692 <span class="comment">/*****************************************************************************\</span>
<a name="l01693"></a>01693 <span class="comment"> *         Inquiry Functions for GridConnectivity_t Nodes</span>
<a name="l01694"></a>01694 <span class="comment">\*****************************************************************************/</span>
<a name="l01695"></a>01695 
<a name="l01696"></a><a class="code" href="cgnslib_8h.html#70c905796c759c5b7262d87a00334a7f">01696</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#2f74cda15fa5aa0f3adb2319496f9e4f">cg_nconns</a>(<span class="keywordtype">int</span> file_number, <span class="keywordtype">int</span> B, <span class="keywordtype">int</span> Z, <span class="keywordtype">int</span> *nconns) {
<a name="l01697"></a>01697     <a class="code" href="structcgns__zconn.html">cgns_zconn</a> *zconn;
<a name="l01698"></a>01698 
<a name="l01699"></a>01699     cg = <a class="code" href="cgns__header_8h.html#64a13852e04666fc73b74a8ff7727f4f">cgi_get_file</a>(file_number);
<a name="l01700"></a>01700     <span class="keywordflow">if</span> (cg == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l01701"></a>01701 
<a name="l01702"></a>01702     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l01703"></a>01703 
<a name="l01704"></a>01704     zconn = <a class="code" href="cgns__header_8h.html#418258794e9a6f702e11ad14491c5d4c">cgi_get_zconn</a>(cg, B, Z);
<a name="l01705"></a>01705     <span class="keywordflow">if</span> (zconn==0) *nconns = 0;  <span class="comment">/* if ZoneGridConnectivity_t is undefined */</span>
<a name="l01706"></a>01706     <span class="keywordflow">else</span>          *nconns = zconn-&gt;<a class="code" href="structcgns__zconn.html#548a3767dd1b6b4af24084d1e1c2d3b7">nconns</a>;
<a name="l01707"></a>01707     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l01708"></a>01708 }
<a name="l01709"></a>01709 
<a name="l01710"></a>01710 <span class="comment">/* in cg_conn_info, donor_datatype is useless starting with version 1.27, because</span>
<a name="l01711"></a>01711 <span class="comment">   it's always I4.  Howver this arg. is left for backward compatibility of API</span>
<a name="l01712"></a>01712 <span class="comment">   and to be able to read old files */</span>
<a name="l01713"></a><a class="code" href="cgnslib_8h.html#1783c5e7adb6f704838d0564551e1320">01713</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#c168c1d643364b0723f94a1f9bad3a4d">cg_conn_info</a>(<span class="keywordtype">int</span> file_number, <span class="keywordtype">int</span> B, <span class="keywordtype">int</span> Z, <span class="keywordtype">int</span> I, <span class="keywordtype">char</span> *connectname,
<a name="l01714"></a>01714          <a class="code" href="cgns_keywords_8h.html#5a0e596ed46b12f73c2ed1b8b0176e13">GridLocation_t</a> *location, <a class="code" href="cgns_keywords_8h.html#63b65ef61e306a412f1fabc9be3cc6d0">GridConnectivityType_t</a> *type,
<a name="l01715"></a>01715          <a class="code" href="cgns_keywords_8h.html#82fcf406991383f888f145541f6616f5">PointSetType_t</a> *ptset_type, <span class="keywordtype">int</span> *<a class="code" href="write__bcdata_8c.html#5444c4f4b8152e0b11ea6acae6b6de2a">npnts</a>, <span class="keywordtype">char</span> *donorname,
<a name="l01716"></a>01716          <a class="code" href="cgns_keywords_8h.html#68acb02e36b91d3020f4de86436a07fe">ZoneType_t</a> *donor_zonetype, <a class="code" href="cgns_keywords_8h.html#82fcf406991383f888f145541f6616f5">PointSetType_t</a> *donor_ptset_type,
<a name="l01717"></a>01717          <a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae">DataType_t</a> *donor_datatype, <span class="keywordtype">int</span> *ndata_donor) {
<a name="l01718"></a>01718 
<a name="l01719"></a>01719     <span class="keywordtype">int</span> dZ;
<a name="l01720"></a>01720     <a class="code" href="structcgns__conn.html">cgns_conn</a> *conn;
<a name="l01721"></a>01721 
<a name="l01722"></a>01722     cg = <a class="code" href="cgns__header_8h.html#64a13852e04666fc73b74a8ff7727f4f">cgi_get_file</a>(file_number);
<a name="l01723"></a>01723     <span class="keywordflow">if</span> (cg == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l01724"></a>01724 
<a name="l01725"></a>01725     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l01726"></a>01726 
<a name="l01727"></a>01727     conn = <a class="code" href="cgns__header_8h.html#a10f5ed577b1bc7ba5c9f0a10539e5d0">cgi_get_conn</a>(cg, B, Z, I);
<a name="l01728"></a>01728     <span class="keywordflow">if</span> (conn==0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l01729"></a>01729 
<a name="l01730"></a>01730     strcpy(connectname, conn-&gt;<a class="code" href="structcgns__conn.html#b5192b2e796e6224c74ec532ec32abf7">name</a>);
<a name="l01731"></a>01731     *type = conn-&gt;<a class="code" href="structcgns__conn.html#02645da6b20f22c6f0bd10e2f44a881c">type</a>;
<a name="l01732"></a>01732     *location = conn-&gt;<a class="code" href="structcgns__conn.html#0e4921cde80f9718431923eedef14779">location</a>;
<a name="l01733"></a>01733     *ptset_type = conn-&gt;<a class="code" href="structcgns__conn.html#3ef487d0a8936f384aa9c23652cd0cbb">ptset</a>.<a class="code" href="structcgns__ptset.html#5aec710ee64d19d29072491968901bb5">type</a>;
<a name="l01734"></a>01734     *npnts = conn-&gt;<a class="code" href="structcgns__conn.html#3ef487d0a8936f384aa9c23652cd0cbb">ptset</a>.<a class="code" href="structcgns__ptset.html#0306378cd06415f84b10cb3d15516ec3">npts</a>;
<a name="l01735"></a>01735 
<a name="l01736"></a>01736      <span class="comment">/* information relative to donor */</span>
<a name="l01737"></a>01737     strcpy(donorname, conn-&gt;<a class="code" href="structcgns__conn.html#1c860db56de1c684b628662dc3c02c1b">donor</a>);
<a name="l01738"></a>01738     *donor_datatype = <a class="code" href="cgns__header_8h.html#24e3b83316ff66e5d321d73ee64319f2">cgi_datatype</a>(conn-&gt;<a class="code" href="structcgns__conn.html#44fbe065ea74769988785453c9fbd2c1">dptset</a>.<a class="code" href="structcgns__ptset.html#86e4d546d1321bcac60584c413eb0f6d">data_type</a>);
<a name="l01739"></a>01739     *ndata_donor = conn-&gt;<a class="code" href="structcgns__conn.html#44fbe065ea74769988785453c9fbd2c1">dptset</a>.<a class="code" href="structcgns__ptset.html#0306378cd06415f84b10cb3d15516ec3">npts</a>;
<a name="l01740"></a>01740     *donor_ptset_type = conn-&gt;<a class="code" href="structcgns__conn.html#44fbe065ea74769988785453c9fbd2c1">dptset</a>.<a class="code" href="structcgns__ptset.html#5aec710ee64d19d29072491968901bb5">type</a>;
<a name="l01741"></a>01741 
<a name="l01742"></a>01742      <span class="comment">/* Find ZoneType_t of DonorZone given its name */</span>
<a name="l01743"></a>01743     *donor_zonetype = <a class="code" href="cgns_keywords_8h.html#68acb02e36b91d3020f4de86436a07fe399a15bc8de5787951e7f671386596be">ZoneTypeNull</a>;
<a name="l01744"></a>01744 
<a name="l01745"></a>01745     <span class="keywordflow">for</span> (dZ=0; dZ&lt;cg-&gt;<a class="code" href="structcgns__file.html#0429392e9c26dac2f0b97ae2d2127117">base</a>[B-1].<a class="code" href="structcgns__base.html#8ebd3b4b8ec8f082c7fceaad6ed6c68f">nzones</a>; dZ++) {
<a name="l01746"></a>01746         <span class="keywordflow">if</span> (strcmp(cg-&gt;<a class="code" href="structcgns__file.html#0429392e9c26dac2f0b97ae2d2127117">base</a>[B-1].<a class="code" href="structcgns__base.html#abbb754f366f926198416ad91b8155ef">zone</a>[dZ].<a class="code" href="structcgns__zone.html#b5192b2e796e6224c74ec532ec32abf7">name</a>,donorname)==0) {
<a name="l01747"></a>01747             *donor_zonetype = cg-&gt;<a class="code" href="structcgns__file.html#0429392e9c26dac2f0b97ae2d2127117">base</a>[B-1].<a class="code" href="structcgns__base.html#abbb754f366f926198416ad91b8155ef">zone</a>[dZ].<a class="code" href="structcgns__zone.html#70e3228eb924895531acd9144d41916f">type</a>;
<a name="l01748"></a>01748             <span class="keywordflow">break</span>;
<a name="l01749"></a>01749         }
<a name="l01750"></a>01750     }
<a name="l01751"></a>01751     <span class="keywordflow">if</span> (*donor_zonetype == 0) {
<a name="l01752"></a>01752         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"cg_conn_info:donor zone %s does not exist"</span>,donorname);
<a name="l01753"></a>01753         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l01754"></a>01754     }
<a name="l01755"></a>01755     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l01756"></a>01756 }
<a name="l01757"></a>01757 
<a name="l01758"></a>01758 <span class="comment">/* in cg_conn_read, donor_datatype is useless starting with version 1.27, because</span>
<a name="l01759"></a>01759 <span class="comment">   it's always I4.  However this arg. is left for backward compatibility of API</span>
<a name="l01760"></a>01760 <span class="comment">   and to be able to read old files */</span>
<a name="l01761"></a><a class="code" href="cgnslib_8h.html#6a7a3b2479955ef8274f68e1d8adc8b8">01761</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#2c707ea6be10a41725be74ffb26740bf">cg_conn_read</a>(<span class="keywordtype">int</span> file_number, <span class="keywordtype">int</span> B, <span class="keywordtype">int</span> Z, <span class="keywordtype">int</span> I, <span class="keywordtype">int</span> *<a class="code" href="write__bcdata_8c.html#5e162cfaac90b1bb6effc1042b58b64e">pnts</a>,
<a name="l01762"></a>01762          <a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae">DataType_t</a> donor_datatype, <span class="keywordtype">void</span> *donor_data) {
<a name="l01763"></a>01763     <a class="code" href="cgns__header_8h.html#3643549b6f6f5f037878b262787434c0">char_33</a> <a class="code" href="_a_d_f__internals_8h.html#e14d2e5ae7b32258ea2117fe241c78a3">data_type</a>;
<a name="l01764"></a>01764     <a class="code" href="structcgns__conn.html">cgns_conn</a> *conn;
<a name="l01765"></a>01765     <span class="keywordtype">void</span> *dpnts;
<a name="l01766"></a>01766     <span class="keywordtype">int</span> n, <a class="code" href="write__bcdata_8c.html#a2950136f8c9d193ee20f9e64e5d3f43">size</a>, cell_dim;
<a name="l01767"></a>01767 
<a name="l01768"></a>01768      <span class="comment">/* verify input */</span>
<a name="l01769"></a>01769     <span class="keywordflow">if</span> (donor_data != NULL &amp;&amp; donor_datatype!=<a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae1e2f89e867cd91c3de2ea9fbd2ef96a3">Integer</a> &amp;&amp;
<a name="l01770"></a>01770         donor_datatype!=<a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae1ca5e5244f4627fd3bf71c72015c2060">RealSingle</a> &amp;&amp; donor_datatype!=<a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae5f954e649a6da0e65898e0faf7724549">RealDouble</a>) {
<a name="l01771"></a>01771         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Invalid datatype requested for a point set: %d"</span>, donor_datatype);
<a name="l01772"></a>01772         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l01773"></a>01773     }
<a name="l01774"></a>01774 
<a name="l01775"></a>01775      <span class="comment">/* Find address */</span>
<a name="l01776"></a>01776     cg = <a class="code" href="cgns__header_8h.html#64a13852e04666fc73b74a8ff7727f4f">cgi_get_file</a>(file_number);
<a name="l01777"></a>01777     <span class="keywordflow">if</span> (cg == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l01778"></a>01778 
<a name="l01779"></a>01779     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l01780"></a>01780 
<a name="l01781"></a>01781     conn = <a class="code" href="cgns__header_8h.html#a10f5ed577b1bc7ba5c9f0a10539e5d0">cgi_get_conn</a>(cg, B, Z, I);
<a name="l01782"></a>01782     <span class="keywordflow">if</span> (conn==0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l01783"></a>01783 
<a name="l01784"></a>01784     cell_dim = cg-&gt;<a class="code" href="structcgns__file.html#0429392e9c26dac2f0b97ae2d2127117">base</a>[B-1].<a class="code" href="structcgns__base.html#1bee6ac28f8d5df04476d015a8643d3a">cell_dim</a>;
<a name="l01785"></a>01785 
<a name="l01786"></a>01786      <span class="comment">/* read point-set of current zone from ADF file - always I4 integer */</span>
<a name="l01787"></a>01787     <span class="keywordflow">if</span> (conn-&gt;<a class="code" href="structcgns__conn.html#3ef487d0a8936f384aa9c23652cd0cbb">ptset</a>.<a class="code" href="structcgns__ptset.html#0306378cd06415f84b10cb3d15516ec3">npts</a>&gt;0) {
<a name="l01788"></a>01788         <span class="keywordflow">if</span> (<a class="code" href="cgns__io_8c.html#4ae7c787c3def6d3bbd675d83aab48e3">cgio_read_all_data</a>(cg-&gt;<a class="code" href="structcgns__file.html#98363ec7b27905dbf2c56c6a194c69cc">cgio</a>, conn-&gt;<a class="code" href="structcgns__conn.html#3ef487d0a8936f384aa9c23652cd0cbb">ptset</a>.<a class="code" href="structcgns__ptset.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, (<span class="keywordtype">void</span> *)pnts)) {
<a name="l01789"></a>01789             <a class="code" href="cgns__error_8c.html#47dd09a377bc17d5807332f8c475a23b">cg_io_error</a>(<span class="stringliteral">"cgio_read_all_data"</span>);
<a name="l01790"></a>01790             <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l01791"></a>01791         }
<a name="l01792"></a>01792     } <span class="keywordflow">else</span> {
<a name="l01793"></a>01793         <a class="code" href="cgns__error_8c.html#80b531384954db3a50716628b982b94c">cgi_warning</a>(<span class="stringliteral">"Interface receiver patch #%d of zone #%d, base #%d, contains no points"</span>,
<a name="l01794"></a>01794             I, Z, B);
<a name="l01795"></a>01795     }
<a name="l01796"></a>01796 
<a name="l01797"></a>01797     <span class="keywordflow">if</span> (donor_data == NULL) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l01798"></a>01798 
<a name="l01799"></a>01799      <span class="comment">/* read donor points from ADF file - data_type may be I4, R4 or R8 */</span>
<a name="l01800"></a>01800     <span class="keywordflow">if</span> (conn-&gt;<a class="code" href="structcgns__conn.html#44fbe065ea74769988785453c9fbd2c1">dptset</a>.<a class="code" href="structcgns__ptset.html#0306378cd06415f84b10cb3d15516ec3">npts</a>&gt;0) {
<a name="l01801"></a>01801         <a class="code" href="structcgns__ptset.html">cgns_ptset</a> dptset = conn-&gt;<a class="code" href="structcgns__conn.html#44fbe065ea74769988785453c9fbd2c1">dptset</a>;
<a name="l01802"></a>01802         <span class="keywordtype">int</span> index_dim = 0;
<a name="l01803"></a>01803         <span class="keywordflow">for</span> (n=0; n&lt;cg-&gt;<a class="code" href="structcgns__file.html#0429392e9c26dac2f0b97ae2d2127117">base</a>[B-1].<a class="code" href="structcgns__base.html#8ebd3b4b8ec8f082c7fceaad6ed6c68f">nzones</a>; n++) {
<a name="l01804"></a>01804             <span class="keywordflow">if</span> (strcmp(cg-&gt;<a class="code" href="structcgns__file.html#0429392e9c26dac2f0b97ae2d2127117">base</a>[B-1].<a class="code" href="structcgns__base.html#abbb754f366f926198416ad91b8155ef">zone</a>[n].<a class="code" href="structcgns__zone.html#b5192b2e796e6224c74ec532ec32abf7">name</a>,conn-&gt;<a class="code" href="structcgns__conn.html#1c860db56de1c684b628662dc3c02c1b">donor</a>)==0) {
<a name="l01805"></a>01805                 index_dim = cg-&gt;<a class="code" href="structcgns__file.html#0429392e9c26dac2f0b97ae2d2127117">base</a>[B-1].<a class="code" href="structcgns__base.html#abbb754f366f926198416ad91b8155ef">zone</a>[n].<a class="code" href="structcgns__zone.html#70e3228eb924895531acd9144d41916f">type</a> == <a class="code" href="cgns_keywords_8h.html#68acb02e36b91d3020f4de86436a07fe8a382d9e08294b2cd243ee60bd75c068">Structured</a> ? cell_dim : 1;
<a name="l01806"></a>01806                 <span class="keywordflow">break</span>;
<a name="l01807"></a>01807             }
<a name="l01808"></a>01808         }
<a name="l01809"></a>01809         <span class="keywordflow">if</span> (index_dim == 0) {
<a name="l01810"></a>01810             <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"cg_conn_read:donor zone %s does not exist"</span>,conn-&gt;<a class="code" href="structcgns__conn.html#1c860db56de1c684b628662dc3c02c1b">donor</a>);
<a name="l01811"></a>01811             <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l01812"></a>01812         }
<a name="l01813"></a>01813         size = index_dim*dptset.<a class="code" href="structcgns__ptset.html#0306378cd06415f84b10cb3d15516ec3">npts</a>;
<a name="l01814"></a>01814         <span class="keywordflow">if</span> ((dpnts=(<span class="keywordtype">void</span> *)<a class="code" href="cg__malloc_8h.html#535b58ab5aa48e2e86073e334d43fd32">malloc</a>(size*<a class="code" href="cgns__header_8h.html#c7abea28547e8f0f35e8eaa9d3048889">size_of</a>(dptset.<a class="code" href="structcgns__ptset.html#86e4d546d1321bcac60584c413eb0f6d">data_type</a>)))==NULL) {
<a name="l01815"></a>01815             <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Error allocating dpnts..."</span>);
<a name="l01816"></a>01816             <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l01817"></a>01817         }
<a name="l01818"></a>01818         <span class="keywordflow">if</span> (<a class="code" href="cgns__io_8c.html#4ae7c787c3def6d3bbd675d83aab48e3">cgio_read_all_data</a>(cg-&gt;<a class="code" href="structcgns__file.html#98363ec7b27905dbf2c56c6a194c69cc">cgio</a>, dptset.<a class="code" href="structcgns__ptset.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, dpnts)) {
<a name="l01819"></a>01819             <a class="code" href="cgns__error_8c.html#47dd09a377bc17d5807332f8c475a23b">cg_io_error</a>(<span class="stringliteral">"cgio_read_all_data"</span>);
<a name="l01820"></a>01820             <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l01821"></a>01821         }
<a name="l01822"></a>01822         strcpy(data_type, dptset.<a class="code" href="structcgns__ptset.html#86e4d546d1321bcac60584c413eb0f6d">data_type</a>);
<a name="l01823"></a>01823     } <span class="keywordflow">else</span> {
<a name="l01824"></a>01824         <a class="code" href="cgns__error_8c.html#80b531384954db3a50716628b982b94c">cgi_warning</a>(<span class="stringliteral">"Interface donor patch #%d of zone #%d, base #%d, contains no points"</span>,
<a name="l01825"></a>01825             I, Z, B);
<a name="l01826"></a>01826         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l01827"></a>01827     }
<a name="l01828"></a>01828 
<a name="l01829"></a>01829      <span class="comment">/* Return value in precision requested */</span>
<a name="l01830"></a>01830     <span class="keywordflow">if</span> (donor_datatype==<a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae1e2f89e867cd91c3de2ea9fbd2ef96a3">Integer</a> &amp;&amp; <a class="code" href="cgns__header_8h.html#24e3b83316ff66e5d321d73ee64319f2">cgi_datatype</a>(data_type)==<a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae1e2f89e867cd91c3de2ea9fbd2ef96a3">Integer</a>) {
<a name="l01831"></a>01831         <span class="keywordflow">for</span> (n=0; n&lt;size; n++)
<a name="l01832"></a>01832             *((<span class="keywordtype">int</span> *)donor_data+n) = *((<span class="keywordtype">int</span> *)dpnts+n);
<a name="l01833"></a>01833 
<a name="l01834"></a>01834     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (donor_datatype==<a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae1e2f89e867cd91c3de2ea9fbd2ef96a3">Integer</a> &amp;&amp; <a class="code" href="cgns__header_8h.html#24e3b83316ff66e5d321d73ee64319f2">cgi_datatype</a>(data_type)==<a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae1ca5e5244f4627fd3bf71c72015c2060">RealSingle</a>) {
<a name="l01835"></a>01835         <span class="keywordflow">for</span> (n=0; n&lt;size; n++)
<a name="l01836"></a>01836             *((<span class="keywordtype">int</span> *)donor_data+n) = (<span class="keywordtype">int</span>)(*((<span class="keywordtype">float</span> *)dpnts+n));
<a name="l01837"></a>01837 
<a name="l01838"></a>01838     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (donor_datatype==<a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae1e2f89e867cd91c3de2ea9fbd2ef96a3">Integer</a> &amp;&amp; <a class="code" href="cgns__header_8h.html#24e3b83316ff66e5d321d73ee64319f2">cgi_datatype</a>(data_type)==<a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae5f954e649a6da0e65898e0faf7724549">RealDouble</a>) {
<a name="l01839"></a>01839         <span class="keywordflow">for</span> (n=0; n&lt;size; n++)
<a name="l01840"></a>01840             *((<span class="keywordtype">int</span> *)donor_data+n) = (<span class="keywordtype">int</span>)(*((<span class="keywordtype">double</span> *)dpnts+n));
<a name="l01841"></a>01841 
<a name="l01842"></a>01842     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (donor_datatype==<a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae1ca5e5244f4627fd3bf71c72015c2060">RealSingle</a> &amp;&amp; <a class="code" href="cgns__header_8h.html#24e3b83316ff66e5d321d73ee64319f2">cgi_datatype</a>(data_type)==<a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae1e2f89e867cd91c3de2ea9fbd2ef96a3">Integer</a>) {
<a name="l01843"></a>01843         <span class="keywordflow">for</span> (n=0; n&lt;size; n++)
<a name="l01844"></a>01844             *((<span class="keywordtype">float</span> *)donor_data+n) = (<span class="keywordtype">float</span>)(*((<span class="keywordtype">int</span> *)dpnts+n));
<a name="l01845"></a>01845 
<a name="l01846"></a>01846     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (donor_datatype==<a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae1ca5e5244f4627fd3bf71c72015c2060">RealSingle</a> &amp;&amp; <a class="code" href="cgns__header_8h.html#24e3b83316ff66e5d321d73ee64319f2">cgi_datatype</a>(data_type)==<a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae1ca5e5244f4627fd3bf71c72015c2060">RealSingle</a>) {
<a name="l01847"></a>01847         <span class="keywordflow">for</span> (n=0; n&lt;size; n++)
<a name="l01848"></a>01848             *((<span class="keywordtype">float</span> *)donor_data+n) = *((<span class="keywordtype">float</span> *)dpnts+n);
<a name="l01849"></a>01849 
<a name="l01850"></a>01850     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (donor_datatype==<a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae1ca5e5244f4627fd3bf71c72015c2060">RealSingle</a> &amp;&amp; <a class="code" href="cgns__header_8h.html#24e3b83316ff66e5d321d73ee64319f2">cgi_datatype</a>(data_type)==<a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae5f954e649a6da0e65898e0faf7724549">RealDouble</a>) {
<a name="l01851"></a>01851         <span class="keywordflow">for</span> (n=0; n&lt;size; n++)
<a name="l01852"></a>01852             *((<span class="keywordtype">float</span> *)donor_data+n) = (<span class="keywordtype">float</span>)(*((<span class="keywordtype">double</span> *)dpnts+n));
<a name="l01853"></a>01853 
<a name="l01854"></a>01854     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (donor_datatype==<a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae5f954e649a6da0e65898e0faf7724549">RealDouble</a> &amp;&amp; <a class="code" href="cgns__header_8h.html#24e3b83316ff66e5d321d73ee64319f2">cgi_datatype</a>(data_type)==<a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae1e2f89e867cd91c3de2ea9fbd2ef96a3">Integer</a>) {
<a name="l01855"></a>01855         <span class="keywordflow">for</span> (n=0; n&lt;size; n++)
<a name="l01856"></a>01856             *((<span class="keywordtype">double</span> *)donor_data+n) = (<span class="keywordtype">double</span>)(*((<span class="keywordtype">int</span> *)dpnts+n));
<a name="l01857"></a>01857 
<a name="l01858"></a>01858     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (donor_datatype==<a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae5f954e649a6da0e65898e0faf7724549">RealDouble</a> &amp;&amp; <a class="code" href="cgns__header_8h.html#24e3b83316ff66e5d321d73ee64319f2">cgi_datatype</a>(data_type)==<a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae1ca5e5244f4627fd3bf71c72015c2060">RealSingle</a>) {
<a name="l01859"></a>01859         <span class="keywordflow">for</span> (n=0; n&lt;size; n++)
<a name="l01860"></a>01860             *((<span class="keywordtype">double</span> *)donor_data+n) = (<span class="keywordtype">double</span>)(*((<span class="keywordtype">float</span> *)dpnts+n));
<a name="l01861"></a>01861 
<a name="l01862"></a>01862     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (donor_datatype==<a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae5f954e649a6da0e65898e0faf7724549">RealDouble</a> &amp;&amp; <a class="code" href="cgns__header_8h.html#24e3b83316ff66e5d321d73ee64319f2">cgi_datatype</a>(data_type)==<a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae5f954e649a6da0e65898e0faf7724549">RealDouble</a>) {
<a name="l01863"></a>01863         <span class="keywordflow">for</span> (n=0; n&lt;size; n++)
<a name="l01864"></a>01864             *((<span class="keywordtype">double</span> *)donor_data+n) = *((<span class="keywordtype">double</span> *)dpnts+n);
<a name="l01865"></a>01865     }
<a name="l01866"></a>01866     <a class="code" href="cg__malloc_8h.html#a7943e5d135734f6801bebcc37401fc0">free</a>(dpnts);
<a name="l01867"></a>01867 
<a name="l01868"></a>01868     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l01869"></a>01869 }
<a name="l01870"></a>01870 
<a name="l01871"></a><a class="code" href="cgnslib_8h.html#8a06dfbd527cb7bc09f5bc281e92571a">01871</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#2c5d680f32cc67cf6645630adff7a16e">cg_conn_read_short</a>(<span class="keywordtype">int</span> file_number, <span class="keywordtype">int</span> B, <span class="keywordtype">int</span> Z, <span class="keywordtype">int</span> I, <span class="keywordtype">int</span> *<a class="code" href="write__bcdata_8c.html#5e162cfaac90b1bb6effc1042b58b64e">pnts</a>) {
<a name="l01872"></a>01872 <span class="preprocessor">#if 0</span>
<a name="l01873"></a>01873 <span class="preprocessor"></span>    <a class="code" href="structcgns__conn.html">cgns_conn</a> *conn;
<a name="l01874"></a>01874     <span class="keywordtype">int</span> ierr, cell_dim;
<a name="l01875"></a>01875 
<a name="l01876"></a>01876      <span class="comment">/* Find address */</span>
<a name="l01877"></a>01877     cg = <a class="code" href="cgns__header_8h.html#64a13852e04666fc73b74a8ff7727f4f">cgi_get_file</a>(file_number);
<a name="l01878"></a>01878     <span class="keywordflow">if</span> (cg == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l01879"></a>01879 
<a name="l01880"></a>01880     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l01881"></a>01881 
<a name="l01882"></a>01882     conn = <a class="code" href="cgns__header_8h.html#a10f5ed577b1bc7ba5c9f0a10539e5d0">cgi_get_conn</a>(cg, B, Z, I);
<a name="l01883"></a>01883     <span class="keywordflow">if</span> (conn==0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l01884"></a>01884 
<a name="l01885"></a>01885     cell_dim = cg-&gt;<a class="code" href="structcgns__file.html#0429392e9c26dac2f0b97ae2d2127117">base</a>[B-1].<a class="code" href="structcgns__base.html#1bee6ac28f8d5df04476d015a8643d3a">cell_dim</a>;
<a name="l01886"></a>01886 
<a name="l01887"></a>01887      <span class="comment">/* read point-set of current zone from ADF file - always I4 integer */</span>
<a name="l01888"></a>01888     <span class="keywordflow">if</span> (conn-&gt;<a class="code" href="structcgns__conn.html#3ef487d0a8936f384aa9c23652cd0cbb">ptset</a>.<a class="code" href="structcgns__ptset.html#0306378cd06415f84b10cb3d15516ec3">npts</a>&gt;0) {
<a name="l01889"></a>01889         <span class="keywordflow">if</span> (<a class="code" href="cgns__io_8c.html#4ae7c787c3def6d3bbd675d83aab48e3">cgio_read_all_data</a>(cg-&gt;<a class="code" href="structcgns__file.html#98363ec7b27905dbf2c56c6a194c69cc">cgio</a>, conn-&gt;<a class="code" href="structcgns__conn.html#3ef487d0a8936f384aa9c23652cd0cbb">ptset</a>.<a class="code" href="structcgns__ptset.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, (<span class="keywordtype">void</span> *)pnts)) {
<a name="l01890"></a>01890             <a class="code" href="cgns__error_8c.html#47dd09a377bc17d5807332f8c475a23b">cg_io_error</a>(<span class="stringliteral">"cgio_read_all_data"</span>);
<a name="l01891"></a>01891             <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l01892"></a>01892         }
<a name="l01893"></a>01893     } <span class="keywordflow">else</span> {
<a name="l01894"></a>01894         <a class="code" href="cgns__error_8c.html#80b531384954db3a50716628b982b94c">cgi_warning</a>(<span class="stringliteral">"Interface receiver patch #%d of zone #%d, base #%d, contains no points"</span>,
<a name="l01895"></a>01895             I, Z, B);
<a name="l01896"></a>01896     }
<a name="l01897"></a>01897 
<a name="l01898"></a>01898     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l01899"></a>01899 <span class="preprocessor">#else</span>
<a name="l01900"></a>01900 <span class="preprocessor"></span>    <span class="keywordflow">return</span> <a class="code" href="cgnslib_8c.html#2c707ea6be10a41725be74ffb26740bf">cg_conn_read</a>(file_number, B, Z, I, pnts, <a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae812979fbc1a2dc328c8d833f685d1142">DataTypeNull</a>, NULL);
<a name="l01901"></a>01901 <span class="preprocessor">#endif</span>
<a name="l01902"></a>01902 <span class="preprocessor"></span>}
<a name="l01903"></a>01903 
<a name="l01904"></a><a class="code" href="cgnslib_8h.html#9cb2f07d95ce4cc8bf5d706330d1e50c">01904</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#4beece9f84c4a93cf755f11cf7dab194">cg_conn_id</a>(<span class="keywordtype">int</span> file_number, <span class="keywordtype">int</span> B, <span class="keywordtype">int</span> Z, <span class="keywordtype">int</span> I, <span class="keywordtype">double</span> *conn_id) {
<a name="l01905"></a>01905     <a class="code" href="structcgns__conn.html">cgns_conn</a> *conn;
<a name="l01906"></a>01906 
<a name="l01907"></a>01907     cg = <a class="code" href="cgns__header_8h.html#64a13852e04666fc73b74a8ff7727f4f">cgi_get_file</a>(file_number);
<a name="l01908"></a>01908     <span class="keywordflow">if</span> (cg == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l01909"></a>01909 
<a name="l01910"></a>01910     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l01911"></a>01911 
<a name="l01912"></a>01912     conn = <a class="code" href="cgns__header_8h.html#a10f5ed577b1bc7ba5c9f0a10539e5d0">cgi_get_conn</a>(cg, B, Z, I);
<a name="l01913"></a>01913     <span class="keywordflow">if</span> (conn==0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l01914"></a>01914 
<a name="l01915"></a>01915     *conn_id = conn-&gt;<a class="code" href="structcgns__conn.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>;
<a name="l01916"></a>01916     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l01917"></a>01917 }
<a name="l01918"></a>01918 
<a name="l01919"></a>01919 <span class="comment">/*****************************************************************************\</span>
<a name="l01920"></a>01920 <span class="comment"> *         Inquiry Functions for GridConnectivity1to1_t Nodes</span>
<a name="l01921"></a>01921 <span class="comment">\*****************************************************************************/</span>
<a name="l01922"></a>01922 
<a name="l01923"></a><a class="code" href="cgnslib_8h.html#fb19670411eef7f67734c00fa6862bcd">01923</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#ff2d0c2c90ebef2bf8b104bdeb507ba7">cg_n1to1</a>(<span class="keywordtype">int</span> file_number, <span class="keywordtype">int</span> B, <span class="keywordtype">int</span> Z, <span class="keywordtype">int</span> *n1to1) {
<a name="l01924"></a>01924     <a class="code" href="structcgns__zconn.html">cgns_zconn</a> *zconn;
<a name="l01925"></a>01925 
<a name="l01926"></a>01926     cg = <a class="code" href="cgns__header_8h.html#64a13852e04666fc73b74a8ff7727f4f">cgi_get_file</a>(file_number);
<a name="l01927"></a>01927     <span class="keywordflow">if</span> (cg == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l01928"></a>01928 
<a name="l01929"></a>01929     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l01930"></a>01930 
<a name="l01931"></a>01931     zconn = <a class="code" href="cgns__header_8h.html#418258794e9a6f702e11ad14491c5d4c">cgi_get_zconn</a>(cg, B, Z);
<a name="l01932"></a>01932     <span class="keywordflow">if</span> (zconn==0) *n1to1 = 0;   <span class="comment">/* if ZoneGridConnectivity_t is undefined */</span>
<a name="l01933"></a>01933     <span class="keywordflow">else</span>          *n1to1 = zconn-&gt;<a class="code" href="structcgns__zconn.html#cd7dc7b507fb0a6956c6005a2d76a367">n1to1</a>;
<a name="l01934"></a>01934     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l01935"></a>01935 }
<a name="l01936"></a>01936 
<a name="l01937"></a><a class="code" href="cgnslib_8h.html#204768b2281d3bbd6a8cbf822f5905a1">01937</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#479afba15069fc233b09b6ffa4de6e59">cg_n1to1_global</a>(<span class="keywordtype">int</span> file_number, <span class="keywordtype">int</span> B, <span class="keywordtype">int</span> *n1to1_global) {
<a name="l01938"></a>01938     <a class="code" href="structcgns__base.html">cgns_base</a> *base;
<a name="l01939"></a>01939     <a class="code" href="structcgns__zone.html">cgns_zone</a> *zone;
<a name="l01940"></a>01940     <a class="code" href="structcgns__zconn.html">cgns_zconn</a> *zconn;
<a name="l01941"></a>01941     <span class="keywordtype">int</span> Z, I, D;
<a name="l01942"></a>01942     <a class="code" href="cgns__header_8h.html#fc1a88bfcbe04d3bd2edecac80d0c753">int_3</a> transform;
<a name="l01943"></a>01943     <a class="code" href="cgns__header_8h.html#c6d259105667d00f6dba12f7fcfea639">int_6</a> donor_range, range;
<a name="l01944"></a>01944     <a class="code" href="cgns__header_8h.html#3643549b6f6f5f037878b262787434c0">char_33</a> connectname, donorname;
<a name="l01945"></a>01945      <span class="comment">/* added for zones interfacing themselves (C-topology) */</span>
<a name="l01946"></a>01946     <span class="keywordtype">int</span> ndouble=0;
<a name="l01947"></a>01947     <a class="code" href="cgns__header_8h.html#3643549b6f6f5f037878b262787434c0">char_33</a> *Dzonename = 0;
<a name="l01948"></a>01948     <a class="code" href="cgns__header_8h.html#c6d259105667d00f6dba12f7fcfea639">int_6</a> *Drange = 0, *Ddonor_range = 0;
<a name="l01949"></a>01949     <span class="keywordtype">int</span> index_dim;
<a name="l01950"></a>01950 
<a name="l01951"></a>01951     cg = <a class="code" href="cgns__header_8h.html#64a13852e04666fc73b74a8ff7727f4f">cgi_get_file</a>(file_number);
<a name="l01952"></a>01952     <span class="keywordflow">if</span> (cg == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l01953"></a>01953 
<a name="l01954"></a>01954     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l01955"></a>01955 
<a name="l01956"></a>01956     base = <a class="code" href="cgns__header_8h.html#09d3b45ead80b0d2b1921ff6a1b1d3ae">cgi_get_base</a>(cg, B);
<a name="l01957"></a>01957     <span class="keywordflow">if</span> (base==0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l01958"></a>01958 
<a name="l01959"></a>01959     *n1to1_global = 0;
<a name="l01960"></a>01960     <span class="keywordflow">for</span> (Z=1; Z&lt;=base-&gt;<a class="code" href="structcgns__base.html#8ebd3b4b8ec8f082c7fceaad6ed6c68f">nzones</a>; Z++) {
<a name="l01961"></a>01961         zone = <a class="code" href="cgns__header_8h.html#5ce4ef97dee99baf9183b8c23419bfe0">cgi_get_zone</a>(cg, B, Z);
<a name="l01962"></a>01962         <span class="keywordflow">if</span> (zone==0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l01963"></a>01963         index_dim = zone-&gt;<a class="code" href="structcgns__zone.html#5ea7c3da009c9add916c0eeca1973c05">index_dim</a>;
<a name="l01964"></a>01964         zconn = <a class="code" href="cgns__header_8h.html#418258794e9a6f702e11ad14491c5d4c">cgi_get_zconn</a>(cg, B, Z);
<a name="l01965"></a>01965         <span class="keywordflow">if</span> (zconn==0) <span class="keywordflow">continue</span>; <span class="comment">/* if ZoneGridConnectivity_t is undefined */</span>
<a name="l01966"></a>01966         <span class="keywordflow">if</span> (zconn-&gt;<a class="code" href="structcgns__zconn.html#cd7dc7b507fb0a6956c6005a2d76a367">n1to1</a> ==0) <span class="keywordflow">continue</span>;
<a name="l01967"></a>01967         <span class="keywordflow">for</span> (I=1; I&lt;=zconn-&gt;<a class="code" href="structcgns__zconn.html#cd7dc7b507fb0a6956c6005a2d76a367">n1to1</a>; I++) {
<a name="l01968"></a>01968             <span class="keywordflow">if</span> (<a class="code" href="cgnslib_8c.html#bcb982ebc797da764c81e66d80abdddf">cg_1to1_read</a>(file_number, B, Z, I, connectname, donorname,
<a name="l01969"></a>01969                          range, donor_range, transform)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l01970"></a>01970             <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#65cb14df708e18c60a11a589d9881496">cgi_zone_no</a>(base, donorname, &amp;D)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l01971"></a>01971 
<a name="l01972"></a>01972              <span class="comment">/* count each interface only once */</span>
<a name="l01973"></a>01973             <span class="keywordflow">if</span> (Z&lt;D) (*n1to1_global)++;
<a name="l01974"></a>01974 
<a name="l01975"></a>01975              <span class="comment">/* Special treatment for zone interfacing itself */</span>
<a name="l01976"></a>01976             <span class="keywordflow">if</span> (Z==D) {
<a name="l01977"></a>01977              <span class="comment">/* if this interface is not yet recorded, add to list */</span>
<a name="l01978"></a>01978                 <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#a891a8634eb5aacc46f102e03c5c1845">cgi_add_czone</a>(zone-&gt;<a class="code" href="structcgns__zone.html#b5192b2e796e6224c74ec532ec32abf7">name</a>, range, donor_range, index_dim,
<a name="l01979"></a>01979                     &amp;ndouble, &amp;Dzonename, &amp;Drange, &amp;Ddonor_range)) {
<a name="l01980"></a>01980                     (*n1to1_global)++;
<a name="l01981"></a>01981                 }
<a name="l01982"></a>01982             }
<a name="l01983"></a>01983         }           <span class="comment">/* loop through interfaces of a zone */</span>
<a name="l01984"></a>01984     }           <span class="comment">/* loop through zones */</span>
<a name="l01985"></a>01985     <span class="keywordflow">if</span> (Dzonename) <a class="code" href="cg__malloc_8h.html#a7943e5d135734f6801bebcc37401fc0">free</a>(Dzonename);
<a name="l01986"></a>01986     <span class="keywordflow">if</span> (Drange) <a class="code" href="cg__malloc_8h.html#a7943e5d135734f6801bebcc37401fc0">free</a>(Drange);
<a name="l01987"></a>01987     <span class="keywordflow">if</span> (Ddonor_range) <a class="code" href="cg__malloc_8h.html#a7943e5d135734f6801bebcc37401fc0">free</a>(Ddonor_range);
<a name="l01988"></a>01988 
<a name="l01989"></a>01989     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l01990"></a>01990 }
<a name="l01991"></a>01991 
<a name="l01992"></a>01992 
<a name="l01993"></a><a class="code" href="cgnslib_8h.html#539f56af97e6c8645d754c3f4a531ec9">01993</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#bcb982ebc797da764c81e66d80abdddf">cg_1to1_read</a>(<span class="keywordtype">int</span> file_number, <span class="keywordtype">int</span> B, <span class="keywordtype">int</span> Z, <span class="keywordtype">int</span> I, <span class="keywordtype">char</span> *connectname,
<a name="l01994"></a>01994     <span class="keywordtype">char</span> *donorname, <span class="keywordtype">int</span> *range, <span class="keywordtype">int</span> *donor_range, <span class="keywordtype">int</span> *transform) {
<a name="l01995"></a>01995     <a class="code" href="structcgns__1to1.html">cgns_1to1</a> *one21;
<a name="l01996"></a>01996     <span class="keywordtype">int</span> <a class="code" href="namespacefmain.html#c6f559daa4a4864f2449315176500469">i</a>, index_dim;
<a name="l01997"></a>01997 
<a name="l01998"></a>01998 <span class="comment">/* in 2D, range[0], range[1] = imin, jmin</span>
<a name="l01999"></a>01999 <span class="comment">      range[2], range[3] = imax, jmax</span>
<a name="l02000"></a>02000 <span class="comment">   in 3D, range[0], range[1], range[2] = imin, jmin, kmin</span>
<a name="l02001"></a>02001 <span class="comment">      range[3], range[4], range[5] = imax, jmax, kmax</span>
<a name="l02002"></a>02002 <span class="comment"> */</span>
<a name="l02003"></a>02003     cg = <a class="code" href="cgns__header_8h.html#64a13852e04666fc73b74a8ff7727f4f">cgi_get_file</a>(file_number);
<a name="l02004"></a>02004     <span class="keywordflow">if</span> (cg == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l02005"></a>02005 
<a name="l02006"></a>02006     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l02007"></a>02007 
<a name="l02008"></a>02008     one21 = <a class="code" href="cgns__header_8h.html#18e480d1ce941ce320cedae7bfae7672">cgi_get_1to1</a>(cg, B, Z, I);
<a name="l02009"></a>02009     <span class="keywordflow">if</span> (one21==0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l02010"></a>02010 
<a name="l02011"></a>02011      <span class="comment">/* read pointset from ADF file */</span>
<a name="l02012"></a>02012     <span class="keywordflow">if</span> (one21-&gt;<a class="code" href="structcgns__1to1.html#3ef487d0a8936f384aa9c23652cd0cbb">ptset</a>.<a class="code" href="structcgns__ptset.html#0306378cd06415f84b10cb3d15516ec3">npts</a> &gt; 0) {
<a name="l02013"></a>02013         <span class="keywordflow">if</span> (<a class="code" href="cgns__io_8c.html#4ae7c787c3def6d3bbd675d83aab48e3">cgio_read_all_data</a>(cg-&gt;<a class="code" href="structcgns__file.html#98363ec7b27905dbf2c56c6a194c69cc">cgio</a>, one21-&gt;<a class="code" href="structcgns__1to1.html#3ef487d0a8936f384aa9c23652cd0cbb">ptset</a>.<a class="code" href="structcgns__ptset.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, (<span class="keywordtype">void</span> *)range)) {
<a name="l02014"></a>02014             <a class="code" href="cgns__error_8c.html#47dd09a377bc17d5807332f8c475a23b">cg_io_error</a>(<span class="stringliteral">"cgio_read_all_data"</span>);
<a name="l02015"></a>02015             <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l02016"></a>02016         }
<a name="l02017"></a>02017     } <span class="keywordflow">else</span> {
<a name="l02018"></a>02018         <a class="code" href="cgns__error_8c.html#80b531384954db3a50716628b982b94c">cgi_warning</a>(<span class="stringliteral">"1to1 interface %d (receiver side) for zone %d base % is undefined"</span>,
<a name="l02019"></a>02019             I,Z,B);
<a name="l02020"></a>02020     }
<a name="l02021"></a>02021 
<a name="l02022"></a>02022      <span class="comment">/* read donor pointset from ADF file */</span>
<a name="l02023"></a>02023     <span class="keywordflow">if</span> (one21-&gt;<a class="code" href="structcgns__1to1.html#44fbe065ea74769988785453c9fbd2c1">dptset</a>.<a class="code" href="structcgns__ptset.html#0306378cd06415f84b10cb3d15516ec3">npts</a> &gt; 0) {
<a name="l02024"></a>02024         <span class="keywordflow">if</span> (<a class="code" href="cgns__io_8c.html#4ae7c787c3def6d3bbd675d83aab48e3">cgio_read_all_data</a>(cg-&gt;<a class="code" href="structcgns__file.html#98363ec7b27905dbf2c56c6a194c69cc">cgio</a>, one21-&gt;<a class="code" href="structcgns__1to1.html#44fbe065ea74769988785453c9fbd2c1">dptset</a>.<a class="code" href="structcgns__ptset.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>,
<a name="l02025"></a>02025             (<span class="keywordtype">void</span> *)donor_range)) {
<a name="l02026"></a>02026             <a class="code" href="cgns__error_8c.html#47dd09a377bc17d5807332f8c475a23b">cg_io_error</a>(<span class="stringliteral">"cgio_read_all_data"</span>);
<a name="l02027"></a>02027             <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l02028"></a>02028         }
<a name="l02029"></a>02029     } <span class="keywordflow">else</span> {
<a name="l02030"></a>02030         <a class="code" href="cgns__error_8c.html#80b531384954db3a50716628b982b94c">cgi_warning</a>(<span class="stringliteral">"1to1 interface %d (donor side) for zone %d base % is undefined"</span>,
<a name="l02031"></a>02031             I,Z,B);
<a name="l02032"></a>02032     }
<a name="l02033"></a>02033 
<a name="l02034"></a>02034      <span class="comment">/* read transform from internal database */</span>
<a name="l02035"></a>02035     index_dim = cg-&gt;<a class="code" href="structcgns__file.html#0429392e9c26dac2f0b97ae2d2127117">base</a>[B-1].<a class="code" href="structcgns__base.html#abbb754f366f926198416ad91b8155ef">zone</a>[Z-1].<a class="code" href="structcgns__zone.html#5ea7c3da009c9add916c0eeca1973c05">index_dim</a>;
<a name="l02036"></a>02036     <span class="keywordflow">for</span> (i=0; i&lt;index_dim; i++) transform[i] = one21-&gt;<a class="code" href="structcgns__1to1.html#e1dbc61cf84fc5ad502744c57c7d884a">transform</a>[i];
<a name="l02037"></a>02037 
<a name="l02038"></a>02038     strcpy(connectname, one21-&gt;<a class="code" href="structcgns__1to1.html#b5192b2e796e6224c74ec532ec32abf7">name</a>);
<a name="l02039"></a>02039     strcpy(donorname, one21-&gt;<a class="code" href="structcgns__1to1.html#1c860db56de1c684b628662dc3c02c1b">donor</a>);
<a name="l02040"></a>02040     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l02041"></a>02041 }
<a name="l02042"></a>02042 
<a name="l02043"></a><a class="code" href="cgnslib_8h.html#3e3f457988f417307b24291103b2bdd1">02043</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#ab2b699859840bbe17ab9ee974e60e64">cg_1to1_read_global</a>(<span class="keywordtype">int</span> file_number, <span class="keywordtype">int</span> B, <span class="keywordtype">char</span> **connectname, <span class="keywordtype">char</span> **zonename,
<a name="l02044"></a>02044     <span class="keywordtype">char</span> **donorname, <span class="keywordtype">int</span> **range, <span class="keywordtype">int</span> **donor_range, <span class="keywordtype">int</span> **transform){
<a name="l02045"></a>02045 
<a name="l02046"></a>02046     <a class="code" href="structcgns__base.html">cgns_base</a> *base;
<a name="l02047"></a>02047     <a class="code" href="structcgns__zone.html">cgns_zone</a> *zone;
<a name="l02048"></a>02048     <a class="code" href="structcgns__zconn.html">cgns_zconn</a> *zconn;
<a name="l02049"></a>02049     <span class="keywordtype">int</span> Z, I, D, n=0, <a class="code" href="namespacefmain.html#3025f2b2bc0423c9a3a45cb7261e32eb">j</a>, index_dim;
<a name="l02050"></a>02050     <span class="keywordtype">char</span> connect[33], donor[33];
<a name="l02051"></a>02051     <span class="keywordtype">int</span> rang[6], drang[6], trans[6];
<a name="l02052"></a>02052      <span class="comment">/* added for zones interfacing themselves (C-topology) */</span>
<a name="l02053"></a>02053     <span class="keywordtype">int</span> ndouble=0;
<a name="l02054"></a>02054     <a class="code" href="cgns__header_8h.html#3643549b6f6f5f037878b262787434c0">char_33</a> *Dzonename = 0;
<a name="l02055"></a>02055     <a class="code" href="cgns__header_8h.html#c6d259105667d00f6dba12f7fcfea639">int_6</a> *Drange = 0, *Ddonor_range = 0;
<a name="l02056"></a>02056 
<a name="l02057"></a>02057     cg = <a class="code" href="cgns__header_8h.html#64a13852e04666fc73b74a8ff7727f4f">cgi_get_file</a>(file_number);
<a name="l02058"></a>02058     <span class="keywordflow">if</span> (cg == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l02059"></a>02059 
<a name="l02060"></a>02060     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l02061"></a>02061 
<a name="l02062"></a>02062     base = <a class="code" href="cgns__header_8h.html#09d3b45ead80b0d2b1921ff6a1b1d3ae">cgi_get_base</a>(cg, B);
<a name="l02063"></a>02063     <span class="keywordflow">if</span> (base==0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l02064"></a>02064 
<a name="l02065"></a>02065     <span class="keywordflow">for</span> (Z=1; Z&lt;=base-&gt;<a class="code" href="structcgns__base.html#8ebd3b4b8ec8f082c7fceaad6ed6c68f">nzones</a>; Z++) {
<a name="l02066"></a>02066         zone = <a class="code" href="cgns__header_8h.html#5ce4ef97dee99baf9183b8c23419bfe0">cgi_get_zone</a>(cg, B, Z);
<a name="l02067"></a>02067         <span class="keywordflow">if</span> (zone-&gt;<a class="code" href="structcgns__zone.html#70e3228eb924895531acd9144d41916f">type</a>==<a class="code" href="cgns_keywords_8h.html#68acb02e36b91d3020f4de86436a07fedef7de5f4ce5345ffd8e2726df46e388">Unstructured</a>) {
<a name="l02068"></a>02068             <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"GridConnectivity1to1 is only applicable to structured zones."</span>);
<a name="l02069"></a>02069             <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l02070"></a>02070         }
<a name="l02071"></a>02071         index_dim = zone-&gt;<a class="code" href="structcgns__zone.html#5ea7c3da009c9add916c0eeca1973c05">index_dim</a>;
<a name="l02072"></a>02072         zconn = <a class="code" href="cgns__header_8h.html#418258794e9a6f702e11ad14491c5d4c">cgi_get_zconn</a>(cg, B, Z);
<a name="l02073"></a>02073         <span class="keywordflow">if</span> (zconn==0) <span class="keywordflow">continue</span>; <span class="comment">/* if ZoneGridConnectivity_t is undefined */</span>
<a name="l02074"></a>02074         <span class="keywordflow">if</span> (zconn-&gt;<a class="code" href="structcgns__zconn.html#cd7dc7b507fb0a6956c6005a2d76a367">n1to1</a> ==0) <span class="keywordflow">continue</span>;
<a name="l02075"></a>02075         <span class="keywordflow">for</span> (I=1; I&lt;=zconn-&gt;<a class="code" href="structcgns__zconn.html#cd7dc7b507fb0a6956c6005a2d76a367">n1to1</a>; I++) {
<a name="l02076"></a>02076             <span class="keywordflow">if</span> (<a class="code" href="cgnslib_8c.html#bcb982ebc797da764c81e66d80abdddf">cg_1to1_read</a>(file_number, B, Z, I, connect, donor, rang,
<a name="l02077"></a>02077                 drang, trans)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l02078"></a>02078             <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#65cb14df708e18c60a11a589d9881496">cgi_zone_no</a>(base, donor, &amp;D)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l02079"></a>02079              <span class="comment">/* count each interface only once */</span>
<a name="l02080"></a>02080             <span class="keywordflow">if</span> (Z&lt;D || (Z==D &amp;&amp; <a class="code" href="cgns__header_8h.html#a891a8634eb5aacc46f102e03c5c1845">cgi_add_czone</a>(zone-&gt;<a class="code" href="structcgns__zone.html#b5192b2e796e6224c74ec532ec32abf7">name</a>, rang, drang, index_dim,
<a name="l02081"></a>02081                 &amp;ndouble, &amp;Dzonename, &amp;Drange, &amp;Ddonor_range))) {
<a name="l02082"></a>02082                 strcpy(connectname[n], connect);
<a name="l02083"></a>02083                 strcpy(zonename[n],zone-&gt;<a class="code" href="structcgns__zone.html#b5192b2e796e6224c74ec532ec32abf7">name</a>);
<a name="l02084"></a>02084                 strcpy(donorname[n], donor);
<a name="l02085"></a>02085                 <span class="keywordflow">for</span> (<a class="code" href="namespacefmain.html#3025f2b2bc0423c9a3a45cb7261e32eb">j</a>=0; <a class="code" href="namespacefmain.html#3025f2b2bc0423c9a3a45cb7261e32eb">j</a>&lt;index_dim; <a class="code" href="namespacefmain.html#3025f2b2bc0423c9a3a45cb7261e32eb">j</a>++) {
<a name="l02086"></a>02086                     range[n][<a class="code" href="namespacefmain.html#3025f2b2bc0423c9a3a45cb7261e32eb">j</a>]= rang[<a class="code" href="namespacefmain.html#3025f2b2bc0423c9a3a45cb7261e32eb">j</a>];
<a name="l02087"></a>02087                     range[n][<a class="code" href="namespacefmain.html#3025f2b2bc0423c9a3a45cb7261e32eb">j</a>+index_dim]= rang[<a class="code" href="namespacefmain.html#3025f2b2bc0423c9a3a45cb7261e32eb">j</a>+index_dim];
<a name="l02088"></a>02088                     donor_range[n][<a class="code" href="namespacefmain.html#3025f2b2bc0423c9a3a45cb7261e32eb">j</a>]= drang[<a class="code" href="namespacefmain.html#3025f2b2bc0423c9a3a45cb7261e32eb">j</a>];
<a name="l02089"></a>02089                     donor_range[n][<a class="code" href="namespacefmain.html#3025f2b2bc0423c9a3a45cb7261e32eb">j</a>+index_dim]= drang[<a class="code" href="namespacefmain.html#3025f2b2bc0423c9a3a45cb7261e32eb">j</a>+index_dim];
<a name="l02090"></a>02090                     transform[n][<a class="code" href="namespacefmain.html#3025f2b2bc0423c9a3a45cb7261e32eb">j</a>] = trans[<a class="code" href="namespacefmain.html#3025f2b2bc0423c9a3a45cb7261e32eb">j</a>];
<a name="l02091"></a>02091                 }
<a name="l02092"></a>02092                 n++;
<a name="l02093"></a>02093             }
<a name="l02094"></a>02094         }
<a name="l02095"></a>02095     }
<a name="l02096"></a>02096     <span class="keywordflow">if</span> (Dzonename) <a class="code" href="cg__malloc_8h.html#a7943e5d135734f6801bebcc37401fc0">free</a>(Dzonename);
<a name="l02097"></a>02097     <span class="keywordflow">if</span> (Drange) <a class="code" href="cg__malloc_8h.html#a7943e5d135734f6801bebcc37401fc0">free</a>(Drange);
<a name="l02098"></a>02098     <span class="keywordflow">if</span> (Ddonor_range) <a class="code" href="cg__malloc_8h.html#a7943e5d135734f6801bebcc37401fc0">free</a>(Ddonor_range);
<a name="l02099"></a>02099     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l02100"></a>02100 }
<a name="l02101"></a>02101 
<a name="l02102"></a><a class="code" href="cgnslib_8h.html#d9fb4daeeb4567342916a4b7513cceee">02102</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#c567455e14bd4f07467d19068b0533f0">cg_1to1_id</a>(<span class="keywordtype">int</span> file_number, <span class="keywordtype">int</span> B, <span class="keywordtype">int</span> Z, <span class="keywordtype">int</span> I, <span class="keywordtype">double</span> *one21_id) {
<a name="l02103"></a>02103     <a class="code" href="structcgns__1to1.html">cgns_1to1</a> *one21;
<a name="l02104"></a>02104 
<a name="l02105"></a>02105     cg = <a class="code" href="cgns__header_8h.html#64a13852e04666fc73b74a8ff7727f4f">cgi_get_file</a>(file_number);
<a name="l02106"></a>02106     <span class="keywordflow">if</span> (cg == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l02107"></a>02107 
<a name="l02108"></a>02108     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l02109"></a>02109 
<a name="l02110"></a>02110     one21 = <a class="code" href="cgns__header_8h.html#18e480d1ce941ce320cedae7bfae7672">cgi_get_1to1</a>(cg, B, Z, I);
<a name="l02111"></a>02111     <span class="keywordflow">if</span> (one21==0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l02112"></a>02112 
<a name="l02113"></a>02113     *one21_id = one21-&gt;<a class="code" href="structcgns__1to1.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>;
<a name="l02114"></a>02114     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l02115"></a>02115 }
<a name="l02116"></a>02116 
<a name="l02117"></a>02117 <span class="comment">/*****************************************************************************\</span>
<a name="l02118"></a>02118 <span class="comment"> *          Inquiry Functions for BC_t Nodes</span>
<a name="l02119"></a>02119 <span class="comment">\*****************************************************************************/</span>
<a name="l02120"></a>02120 
<a name="l02121"></a><a class="code" href="cgnslib_8h.html#e1edf66696b85a3873608f273dc818cf">02121</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#5253ffcc6485261ba8d04610ab169d66">cg_nbocos</a>(<span class="keywordtype">int</span> file_number, <span class="keywordtype">int</span> B, <span class="keywordtype">int</span> Z, <span class="keywordtype">int</span> *nbocos) {
<a name="l02122"></a>02122     <a class="code" href="structcgns__zboco.html">cgns_zboco</a> *zboco;
<a name="l02123"></a>02123 
<a name="l02124"></a>02124     cg = <a class="code" href="cgns__header_8h.html#64a13852e04666fc73b74a8ff7727f4f">cgi_get_file</a>(file_number);
<a name="l02125"></a>02125     <span class="keywordflow">if</span> (cg == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l02126"></a>02126 
<a name="l02127"></a>02127     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l02128"></a>02128 
<a name="l02129"></a>02129     zboco = <a class="code" href="cgns__header_8h.html#47c43af61ae8e4de20f5bfbb4af27b6b">cgi_get_zboco</a>(cg, B, Z);
<a name="l02130"></a>02130     <span class="keywordflow">if</span> (zboco==0) *nbocos = 0;  <span class="comment">/* if ZoneBC_t is undefined */</span>
<a name="l02131"></a>02131     <span class="keywordflow">else</span>          *nbocos = zboco-&gt;<a class="code" href="structcgns__zboco.html#9df6a136243e878051f1329b2177dba2">nbocos</a>;
<a name="l02132"></a>02132     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l02133"></a>02133 }
<a name="l02134"></a>02134 
<a name="l02135"></a><a class="code" href="cgnslib_8h.html#c1dc6830cfcdb7247272ffe8334ab1ab">02135</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#6000dfe7f9eb8163ca59443d1124498f">cg_boco_info</a>(<span class="keywordtype">int</span> file_number, <span class="keywordtype">int</span> B, <span class="keywordtype">int</span> Z, <span class="keywordtype">int</span> BC, <span class="keywordtype">char</span> *boconame,
<a name="l02136"></a>02136     <a class="code" href="cgns_keywords_8h.html#44b677e45de9f4d98475b69a56eec4e1">BCType_t</a> *bocotype, <a class="code" href="cgns_keywords_8h.html#82fcf406991383f888f145541f6616f5">PointSetType_t</a> *ptset_type, <span class="keywordtype">int</span> *<a class="code" href="write__bcdata_8c.html#5444c4f4b8152e0b11ea6acae6b6de2a">npnts</a>,
<a name="l02137"></a>02137     <span class="keywordtype">int</span> *NormalIndex, <span class="keywordtype">int</span> *NormalListFlag, <a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae">DataType_t</a> *NormalDataType,
<a name="l02138"></a>02138     <span class="keywordtype">int</span> *ndataset) {
<a name="l02139"></a>02139 
<a name="l02140"></a>02140     <a class="code" href="structcgns__boco.html">cgns_boco</a> *boco;
<a name="l02141"></a>02141     <span class="keywordtype">int</span> n, index_dim;
<a name="l02142"></a>02142 
<a name="l02143"></a>02143     cg = <a class="code" href="cgns__header_8h.html#64a13852e04666fc73b74a8ff7727f4f">cgi_get_file</a>(file_number);
<a name="l02144"></a>02144     <span class="keywordflow">if</span> (cg == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l02145"></a>02145 
<a name="l02146"></a>02146     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l02147"></a>02147 
<a name="l02148"></a>02148     boco = <a class="code" href="cgns__header_8h.html#7686b8c1f9d6eab108c07efd2288a299">cgi_get_boco</a>(cg, B, Z, BC);
<a name="l02149"></a>02149     <span class="keywordflow">if</span> (boco==0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l02150"></a>02150 
<a name="l02151"></a>02151     strcpy(boconame,boco-&gt;<a class="code" href="structcgns__boco.html#b5192b2e796e6224c74ec532ec32abf7">name</a>);
<a name="l02152"></a>02152     *bocotype = boco-&gt;<a class="code" href="structcgns__boco.html#3559c6e2ba54cdf205f7b0229c1f43de">type</a>;
<a name="l02153"></a>02153     <span class="keywordflow">if</span> (boco-&gt;<a class="code" href="structcgns__boco.html#8b7e2cc8709c8363359a7b3f8dba99c1">ptset</a>) {
<a name="l02154"></a>02154         *ptset_type = boco-&gt;<a class="code" href="structcgns__boco.html#8b7e2cc8709c8363359a7b3f8dba99c1">ptset</a>-&gt;<a class="code" href="structcgns__ptset.html#5aec710ee64d19d29072491968901bb5">type</a>;
<a name="l02155"></a>02155         *npnts = boco-&gt;<a class="code" href="structcgns__boco.html#8b7e2cc8709c8363359a7b3f8dba99c1">ptset</a>-&gt;<a class="code" href="structcgns__ptset.html#0306378cd06415f84b10cb3d15516ec3">npts</a>;
<a name="l02156"></a>02156     }
<a name="l02157"></a>02157     <span class="keywordflow">else</span> {
<a name="l02158"></a>02158         *ptset_type = <a class="code" href="cgns_keywords_8h.html#82fcf406991383f888f145541f6616f5d798d4e83da7be175c4bd0dcc0be0a84">PointSetTypeNull</a>;
<a name="l02159"></a>02159         *npnts = 0;
<a name="l02160"></a>02160     }
<a name="l02161"></a>02161 
<a name="l02162"></a>02162     index_dim = cg-&gt;<a class="code" href="structcgns__file.html#0429392e9c26dac2f0b97ae2d2127117">base</a>[B-1].<a class="code" href="structcgns__base.html#abbb754f366f926198416ad91b8155ef">zone</a>[Z-1].<a class="code" href="structcgns__zone.html#5ea7c3da009c9add916c0eeca1973c05">index_dim</a>;
<a name="l02163"></a>02163     <span class="keywordflow">if</span> (NormalIndex) {
<a name="l02164"></a>02164         <span class="keywordflow">if</span> (boco-&gt;<a class="code" href="structcgns__boco.html#c82853e05a91f5be1f4d8cd1176df05b">Nindex</a>) {
<a name="l02165"></a>02165             <span class="keywordflow">for</span> (n=0; n&lt;index_dim; n++)
<a name="l02166"></a>02166                 NormalIndex[n]=boco-&gt;<a class="code" href="structcgns__boco.html#c82853e05a91f5be1f4d8cd1176df05b">Nindex</a>[n];
<a name="l02167"></a>02167         } <span class="keywordflow">else</span> {
<a name="l02168"></a>02168             <span class="keywordflow">for</span> (n=0; n&lt;index_dim; n++)
<a name="l02169"></a>02169                 NormalIndex[n]=0;
<a name="l02170"></a>02170         }
<a name="l02171"></a>02171     }
<a name="l02172"></a>02172     <span class="keywordflow">if</span> (boco-&gt;<a class="code" href="structcgns__boco.html#768ab32276e8694960d095f945951a26">normal</a> &amp;&amp; boco-&gt;<a class="code" href="structcgns__boco.html#8b7e2cc8709c8363359a7b3f8dba99c1">ptset</a>) {
<a name="l02173"></a>02173         *NormalListFlag=boco-&gt;<a class="code" href="structcgns__boco.html#8b7e2cc8709c8363359a7b3f8dba99c1">ptset</a>-&gt;<a class="code" href="structcgns__ptset.html#e2b9734c6e30fe18058a373b8aad77a2">size_of_patch</a>*cg-&gt;<a class="code" href="structcgns__file.html#0429392e9c26dac2f0b97ae2d2127117">base</a>[B-1].<a class="code" href="structcgns__base.html#f210aa767697826c3dc29cfb2ffec256">phys_dim</a>;
<a name="l02174"></a>02174         *NormalDataType = <a class="code" href="cgns__header_8h.html#24e3b83316ff66e5d321d73ee64319f2">cgi_datatype</a>(boco-&gt;<a class="code" href="structcgns__boco.html#768ab32276e8694960d095f945951a26">normal</a>-&gt;<a class="code" href="structcgns__array.html#86e4d546d1321bcac60584c413eb0f6d">data_type</a>);
<a name="l02175"></a>02175     } <span class="keywordflow">else</span> {
<a name="l02176"></a>02176         *NormalListFlag=0;
<a name="l02177"></a>02177         *NormalDataType=<a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae812979fbc1a2dc328c8d833f685d1142">DataTypeNull</a>;
<a name="l02178"></a>02178     }
<a name="l02179"></a>02179     *ndataset = boco-&gt;<a class="code" href="structcgns__boco.html#64ec9db7756548dd7935ab504da21bfe">ndataset</a>;
<a name="l02180"></a>02180 
<a name="l02181"></a>02181     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l02182"></a>02182 }
<a name="l02183"></a>02183 
<a name="l02184"></a><a class="code" href="cgnslib_8h.html#b79793345b95200fbf2b9dafc19c6e80">02184</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#9709eff3de1a02677bc23eb414914d7b">cg_boco_read</a>(<span class="keywordtype">int</span> file_number, <span class="keywordtype">int</span> B, <span class="keywordtype">int</span> Z, <span class="keywordtype">int</span> BC, <span class="keywordtype">int</span> *<a class="code" href="write__bcdata_8c.html#5e162cfaac90b1bb6effc1042b58b64e">pnts</a>, <span class="keywordtype">void</span> *NormalList) {
<a name="l02185"></a>02185     <a class="code" href="structcgns__boco.html">cgns_boco</a> *boco;
<a name="l02186"></a>02186     <span class="keywordtype">int</span> phys_dim;
<a name="l02187"></a>02187 
<a name="l02188"></a>02188     cg = <a class="code" href="cgns__header_8h.html#64a13852e04666fc73b74a8ff7727f4f">cgi_get_file</a>(file_number);
<a name="l02189"></a>02189     <span class="keywordflow">if</span> (cg == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l02190"></a>02190 
<a name="l02191"></a>02191     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l02192"></a>02192 
<a name="l02193"></a>02193     boco = <a class="code" href="cgns__header_8h.html#7686b8c1f9d6eab108c07efd2288a299">cgi_get_boco</a>(cg, B, Z, BC);
<a name="l02194"></a>02194     <span class="keywordflow">if</span> (boco==0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l02195"></a>02195 
<a name="l02196"></a>02196      <span class="comment">/* Read point-set directly from ADF-file */</span>
<a name="l02197"></a>02197     <span class="keywordflow">if</span> (boco-&gt;<a class="code" href="structcgns__boco.html#8b7e2cc8709c8363359a7b3f8dba99c1">ptset</a> &amp;&amp; boco-&gt;<a class="code" href="structcgns__boco.html#8b7e2cc8709c8363359a7b3f8dba99c1">ptset</a>-&gt;<a class="code" href="structcgns__ptset.html#0306378cd06415f84b10cb3d15516ec3">npts</a>&gt;0) {
<a name="l02198"></a>02198         <span class="keywordflow">if</span> (<a class="code" href="cgns__io_8c.html#4ae7c787c3def6d3bbd675d83aab48e3">cgio_read_all_data</a>(cg-&gt;<a class="code" href="structcgns__file.html#98363ec7b27905dbf2c56c6a194c69cc">cgio</a>, boco-&gt;<a class="code" href="structcgns__boco.html#8b7e2cc8709c8363359a7b3f8dba99c1">ptset</a>-&gt;<a class="code" href="structcgns__ptset.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, (<span class="keywordtype">void</span> *)pnts)) {
<a name="l02199"></a>02199             <a class="code" href="cgns__error_8c.html#47dd09a377bc17d5807332f8c475a23b">cg_io_error</a>(<span class="stringliteral">"cgio_read_all_data"</span>);
<a name="l02200"></a>02200             <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l02201"></a>02201         }
<a name="l02202"></a>02202     } <span class="keywordflow">else</span> {
<a name="l02203"></a>02203         <a class="code" href="cgns__error_8c.html#80b531384954db3a50716628b982b94c">cgi_warning</a>(<span class="stringliteral">"B.C. patch %d of zone %d base %d is undefined"</span>,
<a name="l02204"></a>02204             BC, Z, B);
<a name="l02205"></a>02205     }
<a name="l02206"></a>02206 
<a name="l02207"></a>02207      <span class="comment">/* if it exists, read NormalList */</span>
<a name="l02208"></a>02208     phys_dim=cg-&gt;<a class="code" href="structcgns__file.html#0429392e9c26dac2f0b97ae2d2127117">base</a>[B-1].<a class="code" href="structcgns__base.html#f210aa767697826c3dc29cfb2ffec256">phys_dim</a>;
<a name="l02209"></a>02209     <span class="keywordflow">if</span> (NormalList &amp;&amp; boco-&gt;<a class="code" href="structcgns__boco.html#768ab32276e8694960d095f945951a26">normal</a> &amp;&amp; boco-&gt;<a class="code" href="structcgns__boco.html#8b7e2cc8709c8363359a7b3f8dba99c1">ptset</a> &amp;&amp; boco-&gt;<a class="code" href="structcgns__boco.html#8b7e2cc8709c8363359a7b3f8dba99c1">ptset</a>-&gt;<a class="code" href="structcgns__ptset.html#0306378cd06415f84b10cb3d15516ec3">npts</a>&gt;0) {
<a name="l02210"></a>02210         memcpy(NormalList, boco-&gt;<a class="code" href="structcgns__boco.html#768ab32276e8694960d095f945951a26">normal</a>-&gt;<a class="code" href="structcgns__array.html#735984d41155bc1032e09bece8f8d66d">data</a>,
<a name="l02211"></a>02211         boco-&gt;<a class="code" href="structcgns__boco.html#8b7e2cc8709c8363359a7b3f8dba99c1">ptset</a>-&gt;<a class="code" href="structcgns__ptset.html#e2b9734c6e30fe18058a373b8aad77a2">size_of_patch</a>*phys_dim*<a class="code" href="cgns__header_8h.html#c7abea28547e8f0f35e8eaa9d3048889">size_of</a>(boco-&gt;<a class="code" href="structcgns__boco.html#768ab32276e8694960d095f945951a26">normal</a>-&gt;<a class="code" href="structcgns__array.html#86e4d546d1321bcac60584c413eb0f6d">data_type</a>));
<a name="l02212"></a>02212     }
<a name="l02213"></a>02213 
<a name="l02214"></a>02214     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l02215"></a>02215 }
<a name="l02216"></a>02216 
<a name="l02217"></a><a class="code" href="cgnslib_8h.html#72a85dd5fc3386a304b8738dca5ed51a">02217</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#cdfec4ed1d6d86dbe06f57d8586f5d59">cg_boco_id</a>(<span class="keywordtype">int</span> file_number, <span class="keywordtype">int</span> B, <span class="keywordtype">int</span> Z, <span class="keywordtype">int</span> BC, <span class="keywordtype">double</span> *boco_id) {
<a name="l02218"></a>02218     <a class="code" href="structcgns__boco.html">cgns_boco</a> *boco;
<a name="l02219"></a>02219 
<a name="l02220"></a>02220     cg = <a class="code" href="cgns__header_8h.html#64a13852e04666fc73b74a8ff7727f4f">cgi_get_file</a>(file_number);
<a name="l02221"></a>02221     <span class="keywordflow">if</span> (cg == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l02222"></a>02222 
<a name="l02223"></a>02223     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l02224"></a>02224 
<a name="l02225"></a>02225     boco = <a class="code" href="cgns__header_8h.html#7686b8c1f9d6eab108c07efd2288a299">cgi_get_boco</a>(cg, B, Z, BC);
<a name="l02226"></a>02226     <span class="keywordflow">if</span> (boco==0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l02227"></a>02227 
<a name="l02228"></a>02228     *boco_id = boco-&gt;<a class="code" href="structcgns__boco.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>;
<a name="l02229"></a>02229     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l02230"></a>02230 }
<a name="l02231"></a>02231 
<a name="l02232"></a>02232 <span class="comment">/*****************************************************************************\</span>
<a name="l02233"></a>02233 <span class="comment"> *          Inquiry Functions for BCDataSet_t Nodes</span>
<a name="l02234"></a>02234 <span class="comment">\*****************************************************************************/</span>
<a name="l02235"></a>02235 
<a name="l02236"></a><a class="code" href="cgnslib_8h.html#a9337e1a108e780b04f931cee6d0e74f">02236</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#8f52911496011c3905de9a130703cf02">cg_dataset_read</a>(<span class="keywordtype">int</span> file_number, <span class="keywordtype">int</span> B, <span class="keywordtype">int</span> Z, <span class="keywordtype">int</span> BC, <span class="keywordtype">int</span> DSet, <span class="keywordtype">char</span> *name,
<a name="l02237"></a>02237      <a class="code" href="cgns_keywords_8h.html#44b677e45de9f4d98475b69a56eec4e1">BCType_t</a> *BCType, <span class="keywordtype">int</span> *DirichletFlag, <span class="keywordtype">int</span> *NeumannFlag) {
<a name="l02238"></a>02238 
<a name="l02239"></a>02239     <a class="code" href="structcgns__dataset.html">cgns_dataset</a> *dataset;
<a name="l02240"></a>02240 
<a name="l02241"></a>02241     cg = <a class="code" href="cgns__header_8h.html#64a13852e04666fc73b74a8ff7727f4f">cgi_get_file</a>(file_number);
<a name="l02242"></a>02242     <span class="keywordflow">if</span> (cg == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l02243"></a>02243 
<a name="l02244"></a>02244     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l02245"></a>02245 
<a name="l02246"></a>02246     dataset = <a class="code" href="cgns__header_8h.html#24559a058d39f10b3c3a0448dd4b41f3">cgi_get_dataset</a>(cg, B, Z, BC, DSet);
<a name="l02247"></a>02247     <span class="keywordflow">if</span> (dataset==0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l02248"></a>02248 
<a name="l02249"></a>02249     strcpy(name, dataset-&gt;<a class="code" href="structcgns__dataset.html#b5192b2e796e6224c74ec532ec32abf7">name</a>);
<a name="l02250"></a>02250     *BCType = dataset-&gt;<a class="code" href="structcgns__dataset.html#3559c6e2ba54cdf205f7b0229c1f43de">type</a>;
<a name="l02251"></a>02251     <span class="keywordflow">if</span> (dataset-&gt;<a class="code" href="structcgns__dataset.html#48997bc56a21c2c5ea2b12a397067609">dirichlet</a>) *DirichletFlag=1;
<a name="l02252"></a>02252     <span class="keywordflow">else</span>                    *DirichletFlag=0;
<a name="l02253"></a>02253     <span class="keywordflow">if</span> (dataset-&gt;<a class="code" href="structcgns__dataset.html#9e5bbe656ff3e9bd4e5c6d0c29ade2a9">neumann</a>) *NeumannFlag=1;
<a name="l02254"></a>02254     <span class="keywordflow">else</span>                  *NeumannFlag=0;
<a name="l02255"></a>02255 
<a name="l02256"></a>02256     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l02257"></a>02257 }
<a name="l02258"></a>02258 
<a name="l02259"></a>02259 <span class="comment">/*****************************************************************************\</span>
<a name="l02260"></a>02260 <span class="comment"> *         Inquiry Functions for RigidGridMotion_t Nodes</span>
<a name="l02261"></a>02261 <span class="comment">\*****************************************************************************/</span>
<a name="l02262"></a>02262 
<a name="l02263"></a><a class="code" href="cgnslib_8h.html#28a25ece16335b7a0b1188ec1dfafad2">02263</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#8e71298fc994055ae2310c8c4b3c1c68">cg_n_rigid_motions</a>(<span class="keywordtype">int</span> file_number, <span class="keywordtype">int</span> B, <span class="keywordtype">int</span> Z, <span class="keywordtype">int</span> *n_rigid_motions) {
<a name="l02264"></a>02264     <a class="code" href="structcgns__zone.html">cgns_zone</a> *zone;
<a name="l02265"></a>02265 
<a name="l02266"></a>02266     cg = <a class="code" href="cgns__header_8h.html#64a13852e04666fc73b74a8ff7727f4f">cgi_get_file</a>(file_number);
<a name="l02267"></a>02267     <span class="keywordflow">if</span> (cg == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l02268"></a>02268 
<a name="l02269"></a>02269     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l02270"></a>02270 
<a name="l02271"></a>02271     zone = <a class="code" href="cgns__header_8h.html#5ce4ef97dee99baf9183b8c23419bfe0">cgi_get_zone</a>(cg, B, Z);
<a name="l02272"></a>02272     <span class="keywordflow">if</span> (zone==0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l02273"></a>02273 
<a name="l02274"></a>02274     *n_rigid_motions = zone-&gt;<a class="code" href="structcgns__zone.html#d0036d257ee12062924b4a9572b612d1">nrmotions</a>;
<a name="l02275"></a>02275 
<a name="l02276"></a>02276     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l02277"></a>02277 }
<a name="l02278"></a>02278 
<a name="l02279"></a><a class="code" href="cgnslib_8h.html#ae80e7e9e6249a3fbcbddf24498f9cc1">02279</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#d9a9c0df999939685fac9e6c0e689e40">cg_rigid_motion_read</a>(<span class="keywordtype">int</span> file_number, <span class="keywordtype">int</span> B, <span class="keywordtype">int</span> Z, <span class="keywordtype">int</span> R, <span class="keywordtype">char</span> *name,
<a name="l02280"></a>02280     <a class="code" href="cgns_keywords_8h.html#a602987845520a58bcd078d161445d92">RigidGridMotionType_t</a> *type) {
<a name="l02281"></a>02281 
<a name="l02282"></a>02282     <a class="code" href="structcgns__rmotion.html">cgns_rmotion</a> *rmotion;
<a name="l02283"></a>02283 
<a name="l02284"></a>02284     cg = <a class="code" href="cgns__header_8h.html#64a13852e04666fc73b74a8ff7727f4f">cgi_get_file</a>(file_number);
<a name="l02285"></a>02285     <span class="keywordflow">if</span> (cg == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l02286"></a>02286 
<a name="l02287"></a>02287     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l02288"></a>02288 
<a name="l02289"></a>02289     rmotion = <a class="code" href="cgns__header_8h.html#14e394b32ab71a3447775bfa7a759cd0">cgi_get_rmotion</a>(cg, B, Z, R);
<a name="l02290"></a>02290     <span class="keywordflow">if</span> (rmotion==0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l02291"></a>02291 
<a name="l02292"></a>02292     strcpy(name, rmotion-&gt;<a class="code" href="structcgns__rmotion.html#b5192b2e796e6224c74ec532ec32abf7">name</a>);
<a name="l02293"></a>02293     *type = rmotion-&gt;<a class="code" href="structcgns__rmotion.html#b98187d53062a3d355c70fe85a3a6853">type</a>;
<a name="l02294"></a>02294 
<a name="l02295"></a>02295     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l02296"></a>02296 }
<a name="l02297"></a>02297 
<a name="l02298"></a>02298 <span class="comment">/*****************************************************************************\</span>
<a name="l02299"></a>02299 <span class="comment"> *      Inquiry Functions for ArbitraryGridMotion_t Nodes</span>
<a name="l02300"></a>02300 <span class="comment">\*****************************************************************************/</span>
<a name="l02301"></a>02301 
<a name="l02302"></a><a class="code" href="cgnslib_8h.html#c924a5cfd94383ea88fa6a021ba38113">02302</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#246157e41e5ad37cd083bc0f9a7476ce">cg_n_arbitrary_motions</a>(<span class="keywordtype">int</span> file_number, <span class="keywordtype">int</span> B, <span class="keywordtype">int</span> Z, <span class="keywordtype">int</span> *n_arbitrary_motions) {
<a name="l02303"></a>02303     <a class="code" href="structcgns__zone.html">cgns_zone</a> *zone;
<a name="l02304"></a>02304 
<a name="l02305"></a>02305     cg = <a class="code" href="cgns__header_8h.html#64a13852e04666fc73b74a8ff7727f4f">cgi_get_file</a>(file_number);
<a name="l02306"></a>02306     <span class="keywordflow">if</span> (cg == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l02307"></a>02307 
<a name="l02308"></a>02308     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l02309"></a>02309 
<a name="l02310"></a>02310     zone = <a class="code" href="cgns__header_8h.html#5ce4ef97dee99baf9183b8c23419bfe0">cgi_get_zone</a>(cg, B, Z);
<a name="l02311"></a>02311     <span class="keywordflow">if</span> (zone==0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l02312"></a>02312 
<a name="l02313"></a>02313     *n_arbitrary_motions = zone-&gt;<a class="code" href="structcgns__zone.html#561728a84e0ab332200506a1a6daa57d">namotions</a>;
<a name="l02314"></a>02314 
<a name="l02315"></a>02315     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l02316"></a>02316 }
<a name="l02317"></a>02317 
<a name="l02318"></a><a class="code" href="cgnslib_8h.html#a4abdbb0fbd4e32ed06f251970017b97">02318</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#80cd4533e894bd61a1ccb82a87d1b417">cg_arbitrary_motion_read</a>(<span class="keywordtype">int</span> file_number, <span class="keywordtype">int</span> B, <span class="keywordtype">int</span> Z, <span class="keywordtype">int</span> A, <span class="keywordtype">char</span> *name,
<a name="l02319"></a>02319     <a class="code" href="cgns_keywords_8h.html#7c3ea967ff670b6a0961dcb231d4739c">ArbitraryGridMotionType_t</a> *type) {
<a name="l02320"></a>02320 
<a name="l02321"></a>02321     <a class="code" href="structcgns__amotion.html">cgns_amotion</a> *amotion;
<a name="l02322"></a>02322 
<a name="l02323"></a>02323     cg = <a class="code" href="cgns__header_8h.html#64a13852e04666fc73b74a8ff7727f4f">cgi_get_file</a>(file_number);
<a name="l02324"></a>02324     <span class="keywordflow">if</span> (cg == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l02325"></a>02325 
<a name="l02326"></a>02326     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l02327"></a>02327 
<a name="l02328"></a>02328     amotion = <a class="code" href="cgns__header_8h.html#e4345bb62cd3d393b766f9f82a0db3fb">cgi_get_amotion</a>(cg, B, Z, A);
<a name="l02329"></a>02329     <span class="keywordflow">if</span> (amotion==0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l02330"></a>02330 
<a name="l02331"></a>02331     strcpy(name, amotion-&gt;<a class="code" href="structcgns__amotion.html#b5192b2e796e6224c74ec532ec32abf7">name</a>);
<a name="l02332"></a>02332     *type = amotion-&gt;<a class="code" href="structcgns__amotion.html#d1048f960a531e8d3c21c2775aca84c2">type</a>;
<a name="l02333"></a>02333 
<a name="l02334"></a>02334     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l02335"></a>02335 }
<a name="l02336"></a>02336 
<a name="l02337"></a>02337 <span class="comment">/*****************************************************************************\</span>
<a name="l02338"></a>02338 <span class="comment"> *      Inquiry Functions for SimulationType_t Node</span>
<a name="l02339"></a>02339 <span class="comment">\*****************************************************************************/</span>
<a name="l02340"></a>02340 
<a name="l02341"></a><a class="code" href="cgnslib_8h.html#105fd790c4fb484c576c8036c5c7d560">02341</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#90d9739cca5ff1137871fcc1c94ae421">cg_simulation_type_read</a>(<span class="keywordtype">int</span> file_number, <span class="keywordtype">int</span> B, <a class="code" href="cgns_keywords_8h.html#9e78c57e09b9a11a016f0c65bc00f185">SimulationType_t</a> *type) {
<a name="l02342"></a>02342     <a class="code" href="structcgns__base.html">cgns_base</a> *base;
<a name="l02343"></a>02343 
<a name="l02344"></a>02344     cg = <a class="code" href="cgns__header_8h.html#64a13852e04666fc73b74a8ff7727f4f">cgi_get_file</a>(file_number);
<a name="l02345"></a>02345     <span class="keywordflow">if</span> (cg == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l02346"></a>02346 
<a name="l02347"></a>02347     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l02348"></a>02348 
<a name="l02349"></a>02349     base = <a class="code" href="cgns__header_8h.html#09d3b45ead80b0d2b1921ff6a1b1d3ae">cgi_get_base</a>(cg, B);
<a name="l02350"></a>02350     <span class="keywordflow">if</span> (base==0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l02351"></a>02351 
<a name="l02352"></a>02352     *type = base-&gt;<a class="code" href="structcgns__base.html#2cd15f8599e5adccf7ab541dc06ead76">type</a>;
<a name="l02353"></a>02353 
<a name="l02354"></a>02354     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l02355"></a>02355 }
<a name="l02356"></a>02356 
<a name="l02357"></a>02357 <span class="comment">/*****************************************************************************\</span>
<a name="l02358"></a>02358 <span class="comment"> *      Inquiry Functions for BaseIterativeData_t Node</span>
<a name="l02359"></a>02359 <span class="comment">\*****************************************************************************/</span>
<a name="l02360"></a>02360 
<a name="l02361"></a><a class="code" href="cgnslib_8h.html#4061be45bedddd10a177496afda013b8">02361</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#8c8df0a90a9f9c0be3c036b9b6b985a0">cg_biter_read</a>(<span class="keywordtype">int</span> file_number, <span class="keywordtype">int</span> B, <span class="keywordtype">char</span> *bitername, <span class="keywordtype">int</span> *nsteps) {
<a name="l02362"></a>02362     <a class="code" href="structcgns__biter.html">cgns_biter</a> *biter;
<a name="l02363"></a>02363 
<a name="l02364"></a>02364     cg = <a class="code" href="cgns__header_8h.html#64a13852e04666fc73b74a8ff7727f4f">cgi_get_file</a>(file_number);
<a name="l02365"></a>02365     <span class="keywordflow">if</span> (cg == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l02366"></a>02366 
<a name="l02367"></a>02367     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l02368"></a>02368 
<a name="l02369"></a>02369     biter = <a class="code" href="cgns__header_8h.html#0379b7eb59afe095e7d8f6a7668c7eae">cgi_get_biter</a>(cg, B);
<a name="l02370"></a>02370     <span class="keywordflow">if</span> (biter==0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#e3177764863da4b451449a76ab55bebd">CG_NODE_NOT_FOUND</a>;
<a name="l02371"></a>02371 
<a name="l02372"></a>02372     *nsteps = biter-&gt;<a class="code" href="structcgns__biter.html#a2414080b021dbb9b56eeaeedec0ffa2">nsteps</a>;
<a name="l02373"></a>02373     strcpy(bitername,biter-&gt;<a class="code" href="structcgns__biter.html#b5192b2e796e6224c74ec532ec32abf7">name</a>);
<a name="l02374"></a>02374 
<a name="l02375"></a>02375     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l02376"></a>02376 }
<a name="l02377"></a>02377 
<a name="l02378"></a>02378 <span class="comment">/*****************************************************************************\</span>
<a name="l02379"></a>02379 <span class="comment"> *      Inquiry Functions for ZoneIterativeData_t Node</span>
<a name="l02380"></a>02380 <span class="comment">\*****************************************************************************/</span>
<a name="l02381"></a>02381 
<a name="l02382"></a><a class="code" href="cgnslib_8h.html#cb90c205977948ac820d4deedb7529c7">02382</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#951943bffe66e4219c1b7045e4816a9c">cg_ziter_read</a>(<span class="keywordtype">int</span> file_number, <span class="keywordtype">int</span> B, <span class="keywordtype">int</span> Z, <span class="keywordtype">char</span> *zitername) {
<a name="l02383"></a>02383     <a class="code" href="structcgns__ziter.html">cgns_ziter</a> *ziter;
<a name="l02384"></a>02384 
<a name="l02385"></a>02385     cg = <a class="code" href="cgns__header_8h.html#64a13852e04666fc73b74a8ff7727f4f">cgi_get_file</a>(file_number);
<a name="l02386"></a>02386     <span class="keywordflow">if</span> (cg == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l02387"></a>02387 
<a name="l02388"></a>02388     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l02389"></a>02389 
<a name="l02390"></a>02390     ziter = <a class="code" href="cgns__header_8h.html#49d7f0bb1e8ed2961e784f8ed9f6df3b">cgi_get_ziter</a>(cg, B, Z);
<a name="l02391"></a>02391     <span class="keywordflow">if</span> (ziter==0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#e3177764863da4b451449a76ab55bebd">CG_NODE_NOT_FOUND</a>;
<a name="l02392"></a>02392 
<a name="l02393"></a>02393     strcpy(zitername, ziter-&gt;<a class="code" href="structcgns__ziter.html#b5192b2e796e6224c74ec532ec32abf7">name</a>);
<a name="l02394"></a>02394 
<a name="l02395"></a>02395     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l02396"></a>02396 }
<a name="l02397"></a>02397 
<a name="l02398"></a>02398 <span class="comment">/*****************************************************************************\</span>
<a name="l02399"></a>02399 <span class="comment"> *      Inquiry Function for Gravity_t Node</span>
<a name="l02400"></a>02400 <span class="comment">\*****************************************************************************/</span>
<a name="l02401"></a>02401 
<a name="l02402"></a><a class="code" href="cgnslib_8h.html#1187b6fa7ea22a556a2c439ac39ca764">02402</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#04b2059099f7486b7611218ed79f4cb5">cg_gravity_read</a>(<span class="keywordtype">int</span> file_number, <span class="keywordtype">int</span> B, <span class="keywordtype">float</span> *gravity_vector) {
<a name="l02403"></a>02403     <a class="code" href="structcgns__base.html">cgns_base</a> *base;
<a name="l02404"></a>02404     <a class="code" href="structcgns__gravity.html">cgns_gravity</a> *gravity;
<a name="l02405"></a>02405 
<a name="l02406"></a>02406      <span class="comment">/* get memory address for file */</span>
<a name="l02407"></a>02407     cg = <a class="code" href="cgns__header_8h.html#64a13852e04666fc73b74a8ff7727f4f">cgi_get_file</a>(file_number);
<a name="l02408"></a>02408     <span class="keywordflow">if</span> (cg == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l02409"></a>02409 
<a name="l02410"></a>02410     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l02411"></a>02411 
<a name="l02412"></a>02412      <span class="comment">/* get memory address for base */</span>
<a name="l02413"></a>02413     base = <a class="code" href="cgns__header_8h.html#09d3b45ead80b0d2b1921ff6a1b1d3ae">cgi_get_base</a>(cg, B);
<a name="l02414"></a>02414     <span class="keywordflow">if</span> (base==0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l02415"></a>02415 
<a name="l02416"></a>02416      <span class="comment">/* get memory address for gravity */</span>
<a name="l02417"></a>02417     gravity = <a class="code" href="cgns__header_8h.html#b85a3ec203e7720842340b781e5b7b6a">cgi_get_gravity</a>(cg, B);
<a name="l02418"></a>02418     <span class="keywordflow">if</span> (gravity==0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#e3177764863da4b451449a76ab55bebd">CG_NODE_NOT_FOUND</a>;
<a name="l02419"></a>02419 
<a name="l02420"></a>02420     memcpy(gravity_vector, gravity-&gt;<a class="code" href="structcgns__gravity.html#51e79b6a11cb8747d8896db3b4509d8f">vector</a>-&gt;<a class="code" href="structcgns__array.html#735984d41155bc1032e09bece8f8d66d">data</a>, base-&gt;<a class="code" href="structcgns__base.html#f210aa767697826c3dc29cfb2ffec256">phys_dim</a>*<span class="keyword">sizeof</span>(<span class="keywordtype">float</span>));
<a name="l02421"></a>02421     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l02422"></a>02422 }
<a name="l02423"></a>02423 
<a name="l02424"></a>02424 <span class="comment">/*****************************************************************************\</span>
<a name="l02425"></a>02425 <span class="comment"> *      Inquiry Function for Axisymmetry_t Node</span>
<a name="l02426"></a>02426 <span class="comment">\*****************************************************************************/</span>
<a name="l02427"></a>02427 
<a name="l02428"></a><a class="code" href="cgnslib_8h.html#1bcca68992862078b1b0c5f8543ed9e4">02428</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#526254bf002a0776cb3782312ae8036f">cg_axisym_read</a>(<span class="keywordtype">int</span> file_number, <span class="keywordtype">int</span> B, <span class="keywordtype">float</span> *ref_point, <span class="keywordtype">float</span> *axis) {
<a name="l02429"></a>02429     <span class="keywordtype">int</span> n;
<a name="l02430"></a>02430     <a class="code" href="structcgns__base.html">cgns_base</a> *base;
<a name="l02431"></a>02431     <a class="code" href="structcgns__axisym.html">cgns_axisym</a> *axisym;
<a name="l02432"></a>02432 
<a name="l02433"></a>02433      <span class="comment">/* get memory address for file */</span>
<a name="l02434"></a>02434     cg = <a class="code" href="cgns__header_8h.html#64a13852e04666fc73b74a8ff7727f4f">cgi_get_file</a>(file_number);
<a name="l02435"></a>02435     <span class="keywordflow">if</span> (cg == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l02436"></a>02436 
<a name="l02437"></a>02437     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l02438"></a>02438 
<a name="l02439"></a>02439      <span class="comment">/* get memory address for base (for base-&gt;phys_dim) */</span>
<a name="l02440"></a>02440     base = <a class="code" href="cgns__header_8h.html#09d3b45ead80b0d2b1921ff6a1b1d3ae">cgi_get_base</a>(cg, B);
<a name="l02441"></a>02441     <span class="keywordflow">if</span> (base==0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l02442"></a>02442 
<a name="l02443"></a>02443      <span class="comment">/* get memory address for axisym */</span>
<a name="l02444"></a>02444     axisym = <a class="code" href="cgns__header_8h.html#a390073655fb22c65d75a3dc61fe67dd">cgi_get_axisym</a>(cg, B);
<a name="l02445"></a>02445     <span class="keywordflow">if</span> (axisym==0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#e3177764863da4b451449a76ab55bebd">CG_NODE_NOT_FOUND</a>;
<a name="l02446"></a>02446 
<a name="l02447"></a>02447     <span class="keywordflow">for</span> (n=0; n&lt;axisym-&gt;<a class="code" href="structcgns__axisym.html#ace0c04d503f8dda2284ae61a8344b8b">narrays</a>; n++) {
<a name="l02448"></a>02448         <span class="keywordflow">if</span> (strcmp(axisym-&gt;<a class="code" href="structcgns__axisym.html#1973739e7639e00a0d5aafe8c355c2aa">array</a>[n].<a class="code" href="structcgns__array.html#b5192b2e796e6224c74ec532ec32abf7">name</a>,<span class="stringliteral">"AxisymmetryReferencePoint"</span>)==0)
<a name="l02449"></a>02449             memcpy(ref_point, axisym-&gt;<a class="code" href="structcgns__axisym.html#1973739e7639e00a0d5aafe8c355c2aa">array</a>[n].<a class="code" href="structcgns__array.html#735984d41155bc1032e09bece8f8d66d">data</a>, base-&gt;<a class="code" href="structcgns__base.html#f210aa767697826c3dc29cfb2ffec256">phys_dim</a>*<span class="keyword">sizeof</span>(<span class="keywordtype">float</span>));
<a name="l02450"></a>02450         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(axisym-&gt;<a class="code" href="structcgns__axisym.html#1973739e7639e00a0d5aafe8c355c2aa">array</a>[n].<a class="code" href="structcgns__array.html#b5192b2e796e6224c74ec532ec32abf7">name</a>,<span class="stringliteral">"AxisymmetryAxisVector"</span>)==0)
<a name="l02451"></a>02451             memcpy(axis, axisym-&gt;<a class="code" href="structcgns__axisym.html#1973739e7639e00a0d5aafe8c355c2aa">array</a>[n].<a class="code" href="structcgns__array.html#735984d41155bc1032e09bece8f8d66d">data</a>, base-&gt;<a class="code" href="structcgns__base.html#f210aa767697826c3dc29cfb2ffec256">phys_dim</a>*<span class="keyword">sizeof</span>(<span class="keywordtype">float</span>));
<a name="l02452"></a>02452     }
<a name="l02453"></a>02453     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l02454"></a>02454 }
<a name="l02455"></a>02455 
<a name="l02456"></a>02456 <span class="comment">/*****************************************************************************\</span>
<a name="l02457"></a>02457 <span class="comment"> *      Inquiry Function for BCProperty_t Node</span>
<a name="l02458"></a>02458 <span class="comment">\*****************************************************************************/</span>
<a name="l02459"></a>02459 
<a name="l02460"></a><a class="code" href="cgnslib_8h.html#1e3258c9fc0d5d04c8ae3a4ad2302056">02460</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#f5df991940609acdf176aeb08e274d6c">cg_bc_wallfunction_read</a>(<span class="keywordtype">int</span> file_number, <span class="keywordtype">int</span> B, <span class="keywordtype">int</span> Z, <span class="keywordtype">int</span> BC,
<a name="l02461"></a>02461         <a class="code" href="cgns_keywords_8h.html#2b4b0d12e36cae57838f1b5da29bce31">WallFunctionType_t</a> *WallFunctionType) {
<a name="l02462"></a>02462     <a class="code" href="structcgns__bprop.html">cgns_bprop</a> *bprop;
<a name="l02463"></a>02463 
<a name="l02464"></a>02464      <span class="comment">/* get memory address for file */</span>
<a name="l02465"></a>02465     cg = <a class="code" href="cgns__header_8h.html#64a13852e04666fc73b74a8ff7727f4f">cgi_get_file</a>(file_number);
<a name="l02466"></a>02466     <span class="keywordflow">if</span> (cg == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l02467"></a>02467 
<a name="l02468"></a>02468     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l02469"></a>02469 
<a name="l02470"></a>02470      <span class="comment">/* get memory address for bprop */</span>
<a name="l02471"></a>02471     bprop = <a class="code" href="cgns__header_8h.html#22d53d213b30df1a999094493b44bbcb">cgi_get_bprop</a>(cg, B, Z, BC);
<a name="l02472"></a>02472     <span class="keywordflow">if</span> (bprop==0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#e3177764863da4b451449a76ab55bebd">CG_NODE_NOT_FOUND</a>;
<a name="l02473"></a>02473 
<a name="l02474"></a>02474     <span class="keywordflow">if</span> (bprop-&gt;<a class="code" href="structcgns__bprop.html#48539e283bf0e0472f540626012a2e5d">bcwall</a>==0) {
<a name="l02475"></a>02475         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"BCProperty_t/WallFunction_t node doesn't exist under BC_t %d"</span>,BC);
<a name="l02476"></a>02476         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#e3177764863da4b451449a76ab55bebd">CG_NODE_NOT_FOUND</a>;
<a name="l02477"></a>02477     }
<a name="l02478"></a>02478     *WallFunctionType = bprop-&gt;<a class="code" href="structcgns__bprop.html#48539e283bf0e0472f540626012a2e5d">bcwall</a>-&gt;<a class="code" href="structcgns__bcwall.html#bd2e3b06052d10dbd3f793c22fea81fc">type</a>;
<a name="l02479"></a>02479 
<a name="l02480"></a>02480     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l02481"></a>02481 }
<a name="l02482"></a>02482 
<a name="l02483"></a><a class="code" href="cgnslib_8h.html#83ed2ac4b689afda7f1221709b4002fd">02483</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#567c9f3947b3bafdf333610b3eb1106c">cg_bc_area_read</a>(<span class="keywordtype">int</span> file_number, <span class="keywordtype">int</span> B, <span class="keywordtype">int</span> Z, <span class="keywordtype">int</span> BC,
<a name="l02484"></a>02484         <a class="code" href="cgns_keywords_8h.html#1880bd253228588cf62ef75ab37c07e2">AreaType_t</a> *AreaType, <span class="keywordtype">float</span> *SurfaceArea, <span class="keywordtype">char</span> *RegionName) {
<a name="l02485"></a>02485     <span class="keywordtype">int</span> n;
<a name="l02486"></a>02486     <a class="code" href="structcgns__bprop.html">cgns_bprop</a> *bprop;
<a name="l02487"></a>02487 
<a name="l02488"></a>02488      <span class="comment">/* get memory address for file */</span>
<a name="l02489"></a>02489     cg = <a class="code" href="cgns__header_8h.html#64a13852e04666fc73b74a8ff7727f4f">cgi_get_file</a>(file_number);
<a name="l02490"></a>02490     <span class="keywordflow">if</span> (cg == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l02491"></a>02491 
<a name="l02492"></a>02492     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l02493"></a>02493 
<a name="l02494"></a>02494      <span class="comment">/* get memory address for bprop */</span>
<a name="l02495"></a>02495     bprop = <a class="code" href="cgns__header_8h.html#22d53d213b30df1a999094493b44bbcb">cgi_get_bprop</a>(cg, B, Z, BC);
<a name="l02496"></a>02496     <span class="keywordflow">if</span> (bprop==0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#e3177764863da4b451449a76ab55bebd">CG_NODE_NOT_FOUND</a>;
<a name="l02497"></a>02497 
<a name="l02498"></a>02498     <span class="keywordflow">if</span> (bprop-&gt;<a class="code" href="structcgns__bprop.html#59fb70e66df69b0d03abbae651cd9106">bcarea</a>==0) {
<a name="l02499"></a>02499         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"BCProperty_t/Area_t node doesn't exist under BC_t %d"</span>,BC);
<a name="l02500"></a>02500         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#e3177764863da4b451449a76ab55bebd">CG_NODE_NOT_FOUND</a>;
<a name="l02501"></a>02501     }
<a name="l02502"></a>02502     *AreaType = bprop-&gt;<a class="code" href="structcgns__bprop.html#59fb70e66df69b0d03abbae651cd9106">bcarea</a>-&gt;<a class="code" href="structcgns__bcarea.html#8c0cebd5f8a0457ed51c9d096c4b68d5">type</a>;
<a name="l02503"></a>02503     <span class="keywordflow">for</span> (n=0; n&lt;bprop-&gt;<a class="code" href="structcgns__bprop.html#59fb70e66df69b0d03abbae651cd9106">bcarea</a>-&gt;<a class="code" href="structcgns__bcarea.html#ace0c04d503f8dda2284ae61a8344b8b">narrays</a>; n++) {
<a name="l02504"></a>02504         <span class="keywordflow">if</span> (strcmp(<span class="stringliteral">"SurfaceArea"</span>,bprop-&gt;<a class="code" href="structcgns__bprop.html#59fb70e66df69b0d03abbae651cd9106">bcarea</a>-&gt;<a class="code" href="structcgns__bcarea.html#1973739e7639e00a0d5aafe8c355c2aa">array</a>[n].<a class="code" href="structcgns__array.html#b5192b2e796e6224c74ec532ec32abf7">name</a>)==0)
<a name="l02505"></a>02505             memcpy(SurfaceArea, bprop-&gt;<a class="code" href="structcgns__bprop.html#59fb70e66df69b0d03abbae651cd9106">bcarea</a>-&gt;<a class="code" href="structcgns__bcarea.html#1973739e7639e00a0d5aafe8c355c2aa">array</a>[n].<a class="code" href="structcgns__array.html#735984d41155bc1032e09bece8f8d66d">data</a>, <span class="keyword">sizeof</span>(<span class="keywordtype">float</span>));
<a name="l02506"></a>02506         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(<span class="stringliteral">"RegionName"</span>,bprop-&gt;<a class="code" href="structcgns__bprop.html#59fb70e66df69b0d03abbae651cd9106">bcarea</a>-&gt;<a class="code" href="structcgns__bcarea.html#1973739e7639e00a0d5aafe8c355c2aa">array</a>[n].<a class="code" href="structcgns__array.html#b5192b2e796e6224c74ec532ec32abf7">name</a>)==0) {
<a name="l02507"></a>02507             memcpy(RegionName, bprop-&gt;<a class="code" href="structcgns__bprop.html#59fb70e66df69b0d03abbae651cd9106">bcarea</a>-&gt;<a class="code" href="structcgns__bcarea.html#1973739e7639e00a0d5aafe8c355c2aa">array</a>[n].<a class="code" href="structcgns__array.html#735984d41155bc1032e09bece8f8d66d">data</a>, 32*<span class="keyword">sizeof</span>(<span class="keywordtype">char</span>));
<a name="l02508"></a>02508             RegionName[32]=<span class="charliteral">'\0'</span>;
<a name="l02509"></a>02509         }
<a name="l02510"></a>02510     }
<a name="l02511"></a>02511 
<a name="l02512"></a>02512     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l02513"></a>02513 }
<a name="l02514"></a>02514 
<a name="l02515"></a>02515 <span class="comment">/*****************************************************************************\</span>
<a name="l02516"></a>02516 <span class="comment"> *      Inquiry Function for GridConnectivityProperty_t Node</span>
<a name="l02517"></a>02517 <span class="comment">\*****************************************************************************/</span>
<a name="l02518"></a>02518 
<a name="l02519"></a><a class="code" href="cgnslib_8h.html#bbc048d13aae7b6c46195b6be79334bf">02519</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#fa00ee1323a94daa2f6574ea8a230060">cg_conn_periodic_read</a>(<span class="keywordtype">int</span> file_number, <span class="keywordtype">int</span> B, <span class="keywordtype">int</span> Z, <span class="keywordtype">int</span> I,
<a name="l02520"></a>02520         <span class="keywordtype">float</span> *RotationCenter, <span class="keywordtype">float</span> *RotationAngle, <span class="keywordtype">float</span> *Translation) {
<a name="l02521"></a>02521 
<a name="l02522"></a>02522     <span class="keywordtype">int</span> n;
<a name="l02523"></a>02523     <a class="code" href="structcgns__base.html">cgns_base</a> *base;
<a name="l02524"></a>02524     <a class="code" href="structcgns__cprop.html">cgns_cprop</a> *cprop;
<a name="l02525"></a>02525     <a class="code" href="structcgns__cperio.html">cgns_cperio</a> *cperio;
<a name="l02526"></a>02526 
<a name="l02527"></a>02527      <span class="comment">/* get memory address for file */</span>
<a name="l02528"></a>02528     cg = <a class="code" href="cgns__header_8h.html#64a13852e04666fc73b74a8ff7727f4f">cgi_get_file</a>(file_number);
<a name="l02529"></a>02529     <span class="keywordflow">if</span> (cg == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l02530"></a>02530 
<a name="l02531"></a>02531     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l02532"></a>02532 
<a name="l02533"></a>02533      <span class="comment">/* get memory address for base (for base-&gt;phys_dim) */</span>
<a name="l02534"></a>02534     base = <a class="code" href="cgns__header_8h.html#09d3b45ead80b0d2b1921ff6a1b1d3ae">cgi_get_base</a>(cg, B);
<a name="l02535"></a>02535     <span class="keywordflow">if</span> (base==0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l02536"></a>02536 
<a name="l02537"></a>02537      <span class="comment">/* get memory address for cprop */</span>
<a name="l02538"></a>02538     cprop = <a class="code" href="cgns__header_8h.html#a96afbb64262d7f44f9bfb965adff02d">cgi_get_cprop</a>(cg, B, Z, I);
<a name="l02539"></a>02539     <span class="keywordflow">if</span> (cprop==0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#e3177764863da4b451449a76ab55bebd">CG_NODE_NOT_FOUND</a>;
<a name="l02540"></a>02540 
<a name="l02541"></a>02541     <span class="keywordflow">if</span> (cprop-&gt;<a class="code" href="structcgns__cprop.html#677b1d1bc529c4733f1133bbe71e79e1">cperio</a> == 0) {
<a name="l02542"></a>02542         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"GridConnectivityProperty_t/Periodic_t node doesn't exist under GridConnectivity_t %d"</span>,I);
<a name="l02543"></a>02543         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#e3177764863da4b451449a76ab55bebd">CG_NODE_NOT_FOUND</a>;
<a name="l02544"></a>02544     }
<a name="l02545"></a>02545     cperio = cprop-&gt;<a class="code" href="structcgns__cprop.html#677b1d1bc529c4733f1133bbe71e79e1">cperio</a>;
<a name="l02546"></a>02546 
<a name="l02547"></a>02547      <span class="comment">/* Copy data to be returned */</span>
<a name="l02548"></a>02548     <span class="keywordflow">for</span> (n=0; n&lt;cperio-&gt;<a class="code" href="structcgns__cperio.html#ace0c04d503f8dda2284ae61a8344b8b">narrays</a>; n++) {
<a name="l02549"></a>02549         <span class="keywordflow">if</span> (strcmp(cperio-&gt;<a class="code" href="structcgns__cperio.html#1973739e7639e00a0d5aafe8c355c2aa">array</a>[n].<a class="code" href="structcgns__array.html#b5192b2e796e6224c74ec532ec32abf7">name</a>,<span class="stringliteral">"RotationCenter"</span>)==0)
<a name="l02550"></a>02550             memcpy(RotationCenter, cperio-&gt;<a class="code" href="structcgns__cperio.html#1973739e7639e00a0d5aafe8c355c2aa">array</a>[n].<a class="code" href="structcgns__array.html#735984d41155bc1032e09bece8f8d66d">data</a>, base-&gt;<a class="code" href="structcgns__base.html#f210aa767697826c3dc29cfb2ffec256">phys_dim</a>*<span class="keyword">sizeof</span>(<span class="keywordtype">float</span>));
<a name="l02551"></a>02551         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(cperio-&gt;<a class="code" href="structcgns__cperio.html#1973739e7639e00a0d5aafe8c355c2aa">array</a>[n].<a class="code" href="structcgns__array.html#b5192b2e796e6224c74ec532ec32abf7">name</a>,<span class="stringliteral">"RotationAngle"</span>)==0)
<a name="l02552"></a>02552             memcpy(RotationAngle, cperio-&gt;<a class="code" href="structcgns__cperio.html#1973739e7639e00a0d5aafe8c355c2aa">array</a>[n].<a class="code" href="structcgns__array.html#735984d41155bc1032e09bece8f8d66d">data</a>, base-&gt;<a class="code" href="structcgns__base.html#f210aa767697826c3dc29cfb2ffec256">phys_dim</a>*<span class="keyword">sizeof</span>(<span class="keywordtype">float</span>));
<a name="l02553"></a>02553         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(cperio-&gt;<a class="code" href="structcgns__cperio.html#1973739e7639e00a0d5aafe8c355c2aa">array</a>[n].<a class="code" href="structcgns__array.html#b5192b2e796e6224c74ec532ec32abf7">name</a>,<span class="stringliteral">"Translation"</span>)==0)
<a name="l02554"></a>02554             memcpy(Translation, cperio-&gt;<a class="code" href="structcgns__cperio.html#1973739e7639e00a0d5aafe8c355c2aa">array</a>[n].<a class="code" href="structcgns__array.html#735984d41155bc1032e09bece8f8d66d">data</a>, base-&gt;<a class="code" href="structcgns__base.html#f210aa767697826c3dc29cfb2ffec256">phys_dim</a>*<span class="keyword">sizeof</span>(<span class="keywordtype">float</span>));
<a name="l02555"></a>02555     }
<a name="l02556"></a>02556 
<a name="l02557"></a>02557     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l02558"></a>02558 }
<a name="l02559"></a>02559 
<a name="l02560"></a><a class="code" href="cgnslib_8h.html#03e0ce603b4a2a7113c92b7b647ba919">02560</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#9a741d1eb4a56d7179950c0c7bb0a29e">cg_conn_average_read</a>(<span class="keywordtype">int</span> file_number, <span class="keywordtype">int</span> B, <span class="keywordtype">int</span> Z, <span class="keywordtype">int</span> I,
<a name="l02561"></a>02561         <a class="code" href="cgns_keywords_8h.html#f47b7b9aa4b1c696a7e559427686a083">AverageInterfaceType_t</a> *AverageInterfaceType) {
<a name="l02562"></a>02562 
<a name="l02563"></a>02563     <a class="code" href="structcgns__cprop.html">cgns_cprop</a> *cprop;
<a name="l02564"></a>02564 
<a name="l02565"></a>02565      <span class="comment">/* get memory address for file */</span>
<a name="l02566"></a>02566     cg = <a class="code" href="cgns__header_8h.html#64a13852e04666fc73b74a8ff7727f4f">cgi_get_file</a>(file_number);
<a name="l02567"></a>02567     <span class="keywordflow">if</span> (cg == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l02568"></a>02568 
<a name="l02569"></a>02569     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l02570"></a>02570 
<a name="l02571"></a>02571      <span class="comment">/* get memory address for cprop */</span>
<a name="l02572"></a>02572     cprop = <a class="code" href="cgns__header_8h.html#a96afbb64262d7f44f9bfb965adff02d">cgi_get_cprop</a>(cg, B, Z, I);
<a name="l02573"></a>02573     <span class="keywordflow">if</span> (cprop==0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#e3177764863da4b451449a76ab55bebd">CG_NODE_NOT_FOUND</a>;
<a name="l02574"></a>02574 
<a name="l02575"></a>02575     <span class="keywordflow">if</span> (cprop-&gt;<a class="code" href="structcgns__cprop.html#095d77a2e3cd512d29b64f42c8b2bdc3">caverage</a> == 0) {
<a name="l02576"></a>02576         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"GridConnectivityProperty_t/AverageInterface_t node doesn't exist under GridConnectivity_t %d"</span>,I);
<a name="l02577"></a>02577         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#e3177764863da4b451449a76ab55bebd">CG_NODE_NOT_FOUND</a>;
<a name="l02578"></a>02578     }
<a name="l02579"></a>02579     *AverageInterfaceType = cprop-&gt;<a class="code" href="structcgns__cprop.html#095d77a2e3cd512d29b64f42c8b2bdc3">caverage</a>-&gt;<a class="code" href="structcgns__caverage.html#bca8e88ac72bca8eed960b543de29961">type</a>;
<a name="l02580"></a>02580 
<a name="l02581"></a>02581     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l02582"></a>02582 }
<a name="l02583"></a>02583 
<a name="l02584"></a><a class="code" href="cgnslib_8h.html#3587d5a5040dd43a224c3340e8b83251">02584</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#c62526c9622f10f58fcbae7cde01e72b">cg_1to1_periodic_read</a>(<span class="keywordtype">int</span> file_number, <span class="keywordtype">int</span> B, <span class="keywordtype">int</span> Z, <span class="keywordtype">int</span> I,
<a name="l02585"></a>02585         <span class="keywordtype">float</span> *RotationCenter, <span class="keywordtype">float</span> *RotationAngle, <span class="keywordtype">float</span> *Translation)
<a name="l02586"></a>02586 {
<a name="l02587"></a>02587     <span class="keywordtype">int</span> n;
<a name="l02588"></a>02588     <a class="code" href="structcgns__base.html">cgns_base</a> *base;
<a name="l02589"></a>02589     <a class="code" href="structcgns__cprop.html">cgns_cprop</a> *cprop;
<a name="l02590"></a>02590     <a class="code" href="structcgns__cperio.html">cgns_cperio</a> *cperio;
<a name="l02591"></a>02591     <a class="code" href="structcgns__1to1.html">cgns_1to1</a> *one21;
<a name="l02592"></a>02592 
<a name="l02593"></a>02593      <span class="comment">/* get memory address for file */</span>
<a name="l02594"></a>02594     cg = <a class="code" href="cgns__header_8h.html#64a13852e04666fc73b74a8ff7727f4f">cgi_get_file</a>(file_number);
<a name="l02595"></a>02595     <span class="keywordflow">if</span> (cg == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l02596"></a>02596 
<a name="l02597"></a>02597     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l02598"></a>02598 
<a name="l02599"></a>02599      <span class="comment">/* get memory address for base (for base-&gt;phys_dim) */</span>
<a name="l02600"></a>02600     base = <a class="code" href="cgns__header_8h.html#09d3b45ead80b0d2b1921ff6a1b1d3ae">cgi_get_base</a>(cg, B);
<a name="l02601"></a>02601     <span class="keywordflow">if</span> (base==0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l02602"></a>02602 
<a name="l02603"></a>02603      <span class="comment">/* get memory address for cprop from one21-&gt;cprop */</span>
<a name="l02604"></a>02604     one21 = <a class="code" href="cgns__header_8h.html#18e480d1ce941ce320cedae7bfae7672">cgi_get_1to1</a>(cg, B, Z, I);
<a name="l02605"></a>02605     <span class="keywordflow">if</span> (one21==0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l02606"></a>02606 
<a name="l02607"></a>02607     cprop = one21-&gt;<a class="code" href="structcgns__1to1.html#40c7a3c103adb7e58c56b24ce67bde0f">cprop</a>;
<a name="l02608"></a>02608 
<a name="l02609"></a>02609     <span class="keywordflow">if</span> (cprop == 0 || cprop-&gt;<a class="code" href="structcgns__cprop.html#677b1d1bc529c4733f1133bbe71e79e1">cperio</a> == 0) {
<a name="l02610"></a>02610         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"GridConnectivityProperty_t/Periodic_t node doesn't exist under GridConnectivity1to1_t %d"</span>,I);
<a name="l02611"></a>02611         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#e3177764863da4b451449a76ab55bebd">CG_NODE_NOT_FOUND</a>;
<a name="l02612"></a>02612     }
<a name="l02613"></a>02613     cperio = cprop-&gt;<a class="code" href="structcgns__cprop.html#677b1d1bc529c4733f1133bbe71e79e1">cperio</a>;
<a name="l02614"></a>02614 
<a name="l02615"></a>02615      <span class="comment">/* Copy data to be returned */</span>
<a name="l02616"></a>02616     <span class="keywordflow">for</span> (n=0; n&lt;cperio-&gt;<a class="code" href="structcgns__cperio.html#ace0c04d503f8dda2284ae61a8344b8b">narrays</a>; n++) {
<a name="l02617"></a>02617         <span class="keywordflow">if</span> (strcmp(cperio-&gt;<a class="code" href="structcgns__cperio.html#1973739e7639e00a0d5aafe8c355c2aa">array</a>[n].<a class="code" href="structcgns__array.html#b5192b2e796e6224c74ec532ec32abf7">name</a>,<span class="stringliteral">"RotationCenter"</span>)==0)
<a name="l02618"></a>02618             memcpy(RotationCenter, cperio-&gt;<a class="code" href="structcgns__cperio.html#1973739e7639e00a0d5aafe8c355c2aa">array</a>[n].<a class="code" href="structcgns__array.html#735984d41155bc1032e09bece8f8d66d">data</a>, base-&gt;<a class="code" href="structcgns__base.html#f210aa767697826c3dc29cfb2ffec256">phys_dim</a>*<span class="keyword">sizeof</span>(<span class="keywordtype">float</span>));
<a name="l02619"></a>02619         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(cperio-&gt;<a class="code" href="structcgns__cperio.html#1973739e7639e00a0d5aafe8c355c2aa">array</a>[n].<a class="code" href="structcgns__array.html#b5192b2e796e6224c74ec532ec32abf7">name</a>,<span class="stringliteral">"RotationAngle"</span>)==0)
<a name="l02620"></a>02620             memcpy(RotationAngle, cperio-&gt;<a class="code" href="structcgns__cperio.html#1973739e7639e00a0d5aafe8c355c2aa">array</a>[n].<a class="code" href="structcgns__array.html#735984d41155bc1032e09bece8f8d66d">data</a>, base-&gt;<a class="code" href="structcgns__base.html#f210aa767697826c3dc29cfb2ffec256">phys_dim</a>*<span class="keyword">sizeof</span>(<span class="keywordtype">float</span>));
<a name="l02621"></a>02621         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(cperio-&gt;<a class="code" href="structcgns__cperio.html#1973739e7639e00a0d5aafe8c355c2aa">array</a>[n].<a class="code" href="structcgns__array.html#b5192b2e796e6224c74ec532ec32abf7">name</a>,<span class="stringliteral">"Translation"</span>)==0)
<a name="l02622"></a>02622             memcpy(Translation, cperio-&gt;<a class="code" href="structcgns__cperio.html#1973739e7639e00a0d5aafe8c355c2aa">array</a>[n].<a class="code" href="structcgns__array.html#735984d41155bc1032e09bece8f8d66d">data</a>, base-&gt;<a class="code" href="structcgns__base.html#f210aa767697826c3dc29cfb2ffec256">phys_dim</a>*<span class="keyword">sizeof</span>(<span class="keywordtype">float</span>));
<a name="l02623"></a>02623     }
<a name="l02624"></a>02624 
<a name="l02625"></a>02625     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l02626"></a>02626 }
<a name="l02627"></a>02627 
<a name="l02628"></a><a class="code" href="cgnslib_8h.html#a693198fae155273d0e6b78d2fd0074e">02628</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#18893f41e3fe2106c05a41157bdce5a1">cg_1to1_average_read</a>(<span class="keywordtype">int</span> file_number, <span class="keywordtype">int</span> B, <span class="keywordtype">int</span> Z, <span class="keywordtype">int</span> I,
<a name="l02629"></a>02629         <a class="code" href="cgns_keywords_8h.html#f47b7b9aa4b1c696a7e559427686a083">AverageInterfaceType_t</a> *AverageInterfaceType)
<a name="l02630"></a>02630 {
<a name="l02631"></a>02631     <a class="code" href="structcgns__cprop.html">cgns_cprop</a> *cprop;
<a name="l02632"></a>02632     <a class="code" href="structcgns__1to1.html">cgns_1to1</a> *one21;
<a name="l02633"></a>02633 
<a name="l02634"></a>02634      <span class="comment">/* get memory address for file */</span>
<a name="l02635"></a>02635     cg = <a class="code" href="cgns__header_8h.html#64a13852e04666fc73b74a8ff7727f4f">cgi_get_file</a>(file_number);
<a name="l02636"></a>02636     <span class="keywordflow">if</span> (cg == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l02637"></a>02637 
<a name="l02638"></a>02638     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l02639"></a>02639 
<a name="l02640"></a>02640      <span class="comment">/* get memory address for cprop from one21-&gt;cprop */</span>
<a name="l02641"></a>02641     one21 = <a class="code" href="cgns__header_8h.html#18e480d1ce941ce320cedae7bfae7672">cgi_get_1to1</a>(cg, B, Z, I);
<a name="l02642"></a>02642     <span class="keywordflow">if</span> (one21==0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l02643"></a>02643 
<a name="l02644"></a>02644     cprop = one21-&gt;<a class="code" href="structcgns__1to1.html#40c7a3c103adb7e58c56b24ce67bde0f">cprop</a>;
<a name="l02645"></a>02645 
<a name="l02646"></a>02646     <span class="keywordflow">if</span> (cprop == 0 || cprop-&gt;<a class="code" href="structcgns__cprop.html#095d77a2e3cd512d29b64f42c8b2bdc3">caverage</a> == 0) {
<a name="l02647"></a>02647         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"GridConnectivityProperty_t/AverageInterface_t node doesn't exist under GridConnectivity1to1_t %d"</span>,I);
<a name="l02648"></a>02648         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#e3177764863da4b451449a76ab55bebd">CG_NODE_NOT_FOUND</a>;
<a name="l02649"></a>02649     }
<a name="l02650"></a>02650     *AverageInterfaceType = cprop-&gt;<a class="code" href="structcgns__cprop.html#095d77a2e3cd512d29b64f42c8b2bdc3">caverage</a>-&gt;<a class="code" href="structcgns__caverage.html#bca8e88ac72bca8eed960b543de29961">type</a>;
<a name="l02651"></a>02651 
<a name="l02652"></a>02652     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l02653"></a>02653 }
<a name="l02654"></a>02654 
<a name="l02655"></a>02655 <span class="comment">/*****************************************************************************\</span>
<a name="l02656"></a>02656 <span class="comment"> *           Go - To Function</span>
<a name="l02657"></a>02657 <span class="comment">\*****************************************************************************/</span>
<a name="l02658"></a>02658 
<a name="l02659"></a><a class="code" href="cgnslib_8h.html#fcc91756f0016b8123d169805a26072f">02659</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#63032357d34526e53edd521dc4f59ae4">cg_goto</a>(<span class="keywordtype">int</span> file_number, <span class="keywordtype">int</span> B, ...)
<a name="l02660"></a>02660 {
<a name="l02661"></a>02661     <span class="keywordtype">int</span> n;
<a name="l02662"></a>02662     va_list ap;
<a name="l02663"></a>02663     <span class="keywordtype">int</span> index[<a class="code" href="cgns_keywords_8h.html#e134c9d36cd7c67938caf1685deee176">CG_MAX_GOTO_DEPTH</a>];
<a name="l02664"></a>02664     <span class="keywordtype">char</span> *<a class="code" href="_a_d_f__internals_8h.html#363d93fb13f0f235ae88ade1b5d17180">label</a>[<a class="code" href="cgns_keywords_8h.html#e134c9d36cd7c67938caf1685deee176">CG_MAX_GOTO_DEPTH</a>];
<a name="l02665"></a>02665 
<a name="l02666"></a>02666      <span class="comment">/* initialize */</span>
<a name="l02667"></a>02667     posit = 0;
<a name="l02668"></a>02668 
<a name="l02669"></a>02669      <span class="comment">/* set global variable cg */</span>
<a name="l02670"></a>02670     cg = <a class="code" href="cgns__header_8h.html#64a13852e04666fc73b74a8ff7727f4f">cgi_get_file</a>(file_number);
<a name="l02671"></a>02671     <span class="keywordflow">if</span> (cg == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l02672"></a>02672 
<a name="l02673"></a>02673     va_start(ap, B);
<a name="l02674"></a>02674 
<a name="l02675"></a>02675      <span class="comment">/* read variable argument list */</span>
<a name="l02676"></a>02676     <span class="keywordflow">for</span> (n = 0; n &lt; <a class="code" href="cgns_keywords_8h.html#e134c9d36cd7c67938caf1685deee176">CG_MAX_GOTO_DEPTH</a>; n++) {
<a name="l02677"></a>02677         label[n] = va_arg(ap,<span class="keywordtype">char</span> *);
<a name="l02678"></a>02678         <span class="keywordflow">if</span> (label[n] == NULL || label[n][0] == 0) <span class="keywordflow">break</span>;
<a name="l02679"></a>02679         <span class="keywordflow">if</span> (strcmp(<span class="stringliteral">"end"</span>,label[n])==0 || strcmp(<span class="stringliteral">"END"</span>,label[n])==0) <span class="keywordflow">break</span>;
<a name="l02680"></a>02680         index[n] = va_arg(ap, <span class="keywordtype">int</span>);
<a name="l02681"></a>02681     }
<a name="l02682"></a>02682     va_end(ap);
<a name="l02683"></a>02683 
<a name="l02684"></a>02684     <span class="keywordflow">return</span> <a class="code" href="cgns__header_8h.html#a9e478dfab5b9a00a40855b559593d77">cgi_set_posit</a>(file_number, B, n, index, label);
<a name="l02685"></a>02685 }
<a name="l02686"></a>02686 
<a name="l02687"></a>02687 <span class="comment">/*-----------------------------------------------------------------------*/</span>
<a name="l02688"></a>02688 
<a name="l02689"></a><a class="code" href="cgnslib_8h.html#4810913468cf663b24e52b459ac9043f">02689</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#826a2cd3c786c1816607a94d3dd73b49">cg_gorel</a>(<span class="keywordtype">int</span> file_number, ...)
<a name="l02690"></a>02690 {
<a name="l02691"></a>02691     <span class="keywordtype">int</span> n = 0;
<a name="l02692"></a>02692     <span class="keywordtype">int</span> index[<a class="code" href="cgns_keywords_8h.html#e134c9d36cd7c67938caf1685deee176">CG_MAX_GOTO_DEPTH</a>];
<a name="l02693"></a>02693     <span class="keywordtype">char</span> *<a class="code" href="_a_d_f__internals_8h.html#363d93fb13f0f235ae88ade1b5d17180">label</a>[<a class="code" href="cgns_keywords_8h.html#e134c9d36cd7c67938caf1685deee176">CG_MAX_GOTO_DEPTH</a>];
<a name="l02694"></a>02694     va_list ap;
<a name="l02695"></a>02695 
<a name="l02696"></a>02696     <span class="keywordflow">if</span> (posit == 0) {
<a name="l02697"></a>02697         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a> (<span class="stringliteral">"position not set with cg_goto"</span>);
<a name="l02698"></a>02698         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l02699"></a>02699     }
<a name="l02700"></a>02700     <span class="keywordflow">if</span> (file_number != <a class="code" href="cgns__header_8h.html#09600b02dcc6c76fad54f3d15c3be10f">posit_file</a>) {
<a name="l02701"></a>02701         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"current position is in the wrong file"</span>);
<a name="l02702"></a>02702         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l02703"></a>02703     }
<a name="l02704"></a>02704 
<a name="l02705"></a>02705     va_start (ap, file_number);
<a name="l02706"></a>02706     <span class="keywordflow">for</span> (n = 0; n &lt; <a class="code" href="cgns_keywords_8h.html#e134c9d36cd7c67938caf1685deee176">CG_MAX_GOTO_DEPTH</a>; n++) {
<a name="l02707"></a>02707         label[n] = va_arg(ap, <span class="keywordtype">char</span> *);
<a name="l02708"></a>02708         <span class="keywordflow">if</span> (label[n] == NULL || label[n][0] == 0) <span class="keywordflow">break</span>;
<a name="l02709"></a>02709         <span class="keywordflow">if</span> (strcmp(<span class="stringliteral">"end"</span>,label[n])==0 || strcmp(<span class="stringliteral">"END"</span>,label[n])==0) <span class="keywordflow">break</span>;
<a name="l02710"></a>02710         index[n] = va_arg(ap, <span class="keywordtype">int</span>);
<a name="l02711"></a>02711     }
<a name="l02712"></a>02712     va_end(ap);
<a name="l02713"></a>02713 
<a name="l02714"></a>02714     <span class="keywordflow">return</span> <a class="code" href="cgns__header_8h.html#7d560baade0ad3ecfba48ed32e9b7e02">cgi_update_posit</a>(n, index, label);
<a name="l02715"></a>02715 }
<a name="l02716"></a>02716 
<a name="l02717"></a>02717 <span class="comment">/*-----------------------------------------------------------------------*/</span>
<a name="l02718"></a>02718 
<a name="l02719"></a><a class="code" href="cgnslib_8h.html#f539e68959715b364c227cf05f7f1164">02719</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#767f7ad3a71d666821ed8f2af834f04f">cg_gopath</a>(<span class="keywordtype">int</span> file_number, <span class="keyword">const</span> <span class="keywordtype">char</span> *path)
<a name="l02720"></a>02720 {
<a name="l02721"></a>02721     <span class="keywordtype">int</span> n, len;
<a name="l02722"></a>02722     <span class="keyword">const</span> <span class="keywordtype">char</span> *p = path, *s;
<a name="l02723"></a>02723     <span class="keywordtype">int</span> index[<a class="code" href="cgns_keywords_8h.html#e134c9d36cd7c67938caf1685deee176">CG_MAX_GOTO_DEPTH</a>];
<a name="l02724"></a>02724     <span class="keywordtype">char</span> <a class="code" href="_a_d_f__internals_8h.html#363d93fb13f0f235ae88ade1b5d17180">label</a>[<a class="code" href="cgns_keywords_8h.html#e134c9d36cd7c67938caf1685deee176">CG_MAX_GOTO_DEPTH</a>][33];
<a name="l02725"></a>02725     <span class="keywordtype">char</span> *lab[<a class="code" href="cgns_keywords_8h.html#e134c9d36cd7c67938caf1685deee176">CG_MAX_GOTO_DEPTH</a>];
<a name="l02726"></a>02726 
<a name="l02727"></a>02727     <span class="keywordflow">if</span> (p == 0 || !*p) {
<a name="l02728"></a>02728         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"path not given"</span>);
<a name="l02729"></a>02729         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l02730"></a>02730     }
<a name="l02731"></a>02731 
<a name="l02732"></a>02732     <span class="comment">/* absolute path */</span>
<a name="l02733"></a>02733 
<a name="l02734"></a>02734     <span class="keywordflow">if</span> (*p == <span class="charliteral">'/'</span>) {
<a name="l02735"></a>02735         <span class="keywordtype">int</span> ierr, B = 0;
<a name="l02736"></a>02736 
<a name="l02737"></a>02737         posit = 0;
<a name="l02738"></a>02738         <span class="keywordflow">while</span> (*++p &amp;&amp; *p == <span class="charliteral">'/'</span>)
<a name="l02739"></a>02739             ;
<a name="l02740"></a>02740         <span class="keywordflow">if</span> (!*p) {
<a name="l02741"></a>02741             <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"base name not given"</span>);
<a name="l02742"></a>02742             <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l02743"></a>02743         }
<a name="l02744"></a>02744         s = strchr(p, <span class="charliteral">'/'</span>);
<a name="l02745"></a>02745         <span class="keywordflow">if</span> (s == 0)
<a name="l02746"></a>02746             len = strlen(p);
<a name="l02747"></a>02747         <span class="keywordflow">else</span>
<a name="l02748"></a>02748             len = (int)(s - p);
<a name="l02749"></a>02749         <span class="keywordflow">if</span> (len &gt; 32) {
<a name="l02750"></a>02750             <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"base name in path is too long"</span>);
<a name="l02751"></a>02751             <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l02752"></a>02752         }
<a name="l02753"></a>02753         strncpy(label[0], p, len);
<a name="l02754"></a>02754         label[0][len] = 0;
<a name="l02755"></a>02755 
<a name="l02756"></a>02756         cg = <a class="code" href="cgns__header_8h.html#64a13852e04666fc73b74a8ff7727f4f">cgi_get_file</a>(file_number);
<a name="l02757"></a>02757         <span class="keywordflow">if</span> (cg == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l02758"></a>02758 
<a name="l02759"></a>02759         <span class="keywordflow">for</span> (n = 0; n &lt; cg-&gt;<a class="code" href="structcgns__file.html#4ca0d4ed1ea9b5b81441a2cdd7178df9">nbases</a>; n++) {
<a name="l02760"></a>02760             <span class="keywordflow">if</span> (0 == strcmp(label[0], cg-&gt;<a class="code" href="structcgns__file.html#0429392e9c26dac2f0b97ae2d2127117">base</a>[n].<a class="code" href="structcgns__base.html#b5192b2e796e6224c74ec532ec32abf7">name</a>)) {
<a name="l02761"></a>02761                 B = n + 1;
<a name="l02762"></a>02762                 <span class="keywordflow">break</span>;
<a name="l02763"></a>02763             }
<a name="l02764"></a>02764         }
<a name="l02765"></a>02765         <span class="keywordflow">if</span> (B == 0) {
<a name="l02766"></a>02766             <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"base '%s' not found"</span>, label[0]);
<a name="l02767"></a>02767             <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l02768"></a>02768         }
<a name="l02769"></a>02769         ierr = <a class="code" href="cgns__header_8h.html#a9e478dfab5b9a00a40855b559593d77">cgi_set_posit</a>(file_number, B, 0, index, lab);
<a name="l02770"></a>02770         <span class="keywordflow">if</span> (ierr != <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>) <span class="keywordflow">return</span> ierr;
<a name="l02771"></a>02771         <span class="keywordflow">if</span> (s == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l02772"></a>02772         p = s;
<a name="l02773"></a>02773     }
<a name="l02774"></a>02774 
<a name="l02775"></a>02775     <span class="comment">/* relative path */</span>
<a name="l02776"></a>02776 
<a name="l02777"></a>02777     <span class="keywordflow">else</span> {
<a name="l02778"></a>02778         <span class="keywordflow">if</span> (posit == 0) {
<a name="l02779"></a>02779             <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"position not set with cg_goto"</span>);
<a name="l02780"></a>02780             <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l02781"></a>02781         }
<a name="l02782"></a>02782         <span class="keywordflow">if</span> (file_number != <a class="code" href="cgns__header_8h.html#09600b02dcc6c76fad54f3d15c3be10f">posit_file</a>) {
<a name="l02783"></a>02783             <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"current position is in the wrong file"</span>);
<a name="l02784"></a>02784             <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l02785"></a>02785         }
<a name="l02786"></a>02786     }
<a name="l02787"></a>02787 
<a name="l02788"></a>02788     n = 0;
<a name="l02789"></a>02789     <span class="keywordflow">while</span> (p &amp;&amp; *p) {
<a name="l02790"></a>02790         <span class="keywordflow">while</span> (*p &amp;&amp; *p == <span class="charliteral">'/'</span>) p++;
<a name="l02791"></a>02791         <span class="keywordflow">if</span> (!*p) <span class="keywordflow">break</span>;
<a name="l02792"></a>02792         s = strchr(p, <span class="charliteral">'/'</span>);
<a name="l02793"></a>02793         <span class="keywordflow">if</span> (s == 0)
<a name="l02794"></a>02794             len = strlen(p);
<a name="l02795"></a>02795         <span class="keywordflow">else</span>
<a name="l02796"></a>02796             len = (int)(s - p);
<a name="l02797"></a>02797         <span class="keywordflow">if</span> (len &gt; 32) {
<a name="l02798"></a>02798             posit = 0;
<a name="l02799"></a>02799             <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"node name in path is too long"</span>);
<a name="l02800"></a>02800             <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l02801"></a>02801         }
<a name="l02802"></a>02802         <span class="keywordflow">if</span> (n == <a class="code" href="cgns_keywords_8h.html#e134c9d36cd7c67938caf1685deee176">CG_MAX_GOTO_DEPTH</a>) {
<a name="l02803"></a>02803             posit = 0;
<a name="l02804"></a>02804             <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"path is too deep"</span>);
<a name="l02805"></a>02805             <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l02806"></a>02806         }
<a name="l02807"></a>02807         strncpy(label[n], p, len);
<a name="l02808"></a>02808         label[n][len] = 0;
<a name="l02809"></a>02809         lab[n] = label[n];
<a name="l02810"></a>02810         index[n++] = 0;
<a name="l02811"></a>02811         p = s;
<a name="l02812"></a>02812     }
<a name="l02813"></a>02813 
<a name="l02814"></a>02814     <span class="keywordflow">return</span> <a class="code" href="cgns__header_8h.html#7d560baade0ad3ecfba48ed32e9b7e02">cgi_update_posit</a>(n, index, lab);
<a name="l02815"></a>02815 }
<a name="l02816"></a>02816 
<a name="l02817"></a>02817 <span class="comment">/*-----------------------------------------------------------------------*/</span>
<a name="l02818"></a>02818 
<a name="l02819"></a><a class="code" href="cgnslib_8h.html#09fd98158e10b6f0717716698f32965c">02819</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#d7bfb7bca9bef4c134a95db1748e0556">cg_golist</a>(<span class="keywordtype">int</span> file_number, <span class="keywordtype">int</span> B, <span class="keywordtype">int</span> depth, <span class="keywordtype">char</span> **<a class="code" href="_a_d_f__internals_8h.html#363d93fb13f0f235ae88ade1b5d17180">label</a>, <span class="keywordtype">int</span> *index)
<a name="l02820"></a>02820 {
<a name="l02821"></a>02821     <span class="keywordflow">if</span> (depth &gt;= <a class="code" href="cgns_keywords_8h.html#e134c9d36cd7c67938caf1685deee176">CG_MAX_GOTO_DEPTH</a>) {
<a name="l02822"></a>02822         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"path is too deep"</span>);
<a name="l02823"></a>02823         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l02824"></a>02824     }
<a name="l02825"></a>02825     <span class="keywordflow">return</span> <a class="code" href="cgns__header_8h.html#a9e478dfab5b9a00a40855b559593d77">cgi_set_posit</a>(file_number, B, depth, index, label);
<a name="l02826"></a>02826 }
<a name="l02827"></a>02827 
<a name="l02828"></a>02828 <span class="comment">/*-----------------------------------------------------------------------*/</span>
<a name="l02829"></a>02829 
<a name="l02830"></a><a class="code" href="cgnslib_8h.html#18de2cb18ec24f60d33768115d015d25">02830</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#a88a0a211c65ca2567b39cd5c0eb3c39">cg_where</a>(<span class="keywordtype">int</span> *file_number, <span class="keywordtype">int</span> *B, <span class="keywordtype">int</span> *depth, <span class="keywordtype">char</span> **<a class="code" href="_a_d_f__internals_8h.html#363d93fb13f0f235ae88ade1b5d17180">label</a>, <span class="keywordtype">int</span> *num)
<a name="l02831"></a>02831 {
<a name="l02832"></a>02832     <span class="keywordtype">int</span> n;
<a name="l02833"></a>02833 
<a name="l02834"></a>02834     <span class="keywordflow">if</span> (posit == 0) {
<a name="l02835"></a>02835         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a> (<span class="stringliteral">"position not set with cg_goto"</span>);
<a name="l02836"></a>02836         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l02837"></a>02837     }
<a name="l02838"></a>02838     *file_number = <a class="code" href="cgns__header_8h.html#09600b02dcc6c76fad54f3d15c3be10f">posit_file</a>;
<a name="l02839"></a>02839     *B = <a class="code" href="cgns__header_8h.html#9aefb3fb2179957b84774f80fc7ca76a">posit_base</a>;
<a name="l02840"></a>02840     <span class="comment">/* first entry is base */</span>
<a name="l02841"></a>02841     *depth = <a class="code" href="cgns__header_8h.html#b56d1ece67786a1de8f971f39745e78b">posit_depth</a> &gt; 1 ? <a class="code" href="cgns__header_8h.html#b56d1ece67786a1de8f971f39745e78b">posit_depth</a> - 1 : 0;
<a name="l02842"></a>02842     <span class="keywordflow">if</span> (NULL != label) {
<a name="l02843"></a>02843         <span class="keywordflow">for</span> (n = 1; n &lt; <a class="code" href="cgns__header_8h.html#b56d1ece67786a1de8f971f39745e78b">posit_depth</a>; n++)
<a name="l02844"></a>02844             strcpy(label[n], <a class="code" href="cgns__header_8h.html#84d16ed8a2169fe9db4e3b2f8287928e">posit_stack</a>[n].label);
<a name="l02845"></a>02845     }
<a name="l02846"></a>02846     <span class="keywordflow">if</span> (NULL != num) {
<a name="l02847"></a>02847         <span class="keywordflow">for</span> (n = 1; n &lt; <a class="code" href="cgns__header_8h.html#b56d1ece67786a1de8f971f39745e78b">posit_depth</a>; n++)
<a name="l02848"></a>02848             num[n] = <a class="code" href="cgns__header_8h.html#84d16ed8a2169fe9db4e3b2f8287928e">posit_stack</a>[n].index;
<a name="l02849"></a>02849     }
<a name="l02850"></a>02850     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l02851"></a>02851 }
<a name="l02852"></a>02852 
<a name="l02853"></a>02853 <span class="comment">/*****************************************************************************\</span>
<a name="l02854"></a>02854 <span class="comment"> *           Read Multiple path nodes</span>
<a name="l02855"></a>02855 <span class="comment">\*****************************************************************************/</span>
<a name="l02856"></a>02856 
<a name="l02857"></a><a class="code" href="cgnslib_8h.html#11496a963f8be61d0b09114c64822886">02857</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#7bc0fed09c8e3e4152fcbd1ceb2e053d">cg_famname_read</a>(<span class="keywordtype">char</span> *family_name) {
<a name="l02858"></a>02858     <span class="keywordtype">char</span> *famname;
<a name="l02859"></a>02859     <span class="keywordtype">int</span> ier=0;
<a name="l02860"></a>02860 
<a name="l02861"></a>02861      <span class="comment">/* verify input */</span>
<a name="l02862"></a>02862     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l02863"></a>02863 
<a name="l02864"></a>02864     famname = <a class="code" href="cgns__header_8h.html#ea35d1454d4814d38afc88c1e422f32d">cgi_famname_address</a>(<a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>, &amp;ier);
<a name="l02865"></a>02865     <span class="keywordflow">if</span> (famname==0) <span class="keywordflow">return</span> ier;
<a name="l02866"></a>02866 
<a name="l02867"></a>02867     strcpy(family_name,famname);
<a name="l02868"></a>02868     <span class="keywordflow">if</span> (!strlen(famname)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#e3177764863da4b451449a76ab55bebd">CG_NODE_NOT_FOUND</a>;
<a name="l02869"></a>02869     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l02870"></a>02870 }
<a name="l02871"></a>02871 
<a name="l02872"></a><a class="code" href="cgnslib_8h.html#04bbf7442e8f19ee92211bd7f2ef4764">02872</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#801ab7e380545d837c9b3abf62114fd8">cg_convergence_read</a>(<span class="keywordtype">int</span> *iterations, <span class="keywordtype">char</span> **NormDefinitions) {
<a name="l02873"></a>02873     <a class="code" href="structcgns__converg.html">cgns_converg</a> *converg;
<a name="l02874"></a>02874     <a class="code" href="structcgns__descr.html">cgns_descr</a> *descr;
<a name="l02875"></a>02875     <span class="keywordtype">int</span> ier=0;
<a name="l02876"></a>02876 
<a name="l02877"></a>02877      <span class="comment">/* verify input (cg set in cg_goto) */</span>
<a name="l02878"></a>02878     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l02879"></a>02879 
<a name="l02880"></a>02880     converg = <a class="code" href="cgns__header_8h.html#e0467a35e791a0da78a7188175c3aa05">cgi_converg_address</a>(<a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>, &amp;ier);
<a name="l02881"></a>02881     <span class="keywordflow">if</span> (converg==0) <span class="keywordflow">return</span> ier;
<a name="l02882"></a>02882 
<a name="l02883"></a>02883     (*iterations) = converg-&gt;<a class="code" href="structcgns__converg.html#1d10e252e778731e59f0f71afd7e727e">iterations</a>;
<a name="l02884"></a>02884     <span class="keywordflow">if</span> (converg-&gt;<a class="code" href="structcgns__converg.html#d99d78819e8b715593726a92e6562629">NormDefinitions</a>==0) {
<a name="l02885"></a>02885         NormDefinitions[0] = <a class="code" href="cgns__header_8h.html#948c36b3700de0f3332aa3620eafb0f4">CGNS_NEW</a>(<span class="keywordtype">char</span>, 1);
<a name="l02886"></a>02886         NormDefinitions[0][0]=<span class="charliteral">'\0'</span>;
<a name="l02887"></a>02887     } <span class="keywordflow">else</span> {
<a name="l02888"></a>02888         descr = converg-&gt;<a class="code" href="structcgns__converg.html#d99d78819e8b715593726a92e6562629">NormDefinitions</a>;
<a name="l02889"></a>02889         NormDefinitions[0] = <a class="code" href="cgns__header_8h.html#948c36b3700de0f3332aa3620eafb0f4">CGNS_NEW</a>(<span class="keywordtype">char</span>, strlen(descr-&gt;<a class="code" href="structcgns__descr.html#5633b1433389cec21ade3811bbe9ca5b">text</a>)+1);
<a name="l02890"></a>02890         strcpy(NormDefinitions[0], descr-&gt;<a class="code" href="structcgns__descr.html#5633b1433389cec21ade3811bbe9ca5b">text</a>);
<a name="l02891"></a>02891     }
<a name="l02892"></a>02892     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l02893"></a>02893 }
<a name="l02894"></a>02894 
<a name="l02895"></a><a class="code" href="cgnslib_8h.html#157eb41bc377afe15e34bb602f123dab">02895</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#39d1496f65890d79f7e63be3832347f0">cg_state_read</a>(<span class="keywordtype">char</span> **StateDescription) {
<a name="l02896"></a>02896     <a class="code" href="structcgns__state.html">cgns_state</a> *state;
<a name="l02897"></a>02897     <a class="code" href="structcgns__descr.html">cgns_descr</a> *descr;
<a name="l02898"></a>02898     <span class="keywordtype">int</span> ier=0;
<a name="l02899"></a>02899 
<a name="l02900"></a>02900      <span class="comment">/* verify input */</span>
<a name="l02901"></a>02901     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l02902"></a>02902 
<a name="l02903"></a>02903     state = <a class="code" href="cgns__header_8h.html#e87029c5603be1cecf3ecde436cd48cb">cgi_state_address</a>(<a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>, &amp;ier);
<a name="l02904"></a>02904     <span class="keywordflow">if</span> (state==0) <span class="keywordflow">return</span> ier;
<a name="l02905"></a>02905 
<a name="l02906"></a>02906     <span class="keywordflow">if</span> (state-&gt;<a class="code" href="structcgns__state.html#37ba757b84628410da818ed0943f407d">StateDescription</a> == 0) {
<a name="l02907"></a>02907         StateDescription[0]=<a class="code" href="cgns__header_8h.html#948c36b3700de0f3332aa3620eafb0f4">CGNS_NEW</a>(<span class="keywordtype">char</span>, 1);
<a name="l02908"></a>02908         StateDescription[0][0]=<span class="charliteral">'\0'</span>;
<a name="l02909"></a>02909     } <span class="keywordflow">else</span> {
<a name="l02910"></a>02910         descr = state-&gt;<a class="code" href="structcgns__state.html#37ba757b84628410da818ed0943f407d">StateDescription</a>;
<a name="l02911"></a>02911         StateDescription[0]=<a class="code" href="cgns__header_8h.html#948c36b3700de0f3332aa3620eafb0f4">CGNS_NEW</a>(<span class="keywordtype">char</span>, strlen(descr-&gt;<a class="code" href="structcgns__descr.html#5633b1433389cec21ade3811bbe9ca5b">text</a>)+1);
<a name="l02912"></a>02912         strcpy(StateDescription[0], descr-&gt;<a class="code" href="structcgns__descr.html#5633b1433389cec21ade3811bbe9ca5b">text</a>);
<a name="l02913"></a>02913     }
<a name="l02914"></a>02914     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l02915"></a>02915 }
<a name="l02916"></a>02916 
<a name="l02917"></a><a class="code" href="cgnslib_8h.html#08069e191231533406342023831b4ed6">02917</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#fa9061626676f054e79226200bace707">cg_equationset_read</a>(<span class="keywordtype">int</span> *EquationDimension,
<a name="l02918"></a>02918     <span class="keywordtype">int</span> *GoverningEquationsFlag, <span class="keywordtype">int</span> *GasModelFlag,
<a name="l02919"></a>02919     <span class="keywordtype">int</span> *ViscosityModelFlag,     <span class="keywordtype">int</span> *ThermalConductivityModelFlag,
<a name="l02920"></a>02920     <span class="keywordtype">int</span> *TurbulenceClosureFlag,  <span class="keywordtype">int</span> *TurbulenceModelFlag) {
<a name="l02921"></a>02921     <a class="code" href="structcgns__equations.html">cgns_equations</a> *eq;
<a name="l02922"></a>02922     <span class="keywordtype">int</span> ier=0;
<a name="l02923"></a>02923 
<a name="l02924"></a>02924      <span class="comment">/* verify input */</span>
<a name="l02925"></a>02925     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l02926"></a>02926 
<a name="l02927"></a>02927     eq = <a class="code" href="cgns__header_8h.html#c5e2d486384b38e1b556a8e758dbfb48">cgi_equations_address</a>(<a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>, &amp;ier);
<a name="l02928"></a>02928     <span class="keywordflow">if</span> (eq==0) <span class="keywordflow">return</span> ier;
<a name="l02929"></a>02929 
<a name="l02930"></a>02930     (*EquationDimension) = eq-&gt;<a class="code" href="structcgns__equations.html#698de3d7bf6f9585878ac4cf71013e48">equation_dim</a>;
<a name="l02931"></a>02931     <span class="keywordflow">if</span> (eq-&gt;<a class="code" href="structcgns__equations.html#4cedde0decc1ffb50a76ff632660ac26">governing</a>) (*GoverningEquationsFlag)=1;
<a name="l02932"></a>02932     <span class="keywordflow">else</span>           (*GoverningEquationsFlag)=0;
<a name="l02933"></a>02933 
<a name="l02934"></a>02934     <span class="keywordflow">if</span> (eq-&gt;<a class="code" href="structcgns__equations.html#21034bf378329608d1dbc2a02d4587d3">gas</a>) (*GasModelFlag)=1;
<a name="l02935"></a>02935     <span class="keywordflow">else</span>         (*GasModelFlag)=0;
<a name="l02936"></a>02936 
<a name="l02937"></a>02937     <span class="keywordflow">if</span> (eq-&gt;<a class="code" href="structcgns__equations.html#ec3c2c1a1587557a32fb201b00bd0c35">visc</a>) (*ViscosityModelFlag)=1;
<a name="l02938"></a>02938     <span class="keywordflow">else</span>          (*ViscosityModelFlag)=0;
<a name="l02939"></a>02939 
<a name="l02940"></a>02940     <span class="keywordflow">if</span> (eq-&gt;<a class="code" href="structcgns__equations.html#366946fce927d499aae02bac600944bc">conduct</a>) (*ThermalConductivityModelFlag)=1;
<a name="l02941"></a>02941     <span class="keywordflow">else</span>         (*ThermalConductivityModelFlag)=0;
<a name="l02942"></a>02942 
<a name="l02943"></a>02943     <span class="keywordflow">if</span> (eq-&gt;<a class="code" href="structcgns__equations.html#954b06228938d2a19e4d35aba8027433">closure</a>) (*TurbulenceClosureFlag)=1;
<a name="l02944"></a>02944     <span class="keywordflow">else</span>         (*TurbulenceClosureFlag)=0;
<a name="l02945"></a>02945 
<a name="l02946"></a>02946     <span class="keywordflow">if</span> (eq-&gt;<a class="code" href="structcgns__equations.html#1cbe673027cbfbf45921d374c7ad052a">turbulence</a>) (*TurbulenceModelFlag)=1;
<a name="l02947"></a>02947     <span class="keywordflow">else</span>            (*TurbulenceModelFlag)=0;
<a name="l02948"></a>02948 
<a name="l02949"></a>02949     <span class="comment">/* Version 2.1 chemistry extensions get their own read routine</span>
<a name="l02950"></a>02950 <span class="comment">    ** for backward compatability.</span>
<a name="l02951"></a>02951 <span class="comment">    */</span>
<a name="l02952"></a>02952     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l02953"></a>02953 }
<a name="l02954"></a>02954 
<a name="l02955"></a><a class="code" href="cgnslib_8h.html#7ac1671d0965ec469311789b212ada71">02955</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#18af3d6b4b362a04aa67a4f46ecb9931">cg_equationset_chemistry_read</a>(<span class="keywordtype">int</span> *ThermalRelaxationFlag,
<a name="l02956"></a>02956     <span class="keywordtype">int</span> *ChemicalKineticsFlag) {
<a name="l02957"></a>02957     <a class="code" href="structcgns__equations.html">cgns_equations</a> *eq;
<a name="l02958"></a>02958     <span class="keywordtype">int</span> ier=0;
<a name="l02959"></a>02959 
<a name="l02960"></a>02960      <span class="comment">/* verify input */</span>
<a name="l02961"></a>02961     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l02962"></a>02962 
<a name="l02963"></a>02963     eq = <a class="code" href="cgns__header_8h.html#c5e2d486384b38e1b556a8e758dbfb48">cgi_equations_address</a>(<a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>, &amp;ier);
<a name="l02964"></a>02964     <span class="keywordflow">if</span> (eq==0) <span class="keywordflow">return</span> ier;
<a name="l02965"></a>02965 
<a name="l02966"></a>02966     <span class="keywordflow">if</span> (eq-&gt;<a class="code" href="structcgns__equations.html#b1cb762cc36947e17f3034755d346a39">relaxation</a>) (*ThermalRelaxationFlag)=1;
<a name="l02967"></a>02967     <span class="keywordflow">else</span>            (*ThermalRelaxationFlag)=0;
<a name="l02968"></a>02968 
<a name="l02969"></a>02969     <span class="keywordflow">if</span> (eq-&gt;<a class="code" href="structcgns__equations.html#720db91659fafeaf32aa9be7aad1034e">chemkin</a>) (*ChemicalKineticsFlag)=1;
<a name="l02970"></a>02970     <span class="keywordflow">else</span>         (*ChemicalKineticsFlag)=0;
<a name="l02971"></a>02971 
<a name="l02972"></a>02972     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l02973"></a>02973 }
<a name="l02974"></a>02974 
<a name="l02975"></a><a class="code" href="cgnslib_8h.html#3fb353cf5cdf13a7092e6c31a018f342">02975</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#cdf101f86c02b640eecf8fece6542cc2">cg_equationset_elecmagn_read</a>(<span class="keywordtype">int</span> *ElecFldModelFlag, <span class="keywordtype">int</span> *MagnFldModelFlag,
<a name="l02976"></a>02976                                  <span class="keywordtype">int</span> *ConductivityModelFlag)
<a name="l02977"></a>02977 {
<a name="l02978"></a>02978     <a class="code" href="structcgns__equations.html">cgns_equations</a> *eq;
<a name="l02979"></a>02979     <span class="keywordtype">int</span> ier=0;
<a name="l02980"></a>02980 
<a name="l02981"></a>02981      <span class="comment">/* verify input */</span>
<a name="l02982"></a>02982     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l02983"></a>02983 
<a name="l02984"></a>02984     eq = <a class="code" href="cgns__header_8h.html#c5e2d486384b38e1b556a8e758dbfb48">cgi_equations_address</a>(<a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>, &amp;ier);
<a name="l02985"></a>02985     <span class="keywordflow">if</span> (eq==0) <span class="keywordflow">return</span> ier;
<a name="l02986"></a>02986 
<a name="l02987"></a>02987     <span class="keywordflow">if</span> (eq-&gt;<a class="code" href="structcgns__equations.html#2c39257e6300c6d38b83fe375e6d68c1">elecfield</a>) (*ElecFldModelFlag)=1;
<a name="l02988"></a>02988     <span class="keywordflow">else</span>            (*ElecFldModelFlag)=0;
<a name="l02989"></a>02989 
<a name="l02990"></a>02990     <span class="keywordflow">if</span> (eq-&gt;<a class="code" href="structcgns__equations.html#ddc478d211550ffbd7fa178b5230497b">magnfield</a>) (*MagnFldModelFlag)=1;
<a name="l02991"></a>02991     <span class="keywordflow">else</span>         (*MagnFldModelFlag)=0;
<a name="l02992"></a>02992 
<a name="l02993"></a>02993     <span class="keywordflow">if</span> (eq-&gt;<a class="code" href="structcgns__equations.html#3718c1414689ccf8b82af7efdbbd2461">emconduct</a>) (*ConductivityModelFlag)=1;
<a name="l02994"></a>02994     <span class="keywordflow">else</span>         (*ConductivityModelFlag)=0;
<a name="l02995"></a>02995 
<a name="l02996"></a>02996     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l02997"></a>02997 }
<a name="l02998"></a>02998 
<a name="l02999"></a><a class="code" href="cgnslib_8h.html#8b5f1ec4f7d1ded1c3a94eb9c0196b92">02999</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#d83a15c7f36b0a0db9e45bb0f466a190">cg_governing_read</a>(<a class="code" href="cgns_keywords_8h.html#7a3f70ad41979f9879fdcb6707519cac">GoverningEquationsType_t</a> *EquationsType) {
<a name="l03000"></a>03000     <a class="code" href="structcgns__governing.html">cgns_governing</a> *governing;
<a name="l03001"></a>03001     <span class="keywordtype">int</span> ier=0;
<a name="l03002"></a>03002 
<a name="l03003"></a>03003      <span class="comment">/* verify input */</span>
<a name="l03004"></a>03004     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l03005"></a>03005 
<a name="l03006"></a>03006     governing = <a class="code" href="cgns__header_8h.html#dd8e570d0f49461b8356aab28290582e">cgi_governing_address</a>(<a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>, &amp;ier);
<a name="l03007"></a>03007     <span class="keywordflow">if</span> (governing==0) <span class="keywordflow">return</span> ier;
<a name="l03008"></a>03008 
<a name="l03009"></a>03009     (*EquationsType) = governing-&gt;<a class="code" href="structcgns__governing.html#f4e5b78caa62b03260b2fffcdb77c204">type</a>;
<a name="l03010"></a>03010     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l03011"></a>03011 }
<a name="l03012"></a>03012 
<a name="l03013"></a><a class="code" href="cgnslib_8h.html#e232ca83e8855e621b835541d695f2b6">03013</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#67e04d599a5e560fd425e47e16962dcd">cg_diffusion_read</a>(<span class="keywordtype">int</span> *diffusion_model) {
<a name="l03014"></a>03014     <span class="keywordtype">int</span> n, ndata, ier=0;
<a name="l03015"></a>03015     <span class="keywordtype">int</span> *diffusion, index_dim;
<a name="l03016"></a>03016 
<a name="l03017"></a>03017      <span class="comment">/* verify input */</span>
<a name="l03018"></a>03018     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l03019"></a>03019 
<a name="l03020"></a>03020     diffusion = <a class="code" href="cgns__header_8h.html#dfb98eb01235e97d1518ce6c40eb3e73">cgi_diffusion_address</a>(<a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>, &amp;ier);
<a name="l03021"></a>03021     <span class="keywordflow">if</span> (diffusion==0) <span class="keywordflow">return</span> ier;
<a name="l03022"></a>03022 
<a name="l03023"></a>03023     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#9aefb3fb2179957b84774f80fc7ca76a">posit_base</a> &amp;&amp; <a class="code" href="cgns__header_8h.html#ebd0971a3f05d514c15194a9a9d08617">posit_zone</a>) {
<a name="l03024"></a>03024         index_dim = cg-&gt;<a class="code" href="structcgns__file.html#0429392e9c26dac2f0b97ae2d2127117">base</a>[<a class="code" href="cgns__header_8h.html#9aefb3fb2179957b84774f80fc7ca76a">posit_base</a>-1].<a class="code" href="structcgns__base.html#abbb754f366f926198416ad91b8155ef">zone</a>[<a class="code" href="cgns__header_8h.html#ebd0971a3f05d514c15194a9a9d08617">posit_zone</a>-1].<a class="code" href="structcgns__zone.html#5ea7c3da009c9add916c0eeca1973c05">index_dim</a>;
<a name="l03025"></a>03025 
<a name="l03026"></a>03026      <span class="comment">/* If defined under CGNSBase_t node */</span>
<a name="l03027"></a>03027     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#9aefb3fb2179957b84774f80fc7ca76a">posit_base</a>) {
<a name="l03028"></a>03028         index_dim = cg-&gt;<a class="code" href="structcgns__file.html#0429392e9c26dac2f0b97ae2d2127117">base</a>[<a class="code" href="cgns__header_8h.html#9aefb3fb2179957b84774f80fc7ca76a">posit_base</a>-1].<a class="code" href="structcgns__base.html#1bee6ac28f8d5df04476d015a8643d3a">cell_dim</a>;
<a name="l03029"></a>03029 
<a name="l03030"></a>03030     } <span class="keywordflow">else</span> {
<a name="l03031"></a>03031         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Can't find IndexDimension in cg_diffusion_read."</span>);
<a name="l03032"></a>03032         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#e5e87a97d0361ef2982e0424d2abeb48">CG_NO_INDEX_DIM</a>;
<a name="l03033"></a>03033     }
<a name="l03034"></a>03034     <span class="keywordflow">if</span> (index_dim==1) ndata=1;
<a name="l03035"></a>03035     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (index_dim==2) ndata=3;
<a name="l03036"></a>03036     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (index_dim==3) ndata=6;
<a name="l03037"></a>03037     <span class="keywordflow">else</span> {
<a name="l03038"></a>03038         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"invalid value for IndexDimension"</span>);
<a name="l03039"></a>03039         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l03040"></a>03040     }
<a name="l03041"></a>03041 
<a name="l03042"></a>03042     <span class="keywordflow">for</span> (n=0; n&lt;ndata; n++) diffusion_model[n] = diffusion[n];
<a name="l03043"></a>03043 
<a name="l03044"></a>03044     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l03045"></a>03045 }
<a name="l03046"></a>03046 
<a name="l03047"></a><a class="code" href="cgnslib_8h.html#5ef47f641e9f48b68199c3b526ac1f22">03047</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#16aeb1de858c4e339991a01b728d7105">cg_model_read</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *ModelLabel, <a class="code" href="cgns_keywords_8h.html#e4dcb1e90f970848fe809fbe830319fb">ModelType_t</a> *ModelType) {
<a name="l03048"></a>03048     <a class="code" href="structcgns__model.html">cgns_model</a> *model;
<a name="l03049"></a>03049     <span class="keywordtype">int</span> ier=0;
<a name="l03050"></a>03050 
<a name="l03051"></a>03051      <span class="comment">/* verify input */</span>
<a name="l03052"></a>03052     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l03053"></a>03053 
<a name="l03054"></a>03054     model = <a class="code" href="cgns__header_8h.html#4edbe2d462fa94756f14375c13235a1e">cgi_model_address</a>(<a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>, ModelLabel, &amp;ier);
<a name="l03055"></a>03055     <span class="keywordflow">if</span> (model==0) <span class="keywordflow">return</span> ier;
<a name="l03056"></a>03056 
<a name="l03057"></a>03057     (*ModelType) = model-&gt;<a class="code" href="structcgns__model.html#499527df23869491da6f030957f5aea4">type</a>;
<a name="l03058"></a>03058 
<a name="l03059"></a>03059     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l03060"></a>03060 }
<a name="l03061"></a>03061 
<a name="l03062"></a><a class="code" href="cgnslib_8h.html#73f0c4a8d05bb73f461b3b6d1e56cbde">03062</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#83d51b1c2a84e0b52a11ed6757542923">cg_narrays</a>(<span class="keywordtype">int</span> *narrays) {
<a name="l03063"></a>03063 
<a name="l03064"></a>03064 <span class="comment">/* Possible parents:</span>
<a name="l03065"></a>03065 <span class="comment"> *  GridCoordinates_t, FlowSolution_t, DiscreteData_t, BC_t,</span>
<a name="l03066"></a>03066 <span class="comment"> *  BCData_t, GasModel_t, ViscosityModel_t, ThermalConductivityModel_t, TurbulenceClosure_t,</span>
<a name="l03067"></a>03067 <span class="comment"> *  TurbulenceModel_t, ThermalRelaxationModel_t, ChemicalKineticsModel_t,</span>
<a name="l03068"></a>03068 <span class="comment"> *  EMElectricFieldModel_t, EMMagneticFieldModel_t, EMConductivityModel_t,</span>
<a name="l03069"></a>03069 <span class="comment"> *  ConvergenceHistory_t, IntegralData_t, ReferenceState_t,</span>
<a name="l03070"></a>03070 <span class="comment"> *  RigidGridMotion_t, ArbitraryGridMotion_t, BaseIterativeData_t, ZoneIterativeData_t</span>
<a name="l03071"></a>03071 <span class="comment"> *  GridConnectivity_t, UserDefinedData_t, Gravity_t, Axisymmetry_t, RotatingCoordinates_t,</span>
<a name="l03072"></a>03072 <span class="comment"> *  Area_t, Periodic_t</span>
<a name="l03073"></a>03073 <span class="comment"> */</span>
<a name="l03074"></a>03074 
<a name="l03075"></a>03075      <span class="comment">/* verify input */</span>
<a name="l03076"></a>03076     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l03077"></a>03077 
<a name="l03078"></a>03078      <span class="comment">/* check for valid posit */</span>
<a name="l03079"></a>03079     <span class="keywordflow">if</span> (posit == 0) {
<a name="l03080"></a>03080         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"No current position set by cg_goto\n"</span>);
<a name="l03081"></a>03081         (*narrays) = 0;
<a name="l03082"></a>03082         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l03083"></a>03083     }
<a name="l03084"></a>03084     <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"GridCoordinates_t"</span>)==0) {
<a name="l03085"></a>03085         <a class="code" href="structcgns__zcoor.html">cgns_zcoor</a> *zcoor= (<a class="code" href="structcgns__zcoor.html">cgns_zcoor</a> *)posit-&gt;<a class="code" href="structcgns__posit.html#3378c1daf2fcc2b6ce28d61681bbe575">posit</a>;
<a name="l03086"></a>03086         (*narrays) = zcoor-&gt;<a class="code" href="structcgns__zcoor.html#a6cb1b2f94bbe4063ed616bdc8797abf">ncoords</a>;
<a name="l03087"></a>03087 
<a name="l03088"></a>03088     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"FlowSolution_t"</span>)==0) {
<a name="l03089"></a>03089         <a class="code" href="structcgns__sol.html">cgns_sol</a> *sol = (<a class="code" href="structcgns__sol.html">cgns_sol</a> *)posit-&gt;<a class="code" href="structcgns__posit.html#3378c1daf2fcc2b6ce28d61681bbe575">posit</a>;
<a name="l03090"></a>03090         (*narrays) = sol-&gt;<a class="code" href="structcgns__sol.html#6a44392df035942bf1234e9e4414cdf5">nfields</a>;
<a name="l03091"></a>03091 
<a name="l03092"></a>03092     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"DiscreteData_t"</span>)==0) {
<a name="l03093"></a>03093         <a class="code" href="structcgns__discrete.html">cgns_discrete</a> *discrete = (<a class="code" href="structcgns__discrete.html">cgns_discrete</a> *)posit-&gt;<a class="code" href="structcgns__posit.html#3378c1daf2fcc2b6ce28d61681bbe575">posit</a>;
<a name="l03094"></a>03094         (*narrays) = discrete-&gt;<a class="code" href="structcgns__discrete.html#ace0c04d503f8dda2284ae61a8344b8b">narrays</a>;
<a name="l03095"></a>03095 
<a name="l03096"></a>03096     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"GridConnectivity_t"</span>)==0) {
<a name="l03097"></a>03097         <a class="code" href="structcgns__conn.html">cgns_conn</a> *conn = (<a class="code" href="structcgns__conn.html">cgns_conn</a> *)posit-&gt;<a class="code" href="structcgns__posit.html#3378c1daf2fcc2b6ce28d61681bbe575">posit</a>;
<a name="l03098"></a>03098         (*narrays) = conn-&gt;<a class="code" href="structcgns__conn.html#ace0c04d503f8dda2284ae61a8344b8b">narrays</a>;
<a name="l03099"></a>03099 
<a name="l03100"></a>03100     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"BC_t"</span>)==0) {
<a name="l03101"></a>03101         <span class="comment">/*cgns_boco *boco = (cgns_boco *)posit-&gt;posit;*/</span>
<a name="l03102"></a>03102         (*narrays) = 1;  <span class="comment">/* Always supports exactly 1. */</span>
<a name="l03103"></a>03103 
<a name="l03104"></a>03104     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"BCData_t"</span>)==0) {
<a name="l03105"></a>03105         <a class="code" href="structcgns__bcdata.html">cgns_bcdata</a> *bcdata = (<a class="code" href="structcgns__bcdata.html">cgns_bcdata</a> *)posit-&gt;<a class="code" href="structcgns__posit.html#3378c1daf2fcc2b6ce28d61681bbe575">posit</a>;
<a name="l03106"></a>03106         (*narrays) = bcdata-&gt;<a class="code" href="structcgns__bcdata.html#ace0c04d503f8dda2284ae61a8344b8b">narrays</a>;
<a name="l03107"></a>03107 
<a name="l03108"></a>03108     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"GasModel_t"</span>)==0 ||
<a name="l03109"></a>03109         strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"ViscosityModel_t"</span>)==0 ||
<a name="l03110"></a>03110         strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"ThermalConductivityModel_t"</span>)==0 ||
<a name="l03111"></a>03111         strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"TurbulenceModel_t"</span>)==0 ||
<a name="l03112"></a>03112         strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"TurbulenceClosure_t"</span>)==0 ||
<a name="l03113"></a>03113         strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"ThermalRelaxationModel_t"</span>)==0 ||
<a name="l03114"></a>03114         strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"ChemicalKineticsModel_t"</span>)==0 ||
<a name="l03115"></a>03115         strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"EMElectricFieldModel_t"</span>)==0 ||
<a name="l03116"></a>03116         strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"EMMagneticFieldModel_t"</span>)==0 ||
<a name="l03117"></a>03117         strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"EMConductivityModel_t"</span>)==0) {
<a name="l03118"></a>03118         <a class="code" href="structcgns__model.html">cgns_model</a> *model = (<a class="code" href="structcgns__model.html">cgns_model</a> *)posit-&gt;<a class="code" href="structcgns__posit.html#3378c1daf2fcc2b6ce28d61681bbe575">posit</a>;
<a name="l03119"></a>03119         (*narrays) = model-&gt;<a class="code" href="structcgns__model.html#ace0c04d503f8dda2284ae61a8344b8b">narrays</a>;
<a name="l03120"></a>03120 
<a name="l03121"></a>03121     }  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"ConvergenceHistory_t"</span>)==0) {
<a name="l03122"></a>03122         <a class="code" href="structcgns__converg.html">cgns_converg</a> *converg = (<a class="code" href="structcgns__converg.html">cgns_converg</a> *)posit-&gt;<a class="code" href="structcgns__posit.html#3378c1daf2fcc2b6ce28d61681bbe575">posit</a>;
<a name="l03123"></a>03123         (*narrays) = converg-&gt;<a class="code" href="structcgns__converg.html#ace0c04d503f8dda2284ae61a8344b8b">narrays</a>;
<a name="l03124"></a>03124 
<a name="l03125"></a>03125     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"IntegralData_t"</span>)==0) {
<a name="l03126"></a>03126         <a class="code" href="structcgns__integral.html">cgns_integral</a> *integral = (<a class="code" href="structcgns__integral.html">cgns_integral</a> *)posit-&gt;<a class="code" href="structcgns__posit.html#3378c1daf2fcc2b6ce28d61681bbe575">posit</a>;
<a name="l03127"></a>03127         (*narrays) = integral-&gt;<a class="code" href="structcgns__integral.html#ace0c04d503f8dda2284ae61a8344b8b">narrays</a>;
<a name="l03128"></a>03128 
<a name="l03129"></a>03129     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"ReferenceState_t"</span>)==0) {
<a name="l03130"></a>03130         <a class="code" href="structcgns__state.html">cgns_state</a> *state = (<a class="code" href="structcgns__state.html">cgns_state</a> *)posit-&gt;<a class="code" href="structcgns__posit.html#3378c1daf2fcc2b6ce28d61681bbe575">posit</a>;
<a name="l03131"></a>03131         (*narrays) = state-&gt;<a class="code" href="structcgns__state.html#ace0c04d503f8dda2284ae61a8344b8b">narrays</a>;
<a name="l03132"></a>03132 
<a name="l03133"></a>03133     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"RigidGridMotion_t"</span>)==0) {
<a name="l03134"></a>03134         <a class="code" href="structcgns__rmotion.html">cgns_rmotion</a> *rmotion = (<a class="code" href="structcgns__rmotion.html">cgns_rmotion</a> *)posit-&gt;<a class="code" href="structcgns__posit.html#3378c1daf2fcc2b6ce28d61681bbe575">posit</a>;
<a name="l03135"></a>03135         (*narrays) = rmotion-&gt;<a class="code" href="structcgns__rmotion.html#ace0c04d503f8dda2284ae61a8344b8b">narrays</a>;
<a name="l03136"></a>03136 
<a name="l03137"></a>03137     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"ArbitraryGridMotion_t"</span>)==0) {
<a name="l03138"></a>03138         <a class="code" href="structcgns__amotion.html">cgns_amotion</a> *amotion = (<a class="code" href="structcgns__amotion.html">cgns_amotion</a> *)posit-&gt;<a class="code" href="structcgns__posit.html#3378c1daf2fcc2b6ce28d61681bbe575">posit</a>;
<a name="l03139"></a>03139         (*narrays) = amotion-&gt;<a class="code" href="structcgns__amotion.html#ace0c04d503f8dda2284ae61a8344b8b">narrays</a>;
<a name="l03140"></a>03140 
<a name="l03141"></a>03141     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"BaseIterativeData_t"</span>)==0) {
<a name="l03142"></a>03142         <a class="code" href="structcgns__biter.html">cgns_biter</a> *biter = (<a class="code" href="structcgns__biter.html">cgns_biter</a> *)posit-&gt;<a class="code" href="structcgns__posit.html#3378c1daf2fcc2b6ce28d61681bbe575">posit</a>;
<a name="l03143"></a>03143         (*narrays) = biter-&gt;<a class="code" href="structcgns__biter.html#ace0c04d503f8dda2284ae61a8344b8b">narrays</a>;
<a name="l03144"></a>03144 
<a name="l03145"></a>03145     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"ZoneIterativeData_t"</span>)==0) {
<a name="l03146"></a>03146         <a class="code" href="structcgns__ziter.html">cgns_ziter</a> *ziter = (<a class="code" href="structcgns__ziter.html">cgns_ziter</a> *)posit-&gt;<a class="code" href="structcgns__posit.html#3378c1daf2fcc2b6ce28d61681bbe575">posit</a>;
<a name="l03147"></a>03147         (*narrays) = ziter-&gt;<a class="code" href="structcgns__ziter.html#ace0c04d503f8dda2284ae61a8344b8b">narrays</a>;
<a name="l03148"></a>03148 
<a name="l03149"></a>03149     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"UserDefinedData_t"</span>)==0) {
<a name="l03150"></a>03150         <a class="code" href="structcgns__user__data__s.html">cgns_user_data</a> *user_data = (<a class="code" href="structcgns__user__data__s.html">cgns_user_data</a> *)posit-&gt;<a class="code" href="structcgns__posit.html#3378c1daf2fcc2b6ce28d61681bbe575">posit</a>;
<a name="l03151"></a>03151         (*narrays) = user_data-&gt;<a class="code" href="structcgns__user__data__s.html#ace0c04d503f8dda2284ae61a8344b8b">narrays</a>;
<a name="l03152"></a>03152 
<a name="l03153"></a>03153     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"Gravity_t"</span>)==0) {
<a name="l03154"></a>03154         <a class="code" href="structcgns__gravity.html">cgns_gravity</a> *gravity = (<a class="code" href="structcgns__gravity.html">cgns_gravity</a> *)posit-&gt;<a class="code" href="structcgns__posit.html#3378c1daf2fcc2b6ce28d61681bbe575">posit</a>;
<a name="l03155"></a>03155         (*narrays) = gravity-&gt;<a class="code" href="structcgns__gravity.html#ace0c04d503f8dda2284ae61a8344b8b">narrays</a>;
<a name="l03156"></a>03156 
<a name="l03157"></a>03157     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"Axisymmetry_t"</span>)==0) {
<a name="l03158"></a>03158         <a class="code" href="structcgns__axisym.html">cgns_axisym</a> *axisym = (<a class="code" href="structcgns__axisym.html">cgns_axisym</a> *)posit-&gt;<a class="code" href="structcgns__posit.html#3378c1daf2fcc2b6ce28d61681bbe575">posit</a>;
<a name="l03159"></a>03159         (*narrays) = axisym-&gt;<a class="code" href="structcgns__axisym.html#ace0c04d503f8dda2284ae61a8344b8b">narrays</a>;
<a name="l03160"></a>03160 
<a name="l03161"></a>03161     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"RotatingCoordinates_t"</span>)==0) {
<a name="l03162"></a>03162         <a class="code" href="structcgns__rotating.html">cgns_rotating</a> *rotating = (<a class="code" href="structcgns__rotating.html">cgns_rotating</a> *)posit-&gt;<a class="code" href="structcgns__posit.html#3378c1daf2fcc2b6ce28d61681bbe575">posit</a>;
<a name="l03163"></a>03163         (*narrays) = rotating-&gt;<a class="code" href="structcgns__rotating.html#ace0c04d503f8dda2284ae61a8344b8b">narrays</a>;
<a name="l03164"></a>03164 
<a name="l03165"></a>03165     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"Area_t"</span>)==0) {
<a name="l03166"></a>03166         <a class="code" href="structcgns__bcarea.html">cgns_bcarea</a> *bcarea = (<a class="code" href="structcgns__bcarea.html">cgns_bcarea</a> *)posit-&gt;<a class="code" href="structcgns__posit.html#3378c1daf2fcc2b6ce28d61681bbe575">posit</a>;
<a name="l03167"></a>03167         (*narrays) = bcarea-&gt;<a class="code" href="structcgns__bcarea.html#ace0c04d503f8dda2284ae61a8344b8b">narrays</a>;
<a name="l03168"></a>03168 
<a name="l03169"></a>03169     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"Periodic_t"</span>)==0) {
<a name="l03170"></a>03170         <a class="code" href="structcgns__cperio.html">cgns_cperio</a> *cperio = (<a class="code" href="structcgns__cperio.html">cgns_cperio</a> *)posit-&gt;<a class="code" href="structcgns__posit.html#3378c1daf2fcc2b6ce28d61681bbe575">posit</a>;
<a name="l03171"></a>03171         (*narrays) = cperio-&gt;<a class="code" href="structcgns__cperio.html#ace0c04d503f8dda2284ae61a8344b8b">narrays</a>;
<a name="l03172"></a>03172 
<a name="l03173"></a>03173     } <span class="keywordflow">else</span> {
<a name="l03174"></a>03174         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"User defined DataArray_t node not supported under '%s' type node"</span>,posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>);
<a name="l03175"></a>03175         (*narrays) = 0;
<a name="l03176"></a>03176         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#c0fa66c28774a143f149895c12dd429b">CG_INCORRECT_PATH</a>;
<a name="l03177"></a>03177     }
<a name="l03178"></a>03178     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l03179"></a>03179 }
<a name="l03180"></a>03180 
<a name="l03181"></a><a class="code" href="cgnslib_8h.html#0c0d2e028682008a61d59bebc535ba7d">03181</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#68cfcdb5df1ea692152256bed7b8606c">cg_array_info</a>(<span class="keywordtype">int</span> A, <span class="keywordtype">char</span> *ArrayName, <a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae">DataType_t</a> *DataType,
<a name="l03182"></a>03182     <span class="keywordtype">int</span> *DataDimension, <span class="keywordtype">int</span> *DimensionVector) {
<a name="l03183"></a>03183 
<a name="l03184"></a>03184     <a class="code" href="structcgns__array.html">cgns_array</a> *array;
<a name="l03185"></a>03185     <span class="keywordtype">int</span> n, ier=0;
<a name="l03186"></a>03186 
<a name="l03187"></a>03187      <span class="comment">/* verify input */</span>
<a name="l03188"></a>03188     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l03189"></a>03189 
<a name="l03190"></a>03190     array = <a class="code" href="cgns__header_8h.html#ae47d7326e595167f4bb0e282f85ed70">cgi_array_address</a>(<a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>, A, <span class="stringliteral">"dummy"</span>, &amp;ier);
<a name="l03191"></a>03191     <span class="keywordflow">if</span> (array==0) <span class="keywordflow">return</span> ier;
<a name="l03192"></a>03192 
<a name="l03193"></a>03193     strcpy(ArrayName, array-&gt;<a class="code" href="structcgns__array.html#b5192b2e796e6224c74ec532ec32abf7">name</a>);
<a name="l03194"></a>03194     (*DataType) = <a class="code" href="cgns__header_8h.html#24e3b83316ff66e5d321d73ee64319f2">cgi_datatype</a>(array-&gt;<a class="code" href="structcgns__array.html#86e4d546d1321bcac60584c413eb0f6d">data_type</a>);
<a name="l03195"></a>03195     (*DataDimension) = array-&gt;<a class="code" href="structcgns__array.html#c7e27870b79e982377b6669e633a32ad">data_dim</a>;
<a name="l03196"></a>03196     <span class="keywordflow">for</span> (n=0; n&lt;array-&gt;<a class="code" href="structcgns__array.html#c7e27870b79e982377b6669e633a32ad">data_dim</a>; n++) DimensionVector[n] = array-&gt;<a class="code" href="structcgns__array.html#5ca9ee30477c56421c793e2341f75931">dim_vals</a>[n];
<a name="l03197"></a>03197 
<a name="l03198"></a>03198     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l03199"></a>03199 }
<a name="l03200"></a>03200 
<a name="l03201"></a><a class="code" href="cgnslib_8h.html#6b62adc7aa6a7e5f37d0e67f78b8d904">03201</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#6cbf5b299c13b0de187d599330c6134e">cg_array_read</a>(<span class="keywordtype">int</span> A, <span class="keywordtype">void</span> *Data) {
<a name="l03202"></a>03202     <a class="code" href="structcgns__array.html">cgns_array</a> *array;
<a name="l03203"></a>03203     <span class="keywordtype">int</span> n, num =1, ier=0;
<a name="l03204"></a>03204 
<a name="l03205"></a>03205      <span class="comment">/* verify input */</span>
<a name="l03206"></a>03206     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l03207"></a>03207 
<a name="l03208"></a>03208     array = <a class="code" href="cgns__header_8h.html#ae47d7326e595167f4bb0e282f85ed70">cgi_array_address</a>(<a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>, A, <span class="stringliteral">"dummy"</span>, &amp;ier);
<a name="l03209"></a>03209     <span class="keywordflow">if</span> (array==0) <span class="keywordflow">return</span> ier;
<a name="l03210"></a>03210 
<a name="l03211"></a>03211     <span class="keywordflow">for</span> (n=0; n&lt;array-&gt;<a class="code" href="structcgns__array.html#c7e27870b79e982377b6669e633a32ad">data_dim</a>; n++) num *= array-&gt;<a class="code" href="structcgns__array.html#5ca9ee30477c56421c793e2341f75931">dim_vals</a>[n];
<a name="l03212"></a>03212 
<a name="l03213"></a>03213     if (array-&gt;<a class="code" href="structcgns__array.html#735984d41155bc1032e09bece8f8d66d">data</a>)
<a name="l03214"></a>03214         memcpy(Data, array-&gt;<a class="code" href="structcgns__array.html#735984d41155bc1032e09bece8f8d66d">data</a>, num*<a class="code" href="cgns__header_8h.html#c7abea28547e8f0f35e8eaa9d3048889">size_of</a>(array-&gt;<a class="code" href="structcgns__array.html#86e4d546d1321bcac60584c413eb0f6d">data_type</a>));
<a name="l03215"></a>03215     <span class="keywordflow">else</span> {
<a name="l03216"></a>03216         <span class="keywordflow">if</span> (<a class="code" href="cgns__io_8c.html#4ae7c787c3def6d3bbd675d83aab48e3">cgio_read_all_data</a>(cg-&gt;<a class="code" href="structcgns__file.html#98363ec7b27905dbf2c56c6a194c69cc">cgio</a>, array-&gt;<a class="code" href="structcgns__array.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, Data)) {
<a name="l03217"></a>03217             <a class="code" href="cgns__error_8c.html#47dd09a377bc17d5807332f8c475a23b">cg_io_error</a>(<span class="stringliteral">"cgio_read_all_data"</span>);
<a name="l03218"></a>03218             <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l03219"></a>03219         }
<a name="l03220"></a>03220     }
<a name="l03221"></a>03221 
<a name="l03222"></a>03222     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l03223"></a>03223 }
<a name="l03224"></a>03224 
<a name="l03225"></a><a class="code" href="cgnslib_8h.html#ee98ef52db11c87f5dfeb9541bcbb363">03225</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#83e8b83f04e02cb99fbd2aac4b4d30be">cg_array_read_as</a>(<span class="keywordtype">int</span> A, <a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae">DataType_t</a> type, <span class="keywordtype">void</span> *Data) {
<a name="l03226"></a>03226     <a class="code" href="structcgns__array.html">cgns_array</a> *array;
<a name="l03227"></a>03227     <span class="keywordtype">int</span> n, num =1, ier=0;
<a name="l03228"></a>03228     <span class="keywordtype">void</span> *array_data;
<a name="l03229"></a>03229 
<a name="l03230"></a>03230      <span class="comment">/* verify input */</span>
<a name="l03231"></a>03231     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l03232"></a>03232 
<a name="l03233"></a>03233     array = <a class="code" href="cgns__header_8h.html#ae47d7326e595167f4bb0e282f85ed70">cgi_array_address</a>(<a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>, A, <span class="stringliteral">"dummy"</span>, &amp;ier);
<a name="l03234"></a>03234     <span class="keywordflow">if</span> (array==0) <span class="keywordflow">return</span> ier;
<a name="l03235"></a>03235 
<a name="l03236"></a>03236     <span class="keywordflow">for</span> (n=0; n&lt;array-&gt;<a class="code" href="structcgns__array.html#c7e27870b79e982377b6669e633a32ad">data_dim</a>; n++) num *= array-&gt;<a class="code" href="structcgns__array.html#5ca9ee30477c56421c793e2341f75931">dim_vals</a>[n];
<a name="l03237"></a>03237 
<a name="l03238"></a>03238      <span class="comment">/* Special for Character arrays */</span>
<a name="l03239"></a>03239     if ((type==<a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae0b8efba6b691115f12604f2afe5cdcb5">Character</a> &amp;&amp; <a class="code" href="cgns__header_8h.html#24e3b83316ff66e5d321d73ee64319f2">cgi_datatype</a>(array-&gt;<a class="code" href="structcgns__array.html#86e4d546d1321bcac60584c413eb0f6d">data_type</a>)!=<a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae0b8efba6b691115f12604f2afe5cdcb5">Character</a>) ||
<a name="l03240"></a>03240         (type!=<a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae0b8efba6b691115f12604f2afe5cdcb5">Character</a> &amp;&amp; <a class="code" href="cgns__header_8h.html#24e3b83316ff66e5d321d73ee64319f2">cgi_datatype</a>(array-&gt;<a class="code" href="structcgns__array.html#86e4d546d1321bcac60584c413eb0f6d">data_type</a>)==<a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae0b8efba6b691115f12604f2afe5cdcb5">Character</a>)) {
<a name="l03241"></a>03241         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Error exit:  Character array can only be read as character"</span>);
<a name="l03242"></a>03242         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l03243"></a>03243     }
<a name="l03244"></a>03244     <span class="keywordflow">if</span> (type==<a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae0b8efba6b691115f12604f2afe5cdcb5">Character</a>) {
<a name="l03245"></a>03245         <span class="keywordflow">if</span> (array-&gt;<a class="code" href="structcgns__array.html#735984d41155bc1032e09bece8f8d66d">data</a>)
<a name="l03246"></a>03246             memcpy(Data, array-&gt;<a class="code" href="structcgns__array.html#735984d41155bc1032e09bece8f8d66d">data</a>, num*<a class="code" href="cgns__header_8h.html#c7abea28547e8f0f35e8eaa9d3048889">size_of</a>(array-&gt;<a class="code" href="structcgns__array.html#86e4d546d1321bcac60584c413eb0f6d">data_type</a>));
<a name="l03247"></a>03247         <span class="keywordflow">else</span> {
<a name="l03248"></a>03248             <span class="keywordflow">if</span> (<a class="code" href="cgns__io_8c.html#4ae7c787c3def6d3bbd675d83aab48e3">cgio_read_all_data</a>(cg-&gt;<a class="code" href="structcgns__file.html#98363ec7b27905dbf2c56c6a194c69cc">cgio</a>, array-&gt;<a class="code" href="structcgns__array.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, Data)) {
<a name="l03249"></a>03249                 <a class="code" href="cgns__error_8c.html#47dd09a377bc17d5807332f8c475a23b">cg_io_error</a>(<span class="stringliteral">"cgio_read_all_data"</span>);
<a name="l03250"></a>03250                 <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l03251"></a>03251             }
<a name="l03252"></a>03252         }
<a name="l03253"></a>03253         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l03254"></a>03254     }
<a name="l03255"></a>03255 
<a name="l03256"></a>03256      <span class="comment">/* All numerical data types: */</span>
<a name="l03257"></a>03257     <span class="keywordflow">if</span> (array-&gt;<a class="code" href="structcgns__array.html#735984d41155bc1032e09bece8f8d66d">data</a>)
<a name="l03258"></a>03258         array_data = array-&gt;<a class="code" href="structcgns__array.html#735984d41155bc1032e09bece8f8d66d">data</a>;
<a name="l03259"></a>03259     <span class="keywordflow">else</span> {
<a name="l03260"></a>03260         array_data = (<span class="keywordtype">void</span> *)<a class="code" href="cg__malloc_8h.html#535b58ab5aa48e2e86073e334d43fd32">malloc</a>(num*<a class="code" href="cgns__header_8h.html#c7abea28547e8f0f35e8eaa9d3048889">size_of</a>(array-&gt;<a class="code" href="structcgns__array.html#86e4d546d1321bcac60584c413eb0f6d">data_type</a>));
<a name="l03261"></a>03261         <span class="keywordflow">if</span> (array_data == NULL) {
<a name="l03262"></a>03262             <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Error allocating array_data"</span>);
<a name="l03263"></a>03263             <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l03264"></a>03264         }
<a name="l03265"></a>03265         <span class="keywordflow">if</span> (<a class="code" href="cgns__io_8c.html#4ae7c787c3def6d3bbd675d83aab48e3">cgio_read_all_data</a>(cg-&gt;<a class="code" href="structcgns__file.html#98363ec7b27905dbf2c56c6a194c69cc">cgio</a>, array-&gt;<a class="code" href="structcgns__array.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, array_data)) {
<a name="l03266"></a>03266             <a class="code" href="cgns__error_8c.html#47dd09a377bc17d5807332f8c475a23b">cg_io_error</a>(<span class="stringliteral">"cgio_read_all_data"</span>);
<a name="l03267"></a>03267             <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l03268"></a>03268         }
<a name="l03269"></a>03269     }
<a name="l03270"></a>03270 
<a name="l03271"></a>03271      <span class="comment">/* Write "Data" using the data-type requested */</span>
<a name="l03272"></a>03272      <span class="comment">/* I4 - I4 */</span>
<a name="l03273"></a>03273     <span class="keywordflow">if</span> (type==<a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae1e2f89e867cd91c3de2ea9fbd2ef96a3">Integer</a> &amp;&amp; <a class="code" href="cgns__header_8h.html#24e3b83316ff66e5d321d73ee64319f2">cgi_datatype</a>(array-&gt;<a class="code" href="structcgns__array.html#86e4d546d1321bcac60584c413eb0f6d">data_type</a>)==<a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae1e2f89e867cd91c3de2ea9fbd2ef96a3">Integer</a>) {
<a name="l03274"></a>03274         <span class="keywordflow">for</span> (n=0; n&lt;num; n++) *((<span class="keywordtype">int</span> *) Data+n) = *((<span class="keywordtype">int</span> *) array_data+n);
<a name="l03275"></a>03275 
<a name="l03276"></a>03276      <span class="comment">/* I4 - R4 */</span>
<a name="l03277"></a>03277     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (type==<a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae1e2f89e867cd91c3de2ea9fbd2ef96a3">Integer</a> &amp;&amp; <a class="code" href="cgns__header_8h.html#24e3b83316ff66e5d321d73ee64319f2">cgi_datatype</a>(array-&gt;<a class="code" href="structcgns__array.html#86e4d546d1321bcac60584c413eb0f6d">data_type</a>)==<a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae1ca5e5244f4627fd3bf71c72015c2060">RealSingle</a>) {
<a name="l03278"></a>03278         <span class="keywordflow">for</span> (n=0; n&lt;num; n++) *((<span class="keywordtype">int</span> *) Data+n) = (<span class="keywordtype">int</span>)(*((<span class="keywordtype">float</span> *) array_data+n));
<a name="l03279"></a>03279 
<a name="l03280"></a>03280      <span class="comment">/* I4 - R8 */</span>
<a name="l03281"></a>03281     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (type==<a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae1e2f89e867cd91c3de2ea9fbd2ef96a3">Integer</a> &amp;&amp; <a class="code" href="cgns__header_8h.html#24e3b83316ff66e5d321d73ee64319f2">cgi_datatype</a>(array-&gt;<a class="code" href="structcgns__array.html#86e4d546d1321bcac60584c413eb0f6d">data_type</a>)==<a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae5f954e649a6da0e65898e0faf7724549">RealDouble</a>) {
<a name="l03282"></a>03282         <span class="keywordflow">for</span> (n=0; n&lt;num; n++) *((<span class="keywordtype">int</span> *) Data+n) = (<span class="keywordtype">int</span>)(*((<span class="keywordtype">double</span> *) array_data+n));
<a name="l03283"></a>03283 
<a name="l03284"></a>03284      <span class="comment">/* R4 - I4 */</span>
<a name="l03285"></a>03285     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (type==<a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae1ca5e5244f4627fd3bf71c72015c2060">RealSingle</a> &amp;&amp; <a class="code" href="cgns__header_8h.html#24e3b83316ff66e5d321d73ee64319f2">cgi_datatype</a>(array-&gt;<a class="code" href="structcgns__array.html#86e4d546d1321bcac60584c413eb0f6d">data_type</a>)==<a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae1e2f89e867cd91c3de2ea9fbd2ef96a3">Integer</a>) {
<a name="l03286"></a>03286         <span class="keywordflow">for</span> (n=0; n&lt;num; n++) *((<span class="keywordtype">float</span> *) Data+n) = (<span class="keywordtype">float</span>)(*((<span class="keywordtype">int</span> *) array_data+n));
<a name="l03287"></a>03287 
<a name="l03288"></a>03288      <span class="comment">/* R4 - R4 */</span>
<a name="l03289"></a>03289     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (type==<a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae1ca5e5244f4627fd3bf71c72015c2060">RealSingle</a> &amp;&amp; <a class="code" href="cgns__header_8h.html#24e3b83316ff66e5d321d73ee64319f2">cgi_datatype</a>(array-&gt;<a class="code" href="structcgns__array.html#86e4d546d1321bcac60584c413eb0f6d">data_type</a>)==<a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae1ca5e5244f4627fd3bf71c72015c2060">RealSingle</a>) {
<a name="l03290"></a>03290         <span class="keywordflow">for</span> (n=0; n&lt;num; n++) *((<span class="keywordtype">float</span> *) Data+n) = *((<span class="keywordtype">float</span> *) array_data+n);
<a name="l03291"></a>03291 
<a name="l03292"></a>03292      <span class="comment">/* R4 - R8 */</span>
<a name="l03293"></a>03293     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (type==<a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae1ca5e5244f4627fd3bf71c72015c2060">RealSingle</a> &amp;&amp; <a class="code" href="cgns__header_8h.html#24e3b83316ff66e5d321d73ee64319f2">cgi_datatype</a>(array-&gt;<a class="code" href="structcgns__array.html#86e4d546d1321bcac60584c413eb0f6d">data_type</a>)==<a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae5f954e649a6da0e65898e0faf7724549">RealDouble</a>) {
<a name="l03294"></a>03294         <span class="keywordflow">for</span> (n=0; n&lt;num; n++) *((<span class="keywordtype">float</span> *) Data+n) = (<span class="keywordtype">float</span>)(*((<span class="keywordtype">double</span> *) array_data+n));
<a name="l03295"></a>03295 
<a name="l03296"></a>03296      <span class="comment">/* R8 - I4 */</span>
<a name="l03297"></a>03297     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (type==<a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae5f954e649a6da0e65898e0faf7724549">RealDouble</a> &amp;&amp; <a class="code" href="cgns__header_8h.html#24e3b83316ff66e5d321d73ee64319f2">cgi_datatype</a>(array-&gt;<a class="code" href="structcgns__array.html#86e4d546d1321bcac60584c413eb0f6d">data_type</a>)==<a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae1e2f89e867cd91c3de2ea9fbd2ef96a3">Integer</a>) {
<a name="l03298"></a>03298         <span class="keywordflow">for</span> (n=0; n&lt;num; n++) *((<span class="keywordtype">double</span> *) Data+n) = (<span class="keywordtype">double</span>)(*((<span class="keywordtype">int</span> *) array_data+n));
<a name="l03299"></a>03299 
<a name="l03300"></a>03300      <span class="comment">/* R8 - R4 */</span>
<a name="l03301"></a>03301     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (type==<a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae5f954e649a6da0e65898e0faf7724549">RealDouble</a> &amp;&amp; <a class="code" href="cgns__header_8h.html#24e3b83316ff66e5d321d73ee64319f2">cgi_datatype</a>(array-&gt;<a class="code" href="structcgns__array.html#86e4d546d1321bcac60584c413eb0f6d">data_type</a>)==<a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae1ca5e5244f4627fd3bf71c72015c2060">RealSingle</a>) {
<a name="l03302"></a>03302         <span class="keywordflow">for</span> (n=0; n&lt;num; n++) *((<span class="keywordtype">double</span> *) Data+n) = (<span class="keywordtype">double</span>)(*((<span class="keywordtype">float</span> *) array_data+n));
<a name="l03303"></a>03303 
<a name="l03304"></a>03304      <span class="comment">/* R8 - R8 */</span>
<a name="l03305"></a>03305     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (type==<a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae5f954e649a6da0e65898e0faf7724549">RealDouble</a> &amp;&amp; <a class="code" href="cgns__header_8h.html#24e3b83316ff66e5d321d73ee64319f2">cgi_datatype</a>(array-&gt;<a class="code" href="structcgns__array.html#86e4d546d1321bcac60584c413eb0f6d">data_type</a>)==<a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae5f954e649a6da0e65898e0faf7724549">RealDouble</a>) {
<a name="l03306"></a>03306         <span class="keywordflow">for</span> (n=0; n&lt;num; n++) *((<span class="keywordtype">double</span> *) Data+n) = *((<span class="keywordtype">double</span> *) array_data+n);
<a name="l03307"></a>03307     }
<a name="l03308"></a>03308 
<a name="l03309"></a>03309     <span class="keywordflow">if</span> (array_data != array-&gt;<a class="code" href="structcgns__array.html#735984d41155bc1032e09bece8f8d66d">data</a>) <a class="code" href="cg__malloc_8h.html#a7943e5d135734f6801bebcc37401fc0">free</a>(array_data);
<a name="l03310"></a>03310 
<a name="l03311"></a>03311     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l03312"></a>03312 }
<a name="l03313"></a>03313 
<a name="l03314"></a><a class="code" href="cgnslib_8h.html#7898de768b2e562aacd969c081f901a8">03314</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#d11a2fa7c91d703369f94933754749fd">cg_nintegrals</a>(<span class="keywordtype">int</span> *nintegrals) {
<a name="l03315"></a>03315 
<a name="l03316"></a>03316      <span class="comment">/* verify input */</span>
<a name="l03317"></a>03317     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l03318"></a>03318 
<a name="l03319"></a>03319      <span class="comment">/* check for valid posit */</span>
<a name="l03320"></a>03320     <span class="keywordflow">if</span> (posit == 0) {
<a name="l03321"></a>03321         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"No current position set by cg_goto\n"</span>);
<a name="l03322"></a>03322         (*nintegrals) = 0;
<a name="l03323"></a>03323         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l03324"></a>03324     }
<a name="l03325"></a>03325 
<a name="l03326"></a>03326     <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"CGNSBase_t"</span>)==0) {
<a name="l03327"></a>03327         <a class="code" href="structcgns__base.html">cgns_base</a> *base= (<a class="code" href="structcgns__base.html">cgns_base</a> *)posit-&gt;<a class="code" href="structcgns__posit.html#3378c1daf2fcc2b6ce28d61681bbe575">posit</a>;
<a name="l03328"></a>03328         (*nintegrals) = base-&gt;<a class="code" href="structcgns__base.html#3b3b7552ed9cb934d0494d76ec622440">nintegrals</a>;
<a name="l03329"></a>03329 
<a name="l03330"></a>03330     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"Zone_t"</span>)==0) {
<a name="l03331"></a>03331         <a class="code" href="structcgns__zone.html">cgns_zone</a> *zone = (<a class="code" href="structcgns__zone.html">cgns_zone</a> *)posit-&gt;<a class="code" href="structcgns__posit.html#3378c1daf2fcc2b6ce28d61681bbe575">posit</a>;
<a name="l03332"></a>03332         (*nintegrals) = zone-&gt;<a class="code" href="structcgns__zone.html#3b3b7552ed9cb934d0494d76ec622440">nintegrals</a>;
<a name="l03333"></a>03333     } <span class="keywordflow">else</span> {
<a name="l03334"></a>03334         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"IntegralData_t node not supported under '%s' type node"</span>,posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>);
<a name="l03335"></a>03335         (*nintegrals) = 0;
<a name="l03336"></a>03336         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#c0fa66c28774a143f149895c12dd429b">CG_INCORRECT_PATH</a>;
<a name="l03337"></a>03337     }
<a name="l03338"></a>03338     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l03339"></a>03339 }
<a name="l03340"></a>03340 
<a name="l03341"></a><a class="code" href="cgnslib_8h.html#e07507705c860a21d9c855b888e7a003">03341</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#39491a892a14b8fbfacb7781fd36433a">cg_integral_read</a>(<span class="keywordtype">int</span> IntegralDataIndex, <span class="keywordtype">char</span> *IntegralDataName) {
<a name="l03342"></a>03342     <span class="keywordtype">int</span> ier=0;
<a name="l03343"></a>03343     <a class="code" href="structcgns__integral.html">cgns_integral</a> *integral;
<a name="l03344"></a>03344 
<a name="l03345"></a>03345      <span class="comment">/* verify input */</span>
<a name="l03346"></a>03346     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l03347"></a>03347 
<a name="l03348"></a>03348     integral = <a class="code" href="cgns__header_8h.html#6e97fb3e35d4d9a105cd059a14ee1713">cgi_integral_address</a>(<a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>, IntegralDataIndex,
<a name="l03349"></a>03349            <span class="stringliteral">"dummy"</span>, &amp;ier);
<a name="l03350"></a>03350     <span class="keywordflow">if</span> (integral==0) <span class="keywordflow">return</span> ier;
<a name="l03351"></a>03351 
<a name="l03352"></a>03352     strcpy(IntegralDataName, integral-&gt;<a class="code" href="structcgns__integral.html#b5192b2e796e6224c74ec532ec32abf7">name</a>);
<a name="l03353"></a>03353     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l03354"></a>03354 }
<a name="l03355"></a>03355 
<a name="l03356"></a><a class="code" href="cgnslib_8h.html#7e083c071add73abc385cd2f1dc232e8">03356</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#80b999f7443d66926f8bee6666c6fb3c">cg_rind_read</a>(<span class="keywordtype">int</span> *RindData) {
<a name="l03357"></a>03357     <span class="keywordtype">int</span> n, ier=0;
<a name="l03358"></a>03358     <span class="keywordtype">int</span> *<a class="code" href="write__rind_8c.html#2566aacf797b3ab4ba9a41d425d41551">rind</a>, index_dim;
<a name="l03359"></a>03359 
<a name="l03360"></a>03360      <span class="comment">/* verify input */</span>
<a name="l03361"></a>03361     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l03362"></a>03362 
<a name="l03363"></a>03363     rind = <a class="code" href="cgns__header_8h.html#63b853e9f76e3772d0375ce7a34dfbb0">cgi_rind_address</a>(<a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>, &amp;ier);
<a name="l03364"></a>03364     <span class="keywordflow">if</span> (rind==0) <span class="keywordflow">return</span> ier;
<a name="l03365"></a>03365 
<a name="l03366"></a>03366     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#9aefb3fb2179957b84774f80fc7ca76a">posit_base</a> &amp;&amp; <a class="code" href="cgns__header_8h.html#ebd0971a3f05d514c15194a9a9d08617">posit_zone</a>) {
<a name="l03367"></a>03367         index_dim = cg-&gt;<a class="code" href="structcgns__file.html#0429392e9c26dac2f0b97ae2d2127117">base</a>[<a class="code" href="cgns__header_8h.html#9aefb3fb2179957b84774f80fc7ca76a">posit_base</a>-1].<a class="code" href="structcgns__base.html#abbb754f366f926198416ad91b8155ef">zone</a>[<a class="code" href="cgns__header_8h.html#ebd0971a3f05d514c15194a9a9d08617">posit_zone</a>-1].<a class="code" href="structcgns__zone.html#5ea7c3da009c9add916c0eeca1973c05">index_dim</a>;
<a name="l03368"></a>03368     } <span class="keywordflow">else</span> {
<a name="l03369"></a>03369         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Can't find IndexDimension in cg_rind_read."</span>);
<a name="l03370"></a>03370         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#e5e87a97d0361ef2982e0424d2abeb48">CG_NO_INDEX_DIM</a>;
<a name="l03371"></a>03371     }
<a name="l03372"></a>03372 
<a name="l03373"></a>03373     <span class="keywordflow">for</span> (n=0; n&lt;2*index_dim; n++) RindData[n] = rind[n];
<a name="l03374"></a>03374     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l03375"></a>03375 }
<a name="l03376"></a>03376 
<a name="l03377"></a><a class="code" href="cgnslib_8h.html#a76d1b29112a4136307f96ac127ad157">03377</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#2776b88507745e15c0eacd81740283c9">cg_ndescriptors</a>(<span class="keywordtype">int</span> *ndescriptors) {
<a name="l03378"></a>03378 
<a name="l03379"></a>03379 <span class="comment">/* Possible parents of Descriptor_t node:</span>
<a name="l03380"></a>03380 <span class="comment"> *  CGNSBase_t, Zone_t, GridCoordinates_t, Elements_t, FlowSolution_t,</span>
<a name="l03381"></a>03381 <span class="comment"> *  DiscreteData_t, ZoneGridConnectivity_t, GridConnectivity1to1_t,</span>
<a name="l03382"></a>03382 <span class="comment"> *  GridConnectivity_t, OversetHoles_t, ZoneBC_t, BC_t, BCDataSet_t,</span>
<a name="l03383"></a>03383 <span class="comment"> *  BCData_t, FlowEquationSet_t, GoverningEquations_t, GasModel_t,</span>
<a name="l03384"></a>03384 <span class="comment"> *  ViscosityModel_t, ThermalConductivityModel_t, TurbulenceClosure_t,</span>
<a name="l03385"></a>03385 <span class="comment"> *  TurbulenceModel_t, ThermalRelaxationModel_t, ChemicalKineticsModel_t,</span>
<a name="l03386"></a>03386 <span class="comment"> *  EMElectricFieldModel_t, EMMagneticFieldModel_t, EMConductivityModel_t,</span>
<a name="l03387"></a>03387 <span class="comment"> *  ConvergenceHistory_t, IntegralData_t, ReferenceState_t,</span>
<a name="l03388"></a>03388 <span class="comment"> *  DataArray_t, Family_t, GeometryReference_t, RigidGridMotion_t,</span>
<a name="l03389"></a>03389 <span class="comment"> *  ArbitraryGridMotion_t, BaseIterativeData_t, ZoneIterativeData_t,</span>
<a name="l03390"></a>03390 <span class="comment"> *  UserDefinedData_t, Gravity_t, Axisymmetry_t, RotatingCoordinates_t,</span>
<a name="l03391"></a>03391 <span class="comment"> *  BCProperty_t, WallFunction_t, Area_t,</span>
<a name="l03392"></a>03392 <span class="comment"> *  GridConnectivityProperty_t, Periodic_t, AverageInterface_t</span>
<a name="l03393"></a>03393 <span class="comment"> */</span>
<a name="l03394"></a>03394 
<a name="l03395"></a>03395      <span class="comment">/* verify input */</span>
<a name="l03396"></a>03396     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l03397"></a>03397 
<a name="l03398"></a>03398      <span class="comment">/* check for valid posit */</span>
<a name="l03399"></a>03399     <span class="keywordflow">if</span> (posit == 0) {
<a name="l03400"></a>03400         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"No current position set by cg_goto\n"</span>);
<a name="l03401"></a>03401         (*ndescriptors)=0;
<a name="l03402"></a>03402         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l03403"></a>03403     }
<a name="l03404"></a>03404 
<a name="l03405"></a>03405     <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"CGNSBase_t"</span>)==0)
<a name="l03406"></a>03406         <a class="code" href="cgns__header_8h.html#38e28268bd45d0d7f6a902170ecc169c">NDESCRIPTOR</a>(<a class="code" href="structcgns__base.html">cgns_base</a>)
<a name="l03407"></a>03407     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"Zone_t"</span>)==0)
<a name="l03408"></a>03408         <a class="code" href="cgns__header_8h.html#38e28268bd45d0d7f6a902170ecc169c">NDESCRIPTOR</a>(<a class="code" href="structcgns__zone.html">cgns_zone</a>)
<a name="l03409"></a>03409     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"GridCoordinates_t"</span>)==0)
<a name="l03410"></a>03410         <a class="code" href="cgns__header_8h.html#38e28268bd45d0d7f6a902170ecc169c">NDESCRIPTOR</a>(<a class="code" href="structcgns__zcoor.html">cgns_zcoor</a>)
<a name="l03411"></a>03411     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"Elements_t"</span>)==0)
<a name="l03412"></a>03412         <a class="code" href="cgns__header_8h.html#38e28268bd45d0d7f6a902170ecc169c">NDESCRIPTOR</a>(<a class="code" href="structcgns__section.html">cgns_section</a>)
<a name="l03413"></a>03413     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"FlowSolution_t"</span>)==0)
<a name="l03414"></a>03414         <a class="code" href="cgns__header_8h.html#38e28268bd45d0d7f6a902170ecc169c">NDESCRIPTOR</a>(<a class="code" href="structcgns__sol.html">cgns_sol</a>)
<a name="l03415"></a>03415     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"DiscreteData_t"</span>)==0)
<a name="l03416"></a>03416         <a class="code" href="cgns__header_8h.html#38e28268bd45d0d7f6a902170ecc169c">NDESCRIPTOR</a>(<a class="code" href="structcgns__discrete.html">cgns_discrete</a>)
<a name="l03417"></a>03417     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"ZoneGridConnectivity_t"</span>)==0)
<a name="l03418"></a>03418         <a class="code" href="cgns__header_8h.html#38e28268bd45d0d7f6a902170ecc169c">NDESCRIPTOR</a>(<a class="code" href="structcgns__zconn.html">cgns_zconn</a>)
<a name="l03419"></a>03419     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"GridConnectivity1to1_t"</span>)==0)
<a name="l03420"></a>03420         <a class="code" href="cgns__header_8h.html#38e28268bd45d0d7f6a902170ecc169c">NDESCRIPTOR</a>(<a class="code" href="structcgns__1to1.html">cgns_1to1</a>)
<a name="l03421"></a>03421     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"GridConnectivity_t"</span>)==0)
<a name="l03422"></a>03422         <a class="code" href="cgns__header_8h.html#38e28268bd45d0d7f6a902170ecc169c">NDESCRIPTOR</a>(<a class="code" href="structcgns__conn.html">cgns_conn</a>)
<a name="l03423"></a>03423     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"OversetHoles_t"</span>)==0)
<a name="l03424"></a>03424         <a class="code" href="cgns__header_8h.html#38e28268bd45d0d7f6a902170ecc169c">NDESCRIPTOR</a>(<a class="code" href="structcgns__hole.html">cgns_hole</a>)
<a name="l03425"></a>03425     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"ZoneBC_t"</span>)==0)
<a name="l03426"></a>03426         <a class="code" href="cgns__header_8h.html#38e28268bd45d0d7f6a902170ecc169c">NDESCRIPTOR</a>(<a class="code" href="structcgns__zboco.html">cgns_zboco</a>)
<a name="l03427"></a>03427     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"BC_t"</span>)==0)
<a name="l03428"></a>03428         <a class="code" href="cgns__header_8h.html#38e28268bd45d0d7f6a902170ecc169c">NDESCRIPTOR</a>(<a class="code" href="structcgns__boco.html">cgns_boco</a>)
<a name="l03429"></a>03429     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"BCDataSet_t"</span>)==0)
<a name="l03430"></a>03430         <a class="code" href="cgns__header_8h.html#38e28268bd45d0d7f6a902170ecc169c">NDESCRIPTOR</a>(<a class="code" href="structcgns__dataset.html">cgns_dataset</a>)
<a name="l03431"></a>03431     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"BCData_t"</span>)==0)
<a name="l03432"></a>03432         <a class="code" href="cgns__header_8h.html#38e28268bd45d0d7f6a902170ecc169c">NDESCRIPTOR</a>(<a class="code" href="structcgns__bcdata.html">cgns_bcdata</a>)
<a name="l03433"></a>03433     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"FlowEquationSet_t"</span>)==0)
<a name="l03434"></a>03434         <a class="code" href="cgns__header_8h.html#38e28268bd45d0d7f6a902170ecc169c">NDESCRIPTOR</a>(<a class="code" href="structcgns__equations.html">cgns_equations</a>)
<a name="l03435"></a>03435     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"GoverningEquations_t"</span>)==0)
<a name="l03436"></a>03436         <a class="code" href="cgns__header_8h.html#38e28268bd45d0d7f6a902170ecc169c">NDESCRIPTOR</a>(<a class="code" href="structcgns__governing.html">cgns_governing</a>)
<a name="l03437"></a>03437     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"GasModel_t"</span>)==0 ||
<a name="l03438"></a>03438          strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"ViscosityModel_t"</span>)==0 ||
<a name="l03439"></a>03439          strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"ThermalConductivityModel_t"</span>)==0 ||
<a name="l03440"></a>03440          strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"TurbulenceModel_t"</span>)==0 ||
<a name="l03441"></a>03441          strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"TurbulenceClosure_t"</span>)==0 ||
<a name="l03442"></a>03442          strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"ThermalRelaxationModel_t"</span>)==0 ||
<a name="l03443"></a>03443          strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"ChemicalKineticsModel_t"</span>)==0 ||
<a name="l03444"></a>03444          strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"EMElectricFieldModel_t"</span>)==0 ||
<a name="l03445"></a>03445          strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"EMMagneticFieldModel_t"</span>)==0 ||
<a name="l03446"></a>03446          strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"EMConductivityModel_t"</span>)==0)
<a name="l03447"></a>03447         <a class="code" href="cgns__header_8h.html#38e28268bd45d0d7f6a902170ecc169c">NDESCRIPTOR</a>(<a class="code" href="structcgns__model.html">cgns_model</a>)
<a name="l03448"></a>03448     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"ConvergenceHistory_t"</span>)==0)
<a name="l03449"></a>03449         <a class="code" href="cgns__header_8h.html#38e28268bd45d0d7f6a902170ecc169c">NDESCRIPTOR</a>(<a class="code" href="structcgns__converg.html">cgns_converg</a>)
<a name="l03450"></a>03450     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"IntegralData_t"</span>)==0)
<a name="l03451"></a>03451         <a class="code" href="cgns__header_8h.html#38e28268bd45d0d7f6a902170ecc169c">NDESCRIPTOR</a>(<a class="code" href="structcgns__integral.html">cgns_integral</a>)
<a name="l03452"></a>03452     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"ReferenceState_t"</span>)==0)
<a name="l03453"></a>03453         <a class="code" href="cgns__header_8h.html#38e28268bd45d0d7f6a902170ecc169c">NDESCRIPTOR</a>(<a class="code" href="structcgns__state.html">cgns_state</a>)
<a name="l03454"></a>03454     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"DataArray_t"</span>)==0)
<a name="l03455"></a>03455         <a class="code" href="cgns__header_8h.html#38e28268bd45d0d7f6a902170ecc169c">NDESCRIPTOR</a>(<a class="code" href="structcgns__array.html">cgns_array</a>)
<a name="l03456"></a>03456     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"Family_t"</span>)==0)
<a name="l03457"></a>03457         <a class="code" href="cgns__header_8h.html#38e28268bd45d0d7f6a902170ecc169c">NDESCRIPTOR</a>(<a class="code" href="structcgns__family.html">cgns_family</a>)
<a name="l03458"></a>03458     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"GeometryReference_t"</span>)==0)
<a name="l03459"></a>03459         <a class="code" href="cgns__header_8h.html#38e28268bd45d0d7f6a902170ecc169c">NDESCRIPTOR</a>(<a class="code" href="structcgns__geo.html">cgns_geo</a>)
<a name="l03460"></a>03460     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"RigidGridMotion_t"</span>)==0)
<a name="l03461"></a>03461         <a class="code" href="cgns__header_8h.html#38e28268bd45d0d7f6a902170ecc169c">NDESCRIPTOR</a>(<a class="code" href="structcgns__rmotion.html">cgns_rmotion</a>)
<a name="l03462"></a>03462     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"ArbitraryGridMotion_t"</span>)==0)
<a name="l03463"></a>03463         <a class="code" href="cgns__header_8h.html#38e28268bd45d0d7f6a902170ecc169c">NDESCRIPTOR</a>(<a class="code" href="structcgns__amotion.html">cgns_amotion</a>)
<a name="l03464"></a>03464     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"BaseIterativeData_t"</span>)==0)
<a name="l03465"></a>03465         <a class="code" href="cgns__header_8h.html#38e28268bd45d0d7f6a902170ecc169c">NDESCRIPTOR</a>(<a class="code" href="structcgns__biter.html">cgns_biter</a>)
<a name="l03466"></a>03466     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"ZoneIterativeData_t"</span>)==0)
<a name="l03467"></a>03467         <a class="code" href="cgns__header_8h.html#38e28268bd45d0d7f6a902170ecc169c">NDESCRIPTOR</a>(<a class="code" href="structcgns__ziter.html">cgns_ziter</a>)
<a name="l03468"></a>03468     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"UserDefinedData_t"</span>)==0)
<a name="l03469"></a>03469         <a class="code" href="cgns__header_8h.html#38e28268bd45d0d7f6a902170ecc169c">NDESCRIPTOR</a>(<a class="code" href="structcgns__user__data__s.html">cgns_user_data</a>)
<a name="l03470"></a>03470     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"Gravity_t"</span>)==0)
<a name="l03471"></a>03471         <a class="code" href="cgns__header_8h.html#38e28268bd45d0d7f6a902170ecc169c">NDESCRIPTOR</a>(<a class="code" href="structcgns__gravity.html">cgns_gravity</a>)
<a name="l03472"></a>03472     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"Axisymmetry_t"</span>)==0)
<a name="l03473"></a>03473         <a class="code" href="cgns__header_8h.html#38e28268bd45d0d7f6a902170ecc169c">NDESCRIPTOR</a>(<a class="code" href="structcgns__axisym.html">cgns_axisym</a>)
<a name="l03474"></a>03474     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"RotatingCoordinates_t"</span>)==0)
<a name="l03475"></a>03475         <a class="code" href="cgns__header_8h.html#38e28268bd45d0d7f6a902170ecc169c">NDESCRIPTOR</a>(<a class="code" href="structcgns__rotating.html">cgns_rotating</a>)
<a name="l03476"></a>03476     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"BCProperty_t"</span>)==0)
<a name="l03477"></a>03477         <a class="code" href="cgns__header_8h.html#38e28268bd45d0d7f6a902170ecc169c">NDESCRIPTOR</a>(<a class="code" href="structcgns__bprop.html">cgns_bprop</a>)
<a name="l03478"></a>03478     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"WallFunction_t"</span>)==0)
<a name="l03479"></a>03479         <a class="code" href="cgns__header_8h.html#38e28268bd45d0d7f6a902170ecc169c">NDESCRIPTOR</a>(<a class="code" href="structcgns__bcwall.html">cgns_bcwall</a>)
<a name="l03480"></a>03480     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"Area_t"</span>)==0)
<a name="l03481"></a>03481         <a class="code" href="cgns__header_8h.html#38e28268bd45d0d7f6a902170ecc169c">NDESCRIPTOR</a>(<a class="code" href="structcgns__bcarea.html">cgns_bcarea</a>)
<a name="l03482"></a>03482     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"GridConnectivityProperty_t"</span>)==0)
<a name="l03483"></a>03483         <a class="code" href="cgns__header_8h.html#38e28268bd45d0d7f6a902170ecc169c">NDESCRIPTOR</a>(<a class="code" href="structcgns__cprop.html">cgns_cprop</a>)
<a name="l03484"></a>03484     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"Periodic_t"</span>)==0)
<a name="l03485"></a>03485         <a class="code" href="cgns__header_8h.html#38e28268bd45d0d7f6a902170ecc169c">NDESCRIPTOR</a>(<a class="code" href="structcgns__cperio.html">cgns_cperio</a>)
<a name="l03486"></a>03486     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"AverageInterface_t"</span>)==0)
<a name="l03487"></a>03487         <a class="code" href="cgns__header_8h.html#38e28268bd45d0d7f6a902170ecc169c">NDESCRIPTOR</a>(<a class="code" href="structcgns__caverage.html">cgns_caverage</a>)
<a name="l03488"></a>03488     <span class="keywordflow">else</span> {
<a name="l03489"></a>03489         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Descriptor_t node not supported under '%s' type node"</span>,posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>);
<a name="l03490"></a>03490         (*ndescriptors)=0;
<a name="l03491"></a>03491         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#c0fa66c28774a143f149895c12dd429b">CG_INCORRECT_PATH</a>;
<a name="l03492"></a>03492     }
<a name="l03493"></a>03493     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l03494"></a>03494 }
<a name="l03495"></a>03495 
<a name="l03496"></a><a class="code" href="cgnslib_8h.html#8542d74dc3cdc26dc13baa34a851a0ca">03496</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#3354446ad83190fae758e8af628f1177">cg_descriptor_read</a>(<span class="keywordtype">int</span> descr_no, <span class="keywordtype">char</span> *descr_name, <span class="keywordtype">char</span> **descr_text) {
<a name="l03497"></a>03497     <a class="code" href="structcgns__descr.html">cgns_descr</a> *descr;
<a name="l03498"></a>03498     <span class="keywordtype">int</span> ier=0;
<a name="l03499"></a>03499 
<a name="l03500"></a>03500      <span class="comment">/* verify input */</span>
<a name="l03501"></a>03501     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l03502"></a>03502 
<a name="l03503"></a>03503      <span class="comment">/* common part */</span>
<a name="l03504"></a>03504     descr = <a class="code" href="cgns__header_8h.html#68503a6d943b98292811bcd6930020c2">cgi_descr_address</a>(<a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>, descr_no, <span class="stringliteral">"dummy"</span>, &amp;ier);
<a name="l03505"></a>03505     <span class="keywordflow">if</span> (descr==0) <span class="keywordflow">return</span> ier;
<a name="l03506"></a>03506 
<a name="l03507"></a>03507      <span class="comment">/* return Descriptor text and name */</span>
<a name="l03508"></a>03508     descr_text[0]=<a class="code" href="cgns__header_8h.html#948c36b3700de0f3332aa3620eafb0f4">CGNS_NEW</a>(<span class="keywordtype">char</span>, strlen(descr-&gt;<a class="code" href="structcgns__descr.html#5633b1433389cec21ade3811bbe9ca5b">text</a>)+1);
<a name="l03509"></a>03509     strcpy(descr_text[0], descr-&gt;<a class="code" href="structcgns__descr.html#5633b1433389cec21ade3811bbe9ca5b">text</a>);
<a name="l03510"></a>03510     strcpy(descr_name, descr-&gt;<a class="code" href="structcgns__descr.html#b5192b2e796e6224c74ec532ec32abf7">name</a>);
<a name="l03511"></a>03511 
<a name="l03512"></a>03512     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l03513"></a>03513 }
<a name="l03514"></a>03514 
<a name="l03515"></a><a class="code" href="cgnslib_8h.html#1c79bf74815d0dc50ad9518aebde637c">03515</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#6d68b153cfb8ef3bc2e1873cc5faa895">cg_nunits</a>(<span class="keywordtype">int</span> *nunits) {
<a name="l03516"></a>03516     <a class="code" href="structcgns__units.html">cgns_units</a> *units;
<a name="l03517"></a>03517     <span class="keywordtype">int</span> ier=0;
<a name="l03518"></a>03518 
<a name="l03519"></a>03519     *nunits = 0;
<a name="l03520"></a>03520      <span class="comment">/* verify input */</span>
<a name="l03521"></a>03521     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l03522"></a>03522 
<a name="l03523"></a>03523     units = <a class="code" href="cgns__header_8h.html#67857da0c01260790c462ff0b785c393">cgi_units_address</a>(<a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>, &amp;ier);
<a name="l03524"></a>03524     <span class="keywordflow">if</span> (units==0) <span class="keywordflow">return</span> ier;
<a name="l03525"></a>03525     *nunits = units-&gt;<a class="code" href="structcgns__units.html#ccb2246905fa233d04904cd04c20ab6c">nunits</a>;
<a name="l03526"></a>03526     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l03527"></a>03527 }
<a name="l03528"></a>03528 
<a name="l03529"></a><a class="code" href="cgnslib_8h.html#b4e8cb1f16093091ab694c39c66f9945">03529</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#b5fe0e097ea1804cab4d28dd679993a0">cg_units_read</a>(<a class="code" href="cgns_keywords_8h.html#8f0a5167b1d8319a0e481666e57ceca0">MassUnits_t</a> *mass, <a class="code" href="cgns_keywords_8h.html#92ba99c00037b87031c19ec440a4a3ca">LengthUnits_t</a> *length, <a class="code" href="cgns_keywords_8h.html#b5fe9a7cbb1e8e49cf4649eeee249cb8">TimeUnits_t</a> *time,
<a name="l03530"></a>03530     <a class="code" href="cgns_keywords_8h.html#2d4e2b4a0daece6b3e91b47fafd82ff5">TemperatureUnits_t</a> *temperature, <a class="code" href="cgns_keywords_8h.html#9fe6a2bd66677cb82aa84a64f0e7882d">AngleUnits_t</a> *angle) {
<a name="l03531"></a>03531 
<a name="l03532"></a>03532     <a class="code" href="structcgns__units.html">cgns_units</a> *units;
<a name="l03533"></a>03533     <span class="keywordtype">int</span> ier=0;
<a name="l03534"></a>03534 
<a name="l03535"></a>03535      <span class="comment">/* verify input */</span>
<a name="l03536"></a>03536     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l03537"></a>03537 
<a name="l03538"></a>03538     units = <a class="code" href="cgns__header_8h.html#67857da0c01260790c462ff0b785c393">cgi_units_address</a>(<a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>, &amp;ier);
<a name="l03539"></a>03539     <span class="keywordflow">if</span> (units==0) <span class="keywordflow">return</span> ier;
<a name="l03540"></a>03540 
<a name="l03541"></a>03541     (*mass) = units-&gt;<a class="code" href="structcgns__units.html#ccdb0cc12819cb949262feb86cdbe070">mass</a>;
<a name="l03542"></a>03542     (*length) = units-&gt;<a class="code" href="structcgns__units.html#906ce8e5c68c8a9163031bcc3b627891">length</a>;
<a name="l03543"></a>03543     (*time) = units-&gt;<a class="code" href="structcgns__units.html#dc84664f3a054a4a9ae95d4acce1b097">time</a>;
<a name="l03544"></a>03544     (*temperature) = units-&gt;<a class="code" href="structcgns__units.html#66a97aa58a9b92f7e64a76c91270adaa">temperature</a>;
<a name="l03545"></a>03545     (*angle) = units-&gt;<a class="code" href="structcgns__units.html#ceb06da2edb11dd80b720fa01af4efb9">angle</a>;
<a name="l03546"></a>03546     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l03547"></a>03547 }
<a name="l03548"></a>03548 
<a name="l03549"></a><a class="code" href="cgnslib_8h.html#968340573e51c6d59f1d38e2c88ac802">03549</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#f760a0bf9be3fbecd11d5c617ac222d7">cg_unitsfull_read</a>(<a class="code" href="cgns_keywords_8h.html#8f0a5167b1d8319a0e481666e57ceca0">MassUnits_t</a> *mass, <a class="code" href="cgns_keywords_8h.html#92ba99c00037b87031c19ec440a4a3ca">LengthUnits_t</a> *length,
<a name="l03550"></a>03550     <a class="code" href="cgns_keywords_8h.html#b5fe9a7cbb1e8e49cf4649eeee249cb8">TimeUnits_t</a> *time, <a class="code" href="cgns_keywords_8h.html#2d4e2b4a0daece6b3e91b47fafd82ff5">TemperatureUnits_t</a> *temperature, <a class="code" href="cgns_keywords_8h.html#9fe6a2bd66677cb82aa84a64f0e7882d">AngleUnits_t</a> *angle,
<a name="l03551"></a>03551     <a class="code" href="cgns_keywords_8h.html#5d4973c6d234c38906f05d7e95adb91b">ElectricCurrentUnits_t</a> *current, <a class="code" href="cgns_keywords_8h.html#cab7dbd0387c45e43fa52b67b1728a83">SubstanceAmountUnits_t</a> *amount,
<a name="l03552"></a>03552     <a class="code" href="cgns_keywords_8h.html#2bfd9ba0eb7f7edef0ed7241ca258983">LuminousIntensityUnits_t</a> *intensity) {
<a name="l03553"></a>03553 
<a name="l03554"></a>03554     <a class="code" href="structcgns__units.html">cgns_units</a> *units;
<a name="l03555"></a>03555     <span class="keywordtype">int</span> ier=0;
<a name="l03556"></a>03556 
<a name="l03557"></a>03557      <span class="comment">/* verify input */</span>
<a name="l03558"></a>03558     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l03559"></a>03559 
<a name="l03560"></a>03560     units = <a class="code" href="cgns__header_8h.html#67857da0c01260790c462ff0b785c393">cgi_units_address</a>(<a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>, &amp;ier);
<a name="l03561"></a>03561     <span class="keywordflow">if</span> (units==0) <span class="keywordflow">return</span> ier;
<a name="l03562"></a>03562 
<a name="l03563"></a>03563     (*mass) = units-&gt;<a class="code" href="structcgns__units.html#ccdb0cc12819cb949262feb86cdbe070">mass</a>;
<a name="l03564"></a>03564     (*length) = units-&gt;<a class="code" href="structcgns__units.html#906ce8e5c68c8a9163031bcc3b627891">length</a>;
<a name="l03565"></a>03565     (*time) = units-&gt;<a class="code" href="structcgns__units.html#dc84664f3a054a4a9ae95d4acce1b097">time</a>;
<a name="l03566"></a>03566     (*temperature) = units-&gt;<a class="code" href="structcgns__units.html#66a97aa58a9b92f7e64a76c91270adaa">temperature</a>;
<a name="l03567"></a>03567     (*angle) = units-&gt;<a class="code" href="structcgns__units.html#ceb06da2edb11dd80b720fa01af4efb9">angle</a>;
<a name="l03568"></a>03568     (*current) = units-&gt;<a class="code" href="structcgns__units.html#c862b8009a6e0c63151d762732e188b2">current</a>;
<a name="l03569"></a>03569     (*amount) = units-&gt;<a class="code" href="structcgns__units.html#de4ddb57616d7bd05e14bbda917fde0b">amount</a>;
<a name="l03570"></a>03570     (*intensity) = units-&gt;<a class="code" href="structcgns__units.html#e198b6fd229808a379fbe53bde555861">intensity</a>;
<a name="l03571"></a>03571     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l03572"></a>03572 }
<a name="l03573"></a>03573 
<a name="l03574"></a><a class="code" href="cgnslib_8h.html#18d213e86e33c5f684b5e86a9a86e963">03574</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#5902d9ca0d5d4a97414ad34235e84cb2">cg_exponents_info</a>(<a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae">DataType_t</a> *DataType) {
<a name="l03575"></a>03575     <a class="code" href="structcgns__exponent.html">cgns_exponent</a> *exponent;
<a name="l03576"></a>03576     <span class="keywordtype">int</span> ier=0;
<a name="l03577"></a>03577 
<a name="l03578"></a>03578      <span class="comment">/* verify input */</span>
<a name="l03579"></a>03579     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l03580"></a>03580 
<a name="l03581"></a>03581     exponent = <a class="code" href="cgns__header_8h.html#ad726ad97f6db47bf9de449620054b1e">cgi_exponent_address</a>(<a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>, &amp;ier);
<a name="l03582"></a>03582     <span class="keywordflow">if</span> (exponent==0) <span class="keywordflow">return</span> ier;
<a name="l03583"></a>03583 
<a name="l03584"></a>03584     (*DataType) = <a class="code" href="cgns__header_8h.html#24e3b83316ff66e5d321d73ee64319f2">cgi_datatype</a>(exponent-&gt;<a class="code" href="structcgns__exponent.html#86e4d546d1321bcac60584c413eb0f6d">data_type</a>);
<a name="l03585"></a>03585     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l03586"></a>03586 }
<a name="l03587"></a>03587 
<a name="l03588"></a><a class="code" href="cgnslib_8h.html#7e936650990c4510d46595f677808f5e">03588</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#24b74ca653870e53ac94d00ed5063ad8">cg_nexponents</a>(<span class="keywordtype">int</span> *numexp) {
<a name="l03589"></a>03589     <a class="code" href="structcgns__exponent.html">cgns_exponent</a> *exponent;
<a name="l03590"></a>03590     <span class="keywordtype">int</span> ier=0;
<a name="l03591"></a>03591 
<a name="l03592"></a>03592     *numexp = 0;
<a name="l03593"></a>03593      <span class="comment">/* verify input */</span>
<a name="l03594"></a>03594     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l03595"></a>03595 
<a name="l03596"></a>03596     exponent = <a class="code" href="cgns__header_8h.html#ad726ad97f6db47bf9de449620054b1e">cgi_exponent_address</a>(<a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>, &amp;ier);
<a name="l03597"></a>03597     <span class="keywordflow">if</span> (exponent==0) <span class="keywordflow">return</span> ier;
<a name="l03598"></a>03598     *numexp = exponent-&gt;<a class="code" href="structcgns__exponent.html#a4747e75bfeabc8bc71fd144a29d8c5a">nexps</a>;
<a name="l03599"></a>03599     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l03600"></a>03600 }
<a name="l03601"></a>03601 
<a name="l03602"></a><a class="code" href="cgnslib_8h.html#abef9c754354d69c6374c68f8e2aef39">03602</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#a33117721a0ed457c84fe6dd0ca11174">cg_exponents_read</a>(<span class="keywordtype">void</span> *exponents) {
<a name="l03603"></a>03603     <a class="code" href="structcgns__exponent.html">cgns_exponent</a> *exponent;
<a name="l03604"></a>03604     <span class="keywordtype">int</span> ier=0;
<a name="l03605"></a>03605 
<a name="l03606"></a>03606      <span class="comment">/* verify input */</span>
<a name="l03607"></a>03607     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l03608"></a>03608 
<a name="l03609"></a>03609     exponent = <a class="code" href="cgns__header_8h.html#ad726ad97f6db47bf9de449620054b1e">cgi_exponent_address</a>(<a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>, &amp;ier);
<a name="l03610"></a>03610     <span class="keywordflow">if</span> (exponent==0) <span class="keywordflow">return</span> ier;
<a name="l03611"></a>03611 
<a name="l03612"></a>03612     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#24e3b83316ff66e5d321d73ee64319f2">cgi_datatype</a>(exponent-&gt;<a class="code" href="structcgns__exponent.html#86e4d546d1321bcac60584c413eb0f6d">data_type</a>)==<a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae1ca5e5244f4627fd3bf71c72015c2060">RealSingle</a>) {
<a name="l03613"></a>03613         (*((<span class="keywordtype">float</span> *)exponents+0)) = (*((<span class="keywordtype">float</span> *) exponent-&gt;<a class="code" href="structcgns__exponent.html#735984d41155bc1032e09bece8f8d66d">data</a>+0));
<a name="l03614"></a>03614         (*((<span class="keywordtype">float</span> *)exponents+1)) = (*((<span class="keywordtype">float</span> *) exponent-&gt;<a class="code" href="structcgns__exponent.html#735984d41155bc1032e09bece8f8d66d">data</a>+1));
<a name="l03615"></a>03615         (*((<span class="keywordtype">float</span> *)exponents+2)) = (*((<span class="keywordtype">float</span> *) exponent-&gt;<a class="code" href="structcgns__exponent.html#735984d41155bc1032e09bece8f8d66d">data</a>+2));
<a name="l03616"></a>03616         (*((<span class="keywordtype">float</span> *)exponents+3)) = (*((<span class="keywordtype">float</span> *) exponent-&gt;<a class="code" href="structcgns__exponent.html#735984d41155bc1032e09bece8f8d66d">data</a>+3));
<a name="l03617"></a>03617         (*((<span class="keywordtype">float</span> *)exponents+4)) = (*((<span class="keywordtype">float</span> *) exponent-&gt;<a class="code" href="structcgns__exponent.html#735984d41155bc1032e09bece8f8d66d">data</a>+4));
<a name="l03618"></a>03618 
<a name="l03619"></a>03619     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#24e3b83316ff66e5d321d73ee64319f2">cgi_datatype</a>(exponent-&gt;<a class="code" href="structcgns__exponent.html#86e4d546d1321bcac60584c413eb0f6d">data_type</a>)==<a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae5f954e649a6da0e65898e0faf7724549">RealDouble</a>) {
<a name="l03620"></a>03620         (*((<span class="keywordtype">double</span> *)exponents+0)) = (*((<span class="keywordtype">double</span> *) exponent-&gt;<a class="code" href="structcgns__exponent.html#735984d41155bc1032e09bece8f8d66d">data</a>+0));
<a name="l03621"></a>03621         (*((<span class="keywordtype">double</span> *)exponents+1)) = (*((<span class="keywordtype">double</span> *) exponent-&gt;<a class="code" href="structcgns__exponent.html#735984d41155bc1032e09bece8f8d66d">data</a>+1));
<a name="l03622"></a>03622         (*((<span class="keywordtype">double</span> *)exponents+2)) = (*((<span class="keywordtype">double</span> *) exponent-&gt;<a class="code" href="structcgns__exponent.html#735984d41155bc1032e09bece8f8d66d">data</a>+2));
<a name="l03623"></a>03623         (*((<span class="keywordtype">double</span> *)exponents+3)) = (*((<span class="keywordtype">double</span> *) exponent-&gt;<a class="code" href="structcgns__exponent.html#735984d41155bc1032e09bece8f8d66d">data</a>+3));
<a name="l03624"></a>03624         (*((<span class="keywordtype">double</span> *)exponents+4)) = (*((<span class="keywordtype">double</span> *) exponent-&gt;<a class="code" href="structcgns__exponent.html#735984d41155bc1032e09bece8f8d66d">data</a>+4));
<a name="l03625"></a>03625     }
<a name="l03626"></a>03626     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l03627"></a>03627 }
<a name="l03628"></a>03628 
<a name="l03629"></a><a class="code" href="cgnslib_8h.html#e6989fb8eef4bd89764eba810fe7b4d5">03629</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#1230aef75b8d89e689e6331453450dfc">cg_expfull_read</a>(<span class="keywordtype">void</span> *exponents)
<a name="l03630"></a>03630 {
<a name="l03631"></a>03631     <a class="code" href="structcgns__exponent.html">cgns_exponent</a> *exponent;
<a name="l03632"></a>03632     <span class="keywordtype">int</span> ier=0;
<a name="l03633"></a>03633 
<a name="l03634"></a>03634      <span class="comment">/* verify input */</span>
<a name="l03635"></a>03635     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l03636"></a>03636 
<a name="l03637"></a>03637     exponent = <a class="code" href="cgns__header_8h.html#ad726ad97f6db47bf9de449620054b1e">cgi_exponent_address</a>(<a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>, &amp;ier);
<a name="l03638"></a>03638     <span class="keywordflow">if</span> (exponent==0) <span class="keywordflow">return</span> ier;
<a name="l03639"></a>03639 
<a name="l03640"></a>03640     <span class="comment">/* don't fail - just return 0's for last 3</span>
<a name="l03641"></a>03641 <span class="comment">    if(exponent-&gt;nexps != 8)</span>
<a name="l03642"></a>03642 <span class="comment">    {</span>
<a name="l03643"></a>03643 <span class="comment">        cgi_error("Full set of exponents not written, use cg_exponents_read.");</span>
<a name="l03644"></a>03644 <span class="comment">        return 1;</span>
<a name="l03645"></a>03645 <span class="comment">    }*/</span>
<a name="l03646"></a>03646 
<a name="l03647"></a>03647     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#24e3b83316ff66e5d321d73ee64319f2">cgi_datatype</a>(exponent-&gt;<a class="code" href="structcgns__exponent.html#86e4d546d1321bcac60584c413eb0f6d">data_type</a>)==<a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae1ca5e5244f4627fd3bf71c72015c2060">RealSingle</a>) {
<a name="l03648"></a>03648         (*((<span class="keywordtype">float</span> *)exponents+0)) = (*((<span class="keywordtype">float</span> *) exponent-&gt;<a class="code" href="structcgns__exponent.html#735984d41155bc1032e09bece8f8d66d">data</a>+0));
<a name="l03649"></a>03649         (*((<span class="keywordtype">float</span> *)exponents+1)) = (*((<span class="keywordtype">float</span> *) exponent-&gt;<a class="code" href="structcgns__exponent.html#735984d41155bc1032e09bece8f8d66d">data</a>+1));
<a name="l03650"></a>03650         (*((<span class="keywordtype">float</span> *)exponents+2)) = (*((<span class="keywordtype">float</span> *) exponent-&gt;<a class="code" href="structcgns__exponent.html#735984d41155bc1032e09bece8f8d66d">data</a>+2));
<a name="l03651"></a>03651         (*((<span class="keywordtype">float</span> *)exponents+3)) = (*((<span class="keywordtype">float</span> *) exponent-&gt;<a class="code" href="structcgns__exponent.html#735984d41155bc1032e09bece8f8d66d">data</a>+3));
<a name="l03652"></a>03652         (*((<span class="keywordtype">float</span> *)exponents+4)) = (*((<span class="keywordtype">float</span> *) exponent-&gt;<a class="code" href="structcgns__exponent.html#735984d41155bc1032e09bece8f8d66d">data</a>+4));
<a name="l03653"></a>03653         <span class="keywordflow">if</span> (exponent-&gt;<a class="code" href="structcgns__exponent.html#a4747e75bfeabc8bc71fd144a29d8c5a">nexps</a> == 8) {
<a name="l03654"></a>03654             (*((<span class="keywordtype">float</span> *)exponents+5)) = (*((<span class="keywordtype">float</span> *) exponent-&gt;<a class="code" href="structcgns__exponent.html#735984d41155bc1032e09bece8f8d66d">data</a>+5));
<a name="l03655"></a>03655             (*((<span class="keywordtype">float</span> *)exponents+6)) = (*((<span class="keywordtype">float</span> *) exponent-&gt;<a class="code" href="structcgns__exponent.html#735984d41155bc1032e09bece8f8d66d">data</a>+6));
<a name="l03656"></a>03656             (*((<span class="keywordtype">float</span> *)exponents+7)) = (*((<span class="keywordtype">float</span> *) exponent-&gt;<a class="code" href="structcgns__exponent.html#735984d41155bc1032e09bece8f8d66d">data</a>+7));
<a name="l03657"></a>03657         }
<a name="l03658"></a>03658         <span class="keywordflow">else</span> {
<a name="l03659"></a>03659             (*((<span class="keywordtype">float</span> *)exponents+5)) = (<span class="keywordtype">float</span>)0.0;
<a name="l03660"></a>03660             (*((<span class="keywordtype">float</span> *)exponents+6)) = (<span class="keywordtype">float</span>)0.0;;
<a name="l03661"></a>03661             (*((<span class="keywordtype">float</span> *)exponents+7)) = (<span class="keywordtype">float</span>)0.0;;
<a name="l03662"></a>03662         }
<a name="l03663"></a>03663 
<a name="l03664"></a>03664     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#24e3b83316ff66e5d321d73ee64319f2">cgi_datatype</a>(exponent-&gt;<a class="code" href="structcgns__exponent.html#86e4d546d1321bcac60584c413eb0f6d">data_type</a>)==<a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae5f954e649a6da0e65898e0faf7724549">RealDouble</a>) {
<a name="l03665"></a>03665         (*((<span class="keywordtype">double</span> *)exponents+0)) = (*((<span class="keywordtype">double</span> *) exponent-&gt;<a class="code" href="structcgns__exponent.html#735984d41155bc1032e09bece8f8d66d">data</a>+0));
<a name="l03666"></a>03666         (*((<span class="keywordtype">double</span> *)exponents+1)) = (*((<span class="keywordtype">double</span> *) exponent-&gt;<a class="code" href="structcgns__exponent.html#735984d41155bc1032e09bece8f8d66d">data</a>+1));
<a name="l03667"></a>03667         (*((<span class="keywordtype">double</span> *)exponents+2)) = (*((<span class="keywordtype">double</span> *) exponent-&gt;<a class="code" href="structcgns__exponent.html#735984d41155bc1032e09bece8f8d66d">data</a>+2));
<a name="l03668"></a>03668         (*((<span class="keywordtype">double</span> *)exponents+3)) = (*((<span class="keywordtype">double</span> *) exponent-&gt;<a class="code" href="structcgns__exponent.html#735984d41155bc1032e09bece8f8d66d">data</a>+3));
<a name="l03669"></a>03669         (*((<span class="keywordtype">double</span> *)exponents+4)) = (*((<span class="keywordtype">double</span> *) exponent-&gt;<a class="code" href="structcgns__exponent.html#735984d41155bc1032e09bece8f8d66d">data</a>+4));
<a name="l03670"></a>03670         <span class="keywordflow">if</span> (exponent-&gt;<a class="code" href="structcgns__exponent.html#a4747e75bfeabc8bc71fd144a29d8c5a">nexps</a> == 8) {
<a name="l03671"></a>03671             (*((<span class="keywordtype">double</span> *)exponents+5)) = (*((<span class="keywordtype">double</span> *) exponent-&gt;<a class="code" href="structcgns__exponent.html#735984d41155bc1032e09bece8f8d66d">data</a>+5));
<a name="l03672"></a>03672             (*((<span class="keywordtype">double</span> *)exponents+6)) = (*((<span class="keywordtype">double</span> *) exponent-&gt;<a class="code" href="structcgns__exponent.html#735984d41155bc1032e09bece8f8d66d">data</a>+6));
<a name="l03673"></a>03673             (*((<span class="keywordtype">double</span> *)exponents+7)) = (*((<span class="keywordtype">double</span> *) exponent-&gt;<a class="code" href="structcgns__exponent.html#735984d41155bc1032e09bece8f8d66d">data</a>+7));
<a name="l03674"></a>03674         }
<a name="l03675"></a>03675         <span class="keywordflow">else</span> {
<a name="l03676"></a>03676             (*((<span class="keywordtype">double</span> *)exponents+5)) = (<span class="keywordtype">double</span>)0.0;
<a name="l03677"></a>03677             (*((<span class="keywordtype">double</span> *)exponents+6)) = (<span class="keywordtype">double</span>)0.0;;
<a name="l03678"></a>03678             (*((<span class="keywordtype">double</span> *)exponents+7)) = (<span class="keywordtype">double</span>)0.0;;
<a name="l03679"></a>03679         }
<a name="l03680"></a>03680     }
<a name="l03681"></a>03681     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l03682"></a>03682 }
<a name="l03683"></a>03683 
<a name="l03684"></a><a class="code" href="cgnslib_8h.html#9be10bc985ecb63c792172fa14df15d2">03684</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#0dd4b64a5502db87cc558577f4276f5f">cg_conversion_info</a>(<a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae">DataType_t</a> *DataType) {
<a name="l03685"></a>03685     <a class="code" href="structcgns__conversion.html">cgns_conversion</a> *conversion;
<a name="l03686"></a>03686     <span class="keywordtype">int</span> ier=0;
<a name="l03687"></a>03687 
<a name="l03688"></a>03688      <span class="comment">/* verify input */</span>
<a name="l03689"></a>03689     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l03690"></a>03690 
<a name="l03691"></a>03691     conversion = <a class="code" href="cgns__header_8h.html#23100dc1d224c0c2bc18d1ed823adf03">cgi_conversion_address</a>(<a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>, &amp;ier);
<a name="l03692"></a>03692     <span class="keywordflow">if</span> (conversion==0) <span class="keywordflow">return</span> ier;
<a name="l03693"></a>03693 
<a name="l03694"></a>03694     (*DataType) = <a class="code" href="cgns__header_8h.html#24e3b83316ff66e5d321d73ee64319f2">cgi_datatype</a>(conversion-&gt;<a class="code" href="structcgns__conversion.html#86e4d546d1321bcac60584c413eb0f6d">data_type</a>);
<a name="l03695"></a>03695     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l03696"></a>03696 }
<a name="l03697"></a>03697 
<a name="l03698"></a><a class="code" href="cgnslib_8h.html#e1fb666b93361f27a2a69f2599502b11">03698</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#f2bdbb4c940d3e379b09cc7804327bfb">cg_conversion_read</a>(<span class="keywordtype">void</span> *ConversionFactors) {
<a name="l03699"></a>03699     <a class="code" href="structcgns__conversion.html">cgns_conversion</a> *conversion;
<a name="l03700"></a>03700     <span class="keywordtype">int</span> ier=0;
<a name="l03701"></a>03701 
<a name="l03702"></a>03702      <span class="comment">/* verify input */</span>
<a name="l03703"></a>03703     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l03704"></a>03704 
<a name="l03705"></a>03705     conversion = <a class="code" href="cgns__header_8h.html#23100dc1d224c0c2bc18d1ed823adf03">cgi_conversion_address</a>(<a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>, &amp;ier);
<a name="l03706"></a>03706     <span class="keywordflow">if</span> (conversion==0) <span class="keywordflow">return</span> ier;
<a name="l03707"></a>03707 
<a name="l03708"></a>03708     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#24e3b83316ff66e5d321d73ee64319f2">cgi_datatype</a>(conversion-&gt;<a class="code" href="structcgns__conversion.html#86e4d546d1321bcac60584c413eb0f6d">data_type</a>)==<a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae1ca5e5244f4627fd3bf71c72015c2060">RealSingle</a>) {
<a name="l03709"></a>03709         *((<span class="keywordtype">float</span> *)ConversionFactors+0) = *((<span class="keywordtype">float</span> *) conversion-&gt;<a class="code" href="structcgns__conversion.html#735984d41155bc1032e09bece8f8d66d">data</a>+0);
<a name="l03710"></a>03710         *((<span class="keywordtype">float</span> *)ConversionFactors+1) = *((<span class="keywordtype">float</span> *) conversion-&gt;<a class="code" href="structcgns__conversion.html#735984d41155bc1032e09bece8f8d66d">data</a>+1);
<a name="l03711"></a>03711 
<a name="l03712"></a>03712     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#24e3b83316ff66e5d321d73ee64319f2">cgi_datatype</a>(conversion-&gt;<a class="code" href="structcgns__conversion.html#86e4d546d1321bcac60584c413eb0f6d">data_type</a>)==<a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae5f954e649a6da0e65898e0faf7724549">RealDouble</a>) {
<a name="l03713"></a>03713         *((<span class="keywordtype">double</span> *)ConversionFactors+0) = *((<span class="keywordtype">double</span> *) conversion-&gt;<a class="code" href="structcgns__conversion.html#735984d41155bc1032e09bece8f8d66d">data</a>+0);
<a name="l03714"></a>03714         *((<span class="keywordtype">double</span> *)ConversionFactors+1) = *((<span class="keywordtype">double</span> *) conversion-&gt;<a class="code" href="structcgns__conversion.html#735984d41155bc1032e09bece8f8d66d">data</a>+1);
<a name="l03715"></a>03715     }
<a name="l03716"></a>03716     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l03717"></a>03717 }
<a name="l03718"></a>03718 
<a name="l03719"></a><a class="code" href="cgnslib_8h.html#c4ad36b1b6f8dc17e460d8ec27a49382">03719</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#f9a464c0028aed42cfa4ac8ddccf1bdd">cg_dataclass_read</a>(<a class="code" href="cgns_keywords_8h.html#6e3a45166e6780b756fef5c427279ca0">DataClass_t</a> *dataclass) {
<a name="l03720"></a>03720     <a class="code" href="cgns_keywords_8h.html#6e3a45166e6780b756fef5c427279ca0">DataClass_t</a> *DataClass;
<a name="l03721"></a>03721     <span class="keywordtype">int</span> ier=0;
<a name="l03722"></a>03722 
<a name="l03723"></a>03723      <span class="comment">/* verify input */</span>
<a name="l03724"></a>03724     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l03725"></a>03725 
<a name="l03726"></a>03726     DataClass = <a class="code" href="cgns__header_8h.html#f50730418efbd44bed948694c641dba4">cgi_dataclass_address</a>(<a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>, &amp;ier);
<a name="l03727"></a>03727     <span class="keywordflow">if</span> (DataClass==0) <span class="keywordflow">return</span> ier;
<a name="l03728"></a>03728 
<a name="l03729"></a>03729     <span class="keywordflow">if</span> (*DataClass==<a class="code" href="cgns_keywords_8h.html#6e3a45166e6780b756fef5c427279ca079d3001e5ba3290ed80f0762d51bb379">DataClassNull</a>) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#e3177764863da4b451449a76ab55bebd">CG_NODE_NOT_FOUND</a>;
<a name="l03730"></a>03730     (*dataclass) = (*DataClass);
<a name="l03731"></a>03731     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l03732"></a>03732 }
<a name="l03733"></a>03733 
<a name="l03734"></a><a class="code" href="cgnslib_8h.html#8b8fffa3f97daac87a92a0c362634b65">03734</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#924d62e01c9e8c11e0f45a1e2b2cfdba">cg_gridlocation_read</a>(<a class="code" href="cgns_keywords_8h.html#5a0e596ed46b12f73c2ed1b8b0176e13">GridLocation_t</a> *GridLocation) {
<a name="l03735"></a>03735     <a class="code" href="cgns_keywords_8h.html#5a0e596ed46b12f73c2ed1b8b0176e13">GridLocation_t</a> *location;
<a name="l03736"></a>03736     <span class="keywordtype">int</span> ier=0;
<a name="l03737"></a>03737 
<a name="l03738"></a>03738      <span class="comment">/* verify input */</span>
<a name="l03739"></a>03739     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l03740"></a>03740 
<a name="l03741"></a>03741     location = <a class="code" href="cgns__header_8h.html#2a6017a6c42d02861d35c6d8cd2d5dd8">cgi_location_address</a>(<a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>, &amp;ier);
<a name="l03742"></a>03742     <span class="keywordflow">if</span> (location==0) <span class="keywordflow">return</span> ier;
<a name="l03743"></a>03743 
<a name="l03744"></a>03744     (*GridLocation) = (*location);
<a name="l03745"></a>03745     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l03746"></a>03746 }
<a name="l03747"></a>03747 
<a name="l03748"></a><a class="code" href="cgnslib_8h.html#1c40562dd7f2c9b10f8ac9ad625c1b11">03748</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#663f6eaf3674e7545b12704558f5b259">cg_ordinal_read</a>(<span class="keywordtype">int</span> *Ordinal) {
<a name="l03749"></a>03749     <span class="keywordtype">int</span> *ordinal;
<a name="l03750"></a>03750     <span class="keywordtype">int</span> ier=0;
<a name="l03751"></a>03751 
<a name="l03752"></a>03752      <span class="comment">/* verify input */</span>
<a name="l03753"></a>03753     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l03754"></a>03754 
<a name="l03755"></a>03755     ordinal = <a class="code" href="cgns__header_8h.html#789d2aeee172b212a9218d32c1c43de9">cgi_ordinal_address</a>(<a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>, &amp;ier);
<a name="l03756"></a>03756     <span class="keywordflow">if</span> (ordinal==0) <span class="keywordflow">return</span> ier;
<a name="l03757"></a>03757 
<a name="l03758"></a>03758     (*Ordinal) = (*ordinal);
<a name="l03759"></a>03759     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l03760"></a>03760 }
<a name="l03761"></a>03761 
<a name="l03762"></a><a class="code" href="cgnslib_8h.html#4a95601f71d444376793779493a62ba4">03762</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#ac22dcafc424e949e59e99eb2c5bb381">cg_is_link</a>(<span class="keywordtype">int</span> *path_length) {
<a name="l03763"></a>03763     <span class="keywordtype">double</span> posit_id;
<a name="l03764"></a>03764 
<a name="l03765"></a>03765     *path_length = 0;
<a name="l03766"></a>03766 
<a name="l03767"></a>03767     <span class="comment">/* verify input */</span>
<a name="l03768"></a>03768     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>))
<a name="l03769"></a>03769         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l03770"></a>03770 
<a name="l03771"></a>03771     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#dfcc6b9f463371c7fbfb6a9e7307f39a">cgi_posit_id</a>(&amp;posit_id)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l03772"></a>03772 
<a name="l03773"></a>03773     <span class="keywordflow">if</span> (<a class="code" href="cgns__io_8c.html#40c341db8f706ec543f51973ab9768ca">cgio_is_link</a>(cg-&gt;<a class="code" href="structcgns__file.html#98363ec7b27905dbf2c56c6a194c69cc">cgio</a>, posit_id, path_length)) {
<a name="l03774"></a>03774         <a class="code" href="cgns__error_8c.html#47dd09a377bc17d5807332f8c475a23b">cg_io_error</a>(<span class="stringliteral">"cgio_is_link"</span>);
<a name="l03775"></a>03775         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l03776"></a>03776     }
<a name="l03777"></a>03777 
<a name="l03778"></a>03778     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l03779"></a>03779 }
<a name="l03780"></a>03780 
<a name="l03781"></a><a class="code" href="cgnslib_8h.html#ea77f76dacc4bed0cc5551765b10abb7">03781</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#0951892dc02b705361aad08233f281bb">cg_link_read</a>(<span class="keywordtype">char</span> **<a class="code" href="_a_d_f__internals_8h.html#1bc14b345d09a9f773dfde50d7f2d830">filename</a>, <span class="keywordtype">char</span> **<a class="code" href="_a_d_f__internals_8h.html#7794d6a0138876e836cb50540bdc80dd">link_path</a>) {
<a name="l03782"></a>03782     <span class="keywordtype">int</span> name_len, file_len;
<a name="l03783"></a>03783     <span class="keywordtype">double</span> posit_id;
<a name="l03784"></a>03784 
<a name="l03785"></a>03785     <span class="comment">/* verify input */</span>
<a name="l03786"></a>03786     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l03787"></a>03787 
<a name="l03788"></a>03788     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#dfcc6b9f463371c7fbfb6a9e7307f39a">cgi_posit_id</a>(&amp;posit_id)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l03789"></a>03789 
<a name="l03790"></a>03790     <span class="keywordflow">if</span> (<a class="code" href="cgns__io_8c.html#c2f1982fd6c1f48ea410d462fb3a7a5a">cgio_link_size</a>(cg-&gt;<a class="code" href="structcgns__file.html#98363ec7b27905dbf2c56c6a194c69cc">cgio</a>, posit_id, &amp;file_len, &amp;name_len)) {
<a name="l03791"></a>03791         <a class="code" href="cgns__error_8c.html#47dd09a377bc17d5807332f8c475a23b">cg_io_error</a>(<span class="stringliteral">"cgio_link_size"</span>);
<a name="l03792"></a>03792         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l03793"></a>03793     }
<a name="l03794"></a>03794     *filename = <a class="code" href="cgns__header_8h.html#948c36b3700de0f3332aa3620eafb0f4">CGNS_NEW</a>(<span class="keywordtype">char</span>, file_len + 1);
<a name="l03795"></a>03795     *link_path = <a class="code" href="cgns__header_8h.html#948c36b3700de0f3332aa3620eafb0f4">CGNS_NEW</a>(<span class="keywordtype">char</span>, name_len + 1);
<a name="l03796"></a>03796 
<a name="l03797"></a>03797     <span class="keywordflow">if</span> (<a class="code" href="cgns__io_8c.html#c08864d357fe8cd58dda7488f1b99278">cgio_get_link</a>(cg-&gt;<a class="code" href="structcgns__file.html#98363ec7b27905dbf2c56c6a194c69cc">cgio</a>, posit_id, *link_path, *filename)) {
<a name="l03798"></a>03798         <a class="code" href="cgns__header_8h.html#80f020bd3f157b4396939147cf4c215e">CGNS_FREE</a>(*filename);
<a name="l03799"></a>03799         <a class="code" href="cgns__header_8h.html#80f020bd3f157b4396939147cf4c215e">CGNS_FREE</a>(*link_path);
<a name="l03800"></a>03800         *filename = *link_path = 0;
<a name="l03801"></a>03801         <a class="code" href="cgns__error_8c.html#47dd09a377bc17d5807332f8c475a23b">cg_io_error</a>(<span class="stringliteral">"cgio_get_link"</span>);
<a name="l03802"></a>03802         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l03803"></a>03803     }
<a name="l03804"></a>03804     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l03805"></a>03805 }
<a name="l03806"></a>03806 
<a name="l03807"></a><a class="code" href="cgnslib_8h.html#2e832ae5d21661eace8aaa10995f1819">03807</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#be14f289bd1323164998af33752e068c">cg_nuser_data</a>(<span class="keywordtype">int</span> *nuser_data) {
<a name="l03808"></a>03808 
<a name="l03809"></a>03809 <span class="comment">/* Possible parents of UserDefinedData_t node:</span>
<a name="l03810"></a>03810 <span class="comment"> *  IntegralData_t, DiscreteData_t, ConvergenceHistory_t, ReferenceState_t,</span>
<a name="l03811"></a>03811 <span class="comment"> *  xxxModel_t, GoverningEquations_t, FlowEquationSet_t, BCData_t, BCDataSet_t,</span>
<a name="l03812"></a>03812 <span class="comment"> *  Elements_t, BC_t, ZoneBC_t, OversetHoles_t, GridConnectivity_t,</span>
<a name="l03813"></a>03813 <span class="comment"> *  GridConnectivity1to1_t, ZoneGridConnectivity_t, FlowSolution_t,</span>
<a name="l03814"></a>03814 <span class="comment"> *  GridCoordinates_t, RigidGridMotion_t, ArbitraryGridMotion_t,</span>
<a name="l03815"></a>03815 <span class="comment"> *  ZoneIterativeData_t, BaseIterativeData_t, Zone_t, GeometryReference_t,</span>
<a name="l03816"></a>03816 <span class="comment"> *  Family_t, CGNSBase_t, Gravity_t, Axisymmetry_t, RotatingCoordinates_t,</span>
<a name="l03817"></a>03817 <span class="comment"> *  BCProperty_t, WallFunction_t, Area_t, UserDefinedData_t,</span>
<a name="l03818"></a>03818 <span class="comment"> *  GridConnectivityProperty_t, Periodic_t, AverageInterface_t</span>
<a name="l03819"></a>03819 <span class="comment"> */</span>
<a name="l03820"></a>03820 
<a name="l03821"></a>03821      <span class="comment">/* This is valid and used during write as well as read mode. */</span>
<a name="l03822"></a>03822 
<a name="l03823"></a>03823      <span class="comment">/* check for valid posit */</span>
<a name="l03824"></a>03824     <span class="keywordflow">if</span> (posit == 0) {
<a name="l03825"></a>03825         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"No current position set by cg_goto\n"</span>);
<a name="l03826"></a>03826         (*nuser_data) = 0;
<a name="l03827"></a>03827         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l03828"></a>03828     }
<a name="l03829"></a>03829 
<a name="l03830"></a>03830     <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"IntegralData_t"</span>)==0)
<a name="l03831"></a>03831         (*nuser_data) = ((<a class="code" href="structcgns__integral.html">cgns_integral</a> *)posit-&gt;<a class="code" href="structcgns__posit.html#3378c1daf2fcc2b6ce28d61681bbe575">posit</a>)-&gt;nuser_data;
<a name="l03832"></a>03832     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"DiscreteData_t"</span>)==0)
<a name="l03833"></a>03833         (*nuser_data) = ((<a class="code" href="structcgns__discrete.html">cgns_discrete</a> *)posit-&gt;<a class="code" href="structcgns__posit.html#3378c1daf2fcc2b6ce28d61681bbe575">posit</a>)-&gt;nuser_data;
<a name="l03834"></a>03834     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"ConvergenceHistory_t"</span>)==0)
<a name="l03835"></a>03835         (*nuser_data) = ((<a class="code" href="structcgns__converg.html">cgns_converg</a> *)posit-&gt;<a class="code" href="structcgns__posit.html#3378c1daf2fcc2b6ce28d61681bbe575">posit</a>)-&gt;nuser_data;
<a name="l03836"></a>03836     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"ReferenceState_t"</span>)==0)
<a name="l03837"></a>03837         (*nuser_data) = ((<a class="code" href="structcgns__state.html">cgns_state</a> *)posit-&gt;<a class="code" href="structcgns__posit.html#3378c1daf2fcc2b6ce28d61681bbe575">posit</a>)-&gt;nuser_data;
<a name="l03838"></a>03838     <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"GasModel_t"</span>)==0 ||
<a name="l03839"></a>03839         strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"ViscosityModel_t"</span>)==0 ||
<a name="l03840"></a>03840         strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"ThermalConductivityModel_t"</span>)==0 ||
<a name="l03841"></a>03841         strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"TurbulenceModel_t"</span>)==0 ||
<a name="l03842"></a>03842         strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"TurbulenceClosure_t"</span>)==0 ||
<a name="l03843"></a>03843         strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"ThermalRelaxationModel_t"</span>)==0 ||
<a name="l03844"></a>03844         strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"ChemicalKineticsModel_t"</span>)==0 ||
<a name="l03845"></a>03845          strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"EMElectricFieldModel_t"</span>)==0 ||
<a name="l03846"></a>03846          strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"EMMagneticFieldModel_t"</span>)==0 ||
<a name="l03847"></a>03847          strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"EMConductivityModel_t"</span>)==0) )
<a name="l03848"></a>03848         (*nuser_data) = ((<a class="code" href="structcgns__model.html">cgns_model</a> *)posit-&gt;<a class="code" href="structcgns__posit.html#3378c1daf2fcc2b6ce28d61681bbe575">posit</a>)-&gt;nuser_data;
<a name="l03849"></a>03849     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"GoverningEquations_t"</span>)==0)
<a name="l03850"></a>03850         (*nuser_data) = ((<a class="code" href="structcgns__governing.html">cgns_governing</a> *)posit-&gt;<a class="code" href="structcgns__posit.html#3378c1daf2fcc2b6ce28d61681bbe575">posit</a>)-&gt;nuser_data;
<a name="l03851"></a>03851     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"FlowEquationSet_t"</span>)==0)
<a name="l03852"></a>03852         (*nuser_data) = ((<a class="code" href="structcgns__equations.html">cgns_equations</a> *)posit-&gt;<a class="code" href="structcgns__posit.html#3378c1daf2fcc2b6ce28d61681bbe575">posit</a>)-&gt;nuser_data;
<a name="l03853"></a>03853     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"BCData_t"</span>)==0)
<a name="l03854"></a>03854         (*nuser_data) = ((<a class="code" href="structcgns__bcdata.html">cgns_bcdata</a> *)posit-&gt;<a class="code" href="structcgns__posit.html#3378c1daf2fcc2b6ce28d61681bbe575">posit</a>)-&gt;nuser_data;
<a name="l03855"></a>03855     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"BCDataSet_t"</span>)==0)
<a name="l03856"></a>03856         (*nuser_data) = ((<a class="code" href="structcgns__dataset.html">cgns_dataset</a> *)posit-&gt;<a class="code" href="structcgns__posit.html#3378c1daf2fcc2b6ce28d61681bbe575">posit</a>)-&gt;nuser_data;
<a name="l03857"></a>03857     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"Elements_t"</span>)==0)
<a name="l03858"></a>03858         (*nuser_data) = ((<a class="code" href="structcgns__section.html">cgns_section</a> *)posit-&gt;<a class="code" href="structcgns__posit.html#3378c1daf2fcc2b6ce28d61681bbe575">posit</a>)-&gt;nuser_data;
<a name="l03859"></a>03859     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"BC_t"</span>)==0)
<a name="l03860"></a>03860         (*nuser_data) = ((<a class="code" href="structcgns__boco.html">cgns_boco</a> *)posit-&gt;<a class="code" href="structcgns__posit.html#3378c1daf2fcc2b6ce28d61681bbe575">posit</a>)-&gt;nuser_data;
<a name="l03861"></a>03861     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"ZoneBC_t"</span>)==0)
<a name="l03862"></a>03862         (*nuser_data) = ((<a class="code" href="structcgns__zboco.html">cgns_zboco</a> *)posit-&gt;<a class="code" href="structcgns__posit.html#3378c1daf2fcc2b6ce28d61681bbe575">posit</a>)-&gt;nuser_data;
<a name="l03863"></a>03863     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"OversetHoles_t"</span>)==0)
<a name="l03864"></a>03864         (*nuser_data) = ((<a class="code" href="structcgns__hole.html">cgns_hole</a> *)posit-&gt;<a class="code" href="structcgns__posit.html#3378c1daf2fcc2b6ce28d61681bbe575">posit</a>)-&gt;nuser_data;
<a name="l03865"></a>03865     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"GridConnectivity_t"</span>)==0)
<a name="l03866"></a>03866         (*nuser_data) = ((<a class="code" href="structcgns__conn.html">cgns_conn</a> *)posit-&gt;<a class="code" href="structcgns__posit.html#3378c1daf2fcc2b6ce28d61681bbe575">posit</a>)-&gt;nuser_data;
<a name="l03867"></a>03867     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"GridConnectivity1to1_t"</span>)==0)
<a name="l03868"></a>03868         (*nuser_data) = ((<a class="code" href="structcgns__1to1.html">cgns_1to1</a> *)posit-&gt;<a class="code" href="structcgns__posit.html#3378c1daf2fcc2b6ce28d61681bbe575">posit</a>)-&gt;nuser_data;
<a name="l03869"></a>03869     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"ZoneGridConnectivity_t"</span>)==0)
<a name="l03870"></a>03870         (*nuser_data) = ((<a class="code" href="structcgns__zconn.html">cgns_zconn</a> *)posit-&gt;<a class="code" href="structcgns__posit.html#3378c1daf2fcc2b6ce28d61681bbe575">posit</a>)-&gt;nuser_data;
<a name="l03871"></a>03871     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"FlowSolution_t"</span>)==0)
<a name="l03872"></a>03872         (*nuser_data) = ((<a class="code" href="structcgns__sol.html">cgns_sol</a> *)posit-&gt;<a class="code" href="structcgns__posit.html#3378c1daf2fcc2b6ce28d61681bbe575">posit</a>)-&gt;nuser_data;
<a name="l03873"></a>03873     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"GridCoordinates_t"</span>)==0)
<a name="l03874"></a>03874         (*nuser_data) = ((<a class="code" href="structcgns__zcoor.html">cgns_zcoor</a> *)posit-&gt;<a class="code" href="structcgns__posit.html#3378c1daf2fcc2b6ce28d61681bbe575">posit</a>)-&gt;nuser_data;
<a name="l03875"></a>03875     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"RigidGridMotion_t"</span>)==0)
<a name="l03876"></a>03876         (*nuser_data) = ((<a class="code" href="structcgns__rmotion.html">cgns_rmotion</a> *)posit-&gt;<a class="code" href="structcgns__posit.html#3378c1daf2fcc2b6ce28d61681bbe575">posit</a>)-&gt;nuser_data;
<a name="l03877"></a>03877     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"ArbitraryGridMotion_t"</span>)==0)
<a name="l03878"></a>03878         (*nuser_data) = ((<a class="code" href="structcgns__amotion.html">cgns_amotion</a> *)posit-&gt;<a class="code" href="structcgns__posit.html#3378c1daf2fcc2b6ce28d61681bbe575">posit</a>)-&gt;nuser_data;
<a name="l03879"></a>03879     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"ZoneIterativeData_t"</span>)==0)
<a name="l03880"></a>03880         (*nuser_data) = ((<a class="code" href="structcgns__ziter.html">cgns_ziter</a> *)posit-&gt;<a class="code" href="structcgns__posit.html#3378c1daf2fcc2b6ce28d61681bbe575">posit</a>)-&gt;nuser_data;
<a name="l03881"></a>03881     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"BaseIterativeData_t"</span>)==0)
<a name="l03882"></a>03882         (*nuser_data) = ((<a class="code" href="structcgns__biter.html">cgns_biter</a> *)posit-&gt;<a class="code" href="structcgns__posit.html#3378c1daf2fcc2b6ce28d61681bbe575">posit</a>)-&gt;nuser_data;
<a name="l03883"></a>03883     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"Zone_t"</span>)==0)
<a name="l03884"></a>03884         (*nuser_data) = ((<a class="code" href="structcgns__zone.html">cgns_zone</a> *)posit-&gt;<a class="code" href="structcgns__posit.html#3378c1daf2fcc2b6ce28d61681bbe575">posit</a>)-&gt;nuser_data;
<a name="l03885"></a>03885     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"GeometryReference_t"</span>)==0)
<a name="l03886"></a>03886         (*nuser_data) = ((<a class="code" href="structcgns__geo.html">cgns_geo</a> *)posit-&gt;<a class="code" href="structcgns__posit.html#3378c1daf2fcc2b6ce28d61681bbe575">posit</a>)-&gt;nuser_data;
<a name="l03887"></a>03887     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"Family_t"</span>)==0)
<a name="l03888"></a>03888         (*nuser_data) = ((<a class="code" href="structcgns__family.html">cgns_family</a> *)posit-&gt;<a class="code" href="structcgns__posit.html#3378c1daf2fcc2b6ce28d61681bbe575">posit</a>)-&gt;nuser_data;
<a name="l03889"></a>03889     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"CGNSBase_t"</span>)==0)
<a name="l03890"></a>03890         (*nuser_data) = ((<a class="code" href="structcgns__base.html">cgns_base</a> *)posit-&gt;<a class="code" href="structcgns__posit.html#3378c1daf2fcc2b6ce28d61681bbe575">posit</a>)-&gt;nuser_data;
<a name="l03891"></a>03891     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"Gravity_t"</span>)==0)
<a name="l03892"></a>03892         (*nuser_data) = ((<a class="code" href="structcgns__gravity.html">cgns_gravity</a> *)posit-&gt;<a class="code" href="structcgns__posit.html#3378c1daf2fcc2b6ce28d61681bbe575">posit</a>)-&gt;nuser_data;
<a name="l03893"></a>03893     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"Axisymmetry_t"</span>)==0)
<a name="l03894"></a>03894         (*nuser_data) = ((<a class="code" href="structcgns__axisym.html">cgns_axisym</a> *)posit-&gt;<a class="code" href="structcgns__posit.html#3378c1daf2fcc2b6ce28d61681bbe575">posit</a>)-&gt;nuser_data;
<a name="l03895"></a>03895     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"RotatingCoordinates_t"</span>)==0)
<a name="l03896"></a>03896         (*nuser_data) = ((<a class="code" href="structcgns__rotating.html">cgns_rotating</a> *)posit-&gt;<a class="code" href="structcgns__posit.html#3378c1daf2fcc2b6ce28d61681bbe575">posit</a>)-&gt;nuser_data;
<a name="l03897"></a>03897     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"BCProperty_t"</span>)==0)
<a name="l03898"></a>03898          (*nuser_data) = ((<a class="code" href="structcgns__bprop.html">cgns_bprop</a> *)posit-&gt;<a class="code" href="structcgns__posit.html#3378c1daf2fcc2b6ce28d61681bbe575">posit</a>)-&gt;nuser_data;
<a name="l03899"></a>03899     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"WallFunction_t"</span>)==0)
<a name="l03900"></a>03900          (*nuser_data) = ((<a class="code" href="structcgns__bcwall.html">cgns_bcwall</a> *)posit-&gt;<a class="code" href="structcgns__posit.html#3378c1daf2fcc2b6ce28d61681bbe575">posit</a>)-&gt;nuser_data;
<a name="l03901"></a>03901     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"Area_t"</span>)==0)
<a name="l03902"></a>03902          (*nuser_data) = ((<a class="code" href="structcgns__bcarea.html">cgns_bcarea</a> *)posit-&gt;<a class="code" href="structcgns__posit.html#3378c1daf2fcc2b6ce28d61681bbe575">posit</a>)-&gt;nuser_data;
<a name="l03903"></a>03903     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"UserDefinedData_t"</span>)==0)
<a name="l03904"></a>03904          (*nuser_data) = ((<a class="code" href="structcgns__user__data__s.html">cgns_user_data</a> *)posit-&gt;<a class="code" href="structcgns__posit.html#3378c1daf2fcc2b6ce28d61681bbe575">posit</a>)-&gt;nuser_data;
<a name="l03905"></a>03905     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"GridConnectivityProperty_t"</span>)==0)
<a name="l03906"></a>03906          (*nuser_data) = ((<a class="code" href="structcgns__cprop.html">cgns_cprop</a> *)posit-&gt;<a class="code" href="structcgns__posit.html#3378c1daf2fcc2b6ce28d61681bbe575">posit</a>)-&gt;nuser_data;
<a name="l03907"></a>03907     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"Periodic_t"</span>)==0)
<a name="l03908"></a>03908          (*nuser_data) = ((<a class="code" href="structcgns__cperio.html">cgns_cperio</a> *)posit-&gt;<a class="code" href="structcgns__posit.html#3378c1daf2fcc2b6ce28d61681bbe575">posit</a>)-&gt;nuser_data;
<a name="l03909"></a>03909     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"AverageInterface_t"</span>)==0)
<a name="l03910"></a>03910          (*nuser_data) = ((<a class="code" href="structcgns__caverage.html">cgns_caverage</a> *)posit-&gt;<a class="code" href="structcgns__posit.html#3378c1daf2fcc2b6ce28d61681bbe575">posit</a>)-&gt;nuser_data;
<a name="l03911"></a>03911 
<a name="l03912"></a>03912     <span class="keywordflow">else</span> {
<a name="l03913"></a>03913         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"UserDefinedData_t node not supported under '%s' type node"</span>,posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>);
<a name="l03914"></a>03914         (*nuser_data) = 0;
<a name="l03915"></a>03915         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#c0fa66c28774a143f149895c12dd429b">CG_INCORRECT_PATH</a>;
<a name="l03916"></a>03916     }
<a name="l03917"></a>03917     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l03918"></a>03918 }
<a name="l03919"></a>03919 
<a name="l03920"></a><a class="code" href="cgnslib_8h.html#e9e270395cd0944a169c7342d29ee6ba">03920</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#8c43aaaa6425aa382e84e3ebd5c58bfd">cg_user_data_read</a>(<span class="keywordtype">int</span> Index, <span class="keywordtype">char</span> *UserDataName) {
<a name="l03921"></a>03921     <span class="keywordtype">int</span> ier=0;
<a name="l03922"></a>03922     <a class="code" href="structcgns__user__data__s.html">cgns_user_data</a> *user_data;
<a name="l03923"></a>03923 
<a name="l03924"></a>03924      <span class="comment">/* verify input */</span>
<a name="l03925"></a>03925     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l03926"></a>03926 
<a name="l03927"></a>03927     user_data = <a class="code" href="cgns__header_8h.html#cd6deb7f6e7896663309286cb0b18fcf">cgi_user_data_address</a>(<a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>, Index,
<a name="l03928"></a>03928            <span class="stringliteral">"dummy"</span>, &amp;ier);
<a name="l03929"></a>03929     <span class="keywordflow">if</span> (user_data==0) <span class="keywordflow">return</span> ier;
<a name="l03930"></a>03930 
<a name="l03931"></a>03931     strcpy(UserDataName, user_data-&gt;<a class="code" href="structcgns__user__data__s.html#b5192b2e796e6224c74ec532ec32abf7">name</a>);
<a name="l03932"></a>03932     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l03933"></a>03933 }
<a name="l03934"></a>03934 
<a name="l03935"></a><a class="code" href="cgnslib_8h.html#a22d89cf3c9b1b881d1c9442c349306b">03935</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#572dc897f1f6809a3e6f8720254982d8">cg_rotating_read</a>(<span class="keywordtype">float</span> *rot_rate, <span class="keywordtype">float</span> *rot_center) {
<a name="l03936"></a>03936     <a class="code" href="structcgns__rotating.html">cgns_rotating</a> *rotating;
<a name="l03937"></a>03937     <a class="code" href="structcgns__base.html">cgns_base</a> *base;
<a name="l03938"></a>03938     <span class="keywordtype">int</span> ier=0, n;
<a name="l03939"></a>03939 
<a name="l03940"></a>03940      <span class="comment">/* verify input */</span>
<a name="l03941"></a>03941     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l03942"></a>03942 
<a name="l03943"></a>03943     rotating = <a class="code" href="cgns__header_8h.html#25bc81bf341653b0f10334c7f2a1631f">cgi_rotating_address</a>(<a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>, &amp;ier);
<a name="l03944"></a>03944     <span class="keywordflow">if</span> (rotating==0) <span class="keywordflow">return</span> ier;
<a name="l03945"></a>03945 
<a name="l03946"></a>03946     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#9aefb3fb2179957b84774f80fc7ca76a">posit_base</a>) {
<a name="l03947"></a>03947         base = &amp;cg-&gt;<a class="code" href="structcgns__file.html#0429392e9c26dac2f0b97ae2d2127117">base</a>[<a class="code" href="cgns__header_8h.html#9aefb3fb2179957b84774f80fc7ca76a">posit_base</a>-1];
<a name="l03948"></a>03948     } <span class="keywordflow">else</span> {
<a name="l03949"></a>03949         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Can't find the base"</span>);
<a name="l03950"></a>03950         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l03951"></a>03951     }
<a name="l03952"></a>03952 
<a name="l03953"></a>03953     <span class="keywordflow">for</span> (n=0; n&lt;rotating-&gt;<a class="code" href="structcgns__rotating.html#ace0c04d503f8dda2284ae61a8344b8b">narrays</a>; n++) {
<a name="l03954"></a>03954         <span class="keywordflow">if</span> (strcmp(rotating-&gt;<a class="code" href="structcgns__rotating.html#1973739e7639e00a0d5aafe8c355c2aa">array</a>[n].<a class="code" href="structcgns__array.html#b5192b2e796e6224c74ec532ec32abf7">name</a>,<span class="stringliteral">"RotationCenter"</span>)==0)
<a name="l03955"></a>03955             memcpy(rot_center, rotating-&gt;<a class="code" href="structcgns__rotating.html#1973739e7639e00a0d5aafe8c355c2aa">array</a>[n].<a class="code" href="structcgns__array.html#735984d41155bc1032e09bece8f8d66d">data</a>, base-&gt;<a class="code" href="structcgns__base.html#f210aa767697826c3dc29cfb2ffec256">phys_dim</a>*<span class="keyword">sizeof</span>(<span class="keywordtype">float</span>));
<a name="l03956"></a>03956         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(rotating-&gt;<a class="code" href="structcgns__rotating.html#1973739e7639e00a0d5aafe8c355c2aa">array</a>[n].<a class="code" href="structcgns__array.html#b5192b2e796e6224c74ec532ec32abf7">name</a>,<span class="stringliteral">"RotationRateVector"</span>)==0)
<a name="l03957"></a>03957             memcpy(rot_rate, rotating-&gt;<a class="code" href="structcgns__rotating.html#1973739e7639e00a0d5aafe8c355c2aa">array</a>[n].<a class="code" href="structcgns__array.html#735984d41155bc1032e09bece8f8d66d">data</a>, base-&gt;<a class="code" href="structcgns__base.html#f210aa767697826c3dc29cfb2ffec256">phys_dim</a>*<span class="keyword">sizeof</span>(<span class="keywordtype">float</span>));
<a name="l03958"></a>03958     }
<a name="l03959"></a>03959     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l03960"></a>03960 }
<a name="l03961"></a>03961 
<a name="l03962"></a><a class="code" href="cgnslib_8h.html#e3c29d459108408fd94223547dc4ad47">03962</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#6dc17b4e61dc1c11b7350d8720b52fce">cg_ptset_info</a>(<a class="code" href="cgns_keywords_8h.html#82fcf406991383f888f145541f6616f5">PointSetType_t</a> *ptset_type, <span class="keywordtype">int</span> *<a class="code" href="write__bcdata_8c.html#5444c4f4b8152e0b11ea6acae6b6de2a">npnts</a>)
<a name="l03963"></a>03963 {
<a name="l03964"></a>03964     <a class="code" href="structcgns__ptset.html">cgns_ptset</a> *ptset;
<a name="l03965"></a>03965     <span class="keywordtype">int</span> ier=0;
<a name="l03966"></a>03966 
<a name="l03967"></a>03967     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>))
<a name="l03968"></a>03968         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l03969"></a>03969 
<a name="l03970"></a>03970     ptset = <a class="code" href="cgns__header_8h.html#f6cea77ae9249730c4d2e4693a462216">cgi_ptset_address</a>(<a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>, &amp;ier);
<a name="l03971"></a>03971     <span class="keywordflow">if</span> (ptset == 0)
<a name="l03972"></a>03972         <span class="keywordflow">return</span> ier;
<a name="l03973"></a>03973 
<a name="l03974"></a>03974     *ptset_type = ptset-&gt;<a class="code" href="structcgns__ptset.html#5aec710ee64d19d29072491968901bb5">type</a>;
<a name="l03975"></a>03975     *npnts = ptset-&gt;<a class="code" href="structcgns__ptset.html#0306378cd06415f84b10cb3d15516ec3">npts</a>;
<a name="l03976"></a>03976 
<a name="l03977"></a>03977     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l03978"></a>03978 }
<a name="l03979"></a>03979 
<a name="l03980"></a><a class="code" href="cgnslib_8h.html#82096dba1ef383f8c14912a5c7c972f9">03980</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#9fcf2c99f0165d62893e344c361c8c54">cg_ptset_read</a>(<span class="keywordtype">int</span> *<a class="code" href="write__bcdata_8c.html#5e162cfaac90b1bb6effc1042b58b64e">pnts</a>)
<a name="l03981"></a>03981 {
<a name="l03982"></a>03982     <a class="code" href="structcgns__ptset.html">cgns_ptset</a> *ptset;
<a name="l03983"></a>03983     <span class="keywordtype">int</span> ier=0;
<a name="l03984"></a>03984 
<a name="l03985"></a>03985     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l03986"></a>03986 
<a name="l03987"></a>03987     ptset = <a class="code" href="cgns__header_8h.html#f6cea77ae9249730c4d2e4693a462216">cgi_ptset_address</a>(<a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>, &amp;ier);
<a name="l03988"></a>03988     <span class="keywordflow">if</span> (ptset == 0)
<a name="l03989"></a>03989         <span class="keywordflow">return</span> ier;
<a name="l03990"></a>03990 
<a name="l03991"></a>03991     <span class="comment">/* Read point-set directly from ADF-file */</span>
<a name="l03992"></a>03992     <span class="keywordflow">if</span> (ptset-&gt;<a class="code" href="structcgns__ptset.html#0306378cd06415f84b10cb3d15516ec3">npts</a> &gt; 0) {
<a name="l03993"></a>03993         <span class="keywordflow">if</span> (<a class="code" href="cgns__io_8c.html#4ae7c787c3def6d3bbd675d83aab48e3">cgio_read_all_data</a>(cg-&gt;<a class="code" href="structcgns__file.html#98363ec7b27905dbf2c56c6a194c69cc">cgio</a>, ptset-&gt;<a class="code" href="structcgns__ptset.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, (<span class="keywordtype">void</span> *)pnts)) {
<a name="l03994"></a>03994             <a class="code" href="cgns__error_8c.html#47dd09a377bc17d5807332f8c475a23b">cg_io_error</a>(<span class="stringliteral">"cgio_read_all_data"</span>);
<a name="l03995"></a>03995             <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l03996"></a>03996         }
<a name="l03997"></a>03997 <span class="comment">/*</span>
<a name="l03998"></a>03998 <span class="comment">    } else</span>
<a name="l03999"></a>03999 <span class="comment">    {</span>
<a name="l04000"></a>04000 <span class="comment">        printf("Warning: No points for current point set.");</span>
<a name="l04001"></a>04001 <span class="comment">*/</span>
<a name="l04002"></a>04002     }
<a name="l04003"></a>04003 
<a name="l04004"></a>04004     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l04005"></a>04005 }
<a name="l04006"></a>04006 
<a name="l04007"></a>04007 <span class="comment">/*****************************************************************************\</span>
<a name="l04008"></a>04008 <span class="comment"> *           Write Functions</span>
<a name="l04009"></a>04009 <span class="comment">\*****************************************************************************/</span>
<a name="l04010"></a><a class="code" href="cgnslib_8h.html#95bc66a0bb49d3f8a071eb80274073a1">04010</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#fec1bbb52f8842a2007d512ddc655bc4">cg_base_write</a>(<span class="keywordtype">int</span> file_number, <span class="keywordtype">char</span> <span class="keyword">const</span> * basename, <span class="keywordtype">int</span> cell_dim, <span class="keywordtype">int</span> phys_dim, <span class="keywordtype">int</span> *B) {
<a name="l04011"></a>04011     <a class="code" href="structcgns__base.html">cgns_base</a> *base = NULL;
<a name="l04012"></a>04012     <span class="keywordtype">int</span> index;
<a name="l04013"></a>04013     <span class="keywordtype">int</span> <a class="code" href="_a_d_f__internals_8h.html#830f6050ecf88958651b63cc1abfba2d">dim_vals</a>;
<a name="l04014"></a>04014     <span class="keywordtype">int</span> <a class="code" href="_a_d_f__internals_8h.html#1c4032c79398d15869ce0828a58de11f">data</a>[2];
<a name="l04015"></a>04015 
<a name="l04016"></a>04016      <span class="comment">/* verify input */</span>
<a name="l04017"></a>04017     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#b042658423afd0817ab23b3ea7a5e03d">cgi_check_strlen</a>(basename)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l04018"></a>04018     <span class="keywordflow">if</span> (cell_dim&lt;1 || cell_dim&gt;3 || phys_dim&lt;1 || phys_dim&gt;3) {
<a name="l04019"></a>04019         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Invalid input:  cell_dim=%d, phys_dim=%d"</span>,cell_dim,phys_dim);
<a name="l04020"></a>04020         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l04021"></a>04021     }
<a name="l04022"></a>04022      <span class="comment">/* get memory address for base */</span>
<a name="l04023"></a>04023     cg = <a class="code" href="cgns__header_8h.html#64a13852e04666fc73b74a8ff7727f4f">cgi_get_file</a>(file_number);
<a name="l04024"></a>04024     <span class="keywordflow">if</span> (cg == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l04025"></a>04025 
<a name="l04026"></a>04026     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l04027"></a>04027 
<a name="l04028"></a>04028      <span class="comment">/* Overwrite a CGNSBase_t Node: */</span>
<a name="l04029"></a>04029     <span class="keywordflow">for</span> (index=0; index&lt;cg-&gt;<a class="code" href="structcgns__file.html#4ca0d4ed1ea9b5b81441a2cdd7178df9">nbases</a>; index++) {
<a name="l04030"></a>04030         <span class="keywordflow">if</span> (strcmp(basename, cg-&gt;<a class="code" href="structcgns__file.html#0429392e9c26dac2f0b97ae2d2127117">base</a>[index].<a class="code" href="structcgns__base.html#b5192b2e796e6224c74ec532ec32abf7">name</a>)==0) {
<a name="l04031"></a>04031 
<a name="l04032"></a>04032              <span class="comment">/* in CG_MODE_WRITE, children names must be unique */</span>
<a name="l04033"></a>04033             <span class="keywordflow">if</span> (cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>==<a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>) {
<a name="l04034"></a>04034                 <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Duplicate child name found: %s"</span>,basename);
<a name="l04035"></a>04035                 <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l04036"></a>04036             }
<a name="l04037"></a>04037 
<a name="l04038"></a>04038              <span class="comment">/* overwrite an existing base */</span>
<a name="l04039"></a>04039              <span class="comment">/* delete the existing base from file */</span>
<a name="l04040"></a>04040             <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#032ae98a5be795f845bb5cc7d63750e4">cgi_delete_node</a>(cg-&gt;<a class="code" href="structcgns__file.html#3d645880a5978210c5510d61608c5869">rootid</a>, cg-&gt;<a class="code" href="structcgns__file.html#0429392e9c26dac2f0b97ae2d2127117">base</a>[index].<a class="code" href="structcgns__base.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>))
<a name="l04041"></a>04041                 <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l04042"></a>04042              <span class="comment">/* save the old in-memory address to overwrite */</span>
<a name="l04043"></a>04043             base = &amp;(cg-&gt;<a class="code" href="structcgns__file.html#0429392e9c26dac2f0b97ae2d2127117">base</a>[index]);
<a name="l04044"></a>04044              <span class="comment">/* free memory */</span>
<a name="l04045"></a>04045             <a class="code" href="cgns__header_8h.html#121e2b4e97854256bac0780978850a3f">cgi_free_base</a>(base);
<a name="l04046"></a>04046             <span class="keywordflow">break</span>;
<a name="l04047"></a>04047         }
<a name="l04048"></a>04048     }
<a name="l04049"></a>04049      <span class="comment">/* ... or add a CGNSBase_t Node: */</span>
<a name="l04050"></a>04050     <span class="keywordflow">if</span> (index==cg-&gt;<a class="code" href="structcgns__file.html#4ca0d4ed1ea9b5b81441a2cdd7178df9">nbases</a>) {
<a name="l04051"></a>04051         <span class="keywordflow">if</span> (cg-&gt;<a class="code" href="structcgns__file.html#4ca0d4ed1ea9b5b81441a2cdd7178df9">nbases</a> == 0) {
<a name="l04052"></a>04052             cg-&gt;<a class="code" href="structcgns__file.html#0429392e9c26dac2f0b97ae2d2127117">base</a> = <a class="code" href="cgns__header_8h.html#948c36b3700de0f3332aa3620eafb0f4">CGNS_NEW</a>(<a class="code" href="structcgns__base.html">cgns_base</a>, cg-&gt;<a class="code" href="structcgns__file.html#4ca0d4ed1ea9b5b81441a2cdd7178df9">nbases</a>+1);
<a name="l04053"></a>04053         } <span class="keywordflow">else</span> {
<a name="l04054"></a>04054             cg-&gt;<a class="code" href="structcgns__file.html#0429392e9c26dac2f0b97ae2d2127117">base</a> = <a class="code" href="cgns__header_8h.html#e23e608849b6dc488ccdad466e76e2ad">CGNS_RENEW</a>(<a class="code" href="structcgns__base.html">cgns_base</a>, cg-&gt;<a class="code" href="structcgns__file.html#4ca0d4ed1ea9b5b81441a2cdd7178df9">nbases</a>+1, cg-&gt;<a class="code" href="structcgns__file.html#0429392e9c26dac2f0b97ae2d2127117">base</a>);
<a name="l04055"></a>04055         }
<a name="l04056"></a>04056         base = &amp;(cg-&gt;<a class="code" href="structcgns__file.html#0429392e9c26dac2f0b97ae2d2127117">base</a>[cg-&gt;<a class="code" href="structcgns__file.html#4ca0d4ed1ea9b5b81441a2cdd7178df9">nbases</a>]);
<a name="l04057"></a>04057         cg-&gt;<a class="code" href="structcgns__file.html#4ca0d4ed1ea9b5b81441a2cdd7178df9">nbases</a> ++;
<a name="l04058"></a>04058     }
<a name="l04059"></a>04059     (*B) = index+1;
<a name="l04060"></a>04060 
<a name="l04061"></a>04061      <span class="comment">/* save data in memory and initialize base data structure */</span>
<a name="l04062"></a>04062     strcpy(base-&gt;<a class="code" href="structcgns__base.html#b5192b2e796e6224c74ec532ec32abf7">name</a>, basename);
<a name="l04063"></a>04063     base-&gt;<a class="code" href="structcgns__base.html#1bee6ac28f8d5df04476d015a8643d3a">cell_dim</a> = cell_dim;
<a name="l04064"></a>04064     base-&gt;<a class="code" href="structcgns__base.html#f210aa767697826c3dc29cfb2ffec256">phys_dim</a> = phys_dim;
<a name="l04065"></a>04065     base-&gt;<a class="code" href="structcgns__base.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>=0;
<a name="l04066"></a>04066     base-&gt;<a class="code" href="structcgns__base.html#8ebd3b4b8ec8f082c7fceaad6ed6c68f">nzones</a>=0;
<a name="l04067"></a>04067     base-&gt;<a class="code" href="structcgns__base.html#cdee83a08ec17a8018bf719ef82a3602">ndescr</a>=0;
<a name="l04068"></a>04068     base-&gt;<a class="code" href="structcgns__base.html#e2fe5767615f9689821aa55d364cdbfc">nfamilies</a>=0;
<a name="l04069"></a>04069     base-&gt;<a class="code" href="structcgns__base.html#15c8ead849bcf27b5e35f578c29e6aff">state</a>=0;
<a name="l04070"></a>04070     base-&gt;<a class="code" href="structcgns__base.html#6aa9eb3c5ad6bdecf6cd8c2b3d97839c">data_class</a>=<a class="code" href="cgns_keywords_8h.html#6e3a45166e6780b756fef5c427279ca079d3001e5ba3290ed80f0762d51bb379">DataClassNull</a>;
<a name="l04071"></a>04071     base-&gt;<a class="code" href="structcgns__base.html#9b4c6b823f0741729aa08b21a4120308">units</a>=0;
<a name="l04072"></a>04072     base-&gt;<a class="code" href="structcgns__base.html#78f18d3602ebdbbb09f57520adf4e93d">equations</a>=0;
<a name="l04073"></a>04073     base-&gt;<a class="code" href="structcgns__base.html#50e909b889f18d0bdefa3bace81b97fc">converg</a>=0;
<a name="l04074"></a>04074     base-&gt;<a class="code" href="structcgns__base.html#3b3b7552ed9cb934d0494d76ec622440">nintegrals</a>=0;
<a name="l04075"></a>04075     base-&gt;<a class="code" href="structcgns__base.html#134f6be7ea56b1eb7de26b1fd1a13da8">biter</a>=0;
<a name="l04076"></a>04076     base-&gt;<a class="code" href="structcgns__base.html#2cd15f8599e5adccf7ab541dc06ead76">type</a>=<a class="code" href="cgns_keywords_8h.html#9e78c57e09b9a11a016f0c65bc00f18534a74ddd77ccd6c0451aa1fe923213a3">SimulationTypeNull</a>;
<a name="l04077"></a>04077     base-&gt;<a class="code" href="structcgns__base.html#510eb2e9a2ea6c68c6704102e55f1cf8">type_id</a>=0;
<a name="l04078"></a>04078     base-&gt;<a class="code" href="structcgns__base.html#dc1e157d997b3174f9d41c5b645631f9">nuser_data</a>=0;
<a name="l04079"></a>04079     base-&gt;<a class="code" href="structcgns__base.html#0ab3298330c91c5b654e01b956906dd5">gravity</a>=0;
<a name="l04080"></a>04080     base-&gt;<a class="code" href="structcgns__base.html#8666c44ea0abaf51e4b0dc837478c1ca">axisym</a>=0;
<a name="l04081"></a>04081     base-&gt;<a class="code" href="structcgns__base.html#099f512c1cddfafbbec61c0ccf30923a">rotating</a>=0;
<a name="l04082"></a>04082 
<a name="l04083"></a>04083      <span class="comment">/* save data in file */</span>
<a name="l04084"></a>04084     data[0] = cell_dim;
<a name="l04085"></a>04085     data[1] = phys_dim;
<a name="l04086"></a>04086     dim_vals=2;
<a name="l04087"></a>04087     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#184dd1d99e9f4e7b826f84887ba07748">cgi_new_node</a>(cg-&gt;<a class="code" href="structcgns__file.html#3d645880a5978210c5510d61608c5869">rootid</a>, base-&gt;<a class="code" href="structcgns__base.html#b5192b2e796e6224c74ec532ec32abf7">name</a>, <span class="stringliteral">"CGNSBase_t"</span>, &amp;base-&gt;<a class="code" href="structcgns__base.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>,
<a name="l04088"></a>04088         <span class="stringliteral">"I4"</span>, 1, &amp;dim_vals, (<span class="keywordtype">void</span> *)data)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l04089"></a>04089 
<a name="l04090"></a>04090     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l04091"></a>04091 }
<a name="l04092"></a>04092 
<a name="l04093"></a><a class="code" href="cgnslib_8h.html#747086b97d092e759675be6a8c0fcb3f">04093</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#64f5315a72b0928c83c39b679a544d03">cg_zone_write</a>(<span class="keywordtype">int</span> file_number, <span class="keywordtype">int</span> B, <span class="keywordtype">char</span> <span class="keyword">const</span> *zonename, <span class="keywordtype">int</span> <span class="keyword">const</span> * nijk,
<a name="l04094"></a>04094     <a class="code" href="cgns_keywords_8h.html#68acb02e36b91d3020f4de86436a07fe">ZoneType_t</a> type, <span class="keywordtype">int</span> *Z) {
<a name="l04095"></a>04095     <a class="code" href="structcgns__base.html">cgns_base</a> *base;
<a name="l04096"></a>04096     <a class="code" href="structcgns__zone.html">cgns_zone</a> *zone = NULL;
<a name="l04097"></a>04097     <span class="keywordtype">int</span> index, <a class="code" href="namespacefmain.html#c6f559daa4a4864f2449315176500469">i</a>, index_dim;
<a name="l04098"></a>04098     <span class="keywordtype">int</span> <a class="code" href="_a_d_f__internals_8h.html#830f6050ecf88958651b63cc1abfba2d">dim_vals</a>[2];
<a name="l04099"></a>04099     <span class="keywordtype">double</span> dummy_id;
<a name="l04100"></a>04100 
<a name="l04101"></a>04101      <span class="comment">/* verify input */</span>
<a name="l04102"></a>04102     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#b042658423afd0817ab23b3ea7a5e03d">cgi_check_strlen</a>(zonename)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l04103"></a>04103 
<a name="l04104"></a>04104      <span class="comment">/* get memory address file */</span>
<a name="l04105"></a>04105     cg = <a class="code" href="cgns__header_8h.html#64a13852e04666fc73b74a8ff7727f4f">cgi_get_file</a>(file_number);
<a name="l04106"></a>04106     <span class="keywordflow">if</span> (cg == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l04107"></a>04107 
<a name="l04108"></a>04108      <span class="comment">/* verify input */</span>
<a name="l04109"></a>04109     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l04110"></a>04110 
<a name="l04111"></a>04111      <span class="comment">/* get memory address for base */</span>
<a name="l04112"></a>04112     base = <a class="code" href="cgns__header_8h.html#09d3b45ead80b0d2b1921ff6a1b1d3ae">cgi_get_base</a>(cg, B);
<a name="l04113"></a>04113     <span class="keywordflow">if</span> (base==0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l04114"></a>04114 
<a name="l04115"></a>04115      <span class="comment">/* Set index dimension */</span>
<a name="l04116"></a>04116     <span class="keywordflow">if</span> (type == <a class="code" href="cgns_keywords_8h.html#68acb02e36b91d3020f4de86436a07fe8a382d9e08294b2cd243ee60bd75c068">Structured</a>)
<a name="l04117"></a>04117         index_dim = base-&gt;<a class="code" href="structcgns__base.html#1bee6ac28f8d5df04476d015a8643d3a">cell_dim</a>;
<a name="l04118"></a>04118     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (type == <a class="code" href="cgns_keywords_8h.html#68acb02e36b91d3020f4de86436a07fedef7de5f4ce5345ffd8e2726df46e388">Unstructured</a>)
<a name="l04119"></a>04119         index_dim = 1;
<a name="l04120"></a>04120     <span class="keywordflow">else</span> {
<a name="l04121"></a>04121         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Invalid zone type - not Structured or Unstructured"</span>);
<a name="l04122"></a>04122         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l04123"></a>04123     }
<a name="l04124"></a>04124 
<a name="l04125"></a>04125     <span class="keywordflow">for</span> (i=0; i&lt;index_dim; i++) {
<a name="l04126"></a>04126         <span class="keywordflow">if</span> (nijk[i]&lt;=0) {
<a name="l04127"></a>04127             <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Invalid input:  nijk[%d]=%d"</span>, i, nijk[i]);
<a name="l04128"></a>04128             <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l04129"></a>04129         }
<a name="l04130"></a>04130         <span class="keywordflow">if</span> (type == <a class="code" href="cgns_keywords_8h.html#68acb02e36b91d3020f4de86436a07fe8a382d9e08294b2cd243ee60bd75c068">Structured</a> &amp;&amp; nijk[i]!=nijk[i+index_dim]+1) {
<a name="l04131"></a>04131             <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Invalid input:  VertexSize[%d]=%d and CellSize[%d]=%d"</span>,
<a name="l04132"></a>04132                    i, nijk[i], i, nijk[i+index_dim]);
<a name="l04133"></a>04133             <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l04134"></a>04134         }
<a name="l04135"></a>04135     }
<a name="l04136"></a>04136 
<a name="l04137"></a>04137      <span class="comment">/* Overwrite a Zone_t Node: */</span>
<a name="l04138"></a>04138     <span class="keywordflow">for</span> (index=0; index&lt;base-&gt;<a class="code" href="structcgns__base.html#8ebd3b4b8ec8f082c7fceaad6ed6c68f">nzones</a>; index++) {
<a name="l04139"></a>04139         <span class="keywordflow">if</span> (strcmp(zonename, base-&gt;<a class="code" href="structcgns__base.html#abbb754f366f926198416ad91b8155ef">zone</a>[index].<a class="code" href="structcgns__zone.html#b5192b2e796e6224c74ec532ec32abf7">name</a>)==0) {
<a name="l04140"></a>04140 
<a name="l04141"></a>04141              <span class="comment">/* in CG_MODE_WRITE, children names must be unique */</span>
<a name="l04142"></a>04142             <span class="keywordflow">if</span> (cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>==<a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>) {
<a name="l04143"></a>04143                 <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Duplicate child name found: %s"</span>,zonename);
<a name="l04144"></a>04144                 <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l04145"></a>04145             }
<a name="l04146"></a>04146 
<a name="l04147"></a>04147              <span class="comment">/* overwrite an existing zone */</span>
<a name="l04148"></a>04148              <span class="comment">/* delete the existing zone from file */</span>
<a name="l04149"></a>04149             <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#032ae98a5be795f845bb5cc7d63750e4">cgi_delete_node</a>(base-&gt;<a class="code" href="structcgns__base.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, base-&gt;<a class="code" href="structcgns__base.html#abbb754f366f926198416ad91b8155ef">zone</a>[index].<a class="code" href="structcgns__zone.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>))
<a name="l04150"></a>04150                 <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l04151"></a>04151              <span class="comment">/* save the old in-memory address to overwrite */</span>
<a name="l04152"></a>04152             zone = &amp;(base-&gt;<a class="code" href="structcgns__base.html#abbb754f366f926198416ad91b8155ef">zone</a>[index]);
<a name="l04153"></a>04153              <span class="comment">/* free memory */</span>
<a name="l04154"></a>04154             <a class="code" href="cgns__header_8h.html#98afe385c0235edef4445f93bf9cb639">cgi_free_zone</a>(zone);
<a name="l04155"></a>04155             <span class="keywordflow">break</span>;
<a name="l04156"></a>04156         }
<a name="l04157"></a>04157     }
<a name="l04158"></a>04158      <span class="comment">/* ... or add a Zone_t Node: */</span>
<a name="l04159"></a>04159     <span class="keywordflow">if</span> (index==base-&gt;<a class="code" href="structcgns__base.html#8ebd3b4b8ec8f082c7fceaad6ed6c68f">nzones</a>) {
<a name="l04160"></a>04160         <span class="keywordflow">if</span> (base-&gt;<a class="code" href="structcgns__base.html#8ebd3b4b8ec8f082c7fceaad6ed6c68f">nzones</a> == 0) {
<a name="l04161"></a>04161             base-&gt;<a class="code" href="structcgns__base.html#abbb754f366f926198416ad91b8155ef">zone</a> = <a class="code" href="cgns__header_8h.html#948c36b3700de0f3332aa3620eafb0f4">CGNS_NEW</a>(<a class="code" href="structcgns__zone.html">cgns_zone</a>, base-&gt;<a class="code" href="structcgns__base.html#8ebd3b4b8ec8f082c7fceaad6ed6c68f">nzones</a>+1);
<a name="l04162"></a>04162         } <span class="keywordflow">else</span> {
<a name="l04163"></a>04163             base-&gt;<a class="code" href="structcgns__base.html#abbb754f366f926198416ad91b8155ef">zone</a> = <a class="code" href="cgns__header_8h.html#e23e608849b6dc488ccdad466e76e2ad">CGNS_RENEW</a>(<a class="code" href="structcgns__zone.html">cgns_zone</a>, base-&gt;<a class="code" href="structcgns__base.html#8ebd3b4b8ec8f082c7fceaad6ed6c68f">nzones</a>+1, base-&gt;<a class="code" href="structcgns__base.html#abbb754f366f926198416ad91b8155ef">zone</a>);
<a name="l04164"></a>04164         }
<a name="l04165"></a>04165         zone = &amp;(base-&gt;<a class="code" href="structcgns__base.html#abbb754f366f926198416ad91b8155ef">zone</a>[base-&gt;<a class="code" href="structcgns__base.html#8ebd3b4b8ec8f082c7fceaad6ed6c68f">nzones</a>]);
<a name="l04166"></a>04166         base-&gt;<a class="code" href="structcgns__base.html#8ebd3b4b8ec8f082c7fceaad6ed6c68f">nzones</a>++;
<a name="l04167"></a>04167     }
<a name="l04168"></a>04168     (*Z) = index+1;
<a name="l04169"></a>04169 
<a name="l04170"></a>04170      <span class="comment">/* save data to zone */</span>
<a name="l04171"></a>04171     strcpy(zone-&gt;<a class="code" href="structcgns__zone.html#b5192b2e796e6224c74ec532ec32abf7">name</a>,zonename);
<a name="l04172"></a>04172     <span class="keywordflow">if</span> ((zone-&gt;<a class="code" href="structcgns__zone.html#41ee98048c689af7dcf7cf361860ee09">nijk</a> = (<span class="keywordtype">int</span> *)<a class="code" href="cg__malloc_8h.html#535b58ab5aa48e2e86073e334d43fd32">malloc</a>(index_dim*3*<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>)))==NULL) {
<a name="l04173"></a>04173         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Error allocating zone-&gt;nijk"</span>);
<a name="l04174"></a>04174         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l04175"></a>04175     }
<a name="l04176"></a>04176     <span class="keywordflow">for</span> (i=0; i&lt;3*index_dim; i++) zone-&gt;<a class="code" href="structcgns__zone.html#41ee98048c689af7dcf7cf361860ee09">nijk</a>[i] = nijk[i];
<a name="l04177"></a>04177     zone-&gt;<a class="code" href="structcgns__zone.html#5ea7c3da009c9add916c0eeca1973c05">index_dim</a> = index_dim;
<a name="l04178"></a>04178     zone-&gt;<a class="code" href="structcgns__zone.html#70e3228eb924895531acd9144d41916f">type</a> = type;
<a name="l04179"></a>04179 
<a name="l04180"></a>04180      <span class="comment">/* initialize */</span>
<a name="l04181"></a>04181 
<a name="l04182"></a>04182     zone-&gt;<a class="code" href="structcgns__zone.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a> = 0;
<a name="l04183"></a>04183     zone-&gt;<a class="code" href="structcgns__zone.html#f6f27f42b9ecc89cf0ed39415bca67d1">link</a> = 0;
<a name="l04184"></a>04184     zone-&gt;<a class="code" href="structcgns__zone.html#cdee83a08ec17a8018bf719ef82a3602">ndescr</a> = 0;
<a name="l04185"></a>04185     zone-&gt;<a class="code" href="structcgns__zone.html#f0b700b76075cef935eadd2463de5ce2">nzcoor</a> = 0;
<a name="l04186"></a>04186     zone-&gt;<a class="code" href="structcgns__zone.html#62b0a12fb47ee3dd5c39282c5610980c">nsections</a> = 0;
<a name="l04187"></a>04187     zone-&gt;<a class="code" href="structcgns__zone.html#e87a193017e6c339aa4108f69caadbb1">family_name</a>[0]=<span class="charliteral">'\0'</span>;
<a name="l04188"></a>04188     zone-&gt;<a class="code" href="structcgns__zone.html#d79140df20a564ec330f3ded0dec359e">nsols</a>  = 0;
<a name="l04189"></a>04189     zone-&gt;<a class="code" href="structcgns__zone.html#0f925e18f7d56d06ed91eeb5e590f846">ndiscrete</a> = 0;
<a name="l04190"></a>04190     zone-&gt;<a class="code" href="structcgns__zone.html#3b3b7552ed9cb934d0494d76ec622440">nintegrals</a> = 0;
<a name="l04191"></a>04191     zone-&gt;<a class="code" href="structcgns__zone.html#fdd87cca91a43359ebe1709c59d073ad">zconn</a> = 0;
<a name="l04192"></a>04192     zone-&gt;<a class="code" href="structcgns__zone.html#62ddad6dbb0ac4c3ccb1757ba06ff602">zboco</a> = 0;
<a name="l04193"></a>04193     zone-&gt;<a class="code" href="structcgns__zone.html#15c8ead849bcf27b5e35f578c29e6aff">state</a> = 0;
<a name="l04194"></a>04194     zone-&gt;<a class="code" href="structcgns__zone.html#6aa9eb3c5ad6bdecf6cd8c2b3d97839c">data_class</a> = <a class="code" href="cgns_keywords_8h.html#6e3a45166e6780b756fef5c427279ca079d3001e5ba3290ed80f0762d51bb379">DataClassNull</a>;
<a name="l04195"></a>04195     zone-&gt;<a class="code" href="structcgns__zone.html#9b4c6b823f0741729aa08b21a4120308">units</a> = 0;
<a name="l04196"></a>04196     zone-&gt;<a class="code" href="structcgns__zone.html#78f18d3602ebdbbb09f57520adf4e93d">equations</a> = 0;
<a name="l04197"></a>04197     zone-&gt;<a class="code" href="structcgns__zone.html#50e909b889f18d0bdefa3bace81b97fc">converg</a> = 0;
<a name="l04198"></a>04198     zone-&gt;<a class="code" href="structcgns__zone.html#6906d66a97c04f02a830a98f4ee90872">ordinal</a> = 0;
<a name="l04199"></a>04199     zone-&gt;<a class="code" href="structcgns__zone.html#d0036d257ee12062924b4a9572b612d1">nrmotions</a> = 0;
<a name="l04200"></a>04200     zone-&gt;<a class="code" href="structcgns__zone.html#561728a84e0ab332200506a1a6daa57d">namotions</a> = 0;
<a name="l04201"></a>04201     zone-&gt;<a class="code" href="structcgns__zone.html#2acf48f1297eeab90d6b9c7d76c14a25">ziter</a> = 0;
<a name="l04202"></a>04202     zone-&gt;<a class="code" href="structcgns__zone.html#dc1e157d997b3174f9d41c5b645631f9">nuser_data</a>= 0;
<a name="l04203"></a>04203     zone-&gt;<a class="code" href="structcgns__zone.html#099f512c1cddfafbbec61c0ccf30923a">rotating</a> = 0;
<a name="l04204"></a>04204 
<a name="l04205"></a>04205      <span class="comment">/* save data in file */</span>
<a name="l04206"></a>04206     dim_vals[0]=zone-&gt;<a class="code" href="structcgns__zone.html#5ea7c3da009c9add916c0eeca1973c05">index_dim</a>;
<a name="l04207"></a>04207     dim_vals[1]=3;
<a name="l04208"></a>04208     if (<a class="code" href="cgns__header_8h.html#184dd1d99e9f4e7b826f84887ba07748">cgi_new_node</a>(base-&gt;<a class="code" href="structcgns__base.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, zone-&gt;<a class="code" href="structcgns__zone.html#b5192b2e796e6224c74ec532ec32abf7">name</a>, <span class="stringliteral">"Zone_t"</span>, &amp;zone-&gt;<a class="code" href="structcgns__zone.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>,
<a name="l04209"></a>04209         <span class="stringliteral">"I4"</span>, 2, dim_vals, (<span class="keywordtype">void</span> *)zone-&gt;<a class="code" href="structcgns__zone.html#41ee98048c689af7dcf7cf361860ee09">nijk</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l04210"></a>04210 
<a name="l04211"></a>04211     dim_vals[0] = strlen(<a class="code" href="cgnslib_8c.html#b13dcf3d3c19529f0fa0e8467d47e735">ZoneTypeName</a>[type]);
<a name="l04212"></a>04212     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#184dd1d99e9f4e7b826f84887ba07748">cgi_new_node</a>(zone-&gt;<a class="code" href="structcgns__zone.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, <span class="stringliteral">"ZoneType"</span>, <span class="stringliteral">"ZoneType_t"</span>, &amp;dummy_id,
<a name="l04213"></a>04213         <span class="stringliteral">"C1"</span>, 1, dim_vals, <a class="code" href="cgnslib_8c.html#b13dcf3d3c19529f0fa0e8467d47e735">ZoneTypeName</a>[type])) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l04214"></a>04214 
<a name="l04215"></a>04215     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l04216"></a>04216 }
<a name="l04217"></a>04217 
<a name="l04218"></a><a class="code" href="cgnslib_8h.html#b37fdee7cdfa5dd17d31ded1cc815ad2">04218</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#a9570285b41dccf05f1218196b2dfe47">cg_family_write</a>(<span class="keywordtype">int</span> file_number, <span class="keywordtype">int</span> B, <span class="keywordtype">char</span> <span class="keyword">const</span> * family_name, <span class="keywordtype">int</span> *F) {
<a name="l04219"></a>04219     <span class="keywordtype">int</span> index;
<a name="l04220"></a>04220     <a class="code" href="structcgns__base.html">cgns_base</a> *base;
<a name="l04221"></a>04221     <a class="code" href="structcgns__family.html">cgns_family</a> *family = NULL;
<a name="l04222"></a>04222 
<a name="l04223"></a>04223      <span class="comment">/* verify input */</span>
<a name="l04224"></a>04224     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#b042658423afd0817ab23b3ea7a5e03d">cgi_check_strlen</a>(family_name)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l04225"></a>04225 
<a name="l04226"></a>04226     cg = <a class="code" href="cgns__header_8h.html#64a13852e04666fc73b74a8ff7727f4f">cgi_get_file</a>(file_number);
<a name="l04227"></a>04227     <span class="keywordflow">if</span> (cg == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l04228"></a>04228 
<a name="l04229"></a>04229     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l04230"></a>04230 
<a name="l04231"></a>04231      <span class="comment">/* get memory address for base */</span>
<a name="l04232"></a>04232     base = <a class="code" href="cgns__header_8h.html#09d3b45ead80b0d2b1921ff6a1b1d3ae">cgi_get_base</a>(cg, B);
<a name="l04233"></a>04233     <span class="keywordflow">if</span> (base==0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l04234"></a>04234 
<a name="l04235"></a>04235      <span class="comment">/* Overwrite a Family_t Node: */</span>
<a name="l04236"></a>04236     <span class="keywordflow">for</span> (index=0; index&lt;base-&gt;<a class="code" href="structcgns__base.html#e2fe5767615f9689821aa55d364cdbfc">nfamilies</a>; index++) {
<a name="l04237"></a>04237         <span class="keywordflow">if</span> (strcmp(family_name, base-&gt;<a class="code" href="structcgns__base.html#1c4eaaee67850d938909a0132799fe57">family</a>[index].<a class="code" href="structcgns__family.html#b5192b2e796e6224c74ec532ec32abf7">name</a>)==0) {
<a name="l04238"></a>04238 
<a name="l04239"></a>04239              <span class="comment">/* in CG_MODE_WRITE, children names must be unique */</span>
<a name="l04240"></a>04240             <span class="keywordflow">if</span> (cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>==<a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>) {
<a name="l04241"></a>04241                 <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Duplicate child name found: %s"</span>,family_name);
<a name="l04242"></a>04242                 <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l04243"></a>04243             }
<a name="l04244"></a>04244 
<a name="l04245"></a>04245              <span class="comment">/* overwrite an existing zone */</span>
<a name="l04246"></a>04246              <span class="comment">/* delete the existing zone from file */</span>
<a name="l04247"></a>04247             <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#032ae98a5be795f845bb5cc7d63750e4">cgi_delete_node</a>(base-&gt;<a class="code" href="structcgns__base.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, base-&gt;<a class="code" href="structcgns__base.html#1c4eaaee67850d938909a0132799fe57">family</a>[index].<a class="code" href="structcgns__family.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>))
<a name="l04248"></a>04248                 <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l04249"></a>04249              <span class="comment">/* save the old in-memory address to overwrite */</span>
<a name="l04250"></a>04250             family = &amp;(base-&gt;<a class="code" href="structcgns__base.html#1c4eaaee67850d938909a0132799fe57">family</a>[index]);
<a name="l04251"></a>04251              <span class="comment">/* free memory */</span>
<a name="l04252"></a>04252             <a class="code" href="cgns__header_8h.html#e26bac481b3f9b490604b699bb7f94dc">cgi_free_family</a>(family);
<a name="l04253"></a>04253             <span class="keywordflow">break</span>;
<a name="l04254"></a>04254         }
<a name="l04255"></a>04255     }
<a name="l04256"></a>04256      <span class="comment">/* ... or add a Family_t Node: */</span>
<a name="l04257"></a>04257     <span class="keywordflow">if</span> (index==base-&gt;<a class="code" href="structcgns__base.html#e2fe5767615f9689821aa55d364cdbfc">nfamilies</a>) {
<a name="l04258"></a>04258         <span class="keywordflow">if</span> (base-&gt;<a class="code" href="structcgns__base.html#e2fe5767615f9689821aa55d364cdbfc">nfamilies</a> == 0) {
<a name="l04259"></a>04259             base-&gt;<a class="code" href="structcgns__base.html#1c4eaaee67850d938909a0132799fe57">family</a> = <a class="code" href="cgns__header_8h.html#948c36b3700de0f3332aa3620eafb0f4">CGNS_NEW</a>(<a class="code" href="structcgns__family.html">cgns_family</a>, base-&gt;<a class="code" href="structcgns__base.html#e2fe5767615f9689821aa55d364cdbfc">nfamilies</a>+1);
<a name="l04260"></a>04260         } <span class="keywordflow">else</span> {
<a name="l04261"></a>04261             base-&gt;<a class="code" href="structcgns__base.html#1c4eaaee67850d938909a0132799fe57">family</a> = <a class="code" href="cgns__header_8h.html#e23e608849b6dc488ccdad466e76e2ad">CGNS_RENEW</a>(<a class="code" href="structcgns__family.html">cgns_family</a>, base-&gt;<a class="code" href="structcgns__base.html#e2fe5767615f9689821aa55d364cdbfc">nfamilies</a>+1, base-&gt;<a class="code" href="structcgns__base.html#1c4eaaee67850d938909a0132799fe57">family</a>);
<a name="l04262"></a>04262         }
<a name="l04263"></a>04263         family = &amp;(base-&gt;<a class="code" href="structcgns__base.html#1c4eaaee67850d938909a0132799fe57">family</a>[base-&gt;<a class="code" href="structcgns__base.html#e2fe5767615f9689821aa55d364cdbfc">nfamilies</a>]);
<a name="l04264"></a>04264         base-&gt;<a class="code" href="structcgns__base.html#e2fe5767615f9689821aa55d364cdbfc">nfamilies</a>++;
<a name="l04265"></a>04265     }
<a name="l04266"></a>04266     (*F) = index+1;
<a name="l04267"></a>04267 
<a name="l04268"></a>04268     strcpy(family-&gt;<a class="code" href="structcgns__family.html#b5192b2e796e6224c74ec532ec32abf7">name</a>, family_name);
<a name="l04269"></a>04269     family-&gt;<a class="code" href="structcgns__family.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>=0;
<a name="l04270"></a>04270     family-&gt;<a class="code" href="structcgns__family.html#f6f27f42b9ecc89cf0ed39415bca67d1">link</a> = 0;
<a name="l04271"></a>04271     family-&gt;<a class="code" href="structcgns__family.html#cdee83a08ec17a8018bf719ef82a3602">ndescr</a> = 0;
<a name="l04272"></a>04272     family-&gt;<a class="code" href="structcgns__family.html#0d6a67c7611982223976259cf274ad45">nfambc</a> = 0;
<a name="l04273"></a>04273     family-&gt;<a class="code" href="structcgns__family.html#d4cc3ca01272c35cb7b773c627416779">ngeos</a> = 0;
<a name="l04274"></a>04274     family-&gt;<a class="code" href="structcgns__family.html#6906d66a97c04f02a830a98f4ee90872">ordinal</a> = 0;
<a name="l04275"></a>04275     family-&gt;<a class="code" href="structcgns__family.html#dc1e157d997b3174f9d41c5b645631f9">nuser_data</a>= 0;
<a name="l04276"></a>04276     family-&gt;<a class="code" href="structcgns__family.html#099f512c1cddfafbbec61c0ccf30923a">rotating</a> = 0;
<a name="l04277"></a>04277 
<a name="l04278"></a>04278      <span class="comment">/* save data in file */</span>
<a name="l04279"></a>04279     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#184dd1d99e9f4e7b826f84887ba07748">cgi_new_node</a>(base-&gt;<a class="code" href="structcgns__base.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, family-&gt;<a class="code" href="structcgns__family.html#b5192b2e796e6224c74ec532ec32abf7">name</a>, <span class="stringliteral">"Family_t"</span>, &amp;family-&gt;<a class="code" href="structcgns__family.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>,
<a name="l04280"></a>04280         <span class="stringliteral">"MT"</span>, 0, 0, 0)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l04281"></a>04281 
<a name="l04282"></a>04282     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l04283"></a>04283 }
<a name="l04284"></a>04284 
<a name="l04285"></a><a class="code" href="cgnslib_8h.html#c95eeb147910c70bee6d4fd8b7745d11">04285</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#9f20834f7596aa6e1c5e0f9a84c1cc0a">cg_fambc_write</a>(<span class="keywordtype">int</span> file_number, <span class="keywordtype">int</span> B, <span class="keywordtype">int</span> F, <span class="keywordtype">char</span> <span class="keyword">const</span> * fambc_name,
<a name="l04286"></a>04286     <a class="code" href="cgns_keywords_8h.html#44b677e45de9f4d98475b69a56eec4e1">BCType_t</a> bocotype, <span class="keywordtype">int</span> *BC) {
<a name="l04287"></a>04287     <span class="keywordtype">int</span> index, length;
<a name="l04288"></a>04288     <a class="code" href="structcgns__family.html">cgns_family</a> *family;
<a name="l04289"></a>04289     <a class="code" href="structcgns__fambc.html">cgns_fambc</a> *fambc = NULL;
<a name="l04290"></a>04290 
<a name="l04291"></a>04291      <span class="comment">/* verify input */</span>
<a name="l04292"></a>04292     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#b042658423afd0817ab23b3ea7a5e03d">cgi_check_strlen</a>(fambc_name)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l04293"></a>04293     <span class="keywordflow">if</span> (bocotype&lt;0 || bocotype&gt;=<a class="code" href="cgns_keywords_8h.html#bf6f54174df8990df78582b7706aa8be">NofValidBCTypes</a>) {
<a name="l04294"></a>04294         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Invalid BCType:  %d"</span>,bocotype);
<a name="l04295"></a>04295         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l04296"></a>04296     }
<a name="l04297"></a>04297 
<a name="l04298"></a>04298     cg = <a class="code" href="cgns__header_8h.html#64a13852e04666fc73b74a8ff7727f4f">cgi_get_file</a>(file_number);
<a name="l04299"></a>04299     <span class="keywordflow">if</span> (cg == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l04300"></a>04300 
<a name="l04301"></a>04301     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l04302"></a>04302 
<a name="l04303"></a>04303      <span class="comment">/* get memory address for family */</span>
<a name="l04304"></a>04304     family = <a class="code" href="cgns__header_8h.html#82dbb4d97201567a642f400c4233c4dc">cgi_get_family</a>(cg, B, F);
<a name="l04305"></a>04305     <span class="keywordflow">if</span> (family==0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l04306"></a>04306 
<a name="l04307"></a>04307      <span class="comment">/* Overwrite a FamilyBC_t Node: */</span>
<a name="l04308"></a>04308     <span class="keywordflow">for</span> (index=0; index&lt;family-&gt;<a class="code" href="structcgns__family.html#0d6a67c7611982223976259cf274ad45">nfambc</a>; index++) {
<a name="l04309"></a>04309         <span class="keywordflow">if</span> (strcmp(fambc_name, family-&gt;<a class="code" href="structcgns__family.html#06738c6feece4d56e6f232fd2fdb4766">fambc</a>[index].<a class="code" href="structcgns__fambc.html#b5192b2e796e6224c74ec532ec32abf7">name</a>)==0) {
<a name="l04310"></a>04310 
<a name="l04311"></a>04311              <span class="comment">/* in CG_MODE_WRITE, children names must be unique */</span>
<a name="l04312"></a>04312             <span class="keywordflow">if</span> (cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>==<a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>) {
<a name="l04313"></a>04313                 <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Duplicate child name found: %s"</span>,fambc_name);
<a name="l04314"></a>04314                 <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l04315"></a>04315             }
<a name="l04316"></a>04316 
<a name="l04317"></a>04317              <span class="comment">/* overwrite an existing zone */</span>
<a name="l04318"></a>04318              <span class="comment">/* delete the existing fambc from file */</span>
<a name="l04319"></a>04319             <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#032ae98a5be795f845bb5cc7d63750e4">cgi_delete_node</a>(family-&gt;<a class="code" href="structcgns__family.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, family-&gt;<a class="code" href="structcgns__family.html#06738c6feece4d56e6f232fd2fdb4766">fambc</a>[index].<a class="code" href="structcgns__fambc.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>))
<a name="l04320"></a>04320                 <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l04321"></a>04321              <span class="comment">/* save the old in-memory address to overwrite */</span>
<a name="l04322"></a>04322             fambc = &amp;(family-&gt;<a class="code" href="structcgns__family.html#06738c6feece4d56e6f232fd2fdb4766">fambc</a>[index]);
<a name="l04323"></a>04323              <span class="comment">/* free memory */</span>
<a name="l04324"></a>04324             <a class="code" href="cgns__header_8h.html#c3bcacff663e9ca0fc8866ae164eab39">cgi_free_fambc</a>(fambc);
<a name="l04325"></a>04325             <span class="keywordflow">break</span>;
<a name="l04326"></a>04326         }
<a name="l04327"></a>04327     }
<a name="l04328"></a>04328      <span class="comment">/* ... or add a FamilyBC_t Node: */</span>
<a name="l04329"></a>04329     <span class="keywordflow">if</span> (index==family-&gt;<a class="code" href="structcgns__family.html#0d6a67c7611982223976259cf274ad45">nfambc</a>) {
<a name="l04330"></a>04330         <span class="keywordflow">if</span> (family-&gt;<a class="code" href="structcgns__family.html#0d6a67c7611982223976259cf274ad45">nfambc</a> == 0) {
<a name="l04331"></a>04331             family-&gt;<a class="code" href="structcgns__family.html#06738c6feece4d56e6f232fd2fdb4766">fambc</a> = <a class="code" href="cgns__header_8h.html#948c36b3700de0f3332aa3620eafb0f4">CGNS_NEW</a>(<a class="code" href="structcgns__fambc.html">cgns_fambc</a>, family-&gt;<a class="code" href="structcgns__family.html#0d6a67c7611982223976259cf274ad45">nfambc</a>+1);
<a name="l04332"></a>04332         } <span class="keywordflow">else</span> {
<a name="l04333"></a>04333             family-&gt;<a class="code" href="structcgns__family.html#06738c6feece4d56e6f232fd2fdb4766">fambc</a> = <a class="code" href="cgns__header_8h.html#e23e608849b6dc488ccdad466e76e2ad">CGNS_RENEW</a>(<a class="code" href="structcgns__fambc.html">cgns_fambc</a>, family-&gt;<a class="code" href="structcgns__family.html#0d6a67c7611982223976259cf274ad45">nfambc</a>+1, family-&gt;<a class="code" href="structcgns__family.html#06738c6feece4d56e6f232fd2fdb4766">fambc</a>);
<a name="l04334"></a>04334         }
<a name="l04335"></a>04335         fambc = &amp;(family-&gt;<a class="code" href="structcgns__family.html#06738c6feece4d56e6f232fd2fdb4766">fambc</a>[family-&gt;<a class="code" href="structcgns__family.html#0d6a67c7611982223976259cf274ad45">nfambc</a>]);
<a name="l04336"></a>04336         family-&gt;<a class="code" href="structcgns__family.html#0d6a67c7611982223976259cf274ad45">nfambc</a>++;
<a name="l04337"></a>04337     }
<a name="l04338"></a>04338     (*BC) = index+1;
<a name="l04339"></a>04339 
<a name="l04340"></a>04340     strcpy(fambc-&gt;<a class="code" href="structcgns__fambc.html#b5192b2e796e6224c74ec532ec32abf7">name</a>, fambc_name);
<a name="l04341"></a>04341     fambc-&gt;<a class="code" href="structcgns__fambc.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>=0;
<a name="l04342"></a>04342     fambc-&gt;<a class="code" href="structcgns__fambc.html#f6f27f42b9ecc89cf0ed39415bca67d1">link</a> = 0;
<a name="l04343"></a>04343     fambc-&gt;<a class="code" href="structcgns__fambc.html#3559c6e2ba54cdf205f7b0229c1f43de">type</a> = bocotype;
<a name="l04344"></a>04344     fambc-&gt;<a class="code" href="structcgns__fambc.html#64ec9db7756548dd7935ab504da21bfe">ndataset</a> = 0;
<a name="l04345"></a>04345     fambc-&gt;<a class="code" href="structcgns__fambc.html#cf40da8e525cc82b05d405b4f9ad3b99">dataset</a> = 0;
<a name="l04346"></a>04346 
<a name="l04347"></a>04347      <span class="comment">/* save data in file */</span>
<a name="l04348"></a>04348     length = strlen(<a class="code" href="cgnslib_8c.html#524bd2d700c329555ff489a4a15a239b">BCTypeName</a>[bocotype]);
<a name="l04349"></a>04349     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#184dd1d99e9f4e7b826f84887ba07748">cgi_new_node</a>(family-&gt;<a class="code" href="structcgns__family.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, fambc-&gt;<a class="code" href="structcgns__fambc.html#b5192b2e796e6224c74ec532ec32abf7">name</a>, <span class="stringliteral">"FamilyBC_t"</span>, &amp;fambc-&gt;<a class="code" href="structcgns__fambc.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>,
<a name="l04350"></a>04350         <span class="stringliteral">"C1"</span>, 1, &amp;length, <a class="code" href="cgnslib_8c.html#524bd2d700c329555ff489a4a15a239b">BCTypeName</a>[bocotype])) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l04351"></a>04351     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l04352"></a>04352 }
<a name="l04353"></a>04353 
<a name="l04354"></a><a class="code" href="cgnslib_8h.html#5efe4f11bf021ff424f841e5a8a38158">04354</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#7a129c7212231da0e1723903a85a4060">cg_geo_write</a>(<span class="keywordtype">int</span> file_number, <span class="keywordtype">int</span> B, <span class="keywordtype">int</span> F, <span class="keywordtype">char</span> <span class="keyword">const</span> * geo_name,
<a name="l04355"></a>04355     <span class="keywordtype">char</span> <span class="keyword">const</span> * <a class="code" href="_a_d_f__internals_8h.html#1bc14b345d09a9f773dfde50d7f2d830">filename</a>, <span class="keywordtype">char</span> <span class="keyword">const</span> * CADname, <span class="keywordtype">int</span> *G) {
<a name="l04356"></a>04356     <span class="keywordtype">int</span> index, length;
<a name="l04357"></a>04357     <a class="code" href="structcgns__family.html">cgns_family</a> *family;
<a name="l04358"></a>04358     <a class="code" href="structcgns__geo.html">cgns_geo</a> *geo = NULL;
<a name="l04359"></a>04359     <span class="keywordtype">double</span> dummy_id;
<a name="l04360"></a>04360 
<a name="l04361"></a>04361      <span class="comment">/* verify input */</span>
<a name="l04362"></a>04362     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#b042658423afd0817ab23b3ea7a5e03d">cgi_check_strlen</a>(geo_name)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l04363"></a>04363     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#b042658423afd0817ab23b3ea7a5e03d">cgi_check_strlen</a>(CADname)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l04364"></a>04364 
<a name="l04365"></a>04365     cg = <a class="code" href="cgns__header_8h.html#64a13852e04666fc73b74a8ff7727f4f">cgi_get_file</a>(file_number);
<a name="l04366"></a>04366     <span class="keywordflow">if</span> (cg == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l04367"></a>04367 
<a name="l04368"></a>04368     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l04369"></a>04369 
<a name="l04370"></a>04370      <span class="comment">/* get memory address for family */</span>
<a name="l04371"></a>04371     family = <a class="code" href="cgns__header_8h.html#82dbb4d97201567a642f400c4233c4dc">cgi_get_family</a>(cg, B, F);
<a name="l04372"></a>04372     <span class="keywordflow">if</span> (family==0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l04373"></a>04373 
<a name="l04374"></a>04374      <span class="comment">/* Overwrite a GeometryReference_t Node: */</span>
<a name="l04375"></a>04375     <span class="keywordflow">for</span> (index=0; index&lt;family-&gt;<a class="code" href="structcgns__family.html#d4cc3ca01272c35cb7b773c627416779">ngeos</a>; index++) {
<a name="l04376"></a>04376         <span class="keywordflow">if</span> (strcmp(geo_name, family-&gt;<a class="code" href="structcgns__family.html#988b87c1b2e6b16e9b129bf3e5b37ab0">geo</a>[index].<a class="code" href="structcgns__geo.html#b5192b2e796e6224c74ec532ec32abf7">name</a>)==0) {
<a name="l04377"></a>04377 
<a name="l04378"></a>04378              <span class="comment">/* in CG_MODE_WRITE, children names must be unique */</span>
<a name="l04379"></a>04379             <span class="keywordflow">if</span> (cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>==<a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>) {
<a name="l04380"></a>04380                 <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Duplicate child name found: %s"</span>,geo_name);
<a name="l04381"></a>04381                 <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l04382"></a>04382             }
<a name="l04383"></a>04383 
<a name="l04384"></a>04384              <span class="comment">/* overwrite an existing zone */</span>
<a name="l04385"></a>04385              <span class="comment">/* delete the existing geo from file */</span>
<a name="l04386"></a>04386             <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#032ae98a5be795f845bb5cc7d63750e4">cgi_delete_node</a>(family-&gt;<a class="code" href="structcgns__family.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, family-&gt;<a class="code" href="structcgns__family.html#988b87c1b2e6b16e9b129bf3e5b37ab0">geo</a>[index].<a class="code" href="structcgns__geo.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>))
<a name="l04387"></a>04387                 <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l04388"></a>04388              <span class="comment">/* save the old in-memory address to overwrite */</span>
<a name="l04389"></a>04389             geo = &amp;(family-&gt;<a class="code" href="structcgns__family.html#988b87c1b2e6b16e9b129bf3e5b37ab0">geo</a>[index]);
<a name="l04390"></a>04390              <span class="comment">/* free memory */</span>
<a name="l04391"></a>04391             <a class="code" href="cgns__header_8h.html#235fb2a74946b262a1dfab4d7906cb10">cgi_free_geo</a>(geo);
<a name="l04392"></a>04392             <span class="keywordflow">break</span>;
<a name="l04393"></a>04393         }
<a name="l04394"></a>04394     }
<a name="l04395"></a>04395      <span class="comment">/* ... or add a GeometryReference_t Node: */</span>
<a name="l04396"></a>04396     <span class="keywordflow">if</span> (index==family-&gt;<a class="code" href="structcgns__family.html#d4cc3ca01272c35cb7b773c627416779">ngeos</a>) {
<a name="l04397"></a>04397         <span class="keywordflow">if</span> (family-&gt;<a class="code" href="structcgns__family.html#d4cc3ca01272c35cb7b773c627416779">ngeos</a> == 0) {
<a name="l04398"></a>04398             family-&gt;<a class="code" href="structcgns__family.html#988b87c1b2e6b16e9b129bf3e5b37ab0">geo</a> = <a class="code" href="cgns__header_8h.html#948c36b3700de0f3332aa3620eafb0f4">CGNS_NEW</a>(<a class="code" href="structcgns__geo.html">cgns_geo</a>, family-&gt;<a class="code" href="structcgns__family.html#d4cc3ca01272c35cb7b773c627416779">ngeos</a>+1);
<a name="l04399"></a>04399         } <span class="keywordflow">else</span> {
<a name="l04400"></a>04400             family-&gt;<a class="code" href="structcgns__family.html#988b87c1b2e6b16e9b129bf3e5b37ab0">geo</a> = <a class="code" href="cgns__header_8h.html#e23e608849b6dc488ccdad466e76e2ad">CGNS_RENEW</a>(<a class="code" href="structcgns__geo.html">cgns_geo</a>, family-&gt;<a class="code" href="structcgns__family.html#d4cc3ca01272c35cb7b773c627416779">ngeos</a>+1, family-&gt;<a class="code" href="structcgns__family.html#988b87c1b2e6b16e9b129bf3e5b37ab0">geo</a>);
<a name="l04401"></a>04401         }
<a name="l04402"></a>04402         geo = &amp;(family-&gt;<a class="code" href="structcgns__family.html#988b87c1b2e6b16e9b129bf3e5b37ab0">geo</a>[family-&gt;<a class="code" href="structcgns__family.html#d4cc3ca01272c35cb7b773c627416779">ngeos</a>]);
<a name="l04403"></a>04403         family-&gt;<a class="code" href="structcgns__family.html#d4cc3ca01272c35cb7b773c627416779">ngeos</a>++;
<a name="l04404"></a>04404     }
<a name="l04405"></a>04405     (*G) = index+1;
<a name="l04406"></a>04406 
<a name="l04407"></a>04407 
<a name="l04408"></a>04408     strcpy(geo-&gt;<a class="code" href="structcgns__geo.html#b5192b2e796e6224c74ec532ec32abf7">name</a>, geo_name);
<a name="l04409"></a>04409     strcpy(geo-&gt;<a class="code" href="structcgns__geo.html#72ab240d337ac7cead68a73959928bef">format</a>, CADname);
<a name="l04410"></a>04410     geo-&gt;<a class="code" href="structcgns__geo.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>=0;
<a name="l04411"></a>04411     geo-&gt;<a class="code" href="structcgns__geo.html#f6f27f42b9ecc89cf0ed39415bca67d1">link</a>=0;
<a name="l04412"></a>04412     geo-&gt;<a class="code" href="structcgns__geo.html#cdee83a08ec17a8018bf719ef82a3602">ndescr</a>=0;
<a name="l04413"></a>04413     geo-&gt;<a class="code" href="structcgns__geo.html#8852a945ad0b8536ee161f7ddb1e4be0">npart</a>=0;
<a name="l04414"></a>04414     geo-&gt;<a class="code" href="structcgns__geo.html#dc1e157d997b3174f9d41c5b645631f9">nuser_data</a>=0;
<a name="l04415"></a>04415 
<a name="l04416"></a>04416     length = strlen(filename);
<a name="l04417"></a>04417     <span class="keywordflow">if</span> (length&lt;=0) {
<a name="l04418"></a>04418         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"filename undefined for GeometryReference node!"</span>);
<a name="l04419"></a>04419         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l04420"></a>04420     }
<a name="l04421"></a>04421     geo-&gt;<a class="code" href="structcgns__geo.html#df16cd437526a5c5e0e0af87745acbb8">file</a> = (<span class="keywordtype">char</span> *)<a class="code" href="cg__malloc_8h.html#535b58ab5aa48e2e86073e334d43fd32">malloc</a>((length+1)*<span class="keyword">sizeof</span>(char));
<a name="l04422"></a>04422     strcpy(geo-&gt;<a class="code" href="structcgns__geo.html#df16cd437526a5c5e0e0af87745acbb8">file</a>, filename);
<a name="l04423"></a>04423 
<a name="l04424"></a>04424      <span class="comment">/* save data in file */</span>
<a name="l04425"></a>04425     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#184dd1d99e9f4e7b826f84887ba07748">cgi_new_node</a>(family-&gt;<a class="code" href="structcgns__family.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, geo-&gt;<a class="code" href="structcgns__geo.html#b5192b2e796e6224c74ec532ec32abf7">name</a>, <span class="stringliteral">"GeometryReference_t"</span>, &amp;geo-&gt;<a class="code" href="structcgns__geo.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>,
<a name="l04426"></a>04426         <span class="stringliteral">"MT"</span>, 0, 0, 0)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l04427"></a>04427     length = strlen(geo-&gt;<a class="code" href="structcgns__geo.html#df16cd437526a5c5e0e0af87745acbb8">file</a>);
<a name="l04428"></a>04428     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#184dd1d99e9f4e7b826f84887ba07748">cgi_new_node</a>(geo-&gt;<a class="code" href="structcgns__geo.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, <span class="stringliteral">"GeometryFile"</span>, <span class="stringliteral">"GeometryFile_t"</span>, &amp;dummy_id,
<a name="l04429"></a>04429         <span class="stringliteral">"C1"</span>, 1, &amp;length, geo-&gt;<a class="code" href="structcgns__geo.html#df16cd437526a5c5e0e0af87745acbb8">file</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l04430"></a>04430     length = strlen(geo-&gt;<a class="code" href="structcgns__geo.html#72ab240d337ac7cead68a73959928bef">format</a>);
<a name="l04431"></a>04431     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#184dd1d99e9f4e7b826f84887ba07748">cgi_new_node</a>(geo-&gt;<a class="code" href="structcgns__geo.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, <span class="stringliteral">"GeometryFormat"</span>, <span class="stringliteral">"GeometryFormat_t"</span>, &amp;dummy_id,
<a name="l04432"></a>04432         <span class="stringliteral">"C1"</span>, 1, &amp;length, geo-&gt;<a class="code" href="structcgns__geo.html#72ab240d337ac7cead68a73959928bef">format</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l04433"></a>04433     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l04434"></a>04434 }
<a name="l04435"></a>04435 
<a name="l04436"></a><a class="code" href="cgnslib_8h.html#69494fc1df26042d520a7ae2d20c35eb">04436</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#c00b823fa754e36304a130c0722ab4fd">cg_part_write</a>(<span class="keywordtype">int</span> file_number, <span class="keywordtype">int</span> B, <span class="keywordtype">int</span> F, <span class="keywordtype">int</span> G, <span class="keywordtype">char</span> <span class="keyword">const</span> * part_name,
<a name="l04437"></a>04437     <span class="keywordtype">int</span> *P) {
<a name="l04438"></a>04438     <span class="keywordtype">int</span> index;
<a name="l04439"></a>04439     <a class="code" href="structcgns__geo.html">cgns_geo</a> *geo;
<a name="l04440"></a>04440     <a class="code" href="structcgns__part.html">cgns_part</a> *part = NULL;
<a name="l04441"></a>04441     <a class="code" href="structcgns__family.html">cgns_family</a> *family;
<a name="l04442"></a>04442 
<a name="l04443"></a>04443      <span class="comment">/* verify input */</span>
<a name="l04444"></a>04444     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#b042658423afd0817ab23b3ea7a5e03d">cgi_check_strlen</a>(part_name)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l04445"></a>04445 
<a name="l04446"></a>04446     cg = <a class="code" href="cgns__header_8h.html#64a13852e04666fc73b74a8ff7727f4f">cgi_get_file</a>(file_number);
<a name="l04447"></a>04447     <span class="keywordflow">if</span> (cg == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l04448"></a>04448     
<a name="l04449"></a>04449     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l04450"></a>04450 
<a name="l04451"></a>04451      <span class="comment">/* get memory address for geo */</span>
<a name="l04452"></a>04452     family = <a class="code" href="cgns__header_8h.html#82dbb4d97201567a642f400c4233c4dc">cgi_get_family</a>(cg, B, F);
<a name="l04453"></a>04453     <span class="keywordflow">if</span> (family==0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l04454"></a>04454     <span class="keywordflow">if</span> (G &gt; family-&gt;<a class="code" href="structcgns__family.html#d4cc3ca01272c35cb7b773c627416779">ngeos</a> || G &lt;=0) {
<a name="l04455"></a>04455         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Invalid index for GeometryEntity_t node"</span>);
<a name="l04456"></a>04456         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l04457"></a>04457     }
<a name="l04458"></a>04458     geo = &amp;family-&gt;<a class="code" href="structcgns__family.html#988b87c1b2e6b16e9b129bf3e5b37ab0">geo</a>[G-1];
<a name="l04459"></a>04459 
<a name="l04460"></a>04460      <span class="comment">/* Overwrite a GeometryEntity_t Node: */</span>
<a name="l04461"></a>04461     <span class="keywordflow">for</span> (index=0; index&lt;geo-&gt;<a class="code" href="structcgns__geo.html#8852a945ad0b8536ee161f7ddb1e4be0">npart</a>; index++) {
<a name="l04462"></a>04462         <span class="keywordflow">if</span> (strcmp(part_name, geo-&gt;<a class="code" href="structcgns__geo.html#022b0ad1bcd6d0eab9752c498161c563">part</a>[index].<a class="code" href="structcgns__part.html#b5192b2e796e6224c74ec532ec32abf7">name</a>)==0) {
<a name="l04463"></a>04463 
<a name="l04464"></a>04464              <span class="comment">/* in CG_MODE_WRITE, children names must be unique */</span>
<a name="l04465"></a>04465             <span class="keywordflow">if</span> (cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>==<a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>) {
<a name="l04466"></a>04466                 <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Duplicate child name found: %s"</span>,part_name);
<a name="l04467"></a>04467                 <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l04468"></a>04468             }
<a name="l04469"></a>04469 
<a name="l04470"></a>04470              <span class="comment">/* overwrite an existing zone */</span>
<a name="l04471"></a>04471              <span class="comment">/* delete the existing geo from file */</span>
<a name="l04472"></a>04472             <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#032ae98a5be795f845bb5cc7d63750e4">cgi_delete_node</a>(geo-&gt;<a class="code" href="structcgns__geo.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, geo-&gt;<a class="code" href="structcgns__geo.html#022b0ad1bcd6d0eab9752c498161c563">part</a>[index].<a class="code" href="structcgns__part.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>))
<a name="l04473"></a>04473                 <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l04474"></a>04474              <span class="comment">/* save the old in-memory address to overwrite */</span>
<a name="l04475"></a>04475             part = &amp;(geo-&gt;<a class="code" href="structcgns__geo.html#022b0ad1bcd6d0eab9752c498161c563">part</a>[index]);
<a name="l04476"></a>04476              <span class="comment">/* free memory */</span>
<a name="l04477"></a>04477             <a class="code" href="cgns__header_8h.html#21f31b6e52fa9d33e154f8deb41c6b84">cgi_free_part</a>(part);
<a name="l04478"></a>04478             <span class="keywordflow">break</span>;
<a name="l04479"></a>04479         }
<a name="l04480"></a>04480     }
<a name="l04481"></a>04481      <span class="comment">/* ... or add a GeometryReference_t Node: */</span>
<a name="l04482"></a>04482     <span class="keywordflow">if</span> (index==geo-&gt;<a class="code" href="structcgns__geo.html#8852a945ad0b8536ee161f7ddb1e4be0">npart</a>) {
<a name="l04483"></a>04483         <span class="keywordflow">if</span> (geo-&gt;<a class="code" href="structcgns__geo.html#8852a945ad0b8536ee161f7ddb1e4be0">npart</a> == 0) {
<a name="l04484"></a>04484             geo-&gt;<a class="code" href="structcgns__geo.html#022b0ad1bcd6d0eab9752c498161c563">part</a> = <a class="code" href="cgns__header_8h.html#948c36b3700de0f3332aa3620eafb0f4">CGNS_NEW</a>(<a class="code" href="structcgns__part.html">cgns_part</a>, geo-&gt;<a class="code" href="structcgns__geo.html#8852a945ad0b8536ee161f7ddb1e4be0">npart</a>+1);
<a name="l04485"></a>04485         } <span class="keywordflow">else</span> {
<a name="l04486"></a>04486             geo-&gt;<a class="code" href="structcgns__geo.html#022b0ad1bcd6d0eab9752c498161c563">part</a> = <a class="code" href="cgns__header_8h.html#e23e608849b6dc488ccdad466e76e2ad">CGNS_RENEW</a>(<a class="code" href="structcgns__part.html">cgns_part</a>, geo-&gt;<a class="code" href="structcgns__geo.html#8852a945ad0b8536ee161f7ddb1e4be0">npart</a>+1, geo-&gt;<a class="code" href="structcgns__geo.html#022b0ad1bcd6d0eab9752c498161c563">part</a>);
<a name="l04487"></a>04487         }
<a name="l04488"></a>04488         part = &amp;(geo-&gt;<a class="code" href="structcgns__geo.html#022b0ad1bcd6d0eab9752c498161c563">part</a>[geo-&gt;<a class="code" href="structcgns__geo.html#8852a945ad0b8536ee161f7ddb1e4be0">npart</a>]);
<a name="l04489"></a>04489         geo-&gt;<a class="code" href="structcgns__geo.html#8852a945ad0b8536ee161f7ddb1e4be0">npart</a>++;
<a name="l04490"></a>04490     }
<a name="l04491"></a>04491     (*P) = index+1;
<a name="l04492"></a>04492 
<a name="l04493"></a>04493     strcpy(part-&gt;<a class="code" href="structcgns__part.html#b5192b2e796e6224c74ec532ec32abf7">name</a>, part_name);
<a name="l04494"></a>04494     part-&gt;<a class="code" href="structcgns__part.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>=0;
<a name="l04495"></a>04495     part-&gt;<a class="code" href="structcgns__part.html#f6f27f42b9ecc89cf0ed39415bca67d1">link</a>=0;
<a name="l04496"></a>04496 
<a name="l04497"></a>04497      <span class="comment">/* save data in file */</span>
<a name="l04498"></a>04498     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#184dd1d99e9f4e7b826f84887ba07748">cgi_new_node</a>(geo-&gt;<a class="code" href="structcgns__geo.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, part-&gt;<a class="code" href="structcgns__part.html#b5192b2e796e6224c74ec532ec32abf7">name</a>, <span class="stringliteral">"GeometryEntity_t"</span>, &amp;part-&gt;<a class="code" href="structcgns__part.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>,
<a name="l04499"></a>04499         <span class="stringliteral">"MT"</span>, 0, 0, 0)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l04500"></a>04500     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l04501"></a>04501 }
<a name="l04502"></a>04502 
<a name="l04503"></a><a class="code" href="cgnslib_8h.html#c322870fe25c5e7c2167f82a83398ba0">04503</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#ed6d565823c3c7dbadc3973963766075">cg_discrete_write</a>(<span class="keywordtype">int</span> file_number, <span class="keywordtype">int</span> B, <span class="keywordtype">int</span> Z,  <span class="keywordtype">char</span> <span class="keyword">const</span> * discrete_name, <span class="keywordtype">int</span> *D) {
<a name="l04504"></a>04504     <a class="code" href="structcgns__zone.html">cgns_zone</a> *zone;
<a name="l04505"></a>04505     <a class="code" href="structcgns__discrete.html">cgns_discrete</a> *discrete = NULL;
<a name="l04506"></a>04506     <span class="keywordtype">int</span> index;
<a name="l04507"></a>04507 
<a name="l04508"></a>04508      <span class="comment">/* verify input */</span>
<a name="l04509"></a>04509     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#b042658423afd0817ab23b3ea7a5e03d">cgi_check_strlen</a>(discrete_name)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l04510"></a>04510 
<a name="l04511"></a>04511     cg = <a class="code" href="cgns__header_8h.html#64a13852e04666fc73b74a8ff7727f4f">cgi_get_file</a>(file_number);
<a name="l04512"></a>04512     <span class="keywordflow">if</span> (cg == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l04513"></a>04513 
<a name="l04514"></a>04514     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l04515"></a>04515 
<a name="l04516"></a>04516     zone = <a class="code" href="cgns__header_8h.html#5ce4ef97dee99baf9183b8c23419bfe0">cgi_get_zone</a>(cg, B, Z);
<a name="l04517"></a>04517     <span class="keywordflow">if</span> (zone==0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l04518"></a>04518 
<a name="l04519"></a>04519      <span class="comment">/* Overwrite a DiscreteData_t node: */</span>
<a name="l04520"></a>04520     <span class="keywordflow">for</span> (index=0; index&lt;zone-&gt;<a class="code" href="structcgns__zone.html#0f925e18f7d56d06ed91eeb5e590f846">ndiscrete</a>; index++) {
<a name="l04521"></a>04521         <span class="keywordflow">if</span> (strcmp(discrete_name, zone-&gt;<a class="code" href="structcgns__zone.html#e79372e2dfed4a4fa194c679e34bb65f">discrete</a>[index].<a class="code" href="structcgns__discrete.html#b5192b2e796e6224c74ec532ec32abf7">name</a>)==0) {
<a name="l04522"></a>04522 
<a name="l04523"></a>04523              <span class="comment">/* in CG_MODE_WRITE, children names must be unique */</span>
<a name="l04524"></a>04524             <span class="keywordflow">if</span> (cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>==<a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>) {
<a name="l04525"></a>04525                 <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Duplicate child name found: %s"</span>,discrete_name);
<a name="l04526"></a>04526                 <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l04527"></a>04527             }
<a name="l04528"></a>04528 
<a name="l04529"></a>04529              <span class="comment">/* overwrite an existing solution */</span>
<a name="l04530"></a>04530              <span class="comment">/* delete the existing solution from file */</span>
<a name="l04531"></a>04531             <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#032ae98a5be795f845bb5cc7d63750e4">cgi_delete_node</a>(zone-&gt;<a class="code" href="structcgns__zone.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, zone-&gt;<a class="code" href="structcgns__zone.html#e79372e2dfed4a4fa194c679e34bb65f">discrete</a>[index].<a class="code" href="structcgns__discrete.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>))
<a name="l04532"></a>04532                 <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l04533"></a>04533              <span class="comment">/* save the old in-memory address to overwrite */</span>
<a name="l04534"></a>04534             discrete = &amp;(zone-&gt;<a class="code" href="structcgns__zone.html#e79372e2dfed4a4fa194c679e34bb65f">discrete</a>[index]);
<a name="l04535"></a>04535              <span class="comment">/* free memory */</span>
<a name="l04536"></a>04536             <a class="code" href="cgns__header_8h.html#93cb042aab1d53d317d1ddd94fe3c2f8">cgi_free_discrete</a>(discrete);
<a name="l04537"></a>04537             <span class="keywordflow">break</span>;
<a name="l04538"></a>04538         }
<a name="l04539"></a>04539     }
<a name="l04540"></a>04540      <span class="comment">/* ... or add a FlowSolution_t Node: */</span>
<a name="l04541"></a>04541     <span class="keywordflow">if</span> (index==zone-&gt;<a class="code" href="structcgns__zone.html#0f925e18f7d56d06ed91eeb5e590f846">ndiscrete</a>) {
<a name="l04542"></a>04542         <span class="keywordflow">if</span> (zone-&gt;<a class="code" href="structcgns__zone.html#0f925e18f7d56d06ed91eeb5e590f846">ndiscrete</a> == 0) {
<a name="l04543"></a>04543             zone-&gt;<a class="code" href="structcgns__zone.html#e79372e2dfed4a4fa194c679e34bb65f">discrete</a> = <a class="code" href="cgns__header_8h.html#948c36b3700de0f3332aa3620eafb0f4">CGNS_NEW</a>(<a class="code" href="structcgns__discrete.html">cgns_discrete</a>, zone-&gt;<a class="code" href="structcgns__zone.html#0f925e18f7d56d06ed91eeb5e590f846">ndiscrete</a>+1);
<a name="l04544"></a>04544         } <span class="keywordflow">else</span> {
<a name="l04545"></a>04545             zone-&gt;<a class="code" href="structcgns__zone.html#e79372e2dfed4a4fa194c679e34bb65f">discrete</a> = <a class="code" href="cgns__header_8h.html#e23e608849b6dc488ccdad466e76e2ad">CGNS_RENEW</a>(<a class="code" href="structcgns__discrete.html">cgns_discrete</a>, zone-&gt;<a class="code" href="structcgns__zone.html#0f925e18f7d56d06ed91eeb5e590f846">ndiscrete</a>+1, zone-&gt;<a class="code" href="structcgns__zone.html#e79372e2dfed4a4fa194c679e34bb65f">discrete</a>);
<a name="l04546"></a>04546         }
<a name="l04547"></a>04547         discrete = &amp;zone-&gt;<a class="code" href="structcgns__zone.html#e79372e2dfed4a4fa194c679e34bb65f">discrete</a>[zone-&gt;<a class="code" href="structcgns__zone.html#0f925e18f7d56d06ed91eeb5e590f846">ndiscrete</a>];
<a name="l04548"></a>04548         zone-&gt;<a class="code" href="structcgns__zone.html#0f925e18f7d56d06ed91eeb5e590f846">ndiscrete</a>++;
<a name="l04549"></a>04549     }
<a name="l04550"></a>04550     (*D) = index+1;
<a name="l04551"></a>04551 
<a name="l04552"></a>04552      <span class="comment">/* save data in memory */</span>
<a name="l04553"></a>04553     strcpy(discrete-&gt;<a class="code" href="structcgns__discrete.html#b5192b2e796e6224c74ec532ec32abf7">name</a>, discrete_name);
<a name="l04554"></a>04554 
<a name="l04555"></a>04555      <span class="comment">/* initialize other fields */</span>
<a name="l04556"></a>04556     discrete-&gt;<a class="code" href="structcgns__discrete.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a> = 0;
<a name="l04557"></a>04557     discrete-&gt;<a class="code" href="structcgns__discrete.html#f6f27f42b9ecc89cf0ed39415bca67d1">link</a>=0;
<a name="l04558"></a>04558     discrete-&gt;<a class="code" href="structcgns__discrete.html#cdee83a08ec17a8018bf719ef82a3602">ndescr</a>=0;
<a name="l04559"></a>04559     discrete-&gt;<a class="code" href="structcgns__discrete.html#0e4921cde80f9718431923eedef14779">location</a>=<a class="code" href="cgns_keywords_8h.html#5a0e596ed46b12f73c2ed1b8b0176e13d013c4439c3e09308d6b2eef2a4025ae">Vertex</a>;
<a name="l04560"></a>04560     discrete-&gt;<a class="code" href="structcgns__discrete.html#e095e97c5a8c7758b4c9d0e463093b57">rind_planes</a>=0;
<a name="l04561"></a>04561     discrete-&gt;<a class="code" href="structcgns__discrete.html#ace0c04d503f8dda2284ae61a8344b8b">narrays</a>=0;
<a name="l04562"></a>04562     discrete-&gt;<a class="code" href="structcgns__discrete.html#6aa9eb3c5ad6bdecf6cd8c2b3d97839c">data_class</a>=<a class="code" href="cgns_keywords_8h.html#6e3a45166e6780b756fef5c427279ca079d3001e5ba3290ed80f0762d51bb379">DataClassNull</a>;
<a name="l04563"></a>04563     discrete-&gt;<a class="code" href="structcgns__discrete.html#9b4c6b823f0741729aa08b21a4120308">units</a>=0;
<a name="l04564"></a>04564     discrete-&gt;<a class="code" href="structcgns__discrete.html#dc1e157d997b3174f9d41c5b645631f9">nuser_data</a>=0;
<a name="l04565"></a>04565 
<a name="l04566"></a>04566      <span class="comment">/* save data in file */</span>
<a name="l04567"></a>04567     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#184dd1d99e9f4e7b826f84887ba07748">cgi_new_node</a>(zone-&gt;<a class="code" href="structcgns__zone.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, discrete-&gt;<a class="code" href="structcgns__discrete.html#b5192b2e796e6224c74ec532ec32abf7">name</a>, <span class="stringliteral">"DiscreteData_t"</span>, &amp;discrete-&gt;<a class="code" href="structcgns__discrete.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>,
<a name="l04568"></a>04568         <span class="stringliteral">"MT"</span>, 0, 0, 0)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l04569"></a>04569     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l04570"></a>04570 }
<a name="l04571"></a>04571 
<a name="l04572"></a>04572 
<a name="l04573"></a><a class="code" href="cgnslib_8h.html#023d00bded20fe399137acf713544af3">04573</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#39851d6ade3367aefbba15e0c6776c68">cg_coord_write</a>(<span class="keywordtype">int</span> file_number, <span class="keywordtype">int</span> B, <span class="keywordtype">int</span> Z, <a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae">DataType_t</a> type, <span class="keywordtype">char</span> <span class="keyword">const</span> * coordname,
<a name="l04574"></a>04574            <span class="keywordtype">void</span> <span class="keyword">const</span> * coord_ptr, <span class="keywordtype">int</span> *<a class="code" href="cgnswin__f_8h.html#1f39f73b12ce2dca81d3aa4b3c4b1824">C</a>) {
<a name="l04575"></a>04575     <a class="code" href="structcgns__zone.html">cgns_zone</a> *zone;
<a name="l04576"></a>04576     <a class="code" href="structcgns__zcoor.html">cgns_zcoor</a> *zcoor;
<a name="l04577"></a>04577     <a class="code" href="structcgns__array.html">cgns_array</a> *<a class="code" href="test__exts_8c.html#b746fd2146196cc6771f0a754171181e">coord</a>;
<a name="l04578"></a>04578     <span class="keywordtype">int</span> n, index, index_dim;
<a name="l04579"></a>04579 
<a name="l04580"></a>04580      <span class="comment">/* verify input */</span>
<a name="l04581"></a>04581     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#b042658423afd0817ab23b3ea7a5e03d">cgi_check_strlen</a>(coordname)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l04582"></a>04582     <span class="keywordflow">if</span> (type!=<a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae1ca5e5244f4627fd3bf71c72015c2060">RealSingle</a> &amp;&amp; type!=<a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae5f954e649a6da0e65898e0faf7724549">RealDouble</a>) {
<a name="l04583"></a>04583         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Invalid datatype for coord. array:  %d"</span>, type);
<a name="l04584"></a>04584         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l04585"></a>04585     }
<a name="l04586"></a>04586      <span class="comment">/* get memory address for file */</span>
<a name="l04587"></a>04587     cg = <a class="code" href="cgns__header_8h.html#64a13852e04666fc73b74a8ff7727f4f">cgi_get_file</a>(file_number);
<a name="l04588"></a>04588     <span class="keywordflow">if</span> (cg == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l04589"></a>04589 
<a name="l04590"></a>04590     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l04591"></a>04591 
<a name="l04592"></a>04592      <span class="comment">/* get memory address for zone */</span>
<a name="l04593"></a>04593     zone = <a class="code" href="cgns__header_8h.html#5ce4ef97dee99baf9183b8c23419bfe0">cgi_get_zone</a>(cg, B, Z);
<a name="l04594"></a>04594     <span class="keywordflow">if</span> (zone==0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l04595"></a>04595 
<a name="l04596"></a>04596      <span class="comment">/* Get memory address for node "GridCoordinates" */</span>
<a name="l04597"></a>04597     zcoor = <a class="code" href="cgns__header_8h.html#3e5a876b81ce952b44c23a9b934dbe01">cgi_get_zcoorGC</a>(cg, B, Z);
<a name="l04598"></a>04598     <span class="keywordflow">if</span> (zcoor==0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l04599"></a>04599 
<a name="l04600"></a>04600      <span class="comment">/* Overwrite a DataArray_t Node of same size, name and data-type: */</span>
<a name="l04601"></a>04601     <span class="keywordflow">for</span> (index=0; index&lt;zcoor-&gt;<a class="code" href="structcgns__zcoor.html#a6cb1b2f94bbe4063ed616bdc8797abf">ncoords</a>; index++) {
<a name="l04602"></a>04602         <span class="keywordflow">if</span> (strcmp(coordname, zcoor-&gt;<a class="code" href="structcgns__zcoor.html#5ab5360b57c24503e4ef160d06387c15">coord</a>[index].<a class="code" href="structcgns__array.html#b5192b2e796e6224c74ec532ec32abf7">name</a>)==0) {
<a name="l04603"></a>04603             coord = &amp;(zcoor-&gt;<a class="code" href="structcgns__zcoor.html#5ab5360b57c24503e4ef160d06387c15">coord</a>[index]);
<a name="l04604"></a>04604 
<a name="l04605"></a>04605              <span class="comment">/* in CG_MODE_WRITE, children names must be unique */</span>
<a name="l04606"></a>04606             <span class="keywordflow">if</span> (cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>==<a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>) {
<a name="l04607"></a>04607                 <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Duplicate child name found: %s"</span>,coordname);
<a name="l04608"></a>04608                 <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l04609"></a>04609             }
<a name="l04610"></a>04610 
<a name="l04611"></a>04611              <span class="comment">/* overwrite an existing coordinate vector */</span>
<a name="l04612"></a>04612             <span class="keywordflow">if</span> (type==<a class="code" href="cgns__header_8h.html#24e3b83316ff66e5d321d73ee64319f2">cgi_datatype</a>(coord-&gt;<a class="code" href="structcgns__array.html#86e4d546d1321bcac60584c413eb0f6d">data_type</a>)) {
<a name="l04613"></a>04613                 <span class="keywordflow">if</span> (<a class="code" href="cgns__io_8c.html#be9f73d86b7055717da0952a3f124baa">cgio_write_all_data</a>(cg-&gt;<a class="code" href="structcgns__file.html#98363ec7b27905dbf2c56c6a194c69cc">cgio</a>, coord-&gt;<a class="code" href="structcgns__array.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, coord_ptr)) {
<a name="l04614"></a>04614                     <a class="code" href="cgns__error_8c.html#47dd09a377bc17d5807332f8c475a23b">cg_io_error</a>(<span class="stringliteral">"cgio_write_all_data"</span>);
<a name="l04615"></a>04615                     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l04616"></a>04616                 }
<a name="l04617"></a>04617                 (*C) = index+1;
<a name="l04618"></a>04618                 <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l04619"></a>04619             }
<a name="l04620"></a>04620             <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"To overwrite array %s, use data-type '%s'"</span>,
<a name="l04621"></a>04621                 coord-&gt;<a class="code" href="structcgns__array.html#b5192b2e796e6224c74ec532ec32abf7">name</a>, <a class="code" href="cgnslib_8c.html#8656d25788085de6b9d034931a302975">DataTypeName</a>[<a class="code" href="cgns__header_8h.html#24e3b83316ff66e5d321d73ee64319f2">cgi_datatype</a>(coord-&gt;<a class="code" href="structcgns__array.html#86e4d546d1321bcac60584c413eb0f6d">data_type</a>)]);
<a name="l04622"></a>04622             <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l04623"></a>04623         }
<a name="l04624"></a>04624     }
<a name="l04625"></a>04625 
<a name="l04626"></a>04626      <span class="comment">/* ... or add a DataArray_t Node: */</span>
<a name="l04627"></a>04627     <span class="keywordflow">if</span> (zcoor-&gt;<a class="code" href="structcgns__zcoor.html#a6cb1b2f94bbe4063ed616bdc8797abf">ncoords</a> == 0) {
<a name="l04628"></a>04628         zcoor-&gt;<a class="code" href="structcgns__zcoor.html#5ab5360b57c24503e4ef160d06387c15">coord</a> = <a class="code" href="cgns__header_8h.html#948c36b3700de0f3332aa3620eafb0f4">CGNS_NEW</a>(<a class="code" href="structcgns__array.html">cgns_array</a>, zcoor-&gt;<a class="code" href="structcgns__zcoor.html#a6cb1b2f94bbe4063ed616bdc8797abf">ncoords</a>+1);
<a name="l04629"></a>04629     } <span class="keywordflow">else</span> {
<a name="l04630"></a>04630         zcoor-&gt;<a class="code" href="structcgns__zcoor.html#5ab5360b57c24503e4ef160d06387c15">coord</a> = <a class="code" href="cgns__header_8h.html#e23e608849b6dc488ccdad466e76e2ad">CGNS_RENEW</a>(<a class="code" href="structcgns__array.html">cgns_array</a>, zcoor-&gt;<a class="code" href="structcgns__zcoor.html#a6cb1b2f94bbe4063ed616bdc8797abf">ncoords</a>+1, zcoor-&gt;<a class="code" href="structcgns__zcoor.html#5ab5360b57c24503e4ef160d06387c15">coord</a>);
<a name="l04631"></a>04631     }
<a name="l04632"></a>04632     coord = &amp;(zcoor-&gt;<a class="code" href="structcgns__zcoor.html#5ab5360b57c24503e4ef160d06387c15">coord</a>[zcoor-&gt;<a class="code" href="structcgns__zcoor.html#a6cb1b2f94bbe4063ed616bdc8797abf">ncoords</a>]);
<a name="l04633"></a>04633     zcoor-&gt;<a class="code" href="structcgns__zcoor.html#a6cb1b2f94bbe4063ed616bdc8797abf">ncoords</a>++;
<a name="l04634"></a>04634     (*C) = zcoor-&gt;<a class="code" href="structcgns__zcoor.html#a6cb1b2f94bbe4063ed616bdc8797abf">ncoords</a>;
<a name="l04635"></a>04635 
<a name="l04636"></a>04636      <span class="comment">/* save coord. data in memory */</span>
<a name="l04637"></a>04637     strcpy(coord-&gt;<a class="code" href="structcgns__array.html#86e4d546d1321bcac60584c413eb0f6d">data_type</a>,<a class="code" href="cgns__header_8h.html#abf7e64b45b7a0d3aa0f56747525065c">cgi_adf_datatype</a>(type));
<a name="l04638"></a>04638     strcpy(coord-&gt;<a class="code" href="structcgns__array.html#b5192b2e796e6224c74ec532ec32abf7">name</a>,coordname);
<a name="l04639"></a>04639     coord-&gt;<a class="code" href="structcgns__array.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>=0;        <span class="comment">/* initialize */</span>
<a name="l04640"></a>04640     coord-&gt;<a class="code" href="structcgns__array.html#f6f27f42b9ecc89cf0ed39415bca67d1">link</a>=0;
<a name="l04641"></a>04641     index_dim = zone-&gt;<a class="code" href="structcgns__zone.html#5ea7c3da009c9add916c0eeca1973c05">index_dim</a>;
<a name="l04642"></a>04642     <span class="keywordflow">for</span> (n=0; n&lt;index_dim; n++)
<a name="l04643"></a>04643         coord-&gt;<a class="code" href="structcgns__array.html#5ca9ee30477c56421c793e2341f75931">dim_vals</a>[n] = zone-&gt;<a class="code" href="structcgns__zone.html#41ee98048c689af7dcf7cf361860ee09">nijk</a>[n] + zcoor-&gt;<a class="code" href="structcgns__zcoor.html#e095e97c5a8c7758b4c9d0e463093b57">rind_planes</a>[2*n]
<a name="l04644"></a>04644                              + zcoor-&gt;<a class="code" href="structcgns__zcoor.html#e095e97c5a8c7758b4c9d0e463093b57">rind_planes</a>[2*n+1];
<a name="l04645"></a>04645     coord-&gt;<a class="code" href="structcgns__array.html#c7e27870b79e982377b6669e633a32ad">data_dim</a>=index_dim;
<a name="l04646"></a>04646     coord-&gt;<a class="code" href="structcgns__array.html#735984d41155bc1032e09bece8f8d66d">data</a>=0;
<a name="l04647"></a>04647     coord-&gt;<a class="code" href="structcgns__array.html#cdee83a08ec17a8018bf719ef82a3602">ndescr</a>=0;
<a name="l04648"></a>04648     coord-&gt;<a class="code" href="structcgns__array.html#6aa9eb3c5ad6bdecf6cd8c2b3d97839c">data_class</a>=<a class="code" href="cgns_keywords_8h.html#6e3a45166e6780b756fef5c427279ca079d3001e5ba3290ed80f0762d51bb379">DataClassNull</a>;
<a name="l04649"></a>04649     coord-&gt;<a class="code" href="structcgns__array.html#9b4c6b823f0741729aa08b21a4120308">units</a>=0;
<a name="l04650"></a>04650     coord-&gt;<a class="code" href="structcgns__array.html#87b103c38a459cc8a1c6cf06f01aa12a">exponents</a>=0;
<a name="l04651"></a>04651     coord-&gt;<a class="code" href="structcgns__array.html#0724545c909f7773439fee292fe3ef5f">convert</a>=0;
<a name="l04652"></a>04652 
<a name="l04653"></a>04653      <span class="comment">/* Create GridCoodinates_t node if not already created */</span>
<a name="l04654"></a>04654     if (zcoor-&gt;<a class="code" href="structcgns__zcoor.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a> == 0) {
<a name="l04655"></a>04655         <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#184dd1d99e9f4e7b826f84887ba07748">cgi_new_node</a>(zone-&gt;<a class="code" href="structcgns__zone.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, <span class="stringliteral">"GridCoordinates"</span>, <span class="stringliteral">"GridCoordinates_t"</span>,
<a name="l04656"></a>04656             &amp;zcoor-&gt;<a class="code" href="structcgns__zcoor.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, <span class="stringliteral">"MT"</span>, 0, 0, 0)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l04657"></a>04657     }
<a name="l04658"></a>04658      <span class="comment">/* Create DataArray_t node on disk */</span>
<a name="l04659"></a>04659     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#184dd1d99e9f4e7b826f84887ba07748">cgi_new_node</a>(zcoor-&gt;<a class="code" href="structcgns__zcoor.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, coord-&gt;<a class="code" href="structcgns__array.html#b5192b2e796e6224c74ec532ec32abf7">name</a>, <span class="stringliteral">"DataArray_t"</span>, &amp;coord-&gt;<a class="code" href="structcgns__array.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>,
<a name="l04660"></a>04660         coord-&gt;<a class="code" href="structcgns__array.html#86e4d546d1321bcac60584c413eb0f6d">data_type</a>, index_dim, coord-&gt;<a class="code" href="structcgns__array.html#5ca9ee30477c56421c793e2341f75931">dim_vals</a>, coord_ptr)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l04661"></a>04661 
<a name="l04662"></a>04662     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l04663"></a>04663 }
<a name="l04664"></a>04664 
<a name="l04665"></a><a class="code" href="cgnslib_8h.html#860a53519da40b0205d3ae9ca5f06802">04665</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#bd47d13f27876e0110dc861e5976137d">cg_section_write</a>(<span class="keywordtype">int</span> file_number, <span class="keywordtype">int</span> B, <span class="keywordtype">int</span> Z, <span class="keywordtype">char</span> <span class="keyword">const</span> * SectionName, <a class="code" href="cgns_keywords_8h.html#4431a6cae8c3c9182a415851144aeac0">ElementType_t</a> type,
<a name="l04666"></a>04666     <span class="keywordtype">int</span> <a class="code" href="write__bcdata_8c.html#96c2ad5611cd5302c6e5cf2a9a4bf73b">start</a>, <span class="keywordtype">int</span> end, <span class="keywordtype">int</span> nbndry, <span class="keywordtype">int</span> <span class="keyword">const</span> * <a class="code" href="test__partial_8c.html#7f858599c75d4d48b0a564d2dbc9f693">elements</a>, <span class="keywordtype">int</span> *S) {
<a name="l04667"></a>04667     <a class="code" href="structcgns__zone.html">cgns_zone</a> *zone;
<a name="l04668"></a>04668     <a class="code" href="structcgns__section.html">cgns_section</a> *section = NULL;
<a name="l04669"></a>04669     <span class="keywordtype">int</span> index, num;
<a name="l04670"></a>04670     <span class="keywordtype">int</span> ElementDataSize=0;
<a name="l04671"></a>04671 
<a name="l04672"></a>04672      <span class="comment">/* verify input */</span>
<a name="l04673"></a>04673     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#b042658423afd0817ab23b3ea7a5e03d">cgi_check_strlen</a>(SectionName)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l04674"></a>04674 
<a name="l04675"></a>04675     <span class="keywordflow">if</span> (type &lt; 0 || type &gt;= <a class="code" href="cgns_keywords_8h.html#058dc8d7fafdb4b484144df5f83b437b">NofValidElementTypes</a>) {
<a name="l04676"></a>04676         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Invalid element type defined for section '%s'"</span>,SectionName);
<a name="l04677"></a>04677         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l04678"></a>04678     }
<a name="l04679"></a>04679     <span class="keywordflow">if</span> ((end-start)&lt;0) {
<a name="l04680"></a>04680         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Invalid element range defined for section '%s'"</span>,SectionName);
<a name="l04681"></a>04681         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l04682"></a>04682     }
<a name="l04683"></a>04683     <span class="keywordflow">if</span> (nbndry&gt;(end-start+1)) {
<a name="l04684"></a>04684         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Invalid boundary element number for section '%s'"</span>,SectionName);
<a name="l04685"></a>04685         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l04686"></a>04686     }
<a name="l04687"></a>04687 
<a name="l04688"></a>04688      <span class="comment">/* get file and check mode */</span>
<a name="l04689"></a>04689     cg = <a class="code" href="cgns__header_8h.html#64a13852e04666fc73b74a8ff7727f4f">cgi_get_file</a>(file_number);
<a name="l04690"></a>04690     <span class="keywordflow">if</span> (cg == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l04691"></a>04691 
<a name="l04692"></a>04692     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l04693"></a>04693 
<a name="l04694"></a>04694     zone = <a class="code" href="cgns__header_8h.html#5ce4ef97dee99baf9183b8c23419bfe0">cgi_get_zone</a>(cg, B, Z);
<a name="l04695"></a>04695     <span class="keywordflow">if</span> (zone==0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l04696"></a>04696 
<a name="l04697"></a>04697      <span class="comment">/* Overwrite a Elements_t Node: */</span>
<a name="l04698"></a>04698     <span class="keywordflow">for</span> (index=0; index&lt;zone-&gt;<a class="code" href="structcgns__zone.html#62b0a12fb47ee3dd5c39282c5610980c">nsections</a>; index++) {
<a name="l04699"></a>04699         <span class="keywordflow">if</span> (strcmp(SectionName, zone-&gt;<a class="code" href="structcgns__zone.html#c97261a3a3e72190d5ee1faac286eeda">section</a>[index].<a class="code" href="structcgns__section.html#b5192b2e796e6224c74ec532ec32abf7">name</a>)==0) {
<a name="l04700"></a>04700 
<a name="l04701"></a>04701              <span class="comment">/* in CG_MODE_WRITE, children names must be unique */</span>
<a name="l04702"></a>04702             <span class="keywordflow">if</span> (cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>==<a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>) {
<a name="l04703"></a>04703                 <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Duplicate child name found: %s"</span>,SectionName);
<a name="l04704"></a>04704                 <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l04705"></a>04705             }
<a name="l04706"></a>04706 
<a name="l04707"></a>04707              <span class="comment">/* overwrite an existing section */</span>
<a name="l04708"></a>04708              <span class="comment">/* delete the existing section from file */</span>
<a name="l04709"></a>04709             <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#032ae98a5be795f845bb5cc7d63750e4">cgi_delete_node</a>(zone-&gt;<a class="code" href="structcgns__zone.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, zone-&gt;<a class="code" href="structcgns__zone.html#c97261a3a3e72190d5ee1faac286eeda">section</a>[index].<a class="code" href="structcgns__section.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>))
<a name="l04710"></a>04710                 <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l04711"></a>04711              <span class="comment">/* save the old in-memory address to overwrite */</span>
<a name="l04712"></a>04712             section = &amp;(zone-&gt;<a class="code" href="structcgns__zone.html#c97261a3a3e72190d5ee1faac286eeda">section</a>[index]);
<a name="l04713"></a>04713              <span class="comment">/* free memory */</span>
<a name="l04714"></a>04714             <a class="code" href="cgns__header_8h.html#ef7dd58cebecd0ebefa3f565c6773f97">cgi_free_section</a>(section);
<a name="l04715"></a>04715             <span class="keywordflow">break</span>;
<a name="l04716"></a>04716         }
<a name="l04717"></a>04717     }
<a name="l04718"></a>04718      <span class="comment">/* ... or add a Elements_t Node: */</span>
<a name="l04719"></a>04719     <span class="keywordflow">if</span> (index==zone-&gt;<a class="code" href="structcgns__zone.html#62b0a12fb47ee3dd5c39282c5610980c">nsections</a>) {
<a name="l04720"></a>04720         <span class="keywordflow">if</span> (zone-&gt;<a class="code" href="structcgns__zone.html#62b0a12fb47ee3dd5c39282c5610980c">nsections</a> == 0) {
<a name="l04721"></a>04721             zone-&gt;<a class="code" href="structcgns__zone.html#c97261a3a3e72190d5ee1faac286eeda">section</a> = <a class="code" href="cgns__header_8h.html#948c36b3700de0f3332aa3620eafb0f4">CGNS_NEW</a>(<a class="code" href="structcgns__section.html">cgns_section</a>, zone-&gt;<a class="code" href="structcgns__zone.html#62b0a12fb47ee3dd5c39282c5610980c">nsections</a>+1);
<a name="l04722"></a>04722         } <span class="keywordflow">else</span> {
<a name="l04723"></a>04723             zone-&gt;<a class="code" href="structcgns__zone.html#c97261a3a3e72190d5ee1faac286eeda">section</a> = <a class="code" href="cgns__header_8h.html#e23e608849b6dc488ccdad466e76e2ad">CGNS_RENEW</a>(<a class="code" href="structcgns__section.html">cgns_section</a>, zone-&gt;<a class="code" href="structcgns__zone.html#62b0a12fb47ee3dd5c39282c5610980c">nsections</a>+1, zone-&gt;<a class="code" href="structcgns__zone.html#c97261a3a3e72190d5ee1faac286eeda">section</a>);
<a name="l04724"></a>04724         }
<a name="l04725"></a>04725         section = &amp;(zone-&gt;<a class="code" href="structcgns__zone.html#c97261a3a3e72190d5ee1faac286eeda">section</a>[zone-&gt;<a class="code" href="structcgns__zone.html#62b0a12fb47ee3dd5c39282c5610980c">nsections</a>]);
<a name="l04726"></a>04726         zone-&gt;<a class="code" href="structcgns__zone.html#62b0a12fb47ee3dd5c39282c5610980c">nsections</a>++;
<a name="l04727"></a>04727     }
<a name="l04728"></a>04728     (*S) = index+1;
<a name="l04729"></a>04729 
<a name="l04730"></a>04730      <span class="comment">/* save data in memory */</span>
<a name="l04731"></a>04731     strcpy(section-&gt;<a class="code" href="structcgns__section.html#b5192b2e796e6224c74ec532ec32abf7">name</a>, SectionName);
<a name="l04732"></a>04732     section-&gt;<a class="code" href="structcgns__section.html#aba2784ee38437a66e1cc555bc27d00a">el_type</a> = type;
<a name="l04733"></a>04733     section-&gt;<a class="code" href="structcgns__section.html#0ab09fc1a7a4595026e16dad45ebf756">range</a>[0] = start;
<a name="l04734"></a>04734     section-&gt;<a class="code" href="structcgns__section.html#0ab09fc1a7a4595026e16dad45ebf756">range</a>[1] = end;
<a name="l04735"></a>04735     section-&gt;<a class="code" href="structcgns__section.html#2a8c9b8e52efadfcb30b65c67d537896">el_bound</a> = nbndry;
<a name="l04736"></a>04736 
<a name="l04737"></a>04737      <span class="comment">/* Compute ElementDataSize */</span>
<a name="l04738"></a>04738     num = end - start +1;
<a name="l04739"></a>04739     ElementDataSize = <a class="code" href="cgns__header_8h.html#2e35407a6176513c7f10fdae217b8dd7">cgi_element_data_size</a>(type, num, elements);
<a name="l04740"></a>04740     <span class="keywordflow">if</span> (ElementDataSize &lt; 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l04741"></a>04741 
<a name="l04742"></a>04742      <span class="comment">/* Write element connectivity in internal data structure */</span>
<a name="l04743"></a>04743     section-&gt;<a class="code" href="structcgns__section.html#2c31858307755ffce74be48ed9c17699">connect</a> = <a class="code" href="cgns__header_8h.html#948c36b3700de0f3332aa3620eafb0f4">CGNS_NEW</a>(<a class="code" href="structcgns__array.html">cgns_array</a>, 1);
<a name="l04744"></a>04744     section-&gt;<a class="code" href="structcgns__section.html#2c31858307755ffce74be48ed9c17699">connect</a>-&gt;<a class="code" href="structcgns__array.html#735984d41155bc1032e09bece8f8d66d">data</a> = (<span class="keywordtype">void</span> *)<a class="code" href="cg__malloc_8h.html#535b58ab5aa48e2e86073e334d43fd32">malloc</a>(ElementDataSize*<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>));
<a name="l04745"></a>04745     memcpy(section-&gt;<a class="code" href="structcgns__section.html#2c31858307755ffce74be48ed9c17699">connect</a>-&gt;<a class="code" href="structcgns__array.html#735984d41155bc1032e09bece8f8d66d">data</a>, elements, ElementDataSize*<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>));
<a name="l04746"></a>04746     strcpy(section-&gt;<a class="code" href="structcgns__section.html#2c31858307755ffce74be48ed9c17699">connect</a>-&gt;<a class="code" href="structcgns__array.html#b5192b2e796e6224c74ec532ec32abf7">name</a>,<span class="stringliteral">"ElementConnectivity"</span>);
<a name="l04747"></a>04747     strcpy(section-&gt;<a class="code" href="structcgns__section.html#2c31858307755ffce74be48ed9c17699">connect</a>-&gt;<a class="code" href="structcgns__array.html#86e4d546d1321bcac60584c413eb0f6d">data_type</a>,<span class="stringliteral">"I4"</span>);
<a name="l04748"></a>04748     section-&gt;<a class="code" href="structcgns__section.html#2c31858307755ffce74be48ed9c17699">connect</a>-&gt;<a class="code" href="structcgns__array.html#c7e27870b79e982377b6669e633a32ad">data_dim</a>=1;
<a name="l04749"></a>04749     section-&gt;<a class="code" href="structcgns__section.html#2c31858307755ffce74be48ed9c17699">connect</a>-&gt;<a class="code" href="structcgns__array.html#5ca9ee30477c56421c793e2341f75931">dim_vals</a>[0]=ElementDataSize;
<a name="l04750"></a>04750 
<a name="l04751"></a>04751     <span class="comment">/* initialize ... */</span>
<a name="l04752"></a>04752     section-&gt;<a class="code" href="structcgns__section.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>=0;
<a name="l04753"></a>04753     section-&gt;<a class="code" href="structcgns__section.html#f6f27f42b9ecc89cf0ed39415bca67d1">link</a>=0;
<a name="l04754"></a>04754     section-&gt;<a class="code" href="structcgns__section.html#cdee83a08ec17a8018bf719ef82a3602">ndescr</a>=0;
<a name="l04755"></a>04755     section-&gt;<a class="code" href="structcgns__section.html#e62c9afa58926a65c9014d2be3e5f554">parent</a>=0;
<a name="l04756"></a>04756     section-&gt;<a class="code" href="structcgns__section.html#dc1e157d997b3174f9d41c5b645631f9">nuser_data</a>=0;
<a name="l04757"></a>04757     section-&gt;<a class="code" href="structcgns__section.html#e095e97c5a8c7758b4c9d0e463093b57">rind_planes</a>=0;
<a name="l04758"></a>04758 
<a name="l04759"></a>04759      <span class="comment">/* initialize other fields */</span>
<a name="l04760"></a>04760     section-&gt;<a class="code" href="structcgns__section.html#2c31858307755ffce74be48ed9c17699">connect</a>-&gt;<a class="code" href="structcgns__array.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>=0;
<a name="l04761"></a>04761     section-&gt;<a class="code" href="structcgns__section.html#2c31858307755ffce74be48ed9c17699">connect</a>-&gt;<a class="code" href="structcgns__array.html#f6f27f42b9ecc89cf0ed39415bca67d1">link</a>=0;
<a name="l04762"></a>04762     section-&gt;<a class="code" href="structcgns__section.html#2c31858307755ffce74be48ed9c17699">connect</a>-&gt;<a class="code" href="structcgns__array.html#cdee83a08ec17a8018bf719ef82a3602">ndescr</a>=0;
<a name="l04763"></a>04763     section-&gt;<a class="code" href="structcgns__section.html#2c31858307755ffce74be48ed9c17699">connect</a>-&gt;<a class="code" href="structcgns__array.html#6aa9eb3c5ad6bdecf6cd8c2b3d97839c">data_class</a>=<a class="code" href="cgns_keywords_8h.html#6e3a45166e6780b756fef5c427279ca079d3001e5ba3290ed80f0762d51bb379">DataClassNull</a>;
<a name="l04764"></a>04764     section-&gt;<a class="code" href="structcgns__section.html#2c31858307755ffce74be48ed9c17699">connect</a>-&gt;<a class="code" href="structcgns__array.html#9b4c6b823f0741729aa08b21a4120308">units</a>=0;
<a name="l04765"></a>04765     section-&gt;<a class="code" href="structcgns__section.html#2c31858307755ffce74be48ed9c17699">connect</a>-&gt;<a class="code" href="structcgns__array.html#87b103c38a459cc8a1c6cf06f01aa12a">exponents</a>=0;
<a name="l04766"></a>04766     section-&gt;<a class="code" href="structcgns__section.html#2c31858307755ffce74be48ed9c17699">connect</a>-&gt;<a class="code" href="structcgns__array.html#0724545c909f7773439fee292fe3ef5f">convert</a>=0;
<a name="l04767"></a>04767 
<a name="l04768"></a>04768     <span class="comment">/* save data in file */</span>
<a name="l04769"></a>04769     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#bda54ec1f363c4d2721feace44fe4d21">cgi_write_section</a>(zone-&gt;<a class="code" href="structcgns__zone.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, section)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l04770"></a>04770     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l04771"></a>04771 }
<a name="l04772"></a>04772 
<a name="l04773"></a><a class="code" href="cgnslib_8h.html#4182fc44eed45e46561c2fb9bf23879e">04773</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#7bd521af5d082f2aa8e964dc3ac06dac">cg_parent_data_write</a>(<span class="keywordtype">int</span> file_number, <span class="keywordtype">int</span> B, <span class="keywordtype">int</span> Z, <span class="keywordtype">int</span> S, <span class="keywordtype">int</span> <span class="keyword">const</span> * parent_data) {
<a name="l04774"></a>04774     <a class="code" href="structcgns__section.html">cgns_section</a> *section;
<a name="l04775"></a>04775     <a class="code" href="structcgns__array.html">cgns_array</a> *<a class="code" href="test__partial_8c.html#8e99857563320b5d943128e5816b1d70">parent</a>;
<a name="l04776"></a>04776     <span class="keywordtype">int</span> num;
<a name="l04777"></a>04777 
<a name="l04778"></a>04778      <span class="comment">/* get file and check mode */</span>
<a name="l04779"></a>04779     cg = <a class="code" href="cgns__header_8h.html#64a13852e04666fc73b74a8ff7727f4f">cgi_get_file</a>(file_number);
<a name="l04780"></a>04780     <span class="keywordflow">if</span> (cg == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l04781"></a>04781 
<a name="l04782"></a>04782     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l04783"></a>04783 
<a name="l04784"></a>04784     section = <a class="code" href="cgns__header_8h.html#0f40f721f66bc81a686c3ed01ae96e0a">cgi_get_section</a>(cg, B, Z, S);
<a name="l04785"></a>04785     <span class="keywordflow">if</span> (section == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l04786"></a>04786 
<a name="l04787"></a>04787     <span class="keywordflow">if</span> (section-&gt;<a class="code" href="structcgns__section.html#e62c9afa58926a65c9014d2be3e5f554">parent</a>) {
<a name="l04788"></a>04788         <span class="keywordflow">if</span> (cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>==<a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>) {
<a name="l04789"></a>04789             <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"ParentData is already defined under Elements_t '%s'"</span>,
<a name="l04790"></a>04790                    section-&gt;<a class="code" href="structcgns__section.html#b5192b2e796e6224c74ec532ec32abf7">name</a>);
<a name="l04791"></a>04791             <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l04792"></a>04792         }
<a name="l04793"></a>04793         <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#032ae98a5be795f845bb5cc7d63750e4">cgi_delete_node</a>(section-&gt;<a class="code" href="structcgns__section.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, section-&gt;<a class="code" href="structcgns__section.html#e62c9afa58926a65c9014d2be3e5f554">parent</a>-&gt;<a class="code" href="structcgns__array.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>))
<a name="l04794"></a>04794             <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l04795"></a>04795         <a class="code" href="cgns__header_8h.html#a8d17c939a13a195c4ab5f66573305cb">cgi_free_array</a>(section-&gt;<a class="code" href="structcgns__section.html#e62c9afa58926a65c9014d2be3e5f554">parent</a>);
<a name="l04796"></a>04796     } <span class="keywordflow">else</span>
<a name="l04797"></a>04797         section-&gt;<a class="code" href="structcgns__section.html#e62c9afa58926a65c9014d2be3e5f554">parent</a> = <a class="code" href="cgns__header_8h.html#948c36b3700de0f3332aa3620eafb0f4">CGNS_NEW</a>(<a class="code" href="structcgns__array.html">cgns_array</a>, 1);
<a name="l04798"></a>04798     parent = section-&gt;<a class="code" href="structcgns__section.html#e62c9afa58926a65c9014d2be3e5f554">parent</a>;
<a name="l04799"></a>04799 
<a name="l04800"></a>04800     num = section-&gt;<a class="code" href="structcgns__section.html#0ab09fc1a7a4595026e16dad45ebf756">range</a>[1]-section-&gt;<a class="code" href="structcgns__section.html#0ab09fc1a7a4595026e16dad45ebf756">range</a>[0]+1;
<a name="l04801"></a>04801     strcpy(parent-&gt;<a class="code" href="structcgns__array.html#86e4d546d1321bcac60584c413eb0f6d">data_type</a>, <span class="stringliteral">"I4"</span>);
<a name="l04802"></a>04802     parent-&gt;<a class="code" href="structcgns__array.html#735984d41155bc1032e09bece8f8d66d">data</a> = (<span class="keywordtype">void</span> *)<a class="code" href="cg__malloc_8h.html#535b58ab5aa48e2e86073e334d43fd32">malloc</a>(num*4*<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>));
<a name="l04803"></a>04803     <span class="keywordflow">if</span> (!parent-&gt;<a class="code" href="structcgns__array.html#735984d41155bc1032e09bece8f8d66d">data</a>) {
<a name="l04804"></a>04804         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Error allocating parent-&gt;data"</span>);
<a name="l04805"></a>04805         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l04806"></a>04806     }
<a name="l04807"></a>04807     memcpy(parent-&gt;<a class="code" href="structcgns__array.html#735984d41155bc1032e09bece8f8d66d">data</a>, parent_data, num*4*<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>));
<a name="l04808"></a>04808     strcpy(parent-&gt;<a class="code" href="structcgns__array.html#b5192b2e796e6224c74ec532ec32abf7">name</a>, <span class="stringliteral">"ParentData"</span>);
<a name="l04809"></a>04809     parent-&gt;<a class="code" href="structcgns__array.html#c7e27870b79e982377b6669e633a32ad">data_dim</a> =2;
<a name="l04810"></a>04810     parent-&gt;<a class="code" href="structcgns__array.html#5ca9ee30477c56421c793e2341f75931">dim_vals</a>[0]=num;
<a name="l04811"></a>04811     parent-&gt;<a class="code" href="structcgns__array.html#5ca9ee30477c56421c793e2341f75931">dim_vals</a>[1]=4;
<a name="l04812"></a>04812 
<a name="l04813"></a>04813      <span class="comment">/* initialize other fields */</span>
<a name="l04814"></a>04814     parent-&gt;<a class="code" href="structcgns__array.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>=0;
<a name="l04815"></a>04815     parent-&gt;<a class="code" href="structcgns__array.html#f6f27f42b9ecc89cf0ed39415bca67d1">link</a>=0;
<a name="l04816"></a>04816     parent-&gt;<a class="code" href="structcgns__array.html#cdee83a08ec17a8018bf719ef82a3602">ndescr</a>=0;
<a name="l04817"></a>04817     parent-&gt;<a class="code" href="structcgns__array.html#6aa9eb3c5ad6bdecf6cd8c2b3d97839c">data_class</a>=<a class="code" href="cgns_keywords_8h.html#6e3a45166e6780b756fef5c427279ca079d3001e5ba3290ed80f0762d51bb379">DataClassNull</a>;
<a name="l04818"></a>04818     parent-&gt;<a class="code" href="structcgns__array.html#9b4c6b823f0741729aa08b21a4120308">units</a>=0;
<a name="l04819"></a>04819     parent-&gt;<a class="code" href="structcgns__array.html#87b103c38a459cc8a1c6cf06f01aa12a">exponents</a>=0;
<a name="l04820"></a>04820     parent-&gt;<a class="code" href="structcgns__array.html#0724545c909f7773439fee292fe3ef5f">convert</a>=0;
<a name="l04821"></a>04821 
<a name="l04822"></a>04822     <span class="keywordflow">if</span>(<a class="code" href="cgns__header_8h.html#2c75d7a1fe94da29b442e30b06c05035">cgi_write_array</a>(section-&gt;<a class="code" href="structcgns__section.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, section-&gt;<a class="code" href="structcgns__section.html#e62c9afa58926a65c9014d2be3e5f554">parent</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l04823"></a>04823     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l04824"></a>04824 }
<a name="l04825"></a>04825 
<a name="l04826"></a><a class="code" href="cgnslib_8h.html#2cd1c556f7b4460e8fea708ad1457a47">04826</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#6f79cc0b90514a0cdb35977679554ce2">cg_grid_write</a>(<span class="keywordtype">int</span> file_number, <span class="keywordtype">int</span> B, <span class="keywordtype">int</span> Z, <span class="keywordtype">char</span> <span class="keyword">const</span> * zcoorname, <span class="keywordtype">int</span> *G) {
<a name="l04827"></a>04827     <a class="code" href="structcgns__zone.html">cgns_zone</a> *zone;
<a name="l04828"></a>04828     <a class="code" href="structcgns__zcoor.html">cgns_zcoor</a> *zcoor = NULL;
<a name="l04829"></a>04829     <span class="keywordtype">int</span> index, n, index_dim;
<a name="l04830"></a>04830 
<a name="l04831"></a>04831      <span class="comment">/* verify input */</span>
<a name="l04832"></a>04832     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#b042658423afd0817ab23b3ea7a5e03d">cgi_check_strlen</a>(zcoorname)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l04833"></a>04833 
<a name="l04834"></a>04834      <span class="comment">/* get memory address */</span>
<a name="l04835"></a>04835     cg = <a class="code" href="cgns__header_8h.html#64a13852e04666fc73b74a8ff7727f4f">cgi_get_file</a>(file_number);
<a name="l04836"></a>04836     <span class="keywordflow">if</span> (cg == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l04837"></a>04837 
<a name="l04838"></a>04838     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l04839"></a>04839 
<a name="l04840"></a>04840     zone = <a class="code" href="cgns__header_8h.html#5ce4ef97dee99baf9183b8c23419bfe0">cgi_get_zone</a>(cg, B, Z);
<a name="l04841"></a>04841     <span class="keywordflow">if</span> (zone==0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l04842"></a>04842 
<a name="l04843"></a>04843      <span class="comment">/* Overwrite a GridCoordinates_t Node: */</span>
<a name="l04844"></a>04844     <span class="keywordflow">for</span> (index=0; index&lt;zone-&gt;<a class="code" href="structcgns__zone.html#f0b700b76075cef935eadd2463de5ce2">nzcoor</a>; index++) {
<a name="l04845"></a>04845         <span class="keywordflow">if</span> (strcmp(zcoorname, zone-&gt;<a class="code" href="structcgns__zone.html#556624ec3e625745458d6422509f7c9e">zcoor</a>[index].<a class="code" href="structcgns__zcoor.html#b5192b2e796e6224c74ec532ec32abf7">name</a>)==0) {
<a name="l04846"></a>04846 
<a name="l04847"></a>04847              <span class="comment">/* in CG_MODE_WRITE, children names must be unique */</span>
<a name="l04848"></a>04848             <span class="keywordflow">if</span> (cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>==<a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>) {
<a name="l04849"></a>04849                 <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Duplicate child name found: %s"</span>,zcoorname);
<a name="l04850"></a>04850                 <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l04851"></a>04851             }
<a name="l04852"></a>04852 
<a name="l04853"></a>04853              <span class="comment">/* overwrite an existing GridCoordinates_t node */</span>
<a name="l04854"></a>04854              <span class="comment">/* delete the existing GridCoordinates_t from file */</span>
<a name="l04855"></a>04855             <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#032ae98a5be795f845bb5cc7d63750e4">cgi_delete_node</a>(zone-&gt;<a class="code" href="structcgns__zone.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, zone-&gt;<a class="code" href="structcgns__zone.html#556624ec3e625745458d6422509f7c9e">zcoor</a>[index].<a class="code" href="structcgns__zcoor.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>))
<a name="l04856"></a>04856                 <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l04857"></a>04857              <span class="comment">/* save the old in-memory address to overwrite */</span>
<a name="l04858"></a>04858             zcoor = &amp;(zone-&gt;<a class="code" href="structcgns__zone.html#556624ec3e625745458d6422509f7c9e">zcoor</a>[index]);
<a name="l04859"></a>04859              <span class="comment">/* free memory */</span>
<a name="l04860"></a>04860             <a class="code" href="cgns__header_8h.html#0c06137eae12f6ab01478c8043fbdf96">cgi_free_zcoor</a>(zcoor);
<a name="l04861"></a>04861             <span class="keywordflow">break</span>;
<a name="l04862"></a>04862         }
<a name="l04863"></a>04863     }
<a name="l04864"></a>04864      <span class="comment">/* ... or add a GridCoordinates_t Node: */</span>
<a name="l04865"></a>04865     <span class="keywordflow">if</span> (index==zone-&gt;<a class="code" href="structcgns__zone.html#f0b700b76075cef935eadd2463de5ce2">nzcoor</a>) {
<a name="l04866"></a>04866         <span class="keywordflow">if</span> (zone-&gt;<a class="code" href="structcgns__zone.html#f0b700b76075cef935eadd2463de5ce2">nzcoor</a> == 0) {
<a name="l04867"></a>04867             zone-&gt;<a class="code" href="structcgns__zone.html#556624ec3e625745458d6422509f7c9e">zcoor</a> = <a class="code" href="cgns__header_8h.html#948c36b3700de0f3332aa3620eafb0f4">CGNS_NEW</a>(<a class="code" href="structcgns__zcoor.html">cgns_zcoor</a>, 1);
<a name="l04868"></a>04868         } <span class="keywordflow">else</span> {
<a name="l04869"></a>04869             zone-&gt;<a class="code" href="structcgns__zone.html#556624ec3e625745458d6422509f7c9e">zcoor</a> = <a class="code" href="cgns__header_8h.html#e23e608849b6dc488ccdad466e76e2ad">CGNS_RENEW</a>(<a class="code" href="structcgns__zcoor.html">cgns_zcoor</a>, zone-&gt;<a class="code" href="structcgns__zone.html#f0b700b76075cef935eadd2463de5ce2">nzcoor</a>+1, zone-&gt;<a class="code" href="structcgns__zone.html#556624ec3e625745458d6422509f7c9e">zcoor</a>);
<a name="l04870"></a>04870         }
<a name="l04871"></a>04871         zcoor = &amp;(zone-&gt;<a class="code" href="structcgns__zone.html#556624ec3e625745458d6422509f7c9e">zcoor</a>[zone-&gt;<a class="code" href="structcgns__zone.html#f0b700b76075cef935eadd2463de5ce2">nzcoor</a>]);
<a name="l04872"></a>04872         zone-&gt;<a class="code" href="structcgns__zone.html#f0b700b76075cef935eadd2463de5ce2">nzcoor</a>++;
<a name="l04873"></a>04873     }
<a name="l04874"></a>04874     (*G) = index+1;
<a name="l04875"></a>04875 
<a name="l04876"></a>04876      <span class="comment">/* save data in memory */</span>
<a name="l04877"></a>04877     strcpy(zcoor-&gt;<a class="code" href="structcgns__zcoor.html#b5192b2e796e6224c74ec532ec32abf7">name</a>,zcoorname);
<a name="l04878"></a>04878 
<a name="l04879"></a>04879      <span class="comment">/* initialize */</span>
<a name="l04880"></a>04880     zcoor-&gt;<a class="code" href="structcgns__zcoor.html#a6cb1b2f94bbe4063ed616bdc8797abf">ncoords</a> = 0;
<a name="l04881"></a>04881     zcoor-&gt;<a class="code" href="structcgns__zcoor.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>=0;
<a name="l04882"></a>04882     zcoor-&gt;<a class="code" href="structcgns__zcoor.html#f6f27f42b9ecc89cf0ed39415bca67d1">link</a>=0;
<a name="l04883"></a>04883     zcoor-&gt;<a class="code" href="structcgns__zcoor.html#cdee83a08ec17a8018bf719ef82a3602">ndescr</a>=0;
<a name="l04884"></a>04884     zcoor-&gt;<a class="code" href="structcgns__zcoor.html#6aa9eb3c5ad6bdecf6cd8c2b3d97839c">data_class</a>=<a class="code" href="cgns_keywords_8h.html#6e3a45166e6780b756fef5c427279ca079d3001e5ba3290ed80f0762d51bb379">DataClassNull</a>;
<a name="l04885"></a>04885     zcoor-&gt;<a class="code" href="structcgns__zcoor.html#9b4c6b823f0741729aa08b21a4120308">units</a>=0;
<a name="l04886"></a>04886     zcoor-&gt;<a class="code" href="structcgns__zcoor.html#dc1e157d997b3174f9d41c5b645631f9">nuser_data</a>=0;
<a name="l04887"></a>04887 
<a name="l04888"></a>04888     index_dim = zone-&gt;<a class="code" href="structcgns__zone.html#5ea7c3da009c9add916c0eeca1973c05">index_dim</a>;
<a name="l04889"></a>04889     zcoor-&gt;<a class="code" href="structcgns__zcoor.html#e095e97c5a8c7758b4c9d0e463093b57">rind_planes</a> = (<span class="keywordtype">int</span> *)<a class="code" href="cg__malloc_8h.html#535b58ab5aa48e2e86073e334d43fd32">malloc</a>(index_dim*2*<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>));
<a name="l04890"></a>04890     <span class="keywordflow">if</span> (!zcoor-&gt;<a class="code" href="structcgns__zcoor.html#e095e97c5a8c7758b4c9d0e463093b57">rind_planes</a>) {
<a name="l04891"></a>04891         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Error allocating zcoor-&gt;rind_plane."</span>);
<a name="l04892"></a>04892         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l04893"></a>04893     }
<a name="l04894"></a>04894     <span class="keywordflow">for</span> (n=0; n&lt;index_dim; n++)
<a name="l04895"></a>04895         zcoor-&gt;<a class="code" href="structcgns__zcoor.html#e095e97c5a8c7758b4c9d0e463093b57">rind_planes</a>[2*n]=zcoor-&gt;<a class="code" href="structcgns__zcoor.html#e095e97c5a8c7758b4c9d0e463093b57">rind_planes</a>[2*n+1]=0;
<a name="l04896"></a>04896 
<a name="l04897"></a>04897      <span class="comment">/* save data in file */</span>
<a name="l04898"></a>04898     if (<a class="code" href="cgns__header_8h.html#184dd1d99e9f4e7b826f84887ba07748">cgi_new_node</a>(zone-&gt;<a class="code" href="structcgns__zone.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, zcoor-&gt;<a class="code" href="structcgns__zcoor.html#b5192b2e796e6224c74ec532ec32abf7">name</a>, <span class="stringliteral">"GridCoordinates_t"</span>, &amp;zcoor-&gt;<a class="code" href="structcgns__zcoor.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>,
<a name="l04899"></a>04899         <span class="stringliteral">"MT"</span>, 0, 0, 0)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l04900"></a>04900 
<a name="l04901"></a>04901     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l04902"></a>04902 }
<a name="l04903"></a>04903 
<a name="l04904"></a><a class="code" href="cgnslib_8h.html#67dbe48570dab6f2e82bcdc5d73ac69f">04904</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#70537263ed0cc19e6d6e83d8a1ee595e">cg_sol_write</a>(<span class="keywordtype">int</span> file_number, <span class="keywordtype">int</span> B, <span class="keywordtype">int</span> Z, <span class="keywordtype">char</span> <span class="keyword">const</span> * solname,
<a name="l04905"></a>04905          <a class="code" href="cgns_keywords_8h.html#5a0e596ed46b12f73c2ed1b8b0176e13">GridLocation_t</a> location, <span class="keywordtype">int</span> *S) {
<a name="l04906"></a>04906     <a class="code" href="structcgns__zone.html">cgns_zone</a> *zone;
<a name="l04907"></a>04907     <a class="code" href="structcgns__sol.html">cgns_sol</a> *sol = NULL;
<a name="l04908"></a>04908     <span class="keywordtype">int</span> index, n, index_dim;
<a name="l04909"></a>04909 
<a name="l04910"></a>04910      <span class="comment">/* verify input */</span>
<a name="l04911"></a>04911     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#b042658423afd0817ab23b3ea7a5e03d">cgi_check_strlen</a>(solname)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l04912"></a>04912     <span class="keywordflow">if</span> (location != <a class="code" href="cgns_keywords_8h.html#5a0e596ed46b12f73c2ed1b8b0176e13d013c4439c3e09308d6b2eef2a4025ae">Vertex</a> &amp;&amp; location != <a class="code" href="cgns_keywords_8h.html#5a0e596ed46b12f73c2ed1b8b0176e13af82b5a2366c89873ca45b75f6e6ac36">CellCenter</a> &amp;&amp;
<a name="l04913"></a>04913         location !=<a class="code" href="cgns_keywords_8h.html#5a0e596ed46b12f73c2ed1b8b0176e13b4cea34ab6a3c3533f2422f66bf8dc3d">IFaceCenter</a> &amp;&amp; location != <a class="code" href="cgns_keywords_8h.html#5a0e596ed46b12f73c2ed1b8b0176e133f9cfc26e3953b1a7f7b8826e119a5d5">JFaceCenter</a> &amp;&amp;
<a name="l04914"></a>04914         location != <a class="code" href="cgns_keywords_8h.html#5a0e596ed46b12f73c2ed1b8b0176e1387cfa4bdd4bc3bd768c3f0bab84f2143">KFaceCenter</a>) {
<a name="l04915"></a>04915         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Given grid location not supported for FlowSolution_t"</span>);
<a name="l04916"></a>04916         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l04917"></a>04917     }
<a name="l04918"></a>04918      <span class="comment">/* if (location&lt;0 || location &gt;= NofValidGridLocation) {</span>
<a name="l04919"></a>04919 <span class="comment">        cgi_error("Invalid input:  GridLocation=%d ?",location);</span>
<a name="l04920"></a>04920 <span class="comment">        return CG_ERROR;</span>
<a name="l04921"></a>04921 <span class="comment">    } */</span>
<a name="l04922"></a>04922 
<a name="l04923"></a>04923      <span class="comment">/* get memory address for FlowSolution node */</span>
<a name="l04924"></a>04924     cg = <a class="code" href="cgns__header_8h.html#64a13852e04666fc73b74a8ff7727f4f">cgi_get_file</a>(file_number);
<a name="l04925"></a>04925     <span class="keywordflow">if</span> (cg == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l04926"></a>04926 
<a name="l04927"></a>04927     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l04928"></a>04928 
<a name="l04929"></a>04929     zone = <a class="code" href="cgns__header_8h.html#5ce4ef97dee99baf9183b8c23419bfe0">cgi_get_zone</a>(cg, B, Z);
<a name="l04930"></a>04930     <span class="keywordflow">if</span> (zone==0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l04931"></a>04931     <span class="keywordflow">if</span> (zone-&gt;<a class="code" href="structcgns__zone.html#70e3228eb924895531acd9144d41916f">type</a> != <a class="code" href="cgns_keywords_8h.html#68acb02e36b91d3020f4de86436a07fe8a382d9e08294b2cd243ee60bd75c068">Structured</a> &amp;&amp; (location == <a class="code" href="cgns_keywords_8h.html#5a0e596ed46b12f73c2ed1b8b0176e13b4cea34ab6a3c3533f2422f66bf8dc3d">IFaceCenter</a> ||
<a name="l04932"></a>04932         location == <a class="code" href="cgns_keywords_8h.html#5a0e596ed46b12f73c2ed1b8b0176e133f9cfc26e3953b1a7f7b8826e119a5d5">JFaceCenter</a> || location == <a class="code" href="cgns_keywords_8h.html#5a0e596ed46b12f73c2ed1b8b0176e1387cfa4bdd4bc3bd768c3f0bab84f2143">KFaceCenter</a>)) {
<a name="l04933"></a>04933         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a> (<span class="stringliteral">"GridLocation [IJK]FaceCenter only valid for Structured grid"</span>);
<a name="l04934"></a>04934         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l04935"></a>04935     }
<a name="l04936"></a>04936 
<a name="l04937"></a>04937      <span class="comment">/* Overwrite a FlowSolution_t Node: */</span>
<a name="l04938"></a>04938     <span class="keywordflow">for</span> (index=0; index&lt;zone-&gt;<a class="code" href="structcgns__zone.html#d79140df20a564ec330f3ded0dec359e">nsols</a>; index++) {
<a name="l04939"></a>04939         <span class="keywordflow">if</span> (strcmp(solname, zone-&gt;<a class="code" href="structcgns__zone.html#d628a4bb9d321f33c293d9b51b835688">sol</a>[index].<a class="code" href="structcgns__sol.html#b5192b2e796e6224c74ec532ec32abf7">name</a>)==0) {
<a name="l04940"></a>04940 
<a name="l04941"></a>04941              <span class="comment">/* in CG_MODE_WRITE, children names must be unique */</span>
<a name="l04942"></a>04942             <span class="keywordflow">if</span> (cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>==<a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>) {
<a name="l04943"></a>04943                 <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Duplicate child name found: %s"</span>,solname);
<a name="l04944"></a>04944                 <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l04945"></a>04945             }
<a name="l04946"></a>04946 
<a name="l04947"></a>04947              <span class="comment">/* overwrite an existing solution */</span>
<a name="l04948"></a>04948              <span class="comment">/* delete the existing solution from file */</span>
<a name="l04949"></a>04949             <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#032ae98a5be795f845bb5cc7d63750e4">cgi_delete_node</a>(zone-&gt;<a class="code" href="structcgns__zone.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, zone-&gt;<a class="code" href="structcgns__zone.html#d628a4bb9d321f33c293d9b51b835688">sol</a>[index].<a class="code" href="structcgns__sol.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>))
<a name="l04950"></a>04950                 <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l04951"></a>04951              <span class="comment">/* save the old in-memory address to overwrite */</span>
<a name="l04952"></a>04952             sol = &amp;(zone-&gt;<a class="code" href="structcgns__zone.html#d628a4bb9d321f33c293d9b51b835688">sol</a>[index]);
<a name="l04953"></a>04953              <span class="comment">/* free memory */</span>
<a name="l04954"></a>04954             <a class="code" href="cgns__header_8h.html#9ae9136b6a086e493c2f0c97497c0eec">cgi_free_sol</a>(sol);
<a name="l04955"></a>04955             <span class="keywordflow">break</span>;
<a name="l04956"></a>04956         }
<a name="l04957"></a>04957     }
<a name="l04958"></a>04958      <span class="comment">/* ... or add a FlowSolution_t Node: */</span>
<a name="l04959"></a>04959     <span class="keywordflow">if</span> (index==zone-&gt;<a class="code" href="structcgns__zone.html#d79140df20a564ec330f3ded0dec359e">nsols</a>) {
<a name="l04960"></a>04960         <span class="keywordflow">if</span> (zone-&gt;<a class="code" href="structcgns__zone.html#d79140df20a564ec330f3ded0dec359e">nsols</a> == 0) {
<a name="l04961"></a>04961             zone-&gt;<a class="code" href="structcgns__zone.html#d628a4bb9d321f33c293d9b51b835688">sol</a> = <a class="code" href="cgns__header_8h.html#948c36b3700de0f3332aa3620eafb0f4">CGNS_NEW</a>(<a class="code" href="structcgns__sol.html">cgns_sol</a>, zone-&gt;<a class="code" href="structcgns__zone.html#d79140df20a564ec330f3ded0dec359e">nsols</a>+1);
<a name="l04962"></a>04962         } <span class="keywordflow">else</span> {
<a name="l04963"></a>04963             zone-&gt;<a class="code" href="structcgns__zone.html#d628a4bb9d321f33c293d9b51b835688">sol</a> = <a class="code" href="cgns__header_8h.html#e23e608849b6dc488ccdad466e76e2ad">CGNS_RENEW</a>(<a class="code" href="structcgns__sol.html">cgns_sol</a>, zone-&gt;<a class="code" href="structcgns__zone.html#d79140df20a564ec330f3ded0dec359e">nsols</a>+1, zone-&gt;<a class="code" href="structcgns__zone.html#d628a4bb9d321f33c293d9b51b835688">sol</a>);
<a name="l04964"></a>04964         }
<a name="l04965"></a>04965         sol = &amp;(zone-&gt;<a class="code" href="structcgns__zone.html#d628a4bb9d321f33c293d9b51b835688">sol</a>[zone-&gt;<a class="code" href="structcgns__zone.html#d79140df20a564ec330f3ded0dec359e">nsols</a>]);
<a name="l04966"></a>04966         zone-&gt;<a class="code" href="structcgns__zone.html#d79140df20a564ec330f3ded0dec359e">nsols</a>++;
<a name="l04967"></a>04967     }
<a name="l04968"></a>04968     (*S) = index+1;
<a name="l04969"></a>04969 
<a name="l04970"></a>04970      <span class="comment">/* save data in memory */</span>
<a name="l04971"></a>04971     strcpy(sol-&gt;<a class="code" href="structcgns__sol.html#b5192b2e796e6224c74ec532ec32abf7">name</a>,solname);
<a name="l04972"></a>04972     sol-&gt;<a class="code" href="structcgns__sol.html#0e4921cde80f9718431923eedef14779">location</a> = location;
<a name="l04973"></a>04973 
<a name="l04974"></a>04974      <span class="comment">/* initialize */</span>
<a name="l04975"></a>04975     sol-&gt;<a class="code" href="structcgns__sol.html#6a44392df035942bf1234e9e4414cdf5">nfields</a> = 0;
<a name="l04976"></a>04976     sol-&gt;<a class="code" href="structcgns__sol.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>=0;
<a name="l04977"></a>04977     sol-&gt;<a class="code" href="structcgns__sol.html#f6f27f42b9ecc89cf0ed39415bca67d1">link</a>=0;
<a name="l04978"></a>04978     sol-&gt;<a class="code" href="structcgns__sol.html#cdee83a08ec17a8018bf719ef82a3602">ndescr</a>=0;
<a name="l04979"></a>04979     sol-&gt;<a class="code" href="structcgns__sol.html#6aa9eb3c5ad6bdecf6cd8c2b3d97839c">data_class</a>=<a class="code" href="cgns_keywords_8h.html#6e3a45166e6780b756fef5c427279ca079d3001e5ba3290ed80f0762d51bb379">DataClassNull</a>;
<a name="l04980"></a>04980     sol-&gt;<a class="code" href="structcgns__sol.html#9b4c6b823f0741729aa08b21a4120308">units</a>=0;
<a name="l04981"></a>04981     sol-&gt;<a class="code" href="structcgns__sol.html#dc1e157d997b3174f9d41c5b645631f9">nuser_data</a>=0;
<a name="l04982"></a>04982 
<a name="l04983"></a>04983     index_dim = zone-&gt;<a class="code" href="structcgns__zone.html#5ea7c3da009c9add916c0eeca1973c05">index_dim</a>;
<a name="l04984"></a>04984     sol-&gt;<a class="code" href="structcgns__sol.html#e095e97c5a8c7758b4c9d0e463093b57">rind_planes</a> = (<span class="keywordtype">int</span> *)<a class="code" href="cg__malloc_8h.html#535b58ab5aa48e2e86073e334d43fd32">malloc</a>(index_dim*2*<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>));
<a name="l04985"></a>04985     <span class="keywordflow">if</span> (!sol-&gt;<a class="code" href="structcgns__sol.html#e095e97c5a8c7758b4c9d0e463093b57">rind_planes</a>) {
<a name="l04986"></a>04986         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Error allocating sol-&gt;rind_plane."</span>);
<a name="l04987"></a>04987         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l04988"></a>04988     }
<a name="l04989"></a>04989     <span class="keywordflow">for</span> (n=0; n&lt;index_dim; n++)
<a name="l04990"></a>04990         sol-&gt;<a class="code" href="structcgns__sol.html#e095e97c5a8c7758b4c9d0e463093b57">rind_planes</a>[2*n]=sol-&gt;<a class="code" href="structcgns__sol.html#e095e97c5a8c7758b4c9d0e463093b57">rind_planes</a>[2*n+1]=0;
<a name="l04991"></a>04991 
<a name="l04992"></a>04992      <span class="comment">/* save data in file */</span>
<a name="l04993"></a>04993     if (<a class="code" href="cgns__header_8h.html#184dd1d99e9f4e7b826f84887ba07748">cgi_new_node</a>(zone-&gt;<a class="code" href="structcgns__zone.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, sol-&gt;<a class="code" href="structcgns__sol.html#b5192b2e796e6224c74ec532ec32abf7">name</a>, <span class="stringliteral">"FlowSolution_t"</span>, &amp;sol-&gt;<a class="code" href="structcgns__sol.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>,
<a name="l04994"></a>04994         <span class="stringliteral">"MT"</span>, 0, 0, 0)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l04995"></a>04995     <span class="keywordflow">if</span> (sol-&gt;<a class="code" href="structcgns__sol.html#0e4921cde80f9718431923eedef14779">location</a> != <a class="code" href="cgns_keywords_8h.html#5a0e596ed46b12f73c2ed1b8b0176e13d013c4439c3e09308d6b2eef2a4025ae">Vertex</a>) {
<a name="l04996"></a>04996         <span class="keywordtype">int</span> length = strlen(<a class="code" href="cgnslib_8c.html#eb037aad0a1892338bfeeb05176a29bd">GridLocationName</a>[sol-&gt;<a class="code" href="structcgns__sol.html#0e4921cde80f9718431923eedef14779">location</a>]);
<a name="l04997"></a>04997         <span class="keywordtype">double</span> GL_id;
<a name="l04998"></a>04998         <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#184dd1d99e9f4e7b826f84887ba07748">cgi_new_node</a>(sol-&gt;<a class="code" href="structcgns__sol.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, <span class="stringliteral">"GridLocation"</span>, <span class="stringliteral">"GridLocation_t"</span>, &amp;GL_id,
<a name="l04999"></a>04999             <span class="stringliteral">"C1"</span>, 1, &amp;length, (<span class="keywordtype">void</span> *)<a class="code" href="cgnslib_8c.html#eb037aad0a1892338bfeeb05176a29bd">GridLocationName</a>[sol-&gt;<a class="code" href="structcgns__sol.html#0e4921cde80f9718431923eedef14779">location</a>])) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l05000"></a>05000     }
<a name="l05001"></a>05001 
<a name="l05002"></a>05002     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l05003"></a>05003 }
<a name="l05004"></a>05004 
<a name="l05005"></a><a class="code" href="cgnslib_8h.html#7ce21f9395089f82f7991f77d0b58fc0">05005</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#aed4a847cc41ab18cdeb45df4ca2cccd">cg_field_write</a>(<span class="keywordtype">int</span> file_number, <span class="keywordtype">int</span> B, <span class="keywordtype">int</span> Z, <span class="keywordtype">int</span> S, <a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae">DataType_t</a> type, <span class="keywordtype">char</span> <span class="keyword">const</span> * fieldname,
<a name="l05006"></a>05006            <span class="keywordtype">void</span> <span class="keyword">const</span> * field_ptr, <span class="keywordtype">int</span> *F) {
<a name="l05007"></a>05007     <a class="code" href="structcgns__zone.html">cgns_zone</a> *zone;
<a name="l05008"></a>05008     <a class="code" href="structcgns__sol.html">cgns_sol</a> *sol;
<a name="l05009"></a>05009     <a class="code" href="structcgns__array.html">cgns_array</a> *field;
<a name="l05010"></a>05010     <span class="keywordtype">int</span> index, index_dim;
<a name="l05011"></a>05011 
<a name="l05012"></a>05012      <span class="comment">/* verify input */</span>
<a name="l05013"></a>05013     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#b042658423afd0817ab23b3ea7a5e03d">cgi_check_strlen</a>(fieldname)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l05014"></a>05014     <span class="keywordflow">if</span> (type!=<a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae1ca5e5244f4627fd3bf71c72015c2060">RealSingle</a> &amp;&amp; type!=<a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae5f954e649a6da0e65898e0faf7724549">RealDouble</a> &amp;&amp; type!=<a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae1e2f89e867cd91c3de2ea9fbd2ef96a3">Integer</a>) {
<a name="l05015"></a>05015         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Invalid datatype for solution array %s: %d"</span>,fieldname, type);
<a name="l05016"></a>05016         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l05017"></a>05017     }
<a name="l05018"></a>05018      <span class="comment">/* get memory addresses */</span>
<a name="l05019"></a>05019     cg = <a class="code" href="cgns__header_8h.html#64a13852e04666fc73b74a8ff7727f4f">cgi_get_file</a>(file_number);
<a name="l05020"></a>05020     <span class="keywordflow">if</span> (cg == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l05021"></a>05021 
<a name="l05022"></a>05022     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l05023"></a>05023 
<a name="l05024"></a>05024     zone = <a class="code" href="cgns__header_8h.html#5ce4ef97dee99baf9183b8c23419bfe0">cgi_get_zone</a>(cg, B, Z);
<a name="l05025"></a>05025     <span class="keywordflow">if</span> (zone==0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l05026"></a>05026 
<a name="l05027"></a>05027     sol = <a class="code" href="cgns__header_8h.html#16decafa9c28c0d177bbebffa327258b">cgi_get_sol</a>(cg, B, Z, S);
<a name="l05028"></a>05028     <span class="keywordflow">if</span> (sol==0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l05029"></a>05029 
<a name="l05030"></a>05030     index_dim = zone-&gt;<a class="code" href="structcgns__zone.html#5ea7c3da009c9add916c0eeca1973c05">index_dim</a>;
<a name="l05031"></a>05031 
<a name="l05032"></a>05032      <span class="comment">/* Overwrite a DataArray_t Node: */</span>
<a name="l05033"></a>05033     <span class="keywordflow">for</span> (index=0; index&lt;sol-&gt;<a class="code" href="structcgns__sol.html#6a44392df035942bf1234e9e4414cdf5">nfields</a>; index++) {
<a name="l05034"></a>05034         <span class="keywordflow">if</span> (strcmp(fieldname, sol-&gt;<a class="code" href="structcgns__sol.html#990a8448589e50065dfa499f60fa4888">field</a>[index].<a class="code" href="structcgns__array.html#b5192b2e796e6224c74ec532ec32abf7">name</a>)==0) {
<a name="l05035"></a>05035             field = &amp;(sol-&gt;<a class="code" href="structcgns__sol.html#990a8448589e50065dfa499f60fa4888">field</a>[index]);
<a name="l05036"></a>05036 
<a name="l05037"></a>05037              <span class="comment">/* in CG_MODE_WRITE, children names must be unique */</span>
<a name="l05038"></a>05038             <span class="keywordflow">if</span> (cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>==<a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>) {
<a name="l05039"></a>05039                 <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Duplicate child name found: %s"</span>,fieldname);
<a name="l05040"></a>05040                 <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l05041"></a>05041             }
<a name="l05042"></a>05042 
<a name="l05043"></a>05043              <span class="comment">/* overwrite an existing solution */</span>
<a name="l05044"></a>05044             <span class="keywordflow">if</span> (type==<a class="code" href="cgns__header_8h.html#24e3b83316ff66e5d321d73ee64319f2">cgi_datatype</a>(field-&gt;<a class="code" href="structcgns__array.html#86e4d546d1321bcac60584c413eb0f6d">data_type</a>)) {
<a name="l05045"></a>05045                 <span class="keywordflow">if</span> (<a class="code" href="cgns__io_8c.html#be9f73d86b7055717da0952a3f124baa">cgio_write_all_data</a>(cg-&gt;<a class="code" href="structcgns__file.html#98363ec7b27905dbf2c56c6a194c69cc">cgio</a>, field-&gt;<a class="code" href="structcgns__array.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, field_ptr)) {
<a name="l05046"></a>05046                     <a class="code" href="cgns__error_8c.html#47dd09a377bc17d5807332f8c475a23b">cg_io_error</a>(<span class="stringliteral">"cgio_write_all_data"</span>);
<a name="l05047"></a>05047                     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l05048"></a>05048                 }
<a name="l05049"></a>05049                 (*F) = index+1;
<a name="l05050"></a>05050                 <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l05051"></a>05051             }
<a name="l05052"></a>05052             <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"To overwrite array %s, use data-type '%s'"</span>,
<a name="l05053"></a>05053                 field-&gt;<a class="code" href="structcgns__array.html#b5192b2e796e6224c74ec532ec32abf7">name</a>, <a class="code" href="cgnslib_8c.html#8656d25788085de6b9d034931a302975">DataTypeName</a>[<a class="code" href="cgns__header_8h.html#24e3b83316ff66e5d321d73ee64319f2">cgi_datatype</a>(field-&gt;<a class="code" href="structcgns__array.html#86e4d546d1321bcac60584c413eb0f6d">data_type</a>)]);
<a name="l05054"></a>05054             <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l05055"></a>05055         }
<a name="l05056"></a>05056     }
<a name="l05057"></a>05057      <span class="comment">/* ... or add a DataArray_t Node: */</span>
<a name="l05058"></a>05058     <span class="keywordflow">if</span> (sol-&gt;<a class="code" href="structcgns__sol.html#6a44392df035942bf1234e9e4414cdf5">nfields</a> == 0) {
<a name="l05059"></a>05059         sol-&gt;<a class="code" href="structcgns__sol.html#990a8448589e50065dfa499f60fa4888">field</a> = <a class="code" href="cgns__header_8h.html#948c36b3700de0f3332aa3620eafb0f4">CGNS_NEW</a>(<a class="code" href="structcgns__array.html">cgns_array</a>, sol-&gt;<a class="code" href="structcgns__sol.html#6a44392df035942bf1234e9e4414cdf5">nfields</a>+1);
<a name="l05060"></a>05060     } <span class="keywordflow">else</span> {
<a name="l05061"></a>05061         sol-&gt;<a class="code" href="structcgns__sol.html#990a8448589e50065dfa499f60fa4888">field</a> = <a class="code" href="cgns__header_8h.html#e23e608849b6dc488ccdad466e76e2ad">CGNS_RENEW</a>(<a class="code" href="structcgns__array.html">cgns_array</a>, sol-&gt;<a class="code" href="structcgns__sol.html#6a44392df035942bf1234e9e4414cdf5">nfields</a>+1, sol-&gt;<a class="code" href="structcgns__sol.html#990a8448589e50065dfa499f60fa4888">field</a>);
<a name="l05062"></a>05062     }
<a name="l05063"></a>05063     field = &amp;(sol-&gt;<a class="code" href="structcgns__sol.html#990a8448589e50065dfa499f60fa4888">field</a>[sol-&gt;<a class="code" href="structcgns__sol.html#6a44392df035942bf1234e9e4414cdf5">nfields</a>]);
<a name="l05064"></a>05064     sol-&gt;<a class="code" href="structcgns__sol.html#6a44392df035942bf1234e9e4414cdf5">nfields</a>++;
<a name="l05065"></a>05065     (*F) = sol-&gt;<a class="code" href="structcgns__sol.html#6a44392df035942bf1234e9e4414cdf5">nfields</a>;
<a name="l05066"></a>05066 
<a name="l05067"></a>05067      <span class="comment">/* save data in memory */</span>
<a name="l05068"></a>05068     strcpy(field-&gt;<a class="code" href="structcgns__array.html#86e4d546d1321bcac60584c413eb0f6d">data_type</a>, <a class="code" href="cgns__header_8h.html#abf7e64b45b7a0d3aa0f56747525065c">cgi_adf_datatype</a>(type));
<a name="l05069"></a>05069     strcpy(field-&gt;<a class="code" href="structcgns__array.html#b5192b2e796e6224c74ec532ec32abf7">name</a>,fieldname);
<a name="l05070"></a>05070     field-&gt;<a class="code" href="structcgns__array.html#c7e27870b79e982377b6669e633a32ad">data_dim</a> = zone-&gt;<a class="code" href="structcgns__zone.html#5ea7c3da009c9add916c0eeca1973c05">index_dim</a>;
<a name="l05071"></a>05071     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#d5a03393f2b3476d62c4d4fc03a9aa9a">cgi_datasize</a>(index_dim, zone-&gt;<a class="code" href="structcgns__zone.html#41ee98048c689af7dcf7cf361860ee09">nijk</a>, sol-&gt;<a class="code" href="structcgns__sol.html#0e4921cde80f9718431923eedef14779">location</a>,
<a name="l05072"></a>05072             sol-&gt;<a class="code" href="structcgns__sol.html#e095e97c5a8c7758b4c9d0e463093b57">rind_planes</a>, field-&gt;<a class="code" href="structcgns__array.html#5ca9ee30477c56421c793e2341f75931">dim_vals</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l05073"></a>05073 
<a name="l05074"></a>05074      <span class="comment">/* initialize */</span>
<a name="l05075"></a>05075     field-&gt;<a class="code" href="structcgns__array.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a> = 0;
<a name="l05076"></a>05076     field-&gt;<a class="code" href="structcgns__array.html#f6f27f42b9ecc89cf0ed39415bca67d1">link</a>= 0;
<a name="l05077"></a>05077     field-&gt;<a class="code" href="structcgns__array.html#735984d41155bc1032e09bece8f8d66d">data</a>=0;
<a name="l05078"></a>05078     field-&gt;<a class="code" href="structcgns__array.html#cdee83a08ec17a8018bf719ef82a3602">ndescr</a>= 0;
<a name="l05079"></a>05079     field-&gt;<a class="code" href="structcgns__array.html#6aa9eb3c5ad6bdecf6cd8c2b3d97839c">data_class</a>= <a class="code" href="cgns_keywords_8h.html#6e3a45166e6780b756fef5c427279ca079d3001e5ba3290ed80f0762d51bb379">DataClassNull</a>;
<a name="l05080"></a>05080     field-&gt;<a class="code" href="structcgns__array.html#9b4c6b823f0741729aa08b21a4120308">units</a>= 0;
<a name="l05081"></a>05081     field-&gt;<a class="code" href="structcgns__array.html#87b103c38a459cc8a1c6cf06f01aa12a">exponents</a>= 0;
<a name="l05082"></a>05082     field-&gt;<a class="code" href="structcgns__array.html#0724545c909f7773439fee292fe3ef5f">convert</a>= 0;
<a name="l05083"></a>05083 
<a name="l05084"></a>05084      <span class="comment">/* Save DataArray_t node on disk: */</span>
<a name="l05085"></a>05085     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#184dd1d99e9f4e7b826f84887ba07748">cgi_new_node</a>(sol-&gt;<a class="code" href="structcgns__sol.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, field-&gt;<a class="code" href="structcgns__array.html#b5192b2e796e6224c74ec532ec32abf7">name</a>, <span class="stringliteral">"DataArray_t"</span>, &amp;field-&gt;<a class="code" href="structcgns__array.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>,
<a name="l05086"></a>05086         field-&gt;<a class="code" href="structcgns__array.html#86e4d546d1321bcac60584c413eb0f6d">data_type</a>, index_dim, field-&gt;<a class="code" href="structcgns__array.html#5ca9ee30477c56421c793e2341f75931">dim_vals</a>, field_ptr)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l05087"></a>05087 
<a name="l05088"></a>05088     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l05089"></a>05089 }
<a name="l05090"></a>05090 
<a name="l05091"></a><a class="code" href="cgnslib_8h.html#501596e5aab7392749402847232f60d8">05091</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#fb91b0563f5bb47acb32b090f60f7522">cg_hole_write</a>(<span class="keywordtype">int</span> file_number, <span class="keywordtype">int</span> B, <span class="keywordtype">int</span> Z, <span class="keywordtype">char</span> <span class="keyword">const</span> * holename, <a class="code" href="cgns_keywords_8h.html#5a0e596ed46b12f73c2ed1b8b0176e13">GridLocation_t</a> location,
<a name="l05092"></a>05092           <a class="code" href="cgns_keywords_8h.html#82fcf406991383f888f145541f6616f5">PointSetType_t</a> ptset_type, <span class="keywordtype">int</span> nptsets, <span class="keywordtype">int</span> <a class="code" href="write__bcdata_8c.html#5444c4f4b8152e0b11ea6acae6b6de2a">npnts</a>, <span class="keywordtype">int</span> <span class="keyword">const</span> * <a class="code" href="write__bcdata_8c.html#5e162cfaac90b1bb6effc1042b58b64e">pnts</a>, <span class="keywordtype">int</span> *I) {
<a name="l05093"></a>05093     <a class="code" href="structcgns__zone.html">cgns_zone</a> *zone;
<a name="l05094"></a>05094     <a class="code" href="structcgns__zconn.html">cgns_zconn</a> *zconn;
<a name="l05095"></a>05095     <a class="code" href="structcgns__hole.html">cgns_hole</a> *hole = NULL;
<a name="l05096"></a>05096     <a class="code" href="structcgns__ptset.html">cgns_ptset</a> *ptset;
<a name="l05097"></a>05097     <a class="code" href="cgns__header_8h.html#3643549b6f6f5f037878b262787434c0">char_33</a> PointSetName;
<a name="l05098"></a>05098     <span class="keywordtype">int</span> index, <span class="keyword">set</span>;
<a name="l05099"></a>05099     <span class="keywordtype">int</span> <a class="code" href="namespacefmain.html#c6f559daa4a4864f2449315176500469">i</a>, index_dim;
<a name="l05100"></a>05100 
<a name="l05101"></a>05101      <span class="comment">/* verify input */</span>
<a name="l05102"></a>05102     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#b042658423afd0817ab23b3ea7a5e03d">cgi_check_strlen</a>(holename)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l05103"></a>05103     <span class="keywordflow">if</span> (location != <a class="code" href="cgns_keywords_8h.html#5a0e596ed46b12f73c2ed1b8b0176e13d013c4439c3e09308d6b2eef2a4025ae">Vertex</a> &amp;&amp; location != <a class="code" href="cgns_keywords_8h.html#5a0e596ed46b12f73c2ed1b8b0176e13af82b5a2366c89873ca45b75f6e6ac36">CellCenter</a>) {
<a name="l05104"></a>05104         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"cg_hole_write: GridLocation not Vertex or CellCenter"</span>);
<a name="l05105"></a>05105         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l05106"></a>05106     }
<a name="l05107"></a>05107     <span class="keywordflow">if</span> (ptset_type!=<a class="code" href="cgns_keywords_8h.html#82fcf406991383f888f145541f6616f5d9df12b6366abf1175abbfca72f5f43e">PointList</a> &amp;&amp; ptset_type!=<a class="code" href="cgns_keywords_8h.html#82fcf406991383f888f145541f6616f5e5d03a0d4cdaa9d5c45a500029bd3783">PointRange</a>) {
<a name="l05108"></a>05108         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Invalid input:  ptset_type=%d ?"</span>,ptset_type);
<a name="l05109"></a>05109         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l05110"></a>05110     }
<a name="l05111"></a>05111     <span class="keywordflow">if</span> (!(ptset_type==<a class="code" href="cgns_keywords_8h.html#82fcf406991383f888f145541f6616f5e5d03a0d4cdaa9d5c45a500029bd3783">PointRange</a> &amp;&amp; npnts==2*nptsets &amp;&amp; nptsets&gt;0) &amp;&amp;
<a name="l05112"></a>05112         !(ptset_type==<a class="code" href="cgns_keywords_8h.html#82fcf406991383f888f145541f6616f5d9df12b6366abf1175abbfca72f5f43e">PointList</a> &amp;&amp; npnts&gt;=0 &amp;&amp; nptsets==1)) {
<a name="l05113"></a>05113         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Invalid input:  nptsets=%d, npoint=%d, point set type=%s"</span>,
<a name="l05114"></a>05114                nptsets, npnts, <a class="code" href="cgnslib_8c.html#4a8e191f04e4a8f19c88e882e5451685">PointSetTypeName</a>[ptset_type]);
<a name="l05115"></a>05115         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l05116"></a>05116     }
<a name="l05117"></a>05117      <span class="comment">/* get memory address for file */</span>
<a name="l05118"></a>05118     cg = <a class="code" href="cgns__header_8h.html#64a13852e04666fc73b74a8ff7727f4f">cgi_get_file</a>(file_number);
<a name="l05119"></a>05119     <span class="keywordflow">if</span> (cg == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l05120"></a>05120 
<a name="l05121"></a>05121     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l05122"></a>05122 
<a name="l05123"></a>05123      <span class="comment">/* get memory address for zone */</span>
<a name="l05124"></a>05124     zone = <a class="code" href="cgns__header_8h.html#5ce4ef97dee99baf9183b8c23419bfe0">cgi_get_zone</a>(cg, B, Z);
<a name="l05125"></a>05125     <span class="keywordflow">if</span> (zone==0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l05126"></a>05126 
<a name="l05127"></a>05127      <span class="comment">/* Allocate ZoneGridConnectivity data struct. if not already created */</span>
<a name="l05128"></a>05128     <span class="keywordflow">if</span> (zone-&gt;<a class="code" href="structcgns__zone.html#fdd87cca91a43359ebe1709c59d073ad">zconn</a> == 0) {
<a name="l05129"></a>05129         zone-&gt;<a class="code" href="structcgns__zone.html#fdd87cca91a43359ebe1709c59d073ad">zconn</a> = <a class="code" href="cgns__header_8h.html#948c36b3700de0f3332aa3620eafb0f4">CGNS_NEW</a>(<a class="code" href="structcgns__zconn.html">cgns_zconn</a>, 1);
<a name="l05130"></a>05130         zconn = zone-&gt;<a class="code" href="structcgns__zone.html#fdd87cca91a43359ebe1709c59d073ad">zconn</a>;
<a name="l05131"></a>05131         strcpy(zconn-&gt;<a class="code" href="structcgns__zconn.html#b5192b2e796e6224c74ec532ec32abf7">name</a>,<span class="stringliteral">"ZoneGridConnectivity"</span>);
<a name="l05132"></a>05132 
<a name="l05133"></a>05133      <span class="comment">/* initialize new ZoneGridConnectivity data structure */</span>
<a name="l05134"></a>05134         zconn-&gt;<a class="code" href="structcgns__zconn.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a> = 0;
<a name="l05135"></a>05135         zconn-&gt;<a class="code" href="structcgns__zconn.html#f6f27f42b9ecc89cf0ed39415bca67d1">link</a>= 0;
<a name="l05136"></a>05136         zconn-&gt;<a class="code" href="structcgns__zconn.html#cdee83a08ec17a8018bf719ef82a3602">ndescr</a> = 0;
<a name="l05137"></a>05137         zconn-&gt;<a class="code" href="structcgns__zconn.html#cd7dc7b507fb0a6956c6005a2d76a367">n1to1</a> = 0;
<a name="l05138"></a>05138         zconn-&gt;<a class="code" href="structcgns__zconn.html#548a3767dd1b6b4af24084d1e1c2d3b7">nconns</a> = 0;
<a name="l05139"></a>05139         zconn-&gt;<a class="code" href="structcgns__zconn.html#14616d97c7f10ee666a79d99cd931353">nholes</a> = 0;
<a name="l05140"></a>05140         zconn-&gt;<a class="code" href="structcgns__zconn.html#dc1e157d997b3174f9d41c5b645631f9">nuser_data</a>= 0;
<a name="l05141"></a>05141     } <span class="keywordflow">else</span> zconn = zone-&gt;<a class="code" href="structcgns__zone.html#fdd87cca91a43359ebe1709c59d073ad">zconn</a>;
<a name="l05142"></a>05142 
<a name="l05143"></a>05143     index_dim = zone-&gt;<a class="code" href="structcgns__zone.html#5ea7c3da009c9add916c0eeca1973c05">index_dim</a>;
<a name="l05144"></a>05144 
<a name="l05145"></a>05145      <span class="comment">/* Overwrite an OversetHoles_t Node: */</span>
<a name="l05146"></a>05146     <span class="keywordflow">for</span> (index=0; index&lt;zconn-&gt;<a class="code" href="structcgns__zconn.html#14616d97c7f10ee666a79d99cd931353">nholes</a>; index++) {
<a name="l05147"></a>05147         <span class="keywordflow">if</span> (strcmp(holename, zconn-&gt;<a class="code" href="structcgns__zconn.html#ca61f5fff30977a1108221daa7462f6a">hole</a>[index].<a class="code" href="structcgns__hole.html#b5192b2e796e6224c74ec532ec32abf7">name</a>)==0) {
<a name="l05148"></a>05148 
<a name="l05149"></a>05149              <span class="comment">/* in CG_MODE_WRITE, children names must be unique */</span>
<a name="l05150"></a>05150             <span class="keywordflow">if</span> (cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>==<a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>) {
<a name="l05151"></a>05151                 <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Duplicate child name found: %s"</span>,holename);
<a name="l05152"></a>05152                 <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l05153"></a>05153             }
<a name="l05154"></a>05154 
<a name="l05155"></a>05155              <span class="comment">/* overwrite an existing Overset Hole */</span>
<a name="l05156"></a>05156              <span class="comment">/* delete the existing Overset hole from file */</span>
<a name="l05157"></a>05157             <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#032ae98a5be795f845bb5cc7d63750e4">cgi_delete_node</a>(zconn-&gt;<a class="code" href="structcgns__zconn.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, zconn-&gt;<a class="code" href="structcgns__zconn.html#ca61f5fff30977a1108221daa7462f6a">hole</a>[index].<a class="code" href="structcgns__hole.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>))
<a name="l05158"></a>05158                 <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l05159"></a>05159              <span class="comment">/* save the old in-memory address to overwrite */</span>
<a name="l05160"></a>05160             hole = &amp;(zconn-&gt;<a class="code" href="structcgns__zconn.html#ca61f5fff30977a1108221daa7462f6a">hole</a>[index]);
<a name="l05161"></a>05161             <a class="code" href="cgns__header_8h.html#9d73fbc7ffc0a0ff2f02e8b6a96cdee1">cgi_free_hole</a>(hole);
<a name="l05162"></a>05162             <span class="keywordflow">break</span>;
<a name="l05163"></a>05163         }
<a name="l05164"></a>05164     }
<a name="l05165"></a>05165      <span class="comment">/* ... or add an OversetHoles_t Node: */</span>
<a name="l05166"></a>05166     <span class="keywordflow">if</span> (index==zconn-&gt;<a class="code" href="structcgns__zconn.html#14616d97c7f10ee666a79d99cd931353">nholes</a>) {
<a name="l05167"></a>05167         <span class="keywordflow">if</span> (zconn-&gt;<a class="code" href="structcgns__zconn.html#14616d97c7f10ee666a79d99cd931353">nholes</a> == 0) {
<a name="l05168"></a>05168             zconn-&gt;<a class="code" href="structcgns__zconn.html#ca61f5fff30977a1108221daa7462f6a">hole</a> = <a class="code" href="cgns__header_8h.html#948c36b3700de0f3332aa3620eafb0f4">CGNS_NEW</a>(<a class="code" href="structcgns__hole.html">cgns_hole</a>, zconn-&gt;<a class="code" href="structcgns__zconn.html#14616d97c7f10ee666a79d99cd931353">nholes</a>+1);
<a name="l05169"></a>05169         } <span class="keywordflow">else</span> {
<a name="l05170"></a>05170             zconn-&gt;<a class="code" href="structcgns__zconn.html#ca61f5fff30977a1108221daa7462f6a">hole</a> = <a class="code" href="cgns__header_8h.html#e23e608849b6dc488ccdad466e76e2ad">CGNS_RENEW</a>(<a class="code" href="structcgns__hole.html">cgns_hole</a>, zconn-&gt;<a class="code" href="structcgns__zconn.html#14616d97c7f10ee666a79d99cd931353">nholes</a>+1, zconn-&gt;<a class="code" href="structcgns__zconn.html#ca61f5fff30977a1108221daa7462f6a">hole</a>);
<a name="l05171"></a>05171         }
<a name="l05172"></a>05172         hole = &amp;(zconn-&gt;<a class="code" href="structcgns__zconn.html#ca61f5fff30977a1108221daa7462f6a">hole</a>[zconn-&gt;<a class="code" href="structcgns__zconn.html#14616d97c7f10ee666a79d99cd931353">nholes</a>]);
<a name="l05173"></a>05173         zconn-&gt;<a class="code" href="structcgns__zconn.html#14616d97c7f10ee666a79d99cd931353">nholes</a>++;
<a name="l05174"></a>05174     }
<a name="l05175"></a>05175     (*I) = index+1;
<a name="l05176"></a>05176 
<a name="l05177"></a>05177      <span class="comment">/* write hole info to internal memory */</span>
<a name="l05178"></a>05178     strcpy(hole-&gt;<a class="code" href="structcgns__hole.html#b5192b2e796e6224c74ec532ec32abf7">name</a>,holename);
<a name="l05179"></a>05179     hole-&gt;<a class="code" href="structcgns__hole.html#0e4921cde80f9718431923eedef14779">location</a> = location;
<a name="l05180"></a>05180 
<a name="l05181"></a>05181     hole-&gt;<a class="code" href="structcgns__hole.html#ce3b1013b59c4ff783e210168434d9e6">nptsets</a> = nptsets;
<a name="l05182"></a>05182     hole-&gt;<a class="code" href="structcgns__hole.html#8b7e2cc8709c8363359a7b3f8dba99c1">ptset</a> = <a class="code" href="cgns__header_8h.html#948c36b3700de0f3332aa3620eafb0f4">CGNS_NEW</a>(<a class="code" href="structcgns__ptset.html">cgns_ptset</a>, nptsets);
<a name="l05183"></a>05183     <span class="keywordflow">for</span> (<span class="keyword">set</span>=0; <span class="keyword">set</span>&lt;nptsets; <span class="keyword">set</span>++) {
<a name="l05184"></a>05184         ptset = &amp;hole-&gt;<a class="code" href="structcgns__hole.html#8b7e2cc8709c8363359a7b3f8dba99c1">ptset</a>[<span class="keyword">set</span>];
<a name="l05185"></a>05185         ptset-&gt;<a class="code" href="structcgns__ptset.html#5aec710ee64d19d29072491968901bb5">type</a> = ptset_type;
<a name="l05186"></a>05186         strcpy(ptset-&gt;<a class="code" href="structcgns__ptset.html#86e4d546d1321bcac60584c413eb0f6d">data_type</a>,<span class="stringliteral">"I4"</span>);
<a name="l05187"></a>05187         <span class="keywordflow">if</span> (ptset_type==<a class="code" href="cgns_keywords_8h.html#82fcf406991383f888f145541f6616f5e5d03a0d4cdaa9d5c45a500029bd3783">PointRange</a>) ptset-&gt;<a class="code" href="structcgns__ptset.html#0306378cd06415f84b10cb3d15516ec3">npts</a> = 2;
<a name="l05188"></a>05188         <span class="keywordflow">else</span>            ptset-&gt;<a class="code" href="structcgns__ptset.html#0306378cd06415f84b10cb3d15516ec3">npts</a> = npnts;
<a name="l05189"></a>05189         ptset-&gt;<a class="code" href="structcgns__ptset.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a> = 0;
<a name="l05190"></a>05190         ptset-&gt;<a class="code" href="structcgns__ptset.html#f6f27f42b9ecc89cf0ed39415bca67d1">link</a> = 0;
<a name="l05191"></a>05191 
<a name="l05192"></a>05192      <span class="comment">/* Record the number of nodes or elements in the point set */</span>
<a name="l05193"></a>05193         <span class="keywordflow">if</span> (ptset_type==<a class="code" href="cgns_keywords_8h.html#82fcf406991383f888f145541f6616f5d9df12b6366abf1175abbfca72f5f43e">PointList</a>)
<a name="l05194"></a>05194             ptset-&gt;<a class="code" href="structcgns__ptset.html#e2b9734c6e30fe18058a373b8aad77a2">size_of_patch</a>=npnts;
<a name="l05195"></a>05195         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ptset_type==<a class="code" href="cgns_keywords_8h.html#82fcf406991383f888f145541f6616f5e5d03a0d4cdaa9d5c45a500029bd3783">PointRange</a>) {
<a name="l05196"></a>05196             ptset-&gt;<a class="code" href="structcgns__ptset.html#e2b9734c6e30fe18058a373b8aad77a2">size_of_patch</a> = 1;
<a name="l05197"></a>05197             <span class="keywordflow">for</span> (i=0; i&lt;index_dim; i++)
<a name="l05198"></a>05198                 ptset-&gt;<a class="code" href="structcgns__ptset.html#e2b9734c6e30fe18058a373b8aad77a2">size_of_patch</a> *= (pnts[i+index_dim]-pnts[i]+1);
<a name="l05199"></a>05199         }
<a name="l05200"></a>05200     }
<a name="l05201"></a>05201 
<a name="l05202"></a>05202      <span class="comment">/* initialize */</span>
<a name="l05203"></a>05203     hole-&gt;<a class="code" href="structcgns__hole.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>=0;
<a name="l05204"></a>05204     hole-&gt;<a class="code" href="structcgns__hole.html#f6f27f42b9ecc89cf0ed39415bca67d1">link</a>=0;
<a name="l05205"></a>05205     hole-&gt;<a class="code" href="structcgns__hole.html#cdee83a08ec17a8018bf719ef82a3602">ndescr</a>=0;
<a name="l05206"></a>05206     hole-&gt;<a class="code" href="structcgns__hole.html#dc1e157d997b3174f9d41c5b645631f9">nuser_data</a>=0;
<a name="l05207"></a>05207 
<a name="l05208"></a>05208      <span class="comment">/* Create node ZoneGridConnectivity_t node, if not yet created */</span>
<a name="l05209"></a>05209     <span class="keywordflow">if</span> (zconn-&gt;<a class="code" href="structcgns__zconn.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>==0) {
<a name="l05210"></a>05210         <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#184dd1d99e9f4e7b826f84887ba07748">cgi_new_node</a>(zone-&gt;<a class="code" href="structcgns__zone.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, <span class="stringliteral">"ZoneGridConnectivity"</span>, <span class="stringliteral">"ZoneGridConnectivity_t"</span>,
<a name="l05211"></a>05211              &amp;zconn-&gt;<a class="code" href="structcgns__zconn.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, <span class="stringliteral">"MT"</span>, 0, 0, 0)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l05212"></a>05212     }
<a name="l05213"></a>05213     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#184dd1d99e9f4e7b826f84887ba07748">cgi_new_node</a>(zconn-&gt;<a class="code" href="structcgns__zconn.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, hole-&gt;<a class="code" href="structcgns__hole.html#b5192b2e796e6224c74ec532ec32abf7">name</a>, <span class="stringliteral">"OversetHoles_t"</span>,
<a name="l05214"></a>05214         &amp;hole-&gt;<a class="code" href="structcgns__hole.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, <span class="stringliteral">"MT"</span>, 0, 0, 0)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l05215"></a>05215 
<a name="l05216"></a>05216     <span class="keywordflow">if</span> (hole-&gt;<a class="code" href="structcgns__hole.html#0e4921cde80f9718431923eedef14779">location</a> !=<a class="code" href="cgns_keywords_8h.html#5a0e596ed46b12f73c2ed1b8b0176e13d013c4439c3e09308d6b2eef2a4025ae">Vertex</a>) {
<a name="l05217"></a>05217         <span class="keywordtype">double</span> GL_id;
<a name="l05218"></a>05218         <span class="keywordtype">int</span> length = strlen(<a class="code" href="cgnslib_8c.html#eb037aad0a1892338bfeeb05176a29bd">GridLocationName</a>[hole-&gt;<a class="code" href="structcgns__hole.html#0e4921cde80f9718431923eedef14779">location</a>]);
<a name="l05219"></a>05219         <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#184dd1d99e9f4e7b826f84887ba07748">cgi_new_node</a>(hole-&gt;<a class="code" href="structcgns__hole.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, <span class="stringliteral">"GridLocation"</span>, <span class="stringliteral">"GridLocation_t"</span>, &amp;GL_id,
<a name="l05220"></a>05220             <span class="stringliteral">"C1"</span>, 1, &amp;length, <a class="code" href="cgnslib_8c.html#eb037aad0a1892338bfeeb05176a29bd">GridLocationName</a>[hole-&gt;<a class="code" href="structcgns__hole.html#0e4921cde80f9718431923eedef14779">location</a>])) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l05221"></a>05221     }
<a name="l05222"></a>05222 
<a name="l05223"></a>05223     <span class="keywordflow">for</span> (<span class="keyword">set</span>=0; <span class="keyword">set</span>&lt;nptsets; <span class="keyword">set</span>++) {
<a name="l05224"></a>05224         ptset = &amp;hole-&gt;<a class="code" href="structcgns__hole.html#8b7e2cc8709c8363359a7b3f8dba99c1">ptset</a>[<span class="keyword">set</span>];
<a name="l05225"></a>05225 
<a name="l05226"></a>05226         <span class="keywordflow">if</span> (ptset-&gt;<a class="code" href="structcgns__ptset.html#0306378cd06415f84b10cb3d15516ec3">npts</a>&gt;0) {
<a name="l05227"></a>05227              <span class="comment">/* Create Point Set node on disk */</span>
<a name="l05228"></a>05228             <span class="keywordflow">if</span> (ptset-&gt;<a class="code" href="structcgns__ptset.html#5aec710ee64d19d29072491968901bb5">type</a>==<a class="code" href="cgns_keywords_8h.html#82fcf406991383f888f145541f6616f5e5d03a0d4cdaa9d5c45a500029bd3783">PointRange</a>)
<a name="l05229"></a>05229                 sprintf(PointSetName, <span class="stringliteral">"PointRange%d"</span>,<span class="keyword">set</span>+1);
<a name="l05230"></a>05230             <span class="keywordflow">else</span>
<a name="l05231"></a>05231                 sprintf(PointSetName, <a class="code" href="cgnslib_8c.html#4a8e191f04e4a8f19c88e882e5451685">PointSetTypeName</a>[ptset-&gt;<a class="code" href="structcgns__ptset.html#5aec710ee64d19d29072491968901bb5">type</a>]);
<a name="l05232"></a>05232             <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#b515c026b136510f7280371efafda974">cgi_write_ptset</a>(hole-&gt;<a class="code" href="structcgns__hole.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, PointSetName, ptset, index_dim,
<a name="l05233"></a>05233                 (<span class="keywordtype">void</span> *)((<span class="keywordtype">int</span> *)pnts+2*index_dim*<span class="keyword">set</span>))) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l05234"></a>05234         }
<a name="l05235"></a>05235     }
<a name="l05236"></a>05236 
<a name="l05237"></a>05237     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l05238"></a>05238 }
<a name="l05239"></a>05239 
<a name="l05240"></a><a class="code" href="cgnslib_8h.html#5e87c89db33f84e7f6fe7b7697e0ae3b">05240</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#92e9f8c822358ad2d0e9becfff7aec2b">cg_conn_write</a>(<span class="keywordtype">int</span> file_number, <span class="keywordtype">int</span> B, <span class="keywordtype">int</span> Z,  <span class="keywordtype">char</span> <span class="keyword">const</span> * connectname, <a class="code" href="cgns_keywords_8h.html#5a0e596ed46b12f73c2ed1b8b0176e13">GridLocation_t</a> location,
<a name="l05241"></a>05241           <a class="code" href="cgns_keywords_8h.html#63b65ef61e306a412f1fabc9be3cc6d0">GridConnectivityType_t</a> type, <a class="code" href="cgns_keywords_8h.html#82fcf406991383f888f145541f6616f5">PointSetType_t</a> ptset_type, <span class="keywordtype">int</span> <a class="code" href="write__bcdata_8c.html#5444c4f4b8152e0b11ea6acae6b6de2a">npnts</a>, <span class="keywordtype">int</span> <span class="keyword">const</span> * <a class="code" href="write__bcdata_8c.html#5e162cfaac90b1bb6effc1042b58b64e">pnts</a>,
<a name="l05242"></a>05242           <span class="keywordtype">char</span> <span class="keyword">const</span> * donorname, <a class="code" href="cgns_keywords_8h.html#68acb02e36b91d3020f4de86436a07fe">ZoneType_t</a> donor_zonetype,  <a class="code" href="cgns_keywords_8h.html#82fcf406991383f888f145541f6616f5">PointSetType_t</a> donor_ptset_type,
<a name="l05243"></a>05243           <a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae">DataType_t</a> donor_datatype, <span class="keywordtype">int</span> ndata_donor, <span class="keywordtype">void</span> <span class="keyword">const</span> * donor_data, <span class="keywordtype">int</span> *I) {
<a name="l05244"></a>05244     <a class="code" href="structcgns__zone.html">cgns_zone</a> *zone;
<a name="l05245"></a>05245     <a class="code" href="structcgns__zconn.html">cgns_zconn</a> *zconn;
<a name="l05246"></a>05246     <a class="code" href="structcgns__conn.html">cgns_conn</a> *conn = NULL;
<a name="l05247"></a>05247     <a class="code" href="structcgns__ptset.html">cgns_ptset</a> *dptset;
<a name="l05248"></a>05248     <span class="keywordtype">int</span> <a class="code" href="namespacefmain.html#c6f559daa4a4864f2449315176500469">i</a>, size_of_zone, length;
<a name="l05249"></a>05249     <span class="keywordtype">int</span> PointListSize, cell_dim;
<a name="l05250"></a>05250     <span class="keywordtype">int</span> index, index_dim, index_dim_donor;
<a name="l05251"></a>05251     <span class="keywordtype">double</span> GL_id, C_id;
<a name="l05252"></a>05252 
<a name="l05253"></a>05253      <span class="comment">/* verify input */</span>
<a name="l05254"></a>05254     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#b042658423afd0817ab23b3ea7a5e03d">cgi_check_strlen</a>(connectname)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l05255"></a>05255     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#b042658423afd0817ab23b3ea7a5e03d">cgi_check_strlen</a>(donorname)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l05256"></a>05256     <span class="keywordflow">if</span> (type &lt;0 || type &gt;= <a class="code" href="cgns_keywords_8h.html#41e970ada020b402f55c11f07bc2ff19">NofValidGridConnectivityTypes</a>) {
<a name="l05257"></a>05257         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Invalid input:  GridConnectivityType=%d ?"</span>,type);
<a name="l05258"></a>05258         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l05259"></a>05259     }
<a name="l05260"></a>05260     <span class="keywordflow">if</span> (location != <a class="code" href="cgns_keywords_8h.html#5a0e596ed46b12f73c2ed1b8b0176e13d013c4439c3e09308d6b2eef2a4025ae">Vertex</a> &amp;&amp; location != <a class="code" href="cgns_keywords_8h.html#5a0e596ed46b12f73c2ed1b8b0176e13af82b5a2366c89873ca45b75f6e6ac36">CellCenter</a> &amp;&amp;
<a name="l05261"></a>05261         location != <a class="code" href="cgns_keywords_8h.html#5a0e596ed46b12f73c2ed1b8b0176e1345f1c1cdb99ea61bfdddc570c6a02bf2">FaceCenter</a> &amp;&amp; location != <a class="code" href="cgns_keywords_8h.html#5a0e596ed46b12f73c2ed1b8b0176e13b4cea34ab6a3c3533f2422f66bf8dc3d">IFaceCenter</a> &amp;&amp;
<a name="l05262"></a>05262         location != <a class="code" href="cgns_keywords_8h.html#5a0e596ed46b12f73c2ed1b8b0176e133f9cfc26e3953b1a7f7b8826e119a5d5">JFaceCenter</a> &amp;&amp; location != <a class="code" href="cgns_keywords_8h.html#5a0e596ed46b12f73c2ed1b8b0176e1387cfa4bdd4bc3bd768c3f0bab84f2143">KFaceCenter</a>) {
<a name="l05263"></a>05263         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Invalid input:  GridLocation=%d ?"</span>,location);
<a name="l05264"></a>05264         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l05265"></a>05265     }
<a name="l05266"></a>05266     <span class="keywordflow">if</span> (type == <a class="code" href="cgns_keywords_8h.html#63b65ef61e306a412f1fabc9be3cc6d094100288a3d8ac9baaff8839a5c12998">Overset</a> &amp;&amp; location != <a class="code" href="cgns_keywords_8h.html#5a0e596ed46b12f73c2ed1b8b0176e13d013c4439c3e09308d6b2eef2a4025ae">Vertex</a> &amp;&amp; location != <a class="code" href="cgns_keywords_8h.html#5a0e596ed46b12f73c2ed1b8b0176e13af82b5a2366c89873ca45b75f6e6ac36">CellCenter</a>) {
<a name="l05267"></a>05267         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"GridLocation must be Vertex or CellCenter for Overset"</span>);
<a name="l05268"></a>05268         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l05269"></a>05269     }
<a name="l05270"></a>05270     <span class="keywordflow">if</span> (ptset_type!=<a class="code" href="cgns_keywords_8h.html#82fcf406991383f888f145541f6616f5d9df12b6366abf1175abbfca72f5f43e">PointList</a> &amp;&amp; ptset_type!=<a class="code" href="cgns_keywords_8h.html#82fcf406991383f888f145541f6616f5e5d03a0d4cdaa9d5c45a500029bd3783">PointRange</a>) {
<a name="l05271"></a>05271         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Invalid input:  ptset_type=%d ?"</span>,ptset_type);
<a name="l05272"></a>05272         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l05273"></a>05273     }
<a name="l05274"></a>05274     <span class="keywordflow">if</span> (!(ptset_type==<a class="code" href="cgns_keywords_8h.html#82fcf406991383f888f145541f6616f5e5d03a0d4cdaa9d5c45a500029bd3783">PointRange</a> &amp;&amp; npnts==2) &amp;&amp; !(ptset_type==<a class="code" href="cgns_keywords_8h.html#82fcf406991383f888f145541f6616f5d9df12b6366abf1175abbfca72f5f43e">PointList</a> &amp;&amp; npnts&gt;0)) {
<a name="l05275"></a>05275         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Invalid input:  npoint=%d, point set type=%s"</span>,
<a name="l05276"></a>05276                npnts, <a class="code" href="cgnslib_8c.html#4a8e191f04e4a8f19c88e882e5451685">PointSetTypeName</a>[ptset_type]);
<a name="l05277"></a>05277         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l05278"></a>05278     }
<a name="l05279"></a>05279     <span class="keywordflow">if</span> (ndata_donor) {
<a name="l05280"></a>05280         <span class="keywordflow">if</span> (donor_ptset_type!=<a class="code" href="cgns_keywords_8h.html#82fcf406991383f888f145541f6616f5bbbff63b3b10923bda220174f8603760">CellListDonor</a> &amp;&amp; donor_ptset_type!=<a class="code" href="cgns_keywords_8h.html#82fcf406991383f888f145541f6616f5d2e439dbdf858e41f5c29dd5d778bb70">PointListDonor</a>) {
<a name="l05281"></a>05281             <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Invalid point set type for donor %s"</span>,donorname);
<a name="l05282"></a>05282             <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l05283"></a>05283         }
<a name="l05284"></a>05284         <span class="keywordflow">if</span> (donor_datatype != <a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae1e2f89e867cd91c3de2ea9fbd2ef96a3">Integer</a>) {
<a name="l05285"></a>05285             <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Invalid datatype for donor %s"</span>,donorname);
<a name="l05286"></a>05286             <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l05287"></a>05287         }
<a name="l05288"></a>05288 <span class="comment">/*</span>
<a name="l05289"></a>05289 <span class="comment">        if (donor_zonetype==Unstructured &amp;&amp; (donor_ptset_type!=CellListDonor &amp;&amp;</span>
<a name="l05290"></a>05290 <span class="comment">            donor_ptset_type!=PointListDonor)) {</span>
<a name="l05291"></a>05291 <span class="comment">            cgi_error("Invalid point set type for Unstructured donor %s",donorname);</span>
<a name="l05292"></a>05292 <span class="comment">            return CG_ERROR;</span>
<a name="l05293"></a>05293 <span class="comment">        }</span>
<a name="l05294"></a>05294 <span class="comment">        if (donor_zonetype==Unstructured &amp;&amp; donor_datatype != Integer) {</span>
<a name="l05295"></a>05295 <span class="comment">            cgi_error("Invalid datatype for Unstructured donor %s",donorname);</span>
<a name="l05296"></a>05296 <span class="comment">            return CG_ERROR;</span>
<a name="l05297"></a>05297 <span class="comment">        }</span>
<a name="l05298"></a>05298 <span class="comment">        if (donor_zonetype==Structured &amp;&amp; donor_ptset_type!=PointListDonor) {</span>
<a name="l05299"></a>05299 <span class="comment">            cgi_error("Invalid point set type for Structured donor %s",donorname);</span>
<a name="l05300"></a>05300 <span class="comment">            return CG_ERROR;</span>
<a name="l05301"></a>05301 <span class="comment">        }</span>
<a name="l05302"></a>05302 <span class="comment">        if (donor_datatype!=RealSingle &amp;&amp; donor_datatype!=Integer &amp;&amp;</span>
<a name="l05303"></a>05303 <span class="comment">            donor_datatype!=RealDouble) {</span>
<a name="l05304"></a>05304 <span class="comment">            cgi_error("Invalid data type for donor_data: %d",donor_datatype);</span>
<a name="l05305"></a>05305 <span class="comment">            return CG_ERROR;</span>
<a name="l05306"></a>05306 <span class="comment">        }</span>
<a name="l05307"></a>05307 <span class="comment">*/</span>
<a name="l05308"></a>05308     } <span class="keywordflow">else</span> {
<a name="l05309"></a>05309         donor_ptset_type = <a class="code" href="cgns_keywords_8h.html#82fcf406991383f888f145541f6616f5d798d4e83da7be175c4bd0dcc0be0a84">PointSetTypeNull</a>;
<a name="l05310"></a>05310         donor_datatype = <a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae1e2f89e867cd91c3de2ea9fbd2ef96a3">Integer</a>;
<a name="l05311"></a>05311     }
<a name="l05312"></a>05312 
<a name="l05313"></a>05313      <span class="comment">/* get memory address of file */</span>
<a name="l05314"></a>05314     cg = <a class="code" href="cgns__header_8h.html#64a13852e04666fc73b74a8ff7727f4f">cgi_get_file</a>(file_number);
<a name="l05315"></a>05315     <span class="keywordflow">if</span> (cg == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l05316"></a>05316 
<a name="l05317"></a>05317     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l05318"></a>05318 
<a name="l05319"></a>05319      <span class="comment">/* get memory address of zone */</span>
<a name="l05320"></a>05320     zone = <a class="code" href="cgns__header_8h.html#5ce4ef97dee99baf9183b8c23419bfe0">cgi_get_zone</a>(cg, B, Z);
<a name="l05321"></a>05321     <span class="keywordflow">if</span> (zone==0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l05322"></a>05322 
<a name="l05323"></a>05323     <span class="keywordflow">if</span> ((location == <a class="code" href="cgns_keywords_8h.html#5a0e596ed46b12f73c2ed1b8b0176e13b4cea34ab6a3c3533f2422f66bf8dc3d">IFaceCenter</a> || location == <a class="code" href="cgns_keywords_8h.html#5a0e596ed46b12f73c2ed1b8b0176e133f9cfc26e3953b1a7f7b8826e119a5d5">JFaceCenter</a> ||
<a name="l05324"></a>05324          location == <a class="code" href="cgns_keywords_8h.html#5a0e596ed46b12f73c2ed1b8b0176e1387cfa4bdd4bc3bd768c3f0bab84f2143">KFaceCenter</a>) &amp;&amp; zone-&gt;<a class="code" href="structcgns__zone.html#70e3228eb924895531acd9144d41916f">type</a> != <a class="code" href="cgns_keywords_8h.html#68acb02e36b91d3020f4de86436a07fe8a382d9e08294b2cd243ee60bd75c068">Structured</a>) {
<a name="l05325"></a>05325         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"GridLocation [IJK]FaceCenter only valid for Structured grids"</span>);
<a name="l05326"></a>05326         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l05327"></a>05327     }
<a name="l05328"></a>05328 
<a name="l05329"></a>05329      <span class="comment">/* Allocate ZoneGridConnectivity data struct. if not already created */</span>
<a name="l05330"></a>05330     <span class="keywordflow">if</span> (zone-&gt;<a class="code" href="structcgns__zone.html#fdd87cca91a43359ebe1709c59d073ad">zconn</a> == 0) {
<a name="l05331"></a>05331         zone-&gt;<a class="code" href="structcgns__zone.html#fdd87cca91a43359ebe1709c59d073ad">zconn</a> = <a class="code" href="cgns__header_8h.html#948c36b3700de0f3332aa3620eafb0f4">CGNS_NEW</a>(<a class="code" href="structcgns__zconn.html">cgns_zconn</a>, 1);
<a name="l05332"></a>05332         zconn = zone-&gt;<a class="code" href="structcgns__zone.html#fdd87cca91a43359ebe1709c59d073ad">zconn</a>;
<a name="l05333"></a>05333         strcpy(zconn-&gt;<a class="code" href="structcgns__zconn.html#b5192b2e796e6224c74ec532ec32abf7">name</a>,<span class="stringliteral">"ZoneGridConnectivity"</span>);
<a name="l05334"></a>05334 
<a name="l05335"></a>05335      <span class="comment">/* initialize new ZoneGridConnectivity data structure */</span>
<a name="l05336"></a>05336         zconn-&gt;<a class="code" href="structcgns__zconn.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a> = 0;
<a name="l05337"></a>05337         zconn-&gt;<a class="code" href="structcgns__zconn.html#f6f27f42b9ecc89cf0ed39415bca67d1">link</a>= 0;
<a name="l05338"></a>05338         zconn-&gt;<a class="code" href="structcgns__zconn.html#cdee83a08ec17a8018bf719ef82a3602">ndescr</a> = 0;
<a name="l05339"></a>05339         zconn-&gt;<a class="code" href="structcgns__zconn.html#cd7dc7b507fb0a6956c6005a2d76a367">n1to1</a> = 0;
<a name="l05340"></a>05340         zconn-&gt;<a class="code" href="structcgns__zconn.html#548a3767dd1b6b4af24084d1e1c2d3b7">nconns</a> = 0;
<a name="l05341"></a>05341         zconn-&gt;<a class="code" href="structcgns__zconn.html#14616d97c7f10ee666a79d99cd931353">nholes</a> = 0;
<a name="l05342"></a>05342         zconn-&gt;<a class="code" href="structcgns__zconn.html#dc1e157d997b3174f9d41c5b645631f9">nuser_data</a>= 0;
<a name="l05343"></a>05343     } <span class="keywordflow">else</span> zconn = zone-&gt;<a class="code" href="structcgns__zone.html#fdd87cca91a43359ebe1709c59d073ad">zconn</a>;
<a name="l05344"></a>05344 
<a name="l05345"></a>05345      <span class="comment">/* IndexDimension &amp; CellDimension */</span>
<a name="l05346"></a>05346     index_dim = zone-&gt;<a class="code" href="structcgns__zone.html#5ea7c3da009c9add916c0eeca1973c05">index_dim</a>;
<a name="l05347"></a>05347     cell_dim=cg-&gt;<a class="code" href="structcgns__file.html#0429392e9c26dac2f0b97ae2d2127117">base</a>[B-1].<a class="code" href="structcgns__base.html#1bee6ac28f8d5df04476d015a8643d3a">cell_dim</a>;
<a name="l05348"></a>05348 
<a name="l05349"></a>05349      <span class="comment">/* verify input */</span>
<a name="l05350"></a>05350     size_of_zone = 1;
<a name="l05351"></a>05351     <span class="keywordflow">for</span> (i=0; i&lt;index_dim; i++) size_of_zone*=zone-&gt;<a class="code" href="structcgns__zone.html#41ee98048c689af7dcf7cf361860ee09">nijk</a>[i];
<a name="l05352"></a>05352     if (npnts&lt;0 || npnts&gt;size_of_zone) {
<a name="l05353"></a>05353         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Inconsistent number of points in point set"</span>);
<a name="l05354"></a>05354         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l05355"></a>05355     }
<a name="l05356"></a>05356 <span class="preprocessor">#if 0   </span><span class="comment">/* causes problems when grid is unstructured */</span>
<a name="l05357"></a>05357     <span class="keywordflow">if</span> (ptset_type==<a class="code" href="cgns_keywords_8h.html#82fcf406991383f888f145541f6616f5e5d03a0d4cdaa9d5c45a500029bd3783">PointRange</a>) {
<a name="l05358"></a>05358         <span class="keywordflow">if</span> (location == <a class="code" href="cgns_keywords_8h.html#5a0e596ed46b12f73c2ed1b8b0176e13d013c4439c3e09308d6b2eef2a4025ae">Vertex</a>) {
<a name="l05359"></a>05359             <span class="keywordflow">for</span> (i=0; i&lt;index_dim; i++) {
<a name="l05360"></a>05360                 <span class="keywordflow">if</span> (pnts[i]&lt;0 || pnts[i+index_dim]&gt;zone-&gt;<a class="code" href="structcgns__zone.html#41ee98048c689af7dcf7cf361860ee09">nijk</a>[i]) {
<a name="l05361"></a>05361                     <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Invalid input range:  %d-&gt;%d"</span>,pnts[i], pnts[i+index_dim]);
<a name="l05362"></a>05362                     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l05363"></a>05363                 }
<a name="l05364"></a>05364             }
<a name="l05365"></a>05365         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (location == <a class="code" href="cgns_keywords_8h.html#5a0e596ed46b12f73c2ed1b8b0176e13af82b5a2366c89873ca45b75f6e6ac36">CellCenter</a>) {
<a name="l05366"></a>05366             <span class="keywordflow">for</span> (i=0; i&lt;index_dim; i++) {
<a name="l05367"></a>05367                 <span class="keywordflow">if</span> (pnts[i]&lt;0 || pnts[i+index_dim]&gt;zone-&gt;<a class="code" href="structcgns__zone.html#41ee98048c689af7dcf7cf361860ee09">nijk</a>[i+index_dim]) {
<a name="l05368"></a>05368                     <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Invalid input range:  %d-&gt;%d"</span>,pnts[i], pnts[i+index_dim]);
<a name="l05369"></a>05369                     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l05370"></a>05370                 }
<a name="l05371"></a>05371             }
<a name="l05372"></a>05372         }
<a name="l05373"></a>05373     }
<a name="l05374"></a>05374 <span class="preprocessor">#endif</span>
<a name="l05375"></a>05375 <span class="preprocessor"></span>
<a name="l05376"></a>05376      <span class="comment">/* Compute PointListSize */</span>
<a name="l05377"></a>05377     <span class="keywordflow">if</span> (ptset_type==<a class="code" href="cgns_keywords_8h.html#82fcf406991383f888f145541f6616f5e5d03a0d4cdaa9d5c45a500029bd3783">PointRange</a>) {
<a name="l05378"></a>05378         PointListSize = 1;
<a name="l05379"></a>05379         <span class="keywordflow">for</span> (i=0; i&lt;index_dim; i++) {
<a name="l05380"></a>05380             PointListSize *= (pnts[i+index_dim]-pnts[i]+1);
<a name="l05381"></a>05381         }
<a name="l05382"></a>05382     } <span class="keywordflow">else</span>  PointListSize=npnts;
<a name="l05383"></a>05383 
<a name="l05384"></a>05384     <span class="keywordflow">if</span> (ndata_donor &amp;&amp; type == <a class="code" href="cgns_keywords_8h.html#63b65ef61e306a412f1fabc9be3cc6d0e2171703a7093afe5f858c6873e2ecf6">Abutting1to1</a> &amp;&amp; PointListSize != ndata_donor) {
<a name="l05385"></a>05385         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Invalid input for ndata_donor in cg_conn_write"</span>);
<a name="l05386"></a>05386         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l05387"></a>05387     }
<a name="l05388"></a>05388 
<a name="l05389"></a>05389      <span class="comment">/* Overwrite a GridConnectivity_t Node: */</span>
<a name="l05390"></a>05390     <span class="keywordflow">for</span> (index=0; index&lt;zconn-&gt;<a class="code" href="structcgns__zconn.html#548a3767dd1b6b4af24084d1e1c2d3b7">nconns</a>; index++) {
<a name="l05391"></a>05391         <span class="keywordflow">if</span> (strcmp(connectname, zconn-&gt;<a class="code" href="structcgns__zconn.html#982b1a6f86e621d95db3285549e2a8be">conn</a>[index].<a class="code" href="structcgns__conn.html#b5192b2e796e6224c74ec532ec32abf7">name</a>)==0) {
<a name="l05392"></a>05392 
<a name="l05393"></a>05393              <span class="comment">/* in CG_MODE_WRITE, children names must be unique */</span>
<a name="l05394"></a>05394             <span class="keywordflow">if</span> (cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>==<a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>) {
<a name="l05395"></a>05395                 <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Duplicate child name found: %s"</span>,connectname);
<a name="l05396"></a>05396                 <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l05397"></a>05397             }
<a name="l05398"></a>05398 
<a name="l05399"></a>05399              <span class="comment">/* overwrite an existing GridConnectivity_t Node */</span>
<a name="l05400"></a>05400              <span class="comment">/* delete the existing GridConnectivity_t Node from file */</span>
<a name="l05401"></a>05401             <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#032ae98a5be795f845bb5cc7d63750e4">cgi_delete_node</a>(zconn-&gt;<a class="code" href="structcgns__zconn.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, zconn-&gt;<a class="code" href="structcgns__zconn.html#982b1a6f86e621d95db3285549e2a8be">conn</a>[index].<a class="code" href="structcgns__conn.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>))
<a name="l05402"></a>05402                 <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l05403"></a>05403              <span class="comment">/* save the old in-memory address to overwrite */</span>
<a name="l05404"></a>05404             conn = &amp;(zconn-&gt;<a class="code" href="structcgns__zconn.html#982b1a6f86e621d95db3285549e2a8be">conn</a>[index]);
<a name="l05405"></a>05405             <a class="code" href="cgns__header_8h.html#b6d3d20b088b91d65c4c2ebf5df696cf">cgi_free_conn</a>(conn);
<a name="l05406"></a>05406             <span class="keywordflow">break</span>;
<a name="l05407"></a>05407         }
<a name="l05408"></a>05408     }
<a name="l05409"></a>05409      <span class="comment">/* ... or add a GridConnectivity_t Node: */</span>
<a name="l05410"></a>05410     <span class="keywordflow">if</span> (index==zconn-&gt;<a class="code" href="structcgns__zconn.html#548a3767dd1b6b4af24084d1e1c2d3b7">nconns</a>) {
<a name="l05411"></a>05411         <span class="keywordflow">if</span> (zconn-&gt;<a class="code" href="structcgns__zconn.html#548a3767dd1b6b4af24084d1e1c2d3b7">nconns</a> == 0) {
<a name="l05412"></a>05412             zconn-&gt;<a class="code" href="structcgns__zconn.html#982b1a6f86e621d95db3285549e2a8be">conn</a> = <a class="code" href="cgns__header_8h.html#948c36b3700de0f3332aa3620eafb0f4">CGNS_NEW</a>(<a class="code" href="structcgns__conn.html">cgns_conn</a>, zconn-&gt;<a class="code" href="structcgns__zconn.html#548a3767dd1b6b4af24084d1e1c2d3b7">nconns</a>+1);
<a name="l05413"></a>05413         } <span class="keywordflow">else</span> {
<a name="l05414"></a>05414             zconn-&gt;<a class="code" href="structcgns__zconn.html#982b1a6f86e621d95db3285549e2a8be">conn</a> = <a class="code" href="cgns__header_8h.html#e23e608849b6dc488ccdad466e76e2ad">CGNS_RENEW</a>(<a class="code" href="structcgns__conn.html">cgns_conn</a>, zconn-&gt;<a class="code" href="structcgns__zconn.html#548a3767dd1b6b4af24084d1e1c2d3b7">nconns</a>+1, zconn-&gt;<a class="code" href="structcgns__zconn.html#982b1a6f86e621d95db3285549e2a8be">conn</a>);
<a name="l05415"></a>05415         }
<a name="l05416"></a>05416         conn = &amp;(zconn-&gt;<a class="code" href="structcgns__zconn.html#982b1a6f86e621d95db3285549e2a8be">conn</a>[zconn-&gt;<a class="code" href="structcgns__zconn.html#548a3767dd1b6b4af24084d1e1c2d3b7">nconns</a>]);
<a name="l05417"></a>05417         zconn-&gt;<a class="code" href="structcgns__zconn.html#548a3767dd1b6b4af24084d1e1c2d3b7">nconns</a>++;
<a name="l05418"></a>05418     }
<a name="l05419"></a>05419     (*I) = index+1;
<a name="l05420"></a>05420 
<a name="l05421"></a>05421      <span class="comment">/* write conn info to internal memory */</span>
<a name="l05422"></a>05422     strcpy(conn-&gt;<a class="code" href="structcgns__conn.html#b5192b2e796e6224c74ec532ec32abf7">name</a>,connectname);
<a name="l05423"></a>05423     conn-&gt;<a class="code" href="structcgns__conn.html#02645da6b20f22c6f0bd10e2f44a881c">type</a> = type;
<a name="l05424"></a>05424     conn-&gt;<a class="code" href="structcgns__conn.html#0e4921cde80f9718431923eedef14779">location</a> = location;
<a name="l05425"></a>05425     conn-&gt;<a class="code" href="structcgns__conn.html#3ef487d0a8936f384aa9c23652cd0cbb">ptset</a>.<a class="code" href="structcgns__ptset.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a> = 0;
<a name="l05426"></a>05426     conn-&gt;<a class="code" href="structcgns__conn.html#3ef487d0a8936f384aa9c23652cd0cbb">ptset</a>.<a class="code" href="structcgns__ptset.html#f6f27f42b9ecc89cf0ed39415bca67d1">link</a> = 0;
<a name="l05427"></a>05427     conn-&gt;<a class="code" href="structcgns__conn.html#3ef487d0a8936f384aa9c23652cd0cbb">ptset</a>.<a class="code" href="structcgns__ptset.html#5aec710ee64d19d29072491968901bb5">type</a> = ptset_type;
<a name="l05428"></a>05428     strcpy(conn-&gt;<a class="code" href="structcgns__conn.html#3ef487d0a8936f384aa9c23652cd0cbb">ptset</a>.<a class="code" href="structcgns__ptset.html#86e4d546d1321bcac60584c413eb0f6d">data_type</a>,<span class="stringliteral">"I4"</span>);
<a name="l05429"></a>05429     conn-&gt;<a class="code" href="structcgns__conn.html#3ef487d0a8936f384aa9c23652cd0cbb">ptset</a>.<a class="code" href="structcgns__ptset.html#0306378cd06415f84b10cb3d15516ec3">npts</a> = npnts;
<a name="l05430"></a>05430     conn-&gt;<a class="code" href="structcgns__conn.html#3ef487d0a8936f384aa9c23652cd0cbb">ptset</a>.<a class="code" href="structcgns__ptset.html#e2b9734c6e30fe18058a373b8aad77a2">size_of_patch</a> = PointListSize;
<a name="l05431"></a>05431 
<a name="l05432"></a>05432      <span class="comment">/* ... initialize: */</span>
<a name="l05433"></a>05433     conn-&gt;<a class="code" href="structcgns__conn.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>=0;
<a name="l05434"></a>05434     conn-&gt;<a class="code" href="structcgns__conn.html#f6f27f42b9ecc89cf0ed39415bca67d1">link</a>=0;
<a name="l05435"></a>05435     conn-&gt;<a class="code" href="structcgns__conn.html#cdee83a08ec17a8018bf719ef82a3602">ndescr</a>=0;
<a name="l05436"></a>05436     conn-&gt;<a class="code" href="structcgns__conn.html#6906d66a97c04f02a830a98f4ee90872">ordinal</a>=0;
<a name="l05437"></a>05437     conn-&gt;<a class="code" href="structcgns__conn.html#dc1e157d997b3174f9d41c5b645631f9">nuser_data</a>=0;
<a name="l05438"></a>05438     conn-&gt;<a class="code" href="structcgns__conn.html#40c7a3c103adb7e58c56b24ce67bde0f">cprop</a>=0;
<a name="l05439"></a>05439 
<a name="l05440"></a>05440      <span class="comment">/* ... donor: */</span>
<a name="l05441"></a>05441     strcpy(conn-&gt;<a class="code" href="structcgns__conn.html#1c860db56de1c684b628662dc3c02c1b">donor</a>,donorname);
<a name="l05442"></a>05442     conn-&gt;<a class="code" href="structcgns__conn.html#bfa5947f542b8b6afb4ad54cb94ec2f1">interpolants</a> = 0;
<a name="l05443"></a>05443     dptset = &amp;conn-&gt;<a class="code" href="structcgns__conn.html#44fbe065ea74769988785453c9fbd2c1">dptset</a>;
<a name="l05444"></a>05444     dptset-&gt;<a class="code" href="structcgns__ptset.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a> = 0;
<a name="l05445"></a>05445     dptset-&gt;<a class="code" href="structcgns__ptset.html#f6f27f42b9ecc89cf0ed39415bca67d1">link</a> = 0;
<a name="l05446"></a>05446     strcpy(dptset-&gt;<a class="code" href="structcgns__ptset.html#b5192b2e796e6224c74ec532ec32abf7">name</a>,<a class="code" href="cgnslib_8c.html#4a8e191f04e4a8f19c88e882e5451685">PointSetTypeName</a>[donor_ptset_type]);
<a name="l05447"></a>05447     dptset-&gt;<a class="code" href="structcgns__ptset.html#5aec710ee64d19d29072491968901bb5">type</a> = donor_ptset_type;
<a name="l05448"></a>05448     strcpy(dptset-&gt;<a class="code" href="structcgns__ptset.html#86e4d546d1321bcac60584c413eb0f6d">data_type</a>, <a class="code" href="cgns__header_8h.html#abf7e64b45b7a0d3aa0f56747525065c">cgi_adf_datatype</a>(donor_datatype));
<a name="l05449"></a>05449     dptset-&gt;<a class="code" href="structcgns__ptset.html#0306378cd06415f84b10cb3d15516ec3">npts</a> = ndata_donor;
<a name="l05450"></a>05450     dptset-&gt;<a class="code" href="structcgns__ptset.html#e2b9734c6e30fe18058a373b8aad77a2">size_of_patch</a> = ndata_donor;
<a name="l05451"></a>05451 
<a name="l05452"></a>05452      <span class="comment">/* Create node ZoneGridConnectivity_t node, if not yet created */</span>
<a name="l05453"></a>05453     <span class="keywordflow">if</span> (zconn-&gt;<a class="code" href="structcgns__zconn.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>==0) {
<a name="l05454"></a>05454         <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#184dd1d99e9f4e7b826f84887ba07748">cgi_new_node</a>(zone-&gt;<a class="code" href="structcgns__zone.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, <span class="stringliteral">"ZoneGridConnectivity"</span>, <span class="stringliteral">"ZoneGridConnectivity_t"</span>,
<a name="l05455"></a>05455             &amp;zconn-&gt;<a class="code" href="structcgns__zconn.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, <span class="stringliteral">"MT"</span>, 0, 0, 0)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l05456"></a>05456     }
<a name="l05457"></a>05457      <span class="comment">/* Create node GridConnectivity_t node */</span>
<a name="l05458"></a>05458     length = strlen(conn-&gt;<a class="code" href="structcgns__conn.html#1c860db56de1c684b628662dc3c02c1b">donor</a>);
<a name="l05459"></a>05459     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#184dd1d99e9f4e7b826f84887ba07748">cgi_new_node</a>(zconn-&gt;<a class="code" href="structcgns__zconn.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, conn-&gt;<a class="code" href="structcgns__conn.html#b5192b2e796e6224c74ec532ec32abf7">name</a>, <span class="stringliteral">"GridConnectivity_t"</span>, &amp;conn-&gt;<a class="code" href="structcgns__conn.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>,
<a name="l05460"></a>05460         <span class="stringliteral">"C1"</span>, 1, &amp;length, conn-&gt;<a class="code" href="structcgns__conn.html#1c860db56de1c684b628662dc3c02c1b">donor</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l05461"></a>05461 
<a name="l05462"></a>05462      <span class="comment">/* Create node GridConnectivityType_t */</span>
<a name="l05463"></a>05463     length = strlen(<a class="code" href="cgnslib_8c.html#09091f99fae25229d9bc3d57f6c99f3e">GridConnectivityTypeName</a>[conn-&gt;<a class="code" href="structcgns__conn.html#02645da6b20f22c6f0bd10e2f44a881c">type</a>]);
<a name="l05464"></a>05464     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#184dd1d99e9f4e7b826f84887ba07748">cgi_new_node</a>(conn-&gt;<a class="code" href="structcgns__conn.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>,<span class="stringliteral">"GridConnectivityType"</span>,<span class="stringliteral">"GridConnectivityType_t"</span>,
<a name="l05465"></a>05465         &amp;C_id, <span class="stringliteral">"C1"</span>, 1, &amp;length, <a class="code" href="cgnslib_8c.html#09091f99fae25229d9bc3d57f6c99f3e">GridConnectivityTypeName</a>[conn-&gt;<a class="code" href="structcgns__conn.html#02645da6b20f22c6f0bd10e2f44a881c">type</a>])) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l05466"></a>05466 
<a name="l05467"></a>05467      <span class="comment">/* write GridLocation */</span>
<a name="l05468"></a>05468     <span class="keywordflow">if</span> (conn-&gt;<a class="code" href="structcgns__conn.html#0e4921cde80f9718431923eedef14779">location</a> != <a class="code" href="cgns_keywords_8h.html#5a0e596ed46b12f73c2ed1b8b0176e13d013c4439c3e09308d6b2eef2a4025ae">Vertex</a>) {
<a name="l05469"></a>05469         length = strlen(<a class="code" href="cgnslib_8c.html#eb037aad0a1892338bfeeb05176a29bd">GridLocationName</a>[conn-&gt;<a class="code" href="structcgns__conn.html#0e4921cde80f9718431923eedef14779">location</a>]);
<a name="l05470"></a>05470         <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#184dd1d99e9f4e7b826f84887ba07748">cgi_new_node</a>(conn-&gt;<a class="code" href="structcgns__conn.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, <span class="stringliteral">"GridLocation"</span>, <span class="stringliteral">"GridLocation_t"</span>, &amp;GL_id,
<a name="l05471"></a>05471             <span class="stringliteral">"C1"</span>, 1, &amp;length, <a class="code" href="cgnslib_8c.html#eb037aad0a1892338bfeeb05176a29bd">GridLocationName</a>[conn-&gt;<a class="code" href="structcgns__conn.html#0e4921cde80f9718431923eedef14779">location</a>])) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l05472"></a>05472     }
<a name="l05473"></a>05473 
<a name="l05474"></a>05474      <span class="comment">/* Write Point Sets to disk */</span>
<a name="l05475"></a>05475     <span class="keywordflow">if</span> (npnts&gt;0) {
<a name="l05476"></a>05476         <a class="code" href="cgns__header_8h.html#3643549b6f6f5f037878b262787434c0">char_33</a> PointSetName;
<a name="l05477"></a>05477         strcpy (PointSetName, <a class="code" href="cgnslib_8c.html#4a8e191f04e4a8f19c88e882e5451685">PointSetTypeName</a>[conn-&gt;<a class="code" href="structcgns__conn.html#3ef487d0a8936f384aa9c23652cd0cbb">ptset</a>.<a class="code" href="structcgns__ptset.html#5aec710ee64d19d29072491968901bb5">type</a>]);
<a name="l05478"></a>05478         <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#b515c026b136510f7280371efafda974">cgi_write_ptset</a>(conn-&gt;<a class="code" href="structcgns__conn.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, PointSetName, &amp;conn-&gt;<a class="code" href="structcgns__conn.html#3ef487d0a8936f384aa9c23652cd0cbb">ptset</a>, index_dim,
<a name="l05479"></a>05479             (<span class="keywordtype">void</span> *)pnts)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l05480"></a>05480 
<a name="l05481"></a>05481         <span class="comment">/* Write pointset of donor */</span>
<a name="l05482"></a>05482         <span class="keywordflow">if</span> (ndata_donor) {
<a name="l05483"></a>05483             <span class="keywordflow">if</span> (donor_zonetype==<a class="code" href="cgns_keywords_8h.html#68acb02e36b91d3020f4de86436a07fe8a382d9e08294b2cd243ee60bd75c068">Structured</a>)
<a name="l05484"></a>05484                 index_dim_donor = cell_dim;
<a name="l05485"></a>05485             <span class="keywordflow">else</span>
<a name="l05486"></a>05486                 index_dim_donor=1;
<a name="l05487"></a>05487             strcpy (PointSetName, <a class="code" href="cgnslib_8c.html#4a8e191f04e4a8f19c88e882e5451685">PointSetTypeName</a>[donor_ptset_type]);
<a name="l05488"></a>05488             <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#b515c026b136510f7280371efafda974">cgi_write_ptset</a>(conn-&gt;<a class="code" href="structcgns__conn.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, PointSetName, dptset, index_dim_donor,
<a name="l05489"></a>05489                 (<span class="keywordtype">void</span> *)donor_data)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l05490"></a>05490         }
<a name="l05491"></a>05491     }
<a name="l05492"></a>05492     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l05493"></a>05493 }
<a name="l05494"></a>05494 
<a name="l05495"></a><a class="code" href="cgnslib_8h.html#f7f6ac10146d49578f1387970615b454">05495</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#bfe87af1686ffb4fbf5108282640d247">cg_conn_write_short</a>(<span class="keywordtype">int</span> file_number, <span class="keywordtype">int</span> B, <span class="keywordtype">int</span> Z,  <span class="keywordtype">char</span> <span class="keyword">const</span> * connectname,
<a name="l05496"></a>05496           <a class="code" href="cgns_keywords_8h.html#5a0e596ed46b12f73c2ed1b8b0176e13">GridLocation_t</a> location, <a class="code" href="cgns_keywords_8h.html#63b65ef61e306a412f1fabc9be3cc6d0">GridConnectivityType_t</a> type, <a class="code" href="cgns_keywords_8h.html#82fcf406991383f888f145541f6616f5">PointSetType_t</a> ptset_type,
<a name="l05497"></a>05497           <span class="keywordtype">int</span> <a class="code" href="write__bcdata_8c.html#5444c4f4b8152e0b11ea6acae6b6de2a">npnts</a>, <span class="keywordtype">int</span> <span class="keyword">const</span> * <a class="code" href="write__bcdata_8c.html#5e162cfaac90b1bb6effc1042b58b64e">pnts</a>, <span class="keywordtype">char</span> <span class="keyword">const</span> * donorname, <span class="keywordtype">int</span> *I) {
<a name="l05498"></a>05498 <span class="preprocessor">#if 0</span>
<a name="l05499"></a>05499 <span class="preprocessor"></span>    <a class="code" href="structcgns__zone.html">cgns_zone</a> *zone;
<a name="l05500"></a>05500     <a class="code" href="structcgns__zconn.html">cgns_zconn</a> *zconn;
<a name="l05501"></a>05501     <a class="code" href="structcgns__conn.html">cgns_conn</a> *conn;
<a name="l05502"></a>05502     <span class="keywordtype">int</span> <a class="code" href="namespacefmain.html#c6f559daa4a4864f2449315176500469">i</a>, size_of_zone, length;
<a name="l05503"></a>05503     <span class="keywordtype">int</span> PointListSize, cell_dim;
<a name="l05504"></a>05504     <span class="keywordtype">int</span> index, index_dim;
<a name="l05505"></a>05505     <span class="keywordtype">double</span> GL_id, C_id;
<a name="l05506"></a>05506 
<a name="l05507"></a>05507      <span class="comment">/* verify input */</span>
<a name="l05508"></a>05508     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#b042658423afd0817ab23b3ea7a5e03d">cgi_check_strlen</a>(connectname)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l05509"></a>05509     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#b042658423afd0817ab23b3ea7a5e03d">cgi_check_strlen</a>(donorname)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l05510"></a>05510     <span class="keywordflow">if</span> (type &lt;0 || type &gt;= <a class="code" href="cgns_keywords_8h.html#41e970ada020b402f55c11f07bc2ff19">NofValidGridConnectivityTypes</a>) {
<a name="l05511"></a>05511         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Invalid input:  GridConnectivityType=%d ?"</span>,type);
<a name="l05512"></a>05512         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l05513"></a>05513     }
<a name="l05514"></a>05514     <span class="keywordflow">if</span> (location != <a class="code" href="cgns_keywords_8h.html#5a0e596ed46b12f73c2ed1b8b0176e13d013c4439c3e09308d6b2eef2a4025ae">Vertex</a> &amp;&amp; location != <a class="code" href="cgns_keywords_8h.html#5a0e596ed46b12f73c2ed1b8b0176e13af82b5a2366c89873ca45b75f6e6ac36">CellCenter</a> &amp;&amp;
<a name="l05515"></a>05515         location != <a class="code" href="cgns_keywords_8h.html#5a0e596ed46b12f73c2ed1b8b0176e1345f1c1cdb99ea61bfdddc570c6a02bf2">FaceCenter</a> &amp;&amp; location != <a class="code" href="cgns_keywords_8h.html#5a0e596ed46b12f73c2ed1b8b0176e13b4cea34ab6a3c3533f2422f66bf8dc3d">IFaceCenter</a> &amp;&amp;
<a name="l05516"></a>05516         location != <a class="code" href="cgns_keywords_8h.html#5a0e596ed46b12f73c2ed1b8b0176e133f9cfc26e3953b1a7f7b8826e119a5d5">JFaceCenter</a> &amp;&amp; location != <a class="code" href="cgns_keywords_8h.html#5a0e596ed46b12f73c2ed1b8b0176e1387cfa4bdd4bc3bd768c3f0bab84f2143">KFaceCenter</a>) {
<a name="l05517"></a>05517         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Invalid input:  GridLocation=%d ?"</span>,location);
<a name="l05518"></a>05518         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l05519"></a>05519     }
<a name="l05520"></a>05520     <span class="keywordflow">if</span> (type == <a class="code" href="cgns_keywords_8h.html#63b65ef61e306a412f1fabc9be3cc6d094100288a3d8ac9baaff8839a5c12998">Overset</a> &amp;&amp; location != <a class="code" href="cgns_keywords_8h.html#5a0e596ed46b12f73c2ed1b8b0176e13d013c4439c3e09308d6b2eef2a4025ae">Vertex</a> &amp;&amp; location != <a class="code" href="cgns_keywords_8h.html#5a0e596ed46b12f73c2ed1b8b0176e13af82b5a2366c89873ca45b75f6e6ac36">CellCenter</a>) {
<a name="l05521"></a>05521         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"GridLocation must be Vertex or CellCenter for Overset"</span>);
<a name="l05522"></a>05522         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l05523"></a>05523     }
<a name="l05524"></a>05524     <span class="keywordflow">if</span> (ptset_type!=<a class="code" href="cgns_keywords_8h.html#82fcf406991383f888f145541f6616f5d9df12b6366abf1175abbfca72f5f43e">PointList</a> &amp;&amp; ptset_type!=<a class="code" href="cgns_keywords_8h.html#82fcf406991383f888f145541f6616f5e5d03a0d4cdaa9d5c45a500029bd3783">PointRange</a>) {
<a name="l05525"></a>05525         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Invalid input:  ptset_type=%d ?"</span>,ptset_type);
<a name="l05526"></a>05526         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l05527"></a>05527     }
<a name="l05528"></a>05528     <span class="keywordflow">if</span> (!(ptset_type==<a class="code" href="cgns_keywords_8h.html#82fcf406991383f888f145541f6616f5e5d03a0d4cdaa9d5c45a500029bd3783">PointRange</a> &amp;&amp; npnts==2) &amp;&amp; !(ptset_type==<a class="code" href="cgns_keywords_8h.html#82fcf406991383f888f145541f6616f5d9df12b6366abf1175abbfca72f5f43e">PointList</a> &amp;&amp; npnts&gt;0)) {
<a name="l05529"></a>05529         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Invalid input:  npoint=%d, point set type=%s"</span>,
<a name="l05530"></a>05530                npnts, <a class="code" href="cgnslib_8c.html#4a8e191f04e4a8f19c88e882e5451685">PointSetTypeName</a>[ptset_type]);
<a name="l05531"></a>05531         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l05532"></a>05532     }
<a name="l05533"></a>05533 
<a name="l05534"></a>05534      <span class="comment">/* get memory address of file */</span>
<a name="l05535"></a>05535     cg = <a class="code" href="cgns__header_8h.html#64a13852e04666fc73b74a8ff7727f4f">cgi_get_file</a>(file_number);
<a name="l05536"></a>05536     <span class="keywordflow">if</span> (cg == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l05537"></a>05537 
<a name="l05538"></a>05538     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l05539"></a>05539 
<a name="l05540"></a>05540      <span class="comment">/* get memory address of zone */</span>
<a name="l05541"></a>05541     zone = <a class="code" href="cgns__header_8h.html#5ce4ef97dee99baf9183b8c23419bfe0">cgi_get_zone</a>(cg, B, Z);
<a name="l05542"></a>05542     <span class="keywordflow">if</span> (zone==0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l05543"></a>05543 
<a name="l05544"></a>05544     <span class="keywordflow">if</span> ((location == <a class="code" href="cgns_keywords_8h.html#5a0e596ed46b12f73c2ed1b8b0176e13b4cea34ab6a3c3533f2422f66bf8dc3d">IFaceCenter</a> || location == <a class="code" href="cgns_keywords_8h.html#5a0e596ed46b12f73c2ed1b8b0176e133f9cfc26e3953b1a7f7b8826e119a5d5">JFaceCenter</a> ||
<a name="l05545"></a>05545          location == <a class="code" href="cgns_keywords_8h.html#5a0e596ed46b12f73c2ed1b8b0176e1387cfa4bdd4bc3bd768c3f0bab84f2143">KFaceCenter</a>) &amp;&amp; zone-&gt;<a class="code" href="structcgns__zone.html#70e3228eb924895531acd9144d41916f">type</a> != <a class="code" href="cgns_keywords_8h.html#68acb02e36b91d3020f4de86436a07fe8a382d9e08294b2cd243ee60bd75c068">Structured</a>) {
<a name="l05546"></a>05546         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"GridLocation [IJK]FaceCenter only valid for Structured grids"</span>);
<a name="l05547"></a>05547         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l05548"></a>05548     }
<a name="l05549"></a>05549 
<a name="l05550"></a>05550      <span class="comment">/* Allocate ZoneGridConnectivity data struct. if not already created */</span>
<a name="l05551"></a>05551     <span class="keywordflow">if</span> (zone-&gt;<a class="code" href="structcgns__zone.html#fdd87cca91a43359ebe1709c59d073ad">zconn</a> == 0) {
<a name="l05552"></a>05552         zone-&gt;<a class="code" href="structcgns__zone.html#fdd87cca91a43359ebe1709c59d073ad">zconn</a> = <a class="code" href="cgns__header_8h.html#948c36b3700de0f3332aa3620eafb0f4">CGNS_NEW</a>(<a class="code" href="structcgns__zconn.html">cgns_zconn</a>, 1);
<a name="l05553"></a>05553         zconn = zone-&gt;<a class="code" href="structcgns__zone.html#fdd87cca91a43359ebe1709c59d073ad">zconn</a>;
<a name="l05554"></a>05554         strcpy(zconn-&gt;<a class="code" href="structcgns__zconn.html#b5192b2e796e6224c74ec532ec32abf7">name</a>,<span class="stringliteral">"ZoneGridConnectivity"</span>);
<a name="l05555"></a>05555 
<a name="l05556"></a>05556      <span class="comment">/* initialize new ZoneGridConnectivity data structure */</span>
<a name="l05557"></a>05557         zconn-&gt;<a class="code" href="structcgns__zconn.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a> = 0;
<a name="l05558"></a>05558         zconn-&gt;<a class="code" href="structcgns__zconn.html#f6f27f42b9ecc89cf0ed39415bca67d1">link</a>= 0;
<a name="l05559"></a>05559         zconn-&gt;<a class="code" href="structcgns__zconn.html#cdee83a08ec17a8018bf719ef82a3602">ndescr</a> = 0;
<a name="l05560"></a>05560         zconn-&gt;<a class="code" href="structcgns__zconn.html#cd7dc7b507fb0a6956c6005a2d76a367">n1to1</a> = 0;
<a name="l05561"></a>05561         zconn-&gt;<a class="code" href="structcgns__zconn.html#548a3767dd1b6b4af24084d1e1c2d3b7">nconns</a> = 0;
<a name="l05562"></a>05562         zconn-&gt;<a class="code" href="structcgns__zconn.html#14616d97c7f10ee666a79d99cd931353">nholes</a> = 0;
<a name="l05563"></a>05563         zconn-&gt;<a class="code" href="structcgns__zconn.html#dc1e157d997b3174f9d41c5b645631f9">nuser_data</a>= 0;
<a name="l05564"></a>05564     } <span class="keywordflow">else</span> zconn = zone-&gt;<a class="code" href="structcgns__zone.html#fdd87cca91a43359ebe1709c59d073ad">zconn</a>;
<a name="l05565"></a>05565 
<a name="l05566"></a>05566      <span class="comment">/* IndexDimension &amp; CellDimension */</span>
<a name="l05567"></a>05567     index_dim = zone-&gt;<a class="code" href="structcgns__zone.html#5ea7c3da009c9add916c0eeca1973c05">index_dim</a>;
<a name="l05568"></a>05568     cell_dim=cg-&gt;<a class="code" href="structcgns__file.html#0429392e9c26dac2f0b97ae2d2127117">base</a>[B-1].<a class="code" href="structcgns__base.html#1bee6ac28f8d5df04476d015a8643d3a">cell_dim</a>;
<a name="l05569"></a>05569 
<a name="l05570"></a>05570      <span class="comment">/* verify input */</span>
<a name="l05571"></a>05571     size_of_zone = 1;
<a name="l05572"></a>05572     <span class="keywordflow">for</span> (i=0; i&lt;index_dim; i++) size_of_zone*=zone-&gt;<a class="code" href="structcgns__zone.html#41ee98048c689af7dcf7cf361860ee09">nijk</a>[i];
<a name="l05573"></a>05573     if (npnts&lt;0 || npnts&gt;size_of_zone) {
<a name="l05574"></a>05574         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Inconsistent number of points in point set"</span>);
<a name="l05575"></a>05575         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l05576"></a>05576     }
<a name="l05577"></a>05577 
<a name="l05578"></a>05578      <span class="comment">/* Compute PointListSize */</span>
<a name="l05579"></a>05579     <span class="keywordflow">if</span> (ptset_type==<a class="code" href="cgns_keywords_8h.html#82fcf406991383f888f145541f6616f5e5d03a0d4cdaa9d5c45a500029bd3783">PointRange</a>) {
<a name="l05580"></a>05580         PointListSize = 1;
<a name="l05581"></a>05581         <span class="keywordflow">for</span> (i=0; i&lt;index_dim; i++) {
<a name="l05582"></a>05582             PointListSize *= (pnts[i+index_dim]-pnts[i]+1);
<a name="l05583"></a>05583         }
<a name="l05584"></a>05584     } <span class="keywordflow">else</span>  PointListSize=npnts;
<a name="l05585"></a>05585 
<a name="l05586"></a>05586      <span class="comment">/* Overwrite a GridConnectivity_t Node: */</span>
<a name="l05587"></a>05587     <span class="keywordflow">for</span> (index=0; index&lt;zconn-&gt;<a class="code" href="structcgns__zconn.html#548a3767dd1b6b4af24084d1e1c2d3b7">nconns</a>; index++) {
<a name="l05588"></a>05588         <span class="keywordflow">if</span> (strcmp(connectname, zconn-&gt;<a class="code" href="structcgns__zconn.html#982b1a6f86e621d95db3285549e2a8be">conn</a>[index].<a class="code" href="structcgns__conn.html#b5192b2e796e6224c74ec532ec32abf7">name</a>)==0) {
<a name="l05589"></a>05589 
<a name="l05590"></a>05590              <span class="comment">/* in CG_MODE_WRITE, children names must be unique */</span>
<a name="l05591"></a>05591             <span class="keywordflow">if</span> (cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>==<a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>) {
<a name="l05592"></a>05592                 <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Duplicate child name found: %s"</span>,connectname);
<a name="l05593"></a>05593                 <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l05594"></a>05594             }
<a name="l05595"></a>05595 
<a name="l05596"></a>05596              <span class="comment">/* overwrite an existing GridConnectivity_t Node */</span>
<a name="l05597"></a>05597              <span class="comment">/* delete the existing GridConnectivity_t Node from file */</span>
<a name="l05598"></a>05598             <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#032ae98a5be795f845bb5cc7d63750e4">cgi_delete_node</a>(zconn-&gt;<a class="code" href="structcgns__zconn.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, zconn-&gt;<a class="code" href="structcgns__zconn.html#982b1a6f86e621d95db3285549e2a8be">conn</a>[index].<a class="code" href="structcgns__conn.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>))
<a name="l05599"></a>05599                 <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l05600"></a>05600              <span class="comment">/* save the old in-memory address to overwrite */</span>
<a name="l05601"></a>05601             conn = &amp;(zconn-&gt;<a class="code" href="structcgns__zconn.html#982b1a6f86e621d95db3285549e2a8be">conn</a>[index]);
<a name="l05602"></a>05602             <a class="code" href="cgns__header_8h.html#b6d3d20b088b91d65c4c2ebf5df696cf">cgi_free_conn</a>(conn);
<a name="l05603"></a>05603             <span class="keywordflow">break</span>;
<a name="l05604"></a>05604         }
<a name="l05605"></a>05605     }
<a name="l05606"></a>05606      <span class="comment">/* ... or add a GridConnectivity_t Node: */</span>
<a name="l05607"></a>05607     <span class="keywordflow">if</span> (index==zconn-&gt;<a class="code" href="structcgns__zconn.html#548a3767dd1b6b4af24084d1e1c2d3b7">nconns</a>) {
<a name="l05608"></a>05608         <span class="keywordflow">if</span> (zconn-&gt;<a class="code" href="structcgns__zconn.html#548a3767dd1b6b4af24084d1e1c2d3b7">nconns</a> == 0) {
<a name="l05609"></a>05609             zconn-&gt;<a class="code" href="structcgns__zconn.html#982b1a6f86e621d95db3285549e2a8be">conn</a> = <a class="code" href="cgns__header_8h.html#948c36b3700de0f3332aa3620eafb0f4">CGNS_NEW</a>(<a class="code" href="structcgns__conn.html">cgns_conn</a>, zconn-&gt;<a class="code" href="structcgns__zconn.html#548a3767dd1b6b4af24084d1e1c2d3b7">nconns</a>+1);
<a name="l05610"></a>05610         } <span class="keywordflow">else</span> {
<a name="l05611"></a>05611             zconn-&gt;<a class="code" href="structcgns__zconn.html#982b1a6f86e621d95db3285549e2a8be">conn</a> = <a class="code" href="cgns__header_8h.html#e23e608849b6dc488ccdad466e76e2ad">CGNS_RENEW</a>(<a class="code" href="structcgns__conn.html">cgns_conn</a>, zconn-&gt;<a class="code" href="structcgns__zconn.html#548a3767dd1b6b4af24084d1e1c2d3b7">nconns</a>+1, zconn-&gt;<a class="code" href="structcgns__zconn.html#982b1a6f86e621d95db3285549e2a8be">conn</a>);
<a name="l05612"></a>05612         }
<a name="l05613"></a>05613         conn = &amp;(zconn-&gt;<a class="code" href="structcgns__zconn.html#982b1a6f86e621d95db3285549e2a8be">conn</a>[zconn-&gt;<a class="code" href="structcgns__zconn.html#548a3767dd1b6b4af24084d1e1c2d3b7">nconns</a>]);
<a name="l05614"></a>05614         zconn-&gt;<a class="code" href="structcgns__zconn.html#548a3767dd1b6b4af24084d1e1c2d3b7">nconns</a>++;
<a name="l05615"></a>05615     }
<a name="l05616"></a>05616     (*I) = index+1;
<a name="l05617"></a>05617 
<a name="l05618"></a>05618      <span class="comment">/* write conn info to internal memory */</span>
<a name="l05619"></a>05619     strcpy(conn-&gt;<a class="code" href="structcgns__conn.html#b5192b2e796e6224c74ec532ec32abf7">name</a>,connectname);
<a name="l05620"></a>05620     conn-&gt;<a class="code" href="structcgns__conn.html#02645da6b20f22c6f0bd10e2f44a881c">type</a> = type;
<a name="l05621"></a>05621     conn-&gt;<a class="code" href="structcgns__conn.html#0e4921cde80f9718431923eedef14779">location</a> = location;
<a name="l05622"></a>05622     conn-&gt;<a class="code" href="structcgns__conn.html#3ef487d0a8936f384aa9c23652cd0cbb">ptset</a>.<a class="code" href="structcgns__ptset.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a> = 0;
<a name="l05623"></a>05623     conn-&gt;<a class="code" href="structcgns__conn.html#3ef487d0a8936f384aa9c23652cd0cbb">ptset</a>.<a class="code" href="structcgns__ptset.html#f6f27f42b9ecc89cf0ed39415bca67d1">link</a> = 0;
<a name="l05624"></a>05624     conn-&gt;<a class="code" href="structcgns__conn.html#3ef487d0a8936f384aa9c23652cd0cbb">ptset</a>.<a class="code" href="structcgns__ptset.html#5aec710ee64d19d29072491968901bb5">type</a> = ptset_type;
<a name="l05625"></a>05625     strcpy(conn-&gt;<a class="code" href="structcgns__conn.html#3ef487d0a8936f384aa9c23652cd0cbb">ptset</a>.<a class="code" href="structcgns__ptset.html#86e4d546d1321bcac60584c413eb0f6d">data_type</a>,<span class="stringliteral">"I4"</span>);
<a name="l05626"></a>05626     conn-&gt;<a class="code" href="structcgns__conn.html#3ef487d0a8936f384aa9c23652cd0cbb">ptset</a>.<a class="code" href="structcgns__ptset.html#0306378cd06415f84b10cb3d15516ec3">npts</a> = npnts;
<a name="l05627"></a>05627     conn-&gt;<a class="code" href="structcgns__conn.html#3ef487d0a8936f384aa9c23652cd0cbb">ptset</a>.<a class="code" href="structcgns__ptset.html#e2b9734c6e30fe18058a373b8aad77a2">size_of_patch</a> = PointListSize;
<a name="l05628"></a>05628 
<a name="l05629"></a>05629      <span class="comment">/* ... initialize: */</span>
<a name="l05630"></a>05630     conn-&gt;<a class="code" href="structcgns__conn.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>=0;
<a name="l05631"></a>05631     conn-&gt;<a class="code" href="structcgns__conn.html#f6f27f42b9ecc89cf0ed39415bca67d1">link</a>=0;
<a name="l05632"></a>05632     conn-&gt;<a class="code" href="structcgns__conn.html#cdee83a08ec17a8018bf719ef82a3602">ndescr</a>=0;
<a name="l05633"></a>05633     conn-&gt;<a class="code" href="structcgns__conn.html#6906d66a97c04f02a830a98f4ee90872">ordinal</a>=0;
<a name="l05634"></a>05634     conn-&gt;<a class="code" href="structcgns__conn.html#dc1e157d997b3174f9d41c5b645631f9">nuser_data</a>=0;
<a name="l05635"></a>05635     conn-&gt;<a class="code" href="structcgns__conn.html#40c7a3c103adb7e58c56b24ce67bde0f">cprop</a>=0;
<a name="l05636"></a>05636 
<a name="l05637"></a>05637      <span class="comment">/* ... donor: */</span>
<a name="l05638"></a>05638     strcpy(conn-&gt;<a class="code" href="structcgns__conn.html#1c860db56de1c684b628662dc3c02c1b">donor</a>,donorname);
<a name="l05639"></a>05639     conn-&gt;<a class="code" href="structcgns__conn.html#bfa5947f542b8b6afb4ad54cb94ec2f1">interpolants</a> = 0;
<a name="l05640"></a>05640     conn-&gt;<a class="code" href="structcgns__conn.html#44fbe065ea74769988785453c9fbd2c1">dptset</a>.<a class="code" href="structcgns__ptset.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a> = 0;
<a name="l05641"></a>05641     conn-&gt;<a class="code" href="structcgns__conn.html#44fbe065ea74769988785453c9fbd2c1">dptset</a>.<a class="code" href="structcgns__ptset.html#f6f27f42b9ecc89cf0ed39415bca67d1">link</a> = 0;
<a name="l05642"></a>05642     strcpy(conn-&gt;<a class="code" href="structcgns__conn.html#44fbe065ea74769988785453c9fbd2c1">dptset</a>.<a class="code" href="structcgns__ptset.html#b5192b2e796e6224c74ec532ec32abf7">name</a>,<a class="code" href="cgnslib_8c.html#4a8e191f04e4a8f19c88e882e5451685">PointSetTypeName</a>[<a class="code" href="cgns_keywords_8h.html#82fcf406991383f888f145541f6616f5d798d4e83da7be175c4bd0dcc0be0a84">PointSetTypeNull</a>]);
<a name="l05643"></a>05643     conn-&gt;<a class="code" href="structcgns__conn.html#44fbe065ea74769988785453c9fbd2c1">dptset</a>.<a class="code" href="structcgns__ptset.html#5aec710ee64d19d29072491968901bb5">type</a> = PointSetTypeNull;
<a name="l05644"></a>05644     strcpy(conn-&gt;<a class="code" href="structcgns__conn.html#44fbe065ea74769988785453c9fbd2c1">dptset</a>.<a class="code" href="structcgns__ptset.html#86e4d546d1321bcac60584c413eb0f6d">data_type</a>, <span class="stringliteral">"MT"</span>);
<a name="l05645"></a>05645     conn-&gt;<a class="code" href="structcgns__conn.html#44fbe065ea74769988785453c9fbd2c1">dptset</a>.<a class="code" href="structcgns__ptset.html#0306378cd06415f84b10cb3d15516ec3">npts</a> = 0;
<a name="l05646"></a>05646     conn-&gt;<a class="code" href="structcgns__conn.html#44fbe065ea74769988785453c9fbd2c1">dptset</a>.<a class="code" href="structcgns__ptset.html#e2b9734c6e30fe18058a373b8aad77a2">size_of_patch</a> = 0;
<a name="l05647"></a>05647 
<a name="l05648"></a>05648      <span class="comment">/* Create node ZoneGridConnectivity_t node, if not yet created */</span>
<a name="l05649"></a>05649     <span class="keywordflow">if</span> (zconn-&gt;<a class="code" href="structcgns__zconn.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>==0) {
<a name="l05650"></a>05650         <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#184dd1d99e9f4e7b826f84887ba07748">cgi_new_node</a>(zone-&gt;<a class="code" href="structcgns__zone.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, <span class="stringliteral">"ZoneGridConnectivity"</span>, <span class="stringliteral">"ZoneGridConnectivity_t"</span>,
<a name="l05651"></a>05651             &amp;zconn-&gt;<a class="code" href="structcgns__zconn.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, <span class="stringliteral">"MT"</span>, 0, 0, 0)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l05652"></a>05652     }
<a name="l05653"></a>05653      <span class="comment">/* Create node GridConnectivity_t node */</span>
<a name="l05654"></a>05654     length = strlen(conn-&gt;<a class="code" href="structcgns__conn.html#1c860db56de1c684b628662dc3c02c1b">donor</a>);
<a name="l05655"></a>05655     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#184dd1d99e9f4e7b826f84887ba07748">cgi_new_node</a>(zconn-&gt;<a class="code" href="structcgns__zconn.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, conn-&gt;<a class="code" href="structcgns__conn.html#b5192b2e796e6224c74ec532ec32abf7">name</a>, <span class="stringliteral">"GridConnectivity_t"</span>, &amp;conn-&gt;<a class="code" href="structcgns__conn.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>,
<a name="l05656"></a>05656         <span class="stringliteral">"C1"</span>, 1, &amp;length, conn-&gt;<a class="code" href="structcgns__conn.html#1c860db56de1c684b628662dc3c02c1b">donor</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l05657"></a>05657 
<a name="l05658"></a>05658      <span class="comment">/* Create node GridConnectivityType_t */</span>
<a name="l05659"></a>05659     length = strlen(<a class="code" href="cgnslib_8c.html#09091f99fae25229d9bc3d57f6c99f3e">GridConnectivityTypeName</a>[conn-&gt;<a class="code" href="structcgns__conn.html#02645da6b20f22c6f0bd10e2f44a881c">type</a>]);
<a name="l05660"></a>05660     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#184dd1d99e9f4e7b826f84887ba07748">cgi_new_node</a>(conn-&gt;<a class="code" href="structcgns__conn.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>,<span class="stringliteral">"GridConnectivityType"</span>,<span class="stringliteral">"GridConnectivityType_t"</span>,
<a name="l05661"></a>05661         &amp;C_id, <span class="stringliteral">"C1"</span>, 1, &amp;length, <a class="code" href="cgnslib_8c.html#09091f99fae25229d9bc3d57f6c99f3e">GridConnectivityTypeName</a>[conn-&gt;<a class="code" href="structcgns__conn.html#02645da6b20f22c6f0bd10e2f44a881c">type</a>])) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l05662"></a>05662 
<a name="l05663"></a>05663      <span class="comment">/* write GridLocation */</span>
<a name="l05664"></a>05664     <span class="keywordflow">if</span> (conn-&gt;<a class="code" href="structcgns__conn.html#0e4921cde80f9718431923eedef14779">location</a> != <a class="code" href="cgns_keywords_8h.html#5a0e596ed46b12f73c2ed1b8b0176e13d013c4439c3e09308d6b2eef2a4025ae">Vertex</a>) {
<a name="l05665"></a>05665         length = strlen(<a class="code" href="cgnslib_8c.html#eb037aad0a1892338bfeeb05176a29bd">GridLocationName</a>[conn-&gt;<a class="code" href="structcgns__conn.html#0e4921cde80f9718431923eedef14779">location</a>]);
<a name="l05666"></a>05666         <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#184dd1d99e9f4e7b826f84887ba07748">cgi_new_node</a>(conn-&gt;<a class="code" href="structcgns__conn.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, <span class="stringliteral">"GridLocation"</span>, <span class="stringliteral">"GridLocation_t"</span>, &amp;GL_id,
<a name="l05667"></a>05667             <span class="stringliteral">"C1"</span>, 1, &amp;length, <a class="code" href="cgnslib_8c.html#eb037aad0a1892338bfeeb05176a29bd">GridLocationName</a>[conn-&gt;<a class="code" href="structcgns__conn.html#0e4921cde80f9718431923eedef14779">location</a>])) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l05668"></a>05668     }
<a name="l05669"></a>05669 
<a name="l05670"></a>05670      <span class="comment">/* Write Point Sets to disk */</span>
<a name="l05671"></a>05671     <span class="keywordflow">if</span> (npnts&gt;0) {
<a name="l05672"></a>05672         <a class="code" href="cgns__header_8h.html#3643549b6f6f5f037878b262787434c0">char_33</a> PointSetName;
<a name="l05673"></a>05673         strcpy (PointSetName, <a class="code" href="cgnslib_8c.html#4a8e191f04e4a8f19c88e882e5451685">PointSetTypeName</a>[conn-&gt;<a class="code" href="structcgns__conn.html#3ef487d0a8936f384aa9c23652cd0cbb">ptset</a>.<a class="code" href="structcgns__ptset.html#5aec710ee64d19d29072491968901bb5">type</a>]);
<a name="l05674"></a>05674         <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#b515c026b136510f7280371efafda974">cgi_write_ptset</a>(conn-&gt;<a class="code" href="structcgns__conn.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, PointSetName, &amp;conn-&gt;<a class="code" href="structcgns__conn.html#3ef487d0a8936f384aa9c23652cd0cbb">ptset</a>, index_dim,
<a name="l05675"></a>05675             (<span class="keywordtype">void</span> *)pnts)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l05676"></a>05676     }
<a name="l05677"></a>05677     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l05678"></a>05678 <span class="preprocessor">#else</span>
<a name="l05679"></a>05679 <span class="preprocessor"></span>    <span class="keywordflow">return</span> <a class="code" href="cgnslib_8c.html#92e9f8c822358ad2d0e9becfff7aec2b">cg_conn_write</a> (file_number, B, Z,  connectname, location,
<a name="l05680"></a>05680           type, ptset_type, npnts, pnts, donorname,
<a name="l05681"></a>05681           <a class="code" href="cgns_keywords_8h.html#68acb02e36b91d3020f4de86436a07fe399a15bc8de5787951e7f671386596be">ZoneTypeNull</a>, PointSetTypeNull, <a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae812979fbc1a2dc328c8d833f685d1142">DataTypeNull</a>, 0, NULL, I);
<a name="l05682"></a>05682 <span class="preprocessor">#endif</span>
<a name="l05683"></a>05683 <span class="preprocessor"></span>}
<a name="l05684"></a>05684 
<a name="l05685"></a><a class="code" href="cgnslib_8h.html#b09eb46d968fbb372d008c10176243df">05685</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#4cac2056044b5dd6f0c5776f0de274a6">cg_conn_average_write</a>(<span class="keywordtype">int</span> file_number, <span class="keywordtype">int</span> B, <span class="keywordtype">int</span> Z, <span class="keywordtype">int</span> I,
<a name="l05686"></a>05686     <a class="code" href="cgns_keywords_8h.html#f47b7b9aa4b1c696a7e559427686a083">AverageInterfaceType_t</a> AverageInterfaceType) {
<a name="l05687"></a>05687 
<a name="l05688"></a>05688     <a class="code" href="structcgns__cprop.html">cgns_cprop</a> *cprop;
<a name="l05689"></a>05689     <a class="code" href="structcgns__caverage.html">cgns_caverage</a> *caverage;
<a name="l05690"></a>05690     <a class="code" href="structcgns__conn.html">cgns_conn</a> *conn;
<a name="l05691"></a>05691     <span class="keywordtype">int</span> length;
<a name="l05692"></a>05692     <span class="keywordtype">double</span> dummy_id;
<a name="l05693"></a>05693 
<a name="l05694"></a>05694      <span class="comment">/* verify input */</span>
<a name="l05695"></a>05695     <span class="keywordflow">if</span> (AverageInterfaceType&lt;0 || AverageInterfaceType&gt;=<a class="code" href="cgns_keywords_8h.html#5e5d8a437369fdc558929202d9473375">NofValidAverageInterfaceTypes</a>) {
<a name="l05696"></a>05696         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Invalid AverageInterfaceType:  %d"</span>,AverageInterfaceType);
<a name="l05697"></a>05697         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l05698"></a>05698     }
<a name="l05699"></a>05699 
<a name="l05700"></a>05700      <span class="comment">/* get memory address of file */</span>
<a name="l05701"></a>05701     cg = <a class="code" href="cgns__header_8h.html#64a13852e04666fc73b74a8ff7727f4f">cgi_get_file</a>(file_number);
<a name="l05702"></a>05702     <span class="keywordflow">if</span> (cg == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l05703"></a>05703 
<a name="l05704"></a>05704     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l05705"></a>05705 
<a name="l05706"></a>05706      <span class="comment">/* get memory address of GridConnectivity_t node */</span>
<a name="l05707"></a>05707     conn = <a class="code" href="cgns__header_8h.html#a10f5ed577b1bc7ba5c9f0a10539e5d0">cgi_get_conn</a>(cg, B, Z, I);
<a name="l05708"></a>05708     <span class="keywordflow">if</span> (conn==0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l05709"></a>05709 
<a name="l05710"></a>05710      <span class="comment">/* Allocate GridConnectivityProperty_t data struct. if not already created */</span>
<a name="l05711"></a>05711     <span class="keywordflow">if</span> (conn-&gt;<a class="code" href="structcgns__conn.html#40c7a3c103adb7e58c56b24ce67bde0f">cprop</a> == 0) {
<a name="l05712"></a>05712         conn-&gt;<a class="code" href="structcgns__conn.html#40c7a3c103adb7e58c56b24ce67bde0f">cprop</a> = <a class="code" href="cgns__header_8h.html#948c36b3700de0f3332aa3620eafb0f4">CGNS_NEW</a>(<a class="code" href="structcgns__cprop.html">cgns_cprop</a>, 1);
<a name="l05713"></a>05713         cprop = conn-&gt;<a class="code" href="structcgns__conn.html#40c7a3c103adb7e58c56b24ce67bde0f">cprop</a>;
<a name="l05714"></a>05714         strcpy(cprop-&gt;<a class="code" href="structcgns__cprop.html#b5192b2e796e6224c74ec532ec32abf7">name</a>,<span class="stringliteral">"GridConnectivityProperty"</span>);
<a name="l05715"></a>05715         cprop-&gt;<a class="code" href="structcgns__cprop.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>=0;
<a name="l05716"></a>05716         cprop-&gt;<a class="code" href="structcgns__cprop.html#f6f27f42b9ecc89cf0ed39415bca67d1">link</a>=0;
<a name="l05717"></a>05717         cprop-&gt;<a class="code" href="structcgns__cprop.html#cdee83a08ec17a8018bf719ef82a3602">ndescr</a>=0;
<a name="l05718"></a>05718         cprop-&gt;<a class="code" href="structcgns__cprop.html#dc1e157d997b3174f9d41c5b645631f9">nuser_data</a>=0;
<a name="l05719"></a>05719         cprop-&gt;<a class="code" href="structcgns__cprop.html#677b1d1bc529c4733f1133bbe71e79e1">cperio</a>=0;
<a name="l05720"></a>05720         cprop-&gt;<a class="code" href="structcgns__cprop.html#095d77a2e3cd512d29b64f42c8b2bdc3">caverage</a>=0;
<a name="l05721"></a>05721     } <span class="keywordflow">else</span> cprop = conn-&gt;<a class="code" href="structcgns__conn.html#40c7a3c103adb7e58c56b24ce67bde0f">cprop</a>;
<a name="l05722"></a>05722 
<a name="l05723"></a>05723      <span class="comment">/* Overwrite an AverageInterface_t Node: */</span>
<a name="l05724"></a>05724     <span class="keywordflow">if</span> (cprop-&gt;<a class="code" href="structcgns__cprop.html#095d77a2e3cd512d29b64f42c8b2bdc3">caverage</a>) {
<a name="l05725"></a>05725      <span class="comment">/* in CG_MODE_WRITE, children names must be unique */</span>
<a name="l05726"></a>05726         <span class="keywordflow">if</span> (cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>==<a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>) {
<a name="l05727"></a>05727             <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"AverageInterface_t already defined under GridConnectivityProperty_t"</span>);
<a name="l05728"></a>05728             <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l05729"></a>05729         }
<a name="l05730"></a>05730 
<a name="l05731"></a>05731      <span class="comment">/* overwrite an existing AverageInterface_t Node */</span>
<a name="l05732"></a>05732          <span class="comment">/* delete the existing AverageInterface_t Node from file */</span>
<a name="l05733"></a>05733         <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#032ae98a5be795f845bb5cc7d63750e4">cgi_delete_node</a>(cprop-&gt;<a class="code" href="structcgns__cprop.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, cprop-&gt;<a class="code" href="structcgns__cprop.html#095d77a2e3cd512d29b64f42c8b2bdc3">caverage</a>-&gt;<a class="code" href="structcgns__caverage.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>))
<a name="l05734"></a>05734             <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l05735"></a>05735         <a class="code" href="cgns__header_8h.html#1b4672e5eff24461815beee9bd13e623">cgi_free_caverage</a>(cprop-&gt;<a class="code" href="structcgns__cprop.html#095d77a2e3cd512d29b64f42c8b2bdc3">caverage</a>);
<a name="l05736"></a>05736     } <span class="keywordflow">else</span>
<a name="l05737"></a>05737         cprop-&gt;<a class="code" href="structcgns__cprop.html#095d77a2e3cd512d29b64f42c8b2bdc3">caverage</a> = <a class="code" href="cgns__header_8h.html#948c36b3700de0f3332aa3620eafb0f4">CGNS_NEW</a>(<a class="code" href="structcgns__caverage.html">cgns_caverage</a>, 1);
<a name="l05738"></a>05738     caverage = cprop-&gt;<a class="code" href="structcgns__cprop.html#095d77a2e3cd512d29b64f42c8b2bdc3">caverage</a>;
<a name="l05739"></a>05739 
<a name="l05740"></a>05740      <span class="comment">/* write caverage info to internal memory */</span>
<a name="l05741"></a>05741     caverage-&gt;<a class="code" href="structcgns__caverage.html#bca8e88ac72bca8eed960b543de29961">type</a> = AverageInterfaceType;
<a name="l05742"></a>05742 
<a name="l05743"></a>05743      <span class="comment">/* initialize other fields */</span>
<a name="l05744"></a>05744     strcpy(caverage-&gt;<a class="code" href="structcgns__caverage.html#b5192b2e796e6224c74ec532ec32abf7">name</a>,<span class="stringliteral">"AverageInterface"</span>);
<a name="l05745"></a>05745     caverage-&gt;<a class="code" href="structcgns__caverage.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a> = 0;
<a name="l05746"></a>05746     caverage-&gt;<a class="code" href="structcgns__caverage.html#f6f27f42b9ecc89cf0ed39415bca67d1">link</a> = 0;
<a name="l05747"></a>05747     caverage-&gt;<a class="code" href="structcgns__caverage.html#cdee83a08ec17a8018bf719ef82a3602">ndescr</a> = 0;
<a name="l05748"></a>05748     caverage-&gt;<a class="code" href="structcgns__caverage.html#dc1e157d997b3174f9d41c5b645631f9">nuser_data</a> = 0;
<a name="l05749"></a>05749 
<a name="l05750"></a>05750     <span class="comment">/* Create GridConnectivityProperty_t node if it doesn't yet exist */</span>
<a name="l05751"></a>05751     <span class="keywordflow">if</span> (cprop-&gt;<a class="code" href="structcgns__cprop.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>==0) {
<a name="l05752"></a>05752         <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#184dd1d99e9f4e7b826f84887ba07748">cgi_new_node</a>(conn-&gt;<a class="code" href="structcgns__conn.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, <span class="stringliteral">"GridConnectivityProperty"</span>,
<a name="l05753"></a>05753             <span class="stringliteral">"GridConnectivityProperty_t"</span>, &amp;cprop-&gt;<a class="code" href="structcgns__cprop.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, <span class="stringliteral">"MT"</span>, 0, 0, 0)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l05754"></a>05754     }
<a name="l05755"></a>05755     <span class="comment">/* Create the AverageInterface_t Node */</span>
<a name="l05756"></a>05756     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#184dd1d99e9f4e7b826f84887ba07748">cgi_new_node</a>(cprop-&gt;<a class="code" href="structcgns__cprop.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, <span class="stringliteral">"AverageInterface"</span>, <span class="stringliteral">"AverageInterface_t"</span>,
<a name="l05757"></a>05757         &amp;caverage-&gt;<a class="code" href="structcgns__caverage.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, <span class="stringliteral">"MT"</span>, 0, 0, 0)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l05758"></a>05758 
<a name="l05759"></a>05759     <span class="comment">/* AverageInterface_t/AverageInterfaceType_t */</span>
<a name="l05760"></a>05760     length = strlen(<a class="code" href="cgnslib_8c.html#7691bda33234ea0735f1f4c74edff48d">AverageInterfaceTypeName</a>[caverage-&gt;<a class="code" href="structcgns__caverage.html#bca8e88ac72bca8eed960b543de29961">type</a>]);
<a name="l05761"></a>05761     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#184dd1d99e9f4e7b826f84887ba07748">cgi_new_node</a>(caverage-&gt;<a class="code" href="structcgns__caverage.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, <span class="stringliteral">"AverageInterfaceType"</span>, <span class="stringliteral">"AverageInterfaceType_t"</span>, &amp;dummy_id,
<a name="l05762"></a>05762         <span class="stringliteral">"C1"</span>, 1, &amp;length, (<span class="keywordtype">void</span> *)<a class="code" href="cgnslib_8c.html#7691bda33234ea0735f1f4c74edff48d">AverageInterfaceTypeName</a>[caverage-&gt;<a class="code" href="structcgns__caverage.html#bca8e88ac72bca8eed960b543de29961">type</a>])) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l05763"></a>05763     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l05764"></a>05764 }
<a name="l05765"></a>05765 
<a name="l05766"></a><a class="code" href="cgnslib_8h.html#9e914d011d341536bf8016070b995527">05766</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#46008cfe3dcf4094573965f4e6a7cb34">cg_conn_periodic_write</a>(<span class="keywordtype">int</span> file_number, <span class="keywordtype">int</span> B, <span class="keywordtype">int</span> Z, <span class="keywordtype">int</span> I,
<a name="l05767"></a>05767     <span class="keywordtype">float</span> <span class="keyword">const</span> *RotationCenter, <span class="keywordtype">float</span> <span class="keyword">const</span> *RotationAngle,
<a name="l05768"></a>05768     <span class="keywordtype">float</span> <span class="keyword">const</span> *Translation) {
<a name="l05769"></a>05769     <a class="code" href="structcgns__base.html">cgns_base</a> *base;
<a name="l05770"></a>05770     <a class="code" href="structcgns__conn.html">cgns_conn</a> *conn;
<a name="l05771"></a>05771     <a class="code" href="structcgns__cprop.html">cgns_cprop</a> *cprop;
<a name="l05772"></a>05772     <a class="code" href="structcgns__cperio.html">cgns_cperio</a> *cperio;
<a name="l05773"></a>05773     <span class="keywordtype">int</span> n;
<a name="l05774"></a>05774 
<a name="l05775"></a>05775      <span class="comment">/* get memory address of file */</span>
<a name="l05776"></a>05776     cg = <a class="code" href="cgns__header_8h.html#64a13852e04666fc73b74a8ff7727f4f">cgi_get_file</a>(file_number);
<a name="l05777"></a>05777     <span class="keywordflow">if</span> (cg == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l05778"></a>05778 
<a name="l05779"></a>05779     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l05780"></a>05780 
<a name="l05781"></a>05781      <span class="comment">/* get memory address for base */</span>
<a name="l05782"></a>05782     base = <a class="code" href="cgns__header_8h.html#09d3b45ead80b0d2b1921ff6a1b1d3ae">cgi_get_base</a>(cg, B);
<a name="l05783"></a>05783     <span class="keywordflow">if</span> (base==0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l05784"></a>05784 
<a name="l05785"></a>05785      <span class="comment">/* get memory address of GridConnectivity_t node */</span>
<a name="l05786"></a>05786     conn = <a class="code" href="cgns__header_8h.html#a10f5ed577b1bc7ba5c9f0a10539e5d0">cgi_get_conn</a>(cg, B, Z, I);
<a name="l05787"></a>05787     <span class="keywordflow">if</span> (conn==0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l05788"></a>05788 
<a name="l05789"></a>05789      <span class="comment">/* Allocate GridConnectivityProperty_t data struct. if not already created */</span>
<a name="l05790"></a>05790     <span class="keywordflow">if</span> (conn-&gt;<a class="code" href="structcgns__conn.html#40c7a3c103adb7e58c56b24ce67bde0f">cprop</a> == 0) {
<a name="l05791"></a>05791         conn-&gt;<a class="code" href="structcgns__conn.html#40c7a3c103adb7e58c56b24ce67bde0f">cprop</a> = <a class="code" href="cgns__header_8h.html#948c36b3700de0f3332aa3620eafb0f4">CGNS_NEW</a>(<a class="code" href="structcgns__cprop.html">cgns_cprop</a>, 1);
<a name="l05792"></a>05792         cprop = conn-&gt;<a class="code" href="structcgns__conn.html#40c7a3c103adb7e58c56b24ce67bde0f">cprop</a>;
<a name="l05793"></a>05793         strcpy(cprop-&gt;<a class="code" href="structcgns__cprop.html#b5192b2e796e6224c74ec532ec32abf7">name</a>,<span class="stringliteral">"GridConnectivityProperty"</span>);
<a name="l05794"></a>05794         cprop-&gt;<a class="code" href="structcgns__cprop.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>=0;
<a name="l05795"></a>05795         cprop-&gt;<a class="code" href="structcgns__cprop.html#f6f27f42b9ecc89cf0ed39415bca67d1">link</a>=0;
<a name="l05796"></a>05796         cprop-&gt;<a class="code" href="structcgns__cprop.html#cdee83a08ec17a8018bf719ef82a3602">ndescr</a>=0;
<a name="l05797"></a>05797         cprop-&gt;<a class="code" href="structcgns__cprop.html#dc1e157d997b3174f9d41c5b645631f9">nuser_data</a>=0;
<a name="l05798"></a>05798         cprop-&gt;<a class="code" href="structcgns__cprop.html#677b1d1bc529c4733f1133bbe71e79e1">cperio</a>=0;
<a name="l05799"></a>05799         cprop-&gt;<a class="code" href="structcgns__cprop.html#095d77a2e3cd512d29b64f42c8b2bdc3">caverage</a>=0;
<a name="l05800"></a>05800     } <span class="keywordflow">else</span> cprop = conn-&gt;<a class="code" href="structcgns__conn.html#40c7a3c103adb7e58c56b24ce67bde0f">cprop</a>;
<a name="l05801"></a>05801 
<a name="l05802"></a>05802      <span class="comment">/* Overwrite a Periodic_t Node: */</span>
<a name="l05803"></a>05803     <span class="keywordflow">if</span> (cprop-&gt;<a class="code" href="structcgns__cprop.html#677b1d1bc529c4733f1133bbe71e79e1">cperio</a>) {
<a name="l05804"></a>05804      <span class="comment">/* in CG_MODE_WRITE, children names must be unique */</span>
<a name="l05805"></a>05805         <span class="keywordflow">if</span> (cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>==<a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>) {
<a name="l05806"></a>05806             <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Periodic_t already defined under GridConnectivityProperty_t."</span>);
<a name="l05807"></a>05807             <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l05808"></a>05808         }
<a name="l05809"></a>05809 
<a name="l05810"></a>05810      <span class="comment">/* overwrite an existing Periodic_t Node */</span>
<a name="l05811"></a>05811          <span class="comment">/* delete the existing Periodic_t Node from file */</span>
<a name="l05812"></a>05812         <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#032ae98a5be795f845bb5cc7d63750e4">cgi_delete_node</a>(cprop-&gt;<a class="code" href="structcgns__cprop.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, cprop-&gt;<a class="code" href="structcgns__cprop.html#677b1d1bc529c4733f1133bbe71e79e1">cperio</a>-&gt;<a class="code" href="structcgns__cperio.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>))
<a name="l05813"></a>05813             <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l05814"></a>05814         <a class="code" href="cgns__header_8h.html#694bb249de1e30064549175a6591de59">cgi_free_cperio</a>(cprop-&gt;<a class="code" href="structcgns__cprop.html#677b1d1bc529c4733f1133bbe71e79e1">cperio</a>);
<a name="l05815"></a>05815     } <span class="keywordflow">else</span>
<a name="l05816"></a>05816         cprop-&gt;<a class="code" href="structcgns__cprop.html#677b1d1bc529c4733f1133bbe71e79e1">cperio</a> = <a class="code" href="cgns__header_8h.html#948c36b3700de0f3332aa3620eafb0f4">CGNS_NEW</a>(<a class="code" href="structcgns__cperio.html">cgns_cperio</a>, 1);
<a name="l05817"></a>05817     cperio = cprop-&gt;<a class="code" href="structcgns__cprop.html#677b1d1bc529c4733f1133bbe71e79e1">cperio</a>;
<a name="l05818"></a>05818 
<a name="l05819"></a>05819      <span class="comment">/* write cperio info to internal memory */</span>
<a name="l05820"></a>05820     strcpy(cperio-&gt;<a class="code" href="structcgns__cperio.html#b5192b2e796e6224c74ec532ec32abf7">name</a>,<span class="stringliteral">"Periodic"</span>);
<a name="l05821"></a>05821     cperio-&gt;<a class="code" href="structcgns__cperio.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a> = 0;
<a name="l05822"></a>05822     cperio-&gt;<a class="code" href="structcgns__cperio.html#f6f27f42b9ecc89cf0ed39415bca67d1">link</a> = 0;
<a name="l05823"></a>05823     cperio-&gt;<a class="code" href="structcgns__cperio.html#cdee83a08ec17a8018bf719ef82a3602">ndescr</a> = 0;
<a name="l05824"></a>05824     cperio-&gt;<a class="code" href="structcgns__cperio.html#dc1e157d997b3174f9d41c5b645631f9">nuser_data</a> = 0;
<a name="l05825"></a>05825     cperio-&gt;<a class="code" href="structcgns__cperio.html#ace0c04d503f8dda2284ae61a8344b8b">narrays</a> = 3;
<a name="l05826"></a>05826     cperio-&gt;<a class="code" href="structcgns__cperio.html#6aa9eb3c5ad6bdecf6cd8c2b3d97839c">data_class</a>=<a class="code" href="cgns_keywords_8h.html#6e3a45166e6780b756fef5c427279ca079d3001e5ba3290ed80f0762d51bb379">DataClassNull</a>;
<a name="l05827"></a>05827     cperio-&gt;<a class="code" href="structcgns__cperio.html#9b4c6b823f0741729aa08b21a4120308">units</a>=0;
<a name="l05828"></a>05828 
<a name="l05829"></a>05829      <span class="comment">/* Create DataArray_t RotationCenter, RotationAngle, &amp; Translation under Periodic_t */</span>
<a name="l05830"></a>05830     cperio-&gt;<a class="code" href="structcgns__cperio.html#1973739e7639e00a0d5aafe8c355c2aa">array</a> = <a class="code" href="cgns__header_8h.html#948c36b3700de0f3332aa3620eafb0f4">CGNS_NEW</a>(<a class="code" href="structcgns__array.html">cgns_array</a>, 3);
<a name="l05831"></a>05831 
<a name="l05832"></a>05832     <span class="keywordflow">for</span> (n=0; n&lt;cperio-&gt;<a class="code" href="structcgns__cperio.html#ace0c04d503f8dda2284ae61a8344b8b">narrays</a>; n++) {
<a name="l05833"></a>05833         strcpy(cperio-&gt;<a class="code" href="structcgns__cperio.html#1973739e7639e00a0d5aafe8c355c2aa">array</a>[n].<a class="code" href="structcgns__array.html#86e4d546d1321bcac60584c413eb0f6d">data_type</a>, <span class="stringliteral">"R4"</span>);
<a name="l05834"></a>05834         cperio-&gt;<a class="code" href="structcgns__cperio.html#1973739e7639e00a0d5aafe8c355c2aa">array</a>[n].<a class="code" href="structcgns__array.html#735984d41155bc1032e09bece8f8d66d">data</a> = (<span class="keywordtype">void</span> *)<a class="code" href="cg__malloc_8h.html#535b58ab5aa48e2e86073e334d43fd32">malloc</a>(base-&gt;<a class="code" href="structcgns__base.html#f210aa767697826c3dc29cfb2ffec256">phys_dim</a>*<span class="keyword">sizeof</span>(<span class="keywordtype">float</span>));
<a name="l05835"></a>05835         <span class="keywordflow">if</span> (!cperio-&gt;<a class="code" href="structcgns__cperio.html#1973739e7639e00a0d5aafe8c355c2aa">array</a>[n].<a class="code" href="structcgns__array.html#735984d41155bc1032e09bece8f8d66d">data</a>) {
<a name="l05836"></a>05836             <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Error allocating cperio-&gt;array[n].data"</span>);
<a name="l05837"></a>05837             <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l05838"></a>05838         }
<a name="l05839"></a>05839         cperio-&gt;<a class="code" href="structcgns__cperio.html#1973739e7639e00a0d5aafe8c355c2aa">array</a>[n].<a class="code" href="structcgns__array.html#c7e27870b79e982377b6669e633a32ad">data_dim</a>=1;
<a name="l05840"></a>05840         cperio-&gt;<a class="code" href="structcgns__cperio.html#1973739e7639e00a0d5aafe8c355c2aa">array</a>[n].<a class="code" href="structcgns__array.html#5ca9ee30477c56421c793e2341f75931">dim_vals</a>[0]=base-&gt;<a class="code" href="structcgns__base.html#f210aa767697826c3dc29cfb2ffec256">phys_dim</a>;
<a name="l05841"></a>05841         cperio-&gt;<a class="code" href="structcgns__cperio.html#1973739e7639e00a0d5aafe8c355c2aa">array</a>[n].<a class="code" href="structcgns__array.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>=0;
<a name="l05842"></a>05842         cperio-&gt;<a class="code" href="structcgns__cperio.html#1973739e7639e00a0d5aafe8c355c2aa">array</a>[n].<a class="code" href="structcgns__array.html#f6f27f42b9ecc89cf0ed39415bca67d1">link</a>=0;
<a name="l05843"></a>05843         cperio-&gt;<a class="code" href="structcgns__cperio.html#1973739e7639e00a0d5aafe8c355c2aa">array</a>[n].<a class="code" href="structcgns__array.html#cdee83a08ec17a8018bf719ef82a3602">ndescr</a>=0;
<a name="l05844"></a>05844         cperio-&gt;<a class="code" href="structcgns__cperio.html#1973739e7639e00a0d5aafe8c355c2aa">array</a>[n].<a class="code" href="structcgns__array.html#6aa9eb3c5ad6bdecf6cd8c2b3d97839c">data_class</a>=<a class="code" href="cgns_keywords_8h.html#6e3a45166e6780b756fef5c427279ca079d3001e5ba3290ed80f0762d51bb379">DataClassNull</a>;
<a name="l05845"></a>05845         cperio-&gt;<a class="code" href="structcgns__cperio.html#1973739e7639e00a0d5aafe8c355c2aa">array</a>[n].<a class="code" href="structcgns__array.html#9b4c6b823f0741729aa08b21a4120308">units</a>=0;
<a name="l05846"></a>05846         cperio-&gt;<a class="code" href="structcgns__cperio.html#1973739e7639e00a0d5aafe8c355c2aa">array</a>[n].<a class="code" href="structcgns__array.html#87b103c38a459cc8a1c6cf06f01aa12a">exponents</a>=0;
<a name="l05847"></a>05847         cperio-&gt;<a class="code" href="structcgns__cperio.html#1973739e7639e00a0d5aafe8c355c2aa">array</a>[n].<a class="code" href="structcgns__array.html#0724545c909f7773439fee292fe3ef5f">convert</a>=0;
<a name="l05848"></a>05848     }
<a name="l05849"></a>05849     memcpy(cperio-&gt;<a class="code" href="structcgns__cperio.html#1973739e7639e00a0d5aafe8c355c2aa">array</a>[0].<a class="code" href="structcgns__array.html#735984d41155bc1032e09bece8f8d66d">data</a>,RotationCenter,base-&gt;<a class="code" href="structcgns__base.html#f210aa767697826c3dc29cfb2ffec256">phys_dim</a>*<span class="keyword">sizeof</span>(<span class="keywordtype">float</span>));
<a name="l05850"></a>05850     memcpy(cperio-&gt;<a class="code" href="structcgns__cperio.html#1973739e7639e00a0d5aafe8c355c2aa">array</a>[1].<a class="code" href="structcgns__array.html#735984d41155bc1032e09bece8f8d66d">data</a>,RotationAngle,base-&gt;<a class="code" href="structcgns__base.html#f210aa767697826c3dc29cfb2ffec256">phys_dim</a>*<span class="keyword">sizeof</span>(<span class="keywordtype">float</span>));
<a name="l05851"></a>05851     memcpy(cperio-&gt;<a class="code" href="structcgns__cperio.html#1973739e7639e00a0d5aafe8c355c2aa">array</a>[2].<a class="code" href="structcgns__array.html#735984d41155bc1032e09bece8f8d66d">data</a>,Translation,base-&gt;<a class="code" href="structcgns__base.html#f210aa767697826c3dc29cfb2ffec256">phys_dim</a>*<span class="keyword">sizeof</span>(<span class="keywordtype">float</span>));
<a name="l05852"></a>05852     strcpy(cperio-&gt;<a class="code" href="structcgns__cperio.html#1973739e7639e00a0d5aafe8c355c2aa">array</a>[0].<a class="code" href="structcgns__array.html#b5192b2e796e6224c74ec532ec32abf7">name</a>,<span class="stringliteral">"RotationCenter"</span>);
<a name="l05853"></a>05853     strcpy(cperio-&gt;<a class="code" href="structcgns__cperio.html#1973739e7639e00a0d5aafe8c355c2aa">array</a>[1].<a class="code" href="structcgns__array.html#b5192b2e796e6224c74ec532ec32abf7">name</a>,<span class="stringliteral">"RotationAngle"</span>);
<a name="l05854"></a>05854     strcpy(cperio-&gt;<a class="code" href="structcgns__cperio.html#1973739e7639e00a0d5aafe8c355c2aa">array</a>[2].<a class="code" href="structcgns__array.html#b5192b2e796e6224c74ec532ec32abf7">name</a>,<span class="stringliteral">"Translation"</span>);
<a name="l05855"></a>05855 
<a name="l05856"></a>05856     <span class="comment">/* Create GridConnectivityProperty_t node if it doesn't yet exist */</span>
<a name="l05857"></a>05857     <span class="keywordflow">if</span> (cprop-&gt;<a class="code" href="structcgns__cprop.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>==0) {
<a name="l05858"></a>05858         <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#184dd1d99e9f4e7b826f84887ba07748">cgi_new_node</a>(conn-&gt;<a class="code" href="structcgns__conn.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, <span class="stringliteral">"GridConnectivityProperty"</span>,
<a name="l05859"></a>05859             <span class="stringliteral">"GridConnectivityProperty_t"</span>, &amp;cprop-&gt;<a class="code" href="structcgns__cprop.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, <span class="stringliteral">"MT"</span>, 0, 0, 0)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l05860"></a>05860     }
<a name="l05861"></a>05861     <span class="comment">/* Create the Periodic_t Node */</span>
<a name="l05862"></a>05862     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#184dd1d99e9f4e7b826f84887ba07748">cgi_new_node</a>(cprop-&gt;<a class="code" href="structcgns__cprop.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, <span class="stringliteral">"Periodic"</span>, <span class="stringliteral">"Periodic_t"</span>,
<a name="l05863"></a>05863         &amp;cperio-&gt;<a class="code" href="structcgns__cperio.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, <span class="stringliteral">"MT"</span>, 0, 0, 0)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l05864"></a>05864 
<a name="l05865"></a>05865     <span class="comment">/* Periodic_t/DataArray_t: RotationCenter, RotationAngle, Translation */</span>
<a name="l05866"></a>05866     <span class="keywordflow">for</span> (n=0; n&lt;cperio-&gt;<a class="code" href="structcgns__cperio.html#ace0c04d503f8dda2284ae61a8344b8b">narrays</a>; n++)
<a name="l05867"></a>05867         <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#2c75d7a1fe94da29b442e30b06c05035">cgi_write_array</a>(cperio-&gt;<a class="code" href="structcgns__cperio.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, &amp;cperio-&gt;<a class="code" href="structcgns__cperio.html#1973739e7639e00a0d5aafe8c355c2aa">array</a>[n])) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l05868"></a>05868     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l05869"></a>05869 }
<a name="l05870"></a>05870 
<a name="l05871"></a><a class="code" href="cgnslib_8h.html#85e4e710c8a6b7eb9b34fd16ce702aab">05871</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#412737a441ece53d7cfe9016d44eaf3a">cg_1to1_write</a>(<span class="keywordtype">int</span> file_number, <span class="keywordtype">int</span> B, <span class="keywordtype">int</span> Z, <span class="keywordtype">char</span> <span class="keyword">const</span> * connectname, <span class="keywordtype">char</span> <span class="keyword">const</span> * donorname,
<a name="l05872"></a>05872           <span class="keywordtype">int</span> <span class="keyword">const</span> * range, <span class="keywordtype">int</span> <span class="keyword">const</span> * donor_range, <span class="keywordtype">int</span> <span class="keyword">const</span> * transform, <span class="keywordtype">int</span> *I) {
<a name="l05873"></a>05873     <a class="code" href="structcgns__zone.html">cgns_zone</a> *zone;
<a name="l05874"></a>05874     <a class="code" href="structcgns__zconn.html">cgns_zconn</a> *zconn;
<a name="l05875"></a>05875     <a class="code" href="structcgns__1to1.html">cgns_1to1</a> *one21 = NULL;
<a name="l05876"></a>05876     <span class="keywordtype">int</span> index, <a class="code" href="namespacefmain.html#c6f559daa4a4864f2449315176500469">i</a>, <a class="code" href="namespacefmain.html#3025f2b2bc0423c9a3a45cb7261e32eb">j</a>, index_dim, length;
<a name="l05877"></a>05877     <span class="keywordtype">double</span> T_id;
<a name="l05878"></a>05878 
<a name="l05879"></a>05879      <span class="comment">/* verify input */</span>
<a name="l05880"></a>05880     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#b042658423afd0817ab23b3ea7a5e03d">cgi_check_strlen</a>(connectname)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l05881"></a>05881     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#b042658423afd0817ab23b3ea7a5e03d">cgi_check_strlen</a>(donorname)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l05882"></a>05882 
<a name="l05883"></a>05883      <span class="comment">/* get memory address of file */</span>
<a name="l05884"></a>05884     cg = <a class="code" href="cgns__header_8h.html#64a13852e04666fc73b74a8ff7727f4f">cgi_get_file</a>(file_number);
<a name="l05885"></a>05885     <span class="keywordflow">if</span> (cg == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l05886"></a>05886 
<a name="l05887"></a>05887     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l05888"></a>05888 
<a name="l05889"></a>05889      <span class="comment">/* get memory address of zone */</span>
<a name="l05890"></a>05890     zone = <a class="code" href="cgns__header_8h.html#5ce4ef97dee99baf9183b8c23419bfe0">cgi_get_zone</a>(cg, B, Z);
<a name="l05891"></a>05891     <span class="keywordflow">if</span> (zone==0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l05892"></a>05892 
<a name="l05893"></a>05893      <span class="comment">/* Allocate ZoneGridConnectivity data struct. if not already created */</span>
<a name="l05894"></a>05894     <span class="keywordflow">if</span> (zone-&gt;<a class="code" href="structcgns__zone.html#fdd87cca91a43359ebe1709c59d073ad">zconn</a> == 0) {
<a name="l05895"></a>05895         zone-&gt;<a class="code" href="structcgns__zone.html#fdd87cca91a43359ebe1709c59d073ad">zconn</a> = <a class="code" href="cgns__header_8h.html#948c36b3700de0f3332aa3620eafb0f4">CGNS_NEW</a>(<a class="code" href="structcgns__zconn.html">cgns_zconn</a>, 1);
<a name="l05896"></a>05896         zconn = zone-&gt;<a class="code" href="structcgns__zone.html#fdd87cca91a43359ebe1709c59d073ad">zconn</a>;
<a name="l05897"></a>05897         strcpy(zconn-&gt;<a class="code" href="structcgns__zconn.html#b5192b2e796e6224c74ec532ec32abf7">name</a>,<span class="stringliteral">"ZoneGridConnectivity"</span>);
<a name="l05898"></a>05898 
<a name="l05899"></a>05899      <span class="comment">/* initialize new ZoneGridConnectivity data structure */</span>
<a name="l05900"></a>05900         zconn-&gt;<a class="code" href="structcgns__zconn.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a> = 0;
<a name="l05901"></a>05901         zconn-&gt;<a class="code" href="structcgns__zconn.html#f6f27f42b9ecc89cf0ed39415bca67d1">link</a>= 0;
<a name="l05902"></a>05902         zconn-&gt;<a class="code" href="structcgns__zconn.html#cdee83a08ec17a8018bf719ef82a3602">ndescr</a> = 0;
<a name="l05903"></a>05903         zconn-&gt;<a class="code" href="structcgns__zconn.html#cd7dc7b507fb0a6956c6005a2d76a367">n1to1</a> = 0;
<a name="l05904"></a>05904         zconn-&gt;<a class="code" href="structcgns__zconn.html#548a3767dd1b6b4af24084d1e1c2d3b7">nconns</a> = 0;
<a name="l05905"></a>05905         zconn-&gt;<a class="code" href="structcgns__zconn.html#14616d97c7f10ee666a79d99cd931353">nholes</a> = 0;
<a name="l05906"></a>05906         zconn-&gt;<a class="code" href="structcgns__zconn.html#dc1e157d997b3174f9d41c5b645631f9">nuser_data</a>= 0;
<a name="l05907"></a>05907 
<a name="l05908"></a>05908     } <span class="keywordflow">else</span> zconn = zone-&gt;<a class="code" href="structcgns__zone.html#fdd87cca91a43359ebe1709c59d073ad">zconn</a>;
<a name="l05909"></a>05909 
<a name="l05910"></a>05910      <span class="comment">/* verify input */</span>
<a name="l05911"></a>05911     index_dim = zone-&gt;<a class="code" href="structcgns__zone.html#5ea7c3da009c9add916c0eeca1973c05">index_dim</a>;
<a name="l05912"></a>05912     <span class="keywordflow">for</span> (i=0; i&lt;index_dim; i++) {   <span class="comment">/* can't check donorrange because it may not yet be written */</span>
<a name="l05913"></a>05913         <span class="keywordflow">if</span> (range[i]&lt;=0 || range[i+index_dim]&gt;zone-&gt;<a class="code" href="structcgns__zone.html#41ee98048c689af7dcf7cf361860ee09">nijk</a>[i]) {
<a name="l05914"></a>05914             <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Invalid input range:  %d-&gt;%d"</span>,range[i], range[i+index_dim]);
<a name="l05915"></a>05915             <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l05916"></a>05916         }
<a name="l05917"></a>05917         <span class="keywordflow">if</span> (abs(transform[i])&lt;0 || abs(transform[i])&gt;index_dim) {
<a name="l05918"></a>05918             <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Invalid transformation index: %d.  The indices must all be between 1 and %d"</span>,i, index_dim);
<a name="l05919"></a>05919             <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l05920"></a>05920         }
<a name="l05921"></a>05921         <span class="keywordflow">if</span> (abs(transform[i])&gt;0) {
<a name="l05922"></a>05922             j = abs(transform[i])-1;
<a name="l05923"></a>05923             <span class="keywordflow">if</span> (abs(range[i+index_dim]-range[i])-abs(donor_range[j+index_dim]-donor_range[j]) != 0) {
<a name="l05924"></a>05924                 <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Invalid input:  range = %d-&gt;%d and donor_range = %d-&gt;%d"</span>,
<a name="l05925"></a>05925                 range[i], range[i+index_dim], donor_range[j], donor_range[j+index_dim]);
<a name="l05926"></a>05926                 <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l05927"></a>05927             }
<a name="l05928"></a>05928         }
<a name="l05929"></a>05929     }
<a name="l05930"></a>05930 
<a name="l05931"></a>05931      <span class="comment">/* Overwrite a GridConnectivity1to1_t Node: */</span>
<a name="l05932"></a>05932     <span class="keywordflow">for</span> (index=0; index&lt;zconn-&gt;<a class="code" href="structcgns__zconn.html#cd7dc7b507fb0a6956c6005a2d76a367">n1to1</a>; index++) {
<a name="l05933"></a>05933         <span class="keywordflow">if</span> (strcmp(connectname, zconn-&gt;<a class="code" href="structcgns__zconn.html#c2a9d0c2c96e55ade196f64c7ed8b79d">one21</a>[index].<a class="code" href="structcgns__1to1.html#b5192b2e796e6224c74ec532ec32abf7">name</a>)==0) {
<a name="l05934"></a>05934 
<a name="l05935"></a>05935              <span class="comment">/* in CG_MODE_WRITE, children names must be unique */</span>
<a name="l05936"></a>05936             <span class="keywordflow">if</span> (cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>==<a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>) {
<a name="l05937"></a>05937                 <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Duplicate child name found: %s"</span>,connectname);
<a name="l05938"></a>05938                 <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l05939"></a>05939             }
<a name="l05940"></a>05940 
<a name="l05941"></a>05941              <span class="comment">/* overwrite an existing GridConnectivity1to1_t Node */</span>
<a name="l05942"></a>05942              <span class="comment">/* delete the existing GridConnectivity1to1_t Node from file */</span>
<a name="l05943"></a>05943             <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#032ae98a5be795f845bb5cc7d63750e4">cgi_delete_node</a>(zconn-&gt;<a class="code" href="structcgns__zconn.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, zconn-&gt;<a class="code" href="structcgns__zconn.html#c2a9d0c2c96e55ade196f64c7ed8b79d">one21</a>[index].<a class="code" href="structcgns__1to1.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>))
<a name="l05944"></a>05944                 <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l05945"></a>05945              <span class="comment">/* save the old in-memory address to overwrite */</span>
<a name="l05946"></a>05946             one21 = &amp;(zconn-&gt;<a class="code" href="structcgns__zconn.html#c2a9d0c2c96e55ade196f64c7ed8b79d">one21</a>[index]);
<a name="l05947"></a>05947              <span class="comment">/* free memory */</span>
<a name="l05948"></a>05948             <a class="code" href="cgns__header_8h.html#7baf638468abd4d536d0004612a67696">cgi_free_1to1</a>(one21);
<a name="l05949"></a>05949             <span class="keywordflow">break</span>;
<a name="l05950"></a>05950         }
<a name="l05951"></a>05951     }
<a name="l05952"></a>05952      <span class="comment">/* ... or add a GridConnectivity1to1_t Node: */</span>
<a name="l05953"></a>05953     <span class="keywordflow">if</span> (index==zconn-&gt;<a class="code" href="structcgns__zconn.html#cd7dc7b507fb0a6956c6005a2d76a367">n1to1</a>) {
<a name="l05954"></a>05954         <span class="keywordflow">if</span> (zconn-&gt;<a class="code" href="structcgns__zconn.html#cd7dc7b507fb0a6956c6005a2d76a367">n1to1</a> == 0) {
<a name="l05955"></a>05955             zconn-&gt;<a class="code" href="structcgns__zconn.html#c2a9d0c2c96e55ade196f64c7ed8b79d">one21</a> = <a class="code" href="cgns__header_8h.html#948c36b3700de0f3332aa3620eafb0f4">CGNS_NEW</a>(<a class="code" href="structcgns__1to1.html">cgns_1to1</a>, zconn-&gt;<a class="code" href="structcgns__zconn.html#cd7dc7b507fb0a6956c6005a2d76a367">n1to1</a>+1);
<a name="l05956"></a>05956         } <span class="keywordflow">else</span> {
<a name="l05957"></a>05957             zconn-&gt;<a class="code" href="structcgns__zconn.html#c2a9d0c2c96e55ade196f64c7ed8b79d">one21</a> = <a class="code" href="cgns__header_8h.html#e23e608849b6dc488ccdad466e76e2ad">CGNS_RENEW</a>(<a class="code" href="structcgns__1to1.html">cgns_1to1</a>, zconn-&gt;<a class="code" href="structcgns__zconn.html#cd7dc7b507fb0a6956c6005a2d76a367">n1to1</a>+1, zconn-&gt;<a class="code" href="structcgns__zconn.html#c2a9d0c2c96e55ade196f64c7ed8b79d">one21</a>);
<a name="l05958"></a>05958         }
<a name="l05959"></a>05959         one21 = &amp;(zconn-&gt;<a class="code" href="structcgns__zconn.html#c2a9d0c2c96e55ade196f64c7ed8b79d">one21</a>[zconn-&gt;<a class="code" href="structcgns__zconn.html#cd7dc7b507fb0a6956c6005a2d76a367">n1to1</a>]);
<a name="l05960"></a>05960         zconn-&gt;<a class="code" href="structcgns__zconn.html#cd7dc7b507fb0a6956c6005a2d76a367">n1to1</a>++;
<a name="l05961"></a>05961     }
<a name="l05962"></a>05962     (*I) = index+1;
<a name="l05963"></a>05963 
<a name="l05964"></a>05964      <span class="comment">/* allocate memory */</span>
<a name="l05965"></a>05965     <span class="keywordflow">if</span> ((one21-&gt;<a class="code" href="structcgns__1to1.html#e1dbc61cf84fc5ad502744c57c7d884a">transform</a> = (<span class="keywordtype">int</span> *)<a class="code" href="cg__malloc_8h.html#535b58ab5aa48e2e86073e334d43fd32">malloc</a>(index_dim*<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>)))==NULL) {
<a name="l05966"></a>05966         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Error allocating memory in cg_1to1_write"</span>);
<a name="l05967"></a>05967         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l05968"></a>05968     }
<a name="l05969"></a>05969 
<a name="l05970"></a>05970      <span class="comment">/* write 1to1 info to internal memory */</span>
<a name="l05971"></a>05971     strcpy(one21-&gt;<a class="code" href="structcgns__1to1.html#b5192b2e796e6224c74ec532ec32abf7">name</a>,connectname);
<a name="l05972"></a>05972     one21-&gt;<a class="code" href="structcgns__1to1.html#3ef487d0a8936f384aa9c23652cd0cbb">ptset</a>.<a class="code" href="structcgns__ptset.html#5aec710ee64d19d29072491968901bb5">type</a> = <a class="code" href="cgns_keywords_8h.html#82fcf406991383f888f145541f6616f5e5d03a0d4cdaa9d5c45a500029bd3783">PointRange</a>;
<a name="l05973"></a>05973     strcpy(one21-&gt;<a class="code" href="structcgns__1to1.html#3ef487d0a8936f384aa9c23652cd0cbb">ptset</a>.<a class="code" href="structcgns__ptset.html#86e4d546d1321bcac60584c413eb0f6d">data_type</a>,<span class="stringliteral">"I4"</span>);
<a name="l05974"></a>05974     one21-&gt;<a class="code" href="structcgns__1to1.html#3ef487d0a8936f384aa9c23652cd0cbb">ptset</a>.<a class="code" href="structcgns__ptset.html#0306378cd06415f84b10cb3d15516ec3">npts</a> = 2;
<a name="l05975"></a>05975 
<a name="l05976"></a>05976      <span class="comment">/* ... donor: */</span>
<a name="l05977"></a>05977     strcpy(one21-&gt;<a class="code" href="structcgns__1to1.html#1c860db56de1c684b628662dc3c02c1b">donor</a>,donorname);
<a name="l05978"></a>05978     one21-&gt;<a class="code" href="structcgns__1to1.html#44fbe065ea74769988785453c9fbd2c1">dptset</a>.<a class="code" href="structcgns__ptset.html#5aec710ee64d19d29072491968901bb5">type</a> = <a class="code" href="cgns_keywords_8h.html#82fcf406991383f888f145541f6616f5cdb5ac6d73f55679bcdbab826f23f364">PointRangeDonor</a>;
<a name="l05979"></a>05979     strcpy(one21-&gt;<a class="code" href="structcgns__1to1.html#44fbe065ea74769988785453c9fbd2c1">dptset</a>.<a class="code" href="structcgns__ptset.html#86e4d546d1321bcac60584c413eb0f6d">data_type</a>,<span class="stringliteral">"I4"</span>);
<a name="l05980"></a>05980     one21-&gt;<a class="code" href="structcgns__1to1.html#44fbe065ea74769988785453c9fbd2c1">dptset</a>.<a class="code" href="structcgns__ptset.html#0306378cd06415f84b10cb3d15516ec3">npts</a> = 2;
<a name="l05981"></a>05981 
<a name="l05982"></a>05982      <span class="comment">/* ... transform: */</span>
<a name="l05983"></a>05983     memcpy((<span class="keywordtype">void</span> *)one21-&gt;<a class="code" href="structcgns__1to1.html#e1dbc61cf84fc5ad502744c57c7d884a">transform</a>, (<span class="keywordtype">void</span> *)transform, index_dim*<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>));
<a name="l05984"></a>05984 
<a name="l05985"></a>05985      <span class="comment">/* ... initialize: */</span>
<a name="l05986"></a>05986     one21-&gt;<a class="code" href="structcgns__1to1.html#3ef487d0a8936f384aa9c23652cd0cbb">ptset</a>.<a class="code" href="structcgns__ptset.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>=0;
<a name="l05987"></a>05987     one21-&gt;<a class="code" href="structcgns__1to1.html#3ef487d0a8936f384aa9c23652cd0cbb">ptset</a>.<a class="code" href="structcgns__ptset.html#f6f27f42b9ecc89cf0ed39415bca67d1">link</a>=0;
<a name="l05988"></a>05988     one21-&gt;<a class="code" href="structcgns__1to1.html#44fbe065ea74769988785453c9fbd2c1">dptset</a>.<a class="code" href="structcgns__ptset.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>=0;
<a name="l05989"></a>05989     one21-&gt;<a class="code" href="structcgns__1to1.html#44fbe065ea74769988785453c9fbd2c1">dptset</a>.<a class="code" href="structcgns__ptset.html#f6f27f42b9ecc89cf0ed39415bca67d1">link</a>=0;
<a name="l05990"></a>05990     one21-&gt;<a class="code" href="structcgns__1to1.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a> = 0;
<a name="l05991"></a>05991     one21-&gt;<a class="code" href="structcgns__1to1.html#f6f27f42b9ecc89cf0ed39415bca67d1">link</a>=0;
<a name="l05992"></a>05992     one21-&gt;<a class="code" href="structcgns__1to1.html#cdee83a08ec17a8018bf719ef82a3602">ndescr</a>=0;
<a name="l05993"></a>05993     one21-&gt;<a class="code" href="structcgns__1to1.html#6906d66a97c04f02a830a98f4ee90872">ordinal</a>=0;
<a name="l05994"></a>05994     one21-&gt;<a class="code" href="structcgns__1to1.html#dc1e157d997b3174f9d41c5b645631f9">nuser_data</a>=0;
<a name="l05995"></a>05995     one21-&gt;<a class="code" href="structcgns__1to1.html#40c7a3c103adb7e58c56b24ce67bde0f">cprop</a> = 0;
<a name="l05996"></a>05996 
<a name="l05997"></a>05997     <span class="comment">/* Create node ZoneGridConnectivity_t node, if not yet created */</span>
<a name="l05998"></a>05998     <span class="keywordflow">if</span> (zconn-&gt;<a class="code" href="structcgns__zconn.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>==0) {
<a name="l05999"></a>05999         <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#184dd1d99e9f4e7b826f84887ba07748">cgi_new_node</a>(zone-&gt;<a class="code" href="structcgns__zone.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, <span class="stringliteral">"ZoneGridConnectivity"</span>, <span class="stringliteral">"ZoneGridConnectivity_t"</span>,
<a name="l06000"></a>06000             &amp;zconn-&gt;<a class="code" href="structcgns__zconn.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, <span class="stringliteral">"MT"</span>, 0, 0, 0)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l06001"></a>06001     }
<a name="l06002"></a>06002 
<a name="l06003"></a>06003     <span class="comment">/* Create the node */</span>
<a name="l06004"></a>06004     length = strlen(one21-&gt;<a class="code" href="structcgns__1to1.html#1c860db56de1c684b628662dc3c02c1b">donor</a>);
<a name="l06005"></a>06005     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#184dd1d99e9f4e7b826f84887ba07748">cgi_new_node</a>(zconn-&gt;<a class="code" href="structcgns__zconn.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, one21-&gt;<a class="code" href="structcgns__1to1.html#b5192b2e796e6224c74ec532ec32abf7">name</a>, <span class="stringliteral">"GridConnectivity1to1_t"</span>,
<a name="l06006"></a>06006         &amp;one21-&gt;<a class="code" href="structcgns__1to1.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, <span class="stringliteral">"C1"</span>, 1, &amp;length, one21-&gt;<a class="code" href="structcgns__1to1.html#1c860db56de1c684b628662dc3c02c1b">donor</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l06007"></a>06007 
<a name="l06008"></a>06008    <span class="comment">/* Create transform node */</span>
<a name="l06009"></a>06009    <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#184dd1d99e9f4e7b826f84887ba07748">cgi_new_node</a>(one21-&gt;<a class="code" href="structcgns__1to1.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, <span class="stringliteral">"Transform"</span>, <span class="stringliteral">"\"int[IndexDimension]\""</span>, &amp;T_id,
<a name="l06010"></a>06010        <span class="stringliteral">"I4"</span>, 1, &amp;index_dim, (<span class="keywordtype">void</span> *)one21-&gt;<a class="code" href="structcgns__1to1.html#e1dbc61cf84fc5ad502744c57c7d884a">transform</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l06011"></a>06011 
<a name="l06012"></a>06012    <span class="comment">/* Create RECEIVER Point Set node on disk */</span>
<a name="l06013"></a>06013     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#b515c026b136510f7280371efafda974">cgi_write_ptset</a>(one21-&gt;<a class="code" href="structcgns__1to1.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, <span class="stringliteral">"PointRange"</span>, &amp;one21-&gt;<a class="code" href="structcgns__1to1.html#3ef487d0a8936f384aa9c23652cd0cbb">ptset</a>, index_dim,
<a name="l06014"></a>06014         (<span class="keywordtype">void</span> *)range)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l06015"></a>06015 
<a name="l06016"></a>06016      <span class="comment">/* Create DONOR Point Set node on disk */</span>
<a name="l06017"></a>06017     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#b515c026b136510f7280371efafda974">cgi_write_ptset</a>(one21-&gt;<a class="code" href="structcgns__1to1.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, <span class="stringliteral">"PointRangeDonor"</span>, &amp;one21-&gt;<a class="code" href="structcgns__1to1.html#44fbe065ea74769988785453c9fbd2c1">dptset</a>, index_dim,
<a name="l06018"></a>06018         (<span class="keywordtype">void</span> *)donor_range)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l06019"></a>06019 
<a name="l06020"></a>06020     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l06021"></a>06021 }
<a name="l06022"></a>06022 
<a name="l06023"></a><a class="code" href="cgnslib_8h.html#e6898e4d34779ce397eec68aac49729a">06023</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#87c3af3284ec92712643e0cd9cbc3657">cg_1to1_average_write</a>(<span class="keywordtype">int</span> file_number, <span class="keywordtype">int</span> B, <span class="keywordtype">int</span> Z, <span class="keywordtype">int</span> I,
<a name="l06024"></a>06024     <a class="code" href="cgns_keywords_8h.html#f47b7b9aa4b1c696a7e559427686a083">AverageInterfaceType_t</a> AverageInterfaceType)
<a name="l06025"></a>06025 {
<a name="l06026"></a>06026     <a class="code" href="structcgns__cprop.html">cgns_cprop</a> *cprop;
<a name="l06027"></a>06027     <a class="code" href="structcgns__caverage.html">cgns_caverage</a> *caverage;
<a name="l06028"></a>06028     <a class="code" href="structcgns__1to1.html">cgns_1to1</a> *one21;
<a name="l06029"></a>06029     <span class="keywordtype">int</span> length;
<a name="l06030"></a>06030     <span class="keywordtype">double</span> dummy_id;
<a name="l06031"></a>06031 
<a name="l06032"></a>06032      <span class="comment">/* verify input */</span>
<a name="l06033"></a>06033     <span class="keywordflow">if</span> (AverageInterfaceType&lt;0 || AverageInterfaceType&gt;=<a class="code" href="cgns_keywords_8h.html#5e5d8a437369fdc558929202d9473375">NofValidAverageInterfaceTypes</a>) {
<a name="l06034"></a>06034         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Invalid AverageInterfaceType:  %d"</span>,AverageInterfaceType);
<a name="l06035"></a>06035         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l06036"></a>06036     }
<a name="l06037"></a>06037 
<a name="l06038"></a>06038      <span class="comment">/* get memory address of file */</span>
<a name="l06039"></a>06039     cg = <a class="code" href="cgns__header_8h.html#64a13852e04666fc73b74a8ff7727f4f">cgi_get_file</a>(file_number);
<a name="l06040"></a>06040     <span class="keywordflow">if</span> (cg == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l06041"></a>06041 
<a name="l06042"></a>06042     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l06043"></a>06043 
<a name="l06044"></a>06044      <span class="comment">/* get memory address of GridConnectivity_t node */</span>
<a name="l06045"></a>06045     one21 = <a class="code" href="cgns__header_8h.html#18e480d1ce941ce320cedae7bfae7672">cgi_get_1to1</a>(cg, B, Z, I);
<a name="l06046"></a>06046     <span class="keywordflow">if</span> (one21 == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l06047"></a>06047 
<a name="l06048"></a>06048      <span class="comment">/* Allocate GridConnectivityProperty_t data struct. if not already created */</span>
<a name="l06049"></a>06049     <span class="keywordflow">if</span> (one21-&gt;<a class="code" href="structcgns__1to1.html#40c7a3c103adb7e58c56b24ce67bde0f">cprop</a> == 0) {
<a name="l06050"></a>06050         one21-&gt;<a class="code" href="structcgns__1to1.html#40c7a3c103adb7e58c56b24ce67bde0f">cprop</a> = <a class="code" href="cgns__header_8h.html#948c36b3700de0f3332aa3620eafb0f4">CGNS_NEW</a>(<a class="code" href="structcgns__cprop.html">cgns_cprop</a>, 1);
<a name="l06051"></a>06051         cprop = one21-&gt;<a class="code" href="structcgns__1to1.html#40c7a3c103adb7e58c56b24ce67bde0f">cprop</a>;
<a name="l06052"></a>06052         strcpy(cprop-&gt;<a class="code" href="structcgns__cprop.html#b5192b2e796e6224c74ec532ec32abf7">name</a>,<span class="stringliteral">"GridConnectivityProperty"</span>);
<a name="l06053"></a>06053         cprop-&gt;<a class="code" href="structcgns__cprop.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>=0;
<a name="l06054"></a>06054         cprop-&gt;<a class="code" href="structcgns__cprop.html#f6f27f42b9ecc89cf0ed39415bca67d1">link</a>=0;
<a name="l06055"></a>06055         cprop-&gt;<a class="code" href="structcgns__cprop.html#cdee83a08ec17a8018bf719ef82a3602">ndescr</a>=0;
<a name="l06056"></a>06056         cprop-&gt;<a class="code" href="structcgns__cprop.html#dc1e157d997b3174f9d41c5b645631f9">nuser_data</a>=0;
<a name="l06057"></a>06057         cprop-&gt;<a class="code" href="structcgns__cprop.html#677b1d1bc529c4733f1133bbe71e79e1">cperio</a>=0;
<a name="l06058"></a>06058         cprop-&gt;<a class="code" href="structcgns__cprop.html#095d77a2e3cd512d29b64f42c8b2bdc3">caverage</a>=0;
<a name="l06059"></a>06059     } <span class="keywordflow">else</span> cprop = one21-&gt;<a class="code" href="structcgns__1to1.html#40c7a3c103adb7e58c56b24ce67bde0f">cprop</a>;
<a name="l06060"></a>06060 
<a name="l06061"></a>06061      <span class="comment">/* Overwrite an AverageInterface_t Node: */</span>
<a name="l06062"></a>06062     <span class="keywordflow">if</span> (cprop-&gt;<a class="code" href="structcgns__cprop.html#095d77a2e3cd512d29b64f42c8b2bdc3">caverage</a>) {
<a name="l06063"></a>06063      <span class="comment">/* in CG_MODE_WRITE, children names must be unique */</span>
<a name="l06064"></a>06064         <span class="keywordflow">if</span> (cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>==<a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>) {
<a name="l06065"></a>06065             <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"AverageInterface_t already defined under GridConnectivityProperty_t"</span>);
<a name="l06066"></a>06066             <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l06067"></a>06067         }
<a name="l06068"></a>06068 
<a name="l06069"></a>06069      <span class="comment">/* overwrite an existing AverageInterface_t Node */</span>
<a name="l06070"></a>06070         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>==<a class="code" href="cgns_keywords_8h.html#a3eda4df29cceb4ed9a9c5d5d8f663d7">CG_MODE_MODIFY</a>) {
<a name="l06071"></a>06071          <span class="comment">/* delete the existing AverageInterface_t Node from file */</span>
<a name="l06072"></a>06072             <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#032ae98a5be795f845bb5cc7d63750e4">cgi_delete_node</a>(cprop-&gt;<a class="code" href="structcgns__cprop.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, cprop-&gt;<a class="code" href="structcgns__cprop.html#095d77a2e3cd512d29b64f42c8b2bdc3">caverage</a>-&gt;<a class="code" href="structcgns__caverage.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>))
<a name="l06073"></a>06073                 <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l06074"></a>06074             <a class="code" href="cgns__header_8h.html#1b4672e5eff24461815beee9bd13e623">cgi_free_caverage</a>(cprop-&gt;<a class="code" href="structcgns__cprop.html#095d77a2e3cd512d29b64f42c8b2bdc3">caverage</a>);
<a name="l06075"></a>06075         }
<a name="l06076"></a>06076     } <span class="keywordflow">else</span> cprop-&gt;<a class="code" href="structcgns__cprop.html#095d77a2e3cd512d29b64f42c8b2bdc3">caverage</a> = <a class="code" href="cgns__header_8h.html#948c36b3700de0f3332aa3620eafb0f4">CGNS_NEW</a>(<a class="code" href="structcgns__caverage.html">cgns_caverage</a>, 1);
<a name="l06077"></a>06077     caverage = cprop-&gt;<a class="code" href="structcgns__cprop.html#095d77a2e3cd512d29b64f42c8b2bdc3">caverage</a>;
<a name="l06078"></a>06078 
<a name="l06079"></a>06079      <span class="comment">/* write caverage info to internal memory */</span>
<a name="l06080"></a>06080     caverage-&gt;<a class="code" href="structcgns__caverage.html#bca8e88ac72bca8eed960b543de29961">type</a> = AverageInterfaceType;
<a name="l06081"></a>06081 
<a name="l06082"></a>06082      <span class="comment">/* initialize other fields */</span>
<a name="l06083"></a>06083     strcpy(caverage-&gt;<a class="code" href="structcgns__caverage.html#b5192b2e796e6224c74ec532ec32abf7">name</a>,<span class="stringliteral">"AverageInterface"</span>);
<a name="l06084"></a>06084     caverage-&gt;<a class="code" href="structcgns__caverage.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a> = 0;
<a name="l06085"></a>06085     caverage-&gt;<a class="code" href="structcgns__caverage.html#f6f27f42b9ecc89cf0ed39415bca67d1">link</a> = 0;
<a name="l06086"></a>06086     caverage-&gt;<a class="code" href="structcgns__caverage.html#cdee83a08ec17a8018bf719ef82a3602">ndescr</a> = 0;
<a name="l06087"></a>06087     caverage-&gt;<a class="code" href="structcgns__caverage.html#dc1e157d997b3174f9d41c5b645631f9">nuser_data</a> = 0;
<a name="l06088"></a>06088 
<a name="l06089"></a>06089     <span class="comment">/* Create GridConnectivityProperty_t node if it doesn't yet exist */</span>
<a name="l06090"></a>06090     <span class="keywordflow">if</span> (cprop-&gt;<a class="code" href="structcgns__cprop.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>==0) {
<a name="l06091"></a>06091         <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#184dd1d99e9f4e7b826f84887ba07748">cgi_new_node</a>(one21-&gt;<a class="code" href="structcgns__1to1.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, <span class="stringliteral">"GridConnectivityProperty"</span>,
<a name="l06092"></a>06092             <span class="stringliteral">"GridConnectivityProperty_t"</span>, &amp;cprop-&gt;<a class="code" href="structcgns__cprop.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, <span class="stringliteral">"MT"</span>, 0, 0, 0))
<a name="l06093"></a>06093             <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l06094"></a>06094     }
<a name="l06095"></a>06095     <span class="comment">/* Create the AverageInterface_t Node */</span>
<a name="l06096"></a>06096     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#184dd1d99e9f4e7b826f84887ba07748">cgi_new_node</a>(cprop-&gt;<a class="code" href="structcgns__cprop.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, <span class="stringliteral">"AverageInterface"</span>, <span class="stringliteral">"AverageInterface_t"</span>,
<a name="l06097"></a>06097         &amp;caverage-&gt;<a class="code" href="structcgns__caverage.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, <span class="stringliteral">"MT"</span>, 0, 0, 0)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l06098"></a>06098 
<a name="l06099"></a>06099     <span class="comment">/* AverageInterface_t/AverageInterfaceType_t */</span>
<a name="l06100"></a>06100     length = strlen(<a class="code" href="cgnslib_8c.html#7691bda33234ea0735f1f4c74edff48d">AverageInterfaceTypeName</a>[caverage-&gt;<a class="code" href="structcgns__caverage.html#bca8e88ac72bca8eed960b543de29961">type</a>]);
<a name="l06101"></a>06101     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#184dd1d99e9f4e7b826f84887ba07748">cgi_new_node</a>(caverage-&gt;<a class="code" href="structcgns__caverage.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, <span class="stringliteral">"AverageInterfaceType"</span>, <span class="stringliteral">"AverageInterfaceType_t"</span>, &amp;dummy_id,
<a name="l06102"></a>06102         <span class="stringliteral">"C1"</span>, 1, &amp;length, (<span class="keywordtype">void</span> *)<a class="code" href="cgnslib_8c.html#7691bda33234ea0735f1f4c74edff48d">AverageInterfaceTypeName</a>[caverage-&gt;<a class="code" href="structcgns__caverage.html#bca8e88ac72bca8eed960b543de29961">type</a>]))
<a name="l06103"></a>06103         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l06104"></a>06104     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l06105"></a>06105 }
<a name="l06106"></a>06106 
<a name="l06107"></a><a class="code" href="cgnslib_8h.html#8206a4682a531095cf02c85d4c4e05bb">06107</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#2e2c6ac33d5769480e69d1bda400ffce">cg_1to1_periodic_write</a>(<span class="keywordtype">int</span> file_number, <span class="keywordtype">int</span> B, <span class="keywordtype">int</span> Z, <span class="keywordtype">int</span> I,
<a name="l06108"></a>06108     <span class="keywordtype">float</span> <span class="keyword">const</span> *RotationCenter, <span class="keywordtype">float</span> <span class="keyword">const</span> *RotationAngle,
<a name="l06109"></a>06109     <span class="keywordtype">float</span> <span class="keyword">const</span> *Translation)
<a name="l06110"></a>06110 {
<a name="l06111"></a>06111     <a class="code" href="structcgns__base.html">cgns_base</a> *base;
<a name="l06112"></a>06112     <a class="code" href="structcgns__1to1.html">cgns_1to1</a> *one21;
<a name="l06113"></a>06113     <a class="code" href="structcgns__cprop.html">cgns_cprop</a> *cprop;
<a name="l06114"></a>06114     <a class="code" href="structcgns__cperio.html">cgns_cperio</a> *cperio;
<a name="l06115"></a>06115     <span class="keywordtype">int</span> n;
<a name="l06116"></a>06116 
<a name="l06117"></a>06117      <span class="comment">/* get memory address of file */</span>
<a name="l06118"></a>06118     cg = <a class="code" href="cgns__header_8h.html#64a13852e04666fc73b74a8ff7727f4f">cgi_get_file</a>(file_number);
<a name="l06119"></a>06119     <span class="keywordflow">if</span> (cg == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l06120"></a>06120 
<a name="l06121"></a>06121     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l06122"></a>06122 
<a name="l06123"></a>06123      <span class="comment">/* get memory address for base */</span>
<a name="l06124"></a>06124     base = <a class="code" href="cgns__header_8h.html#09d3b45ead80b0d2b1921ff6a1b1d3ae">cgi_get_base</a>(cg, B);
<a name="l06125"></a>06125     <span class="keywordflow">if</span> (base==0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l06126"></a>06126 
<a name="l06127"></a>06127      <span class="comment">/* get memory address of GridConnectivity1to1_t node */</span>
<a name="l06128"></a>06128     one21 = <a class="code" href="cgns__header_8h.html#18e480d1ce941ce320cedae7bfae7672">cgi_get_1to1</a>(cg, B, Z, I);
<a name="l06129"></a>06129     <span class="keywordflow">if</span> (one21 == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l06130"></a>06130 
<a name="l06131"></a>06131      <span class="comment">/* Allocate GridConnectivityProperty_t data struct. if not already created */</span>
<a name="l06132"></a>06132     <span class="keywordflow">if</span> (one21-&gt;<a class="code" href="structcgns__1to1.html#40c7a3c103adb7e58c56b24ce67bde0f">cprop</a> == 0) {
<a name="l06133"></a>06133         one21-&gt;<a class="code" href="structcgns__1to1.html#40c7a3c103adb7e58c56b24ce67bde0f">cprop</a> = <a class="code" href="cgns__header_8h.html#948c36b3700de0f3332aa3620eafb0f4">CGNS_NEW</a>(<a class="code" href="structcgns__cprop.html">cgns_cprop</a>, 1);
<a name="l06134"></a>06134         cprop = one21-&gt;<a class="code" href="structcgns__1to1.html#40c7a3c103adb7e58c56b24ce67bde0f">cprop</a>;
<a name="l06135"></a>06135         strcpy(cprop-&gt;<a class="code" href="structcgns__cprop.html#b5192b2e796e6224c74ec532ec32abf7">name</a>,<span class="stringliteral">"GridConnectivityProperty"</span>);
<a name="l06136"></a>06136         cprop-&gt;<a class="code" href="structcgns__cprop.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>=0;
<a name="l06137"></a>06137         cprop-&gt;<a class="code" href="structcgns__cprop.html#f6f27f42b9ecc89cf0ed39415bca67d1">link</a>=0;
<a name="l06138"></a>06138         cprop-&gt;<a class="code" href="structcgns__cprop.html#cdee83a08ec17a8018bf719ef82a3602">ndescr</a>=0;
<a name="l06139"></a>06139         cprop-&gt;<a class="code" href="structcgns__cprop.html#dc1e157d997b3174f9d41c5b645631f9">nuser_data</a>=0;
<a name="l06140"></a>06140         cprop-&gt;<a class="code" href="structcgns__cprop.html#677b1d1bc529c4733f1133bbe71e79e1">cperio</a>=0;
<a name="l06141"></a>06141         cprop-&gt;<a class="code" href="structcgns__cprop.html#095d77a2e3cd512d29b64f42c8b2bdc3">caverage</a>=0;
<a name="l06142"></a>06142     } <span class="keywordflow">else</span> cprop = one21-&gt;<a class="code" href="structcgns__1to1.html#40c7a3c103adb7e58c56b24ce67bde0f">cprop</a>;
<a name="l06143"></a>06143 
<a name="l06144"></a>06144      <span class="comment">/* Overwrite a Periodic_t Node: */</span>
<a name="l06145"></a>06145     <span class="keywordflow">if</span> (cprop-&gt;<a class="code" href="structcgns__cprop.html#677b1d1bc529c4733f1133bbe71e79e1">cperio</a>) {
<a name="l06146"></a>06146      <span class="comment">/* in CG_MODE_WRITE, children names must be unique */</span>
<a name="l06147"></a>06147         <span class="keywordflow">if</span> (cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>==<a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>) {
<a name="l06148"></a>06148             <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Periodic_t already defined under GridConnectivityProperty_t."</span>);
<a name="l06149"></a>06149             <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l06150"></a>06150         }
<a name="l06151"></a>06151 
<a name="l06152"></a>06152      <span class="comment">/* overwrite an existing Periodic_t Node */</span>
<a name="l06153"></a>06153         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>==<a class="code" href="cgns_keywords_8h.html#a3eda4df29cceb4ed9a9c5d5d8f663d7">CG_MODE_MODIFY</a>) {
<a name="l06154"></a>06154          <span class="comment">/* delete the existing Periodic_t Node from file */</span>
<a name="l06155"></a>06155             <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#032ae98a5be795f845bb5cc7d63750e4">cgi_delete_node</a>(cprop-&gt;<a class="code" href="structcgns__cprop.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, cprop-&gt;<a class="code" href="structcgns__cprop.html#677b1d1bc529c4733f1133bbe71e79e1">cperio</a>-&gt;<a class="code" href="structcgns__cperio.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>))
<a name="l06156"></a>06156                 <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l06157"></a>06157             <a class="code" href="cgns__header_8h.html#694bb249de1e30064549175a6591de59">cgi_free_cperio</a>(cprop-&gt;<a class="code" href="structcgns__cprop.html#677b1d1bc529c4733f1133bbe71e79e1">cperio</a>);
<a name="l06158"></a>06158         }
<a name="l06159"></a>06159     } <span class="keywordflow">else</span> cprop-&gt;<a class="code" href="structcgns__cprop.html#677b1d1bc529c4733f1133bbe71e79e1">cperio</a> = <a class="code" href="cgns__header_8h.html#948c36b3700de0f3332aa3620eafb0f4">CGNS_NEW</a>(<a class="code" href="structcgns__cperio.html">cgns_cperio</a>, 1);
<a name="l06160"></a>06160     cperio = cprop-&gt;<a class="code" href="structcgns__cprop.html#677b1d1bc529c4733f1133bbe71e79e1">cperio</a>;
<a name="l06161"></a>06161 
<a name="l06162"></a>06162      <span class="comment">/* write cperio info to internal memory */</span>
<a name="l06163"></a>06163     strcpy(cperio-&gt;<a class="code" href="structcgns__cperio.html#b5192b2e796e6224c74ec532ec32abf7">name</a>,<span class="stringliteral">"Periodic"</span>);
<a name="l06164"></a>06164     cperio-&gt;<a class="code" href="structcgns__cperio.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a> = 0;
<a name="l06165"></a>06165     cperio-&gt;<a class="code" href="structcgns__cperio.html#f6f27f42b9ecc89cf0ed39415bca67d1">link</a> = 0;
<a name="l06166"></a>06166     cperio-&gt;<a class="code" href="structcgns__cperio.html#cdee83a08ec17a8018bf719ef82a3602">ndescr</a> = 0;
<a name="l06167"></a>06167     cperio-&gt;<a class="code" href="structcgns__cperio.html#dc1e157d997b3174f9d41c5b645631f9">nuser_data</a> = 0;
<a name="l06168"></a>06168     cperio-&gt;<a class="code" href="structcgns__cperio.html#ace0c04d503f8dda2284ae61a8344b8b">narrays</a> = 3;
<a name="l06169"></a>06169     cperio-&gt;<a class="code" href="structcgns__cperio.html#6aa9eb3c5ad6bdecf6cd8c2b3d97839c">data_class</a>=<a class="code" href="cgns_keywords_8h.html#6e3a45166e6780b756fef5c427279ca079d3001e5ba3290ed80f0762d51bb379">DataClassNull</a>;
<a name="l06170"></a>06170     cperio-&gt;<a class="code" href="structcgns__cperio.html#9b4c6b823f0741729aa08b21a4120308">units</a>=0;
<a name="l06171"></a>06171 
<a name="l06172"></a>06172      <span class="comment">/* Create DataArray_t RotationCenter, RotationAngle, &amp; Translation under Periodic_t */</span>
<a name="l06173"></a>06173     cperio-&gt;<a class="code" href="structcgns__cperio.html#1973739e7639e00a0d5aafe8c355c2aa">array</a> = <a class="code" href="cgns__header_8h.html#948c36b3700de0f3332aa3620eafb0f4">CGNS_NEW</a>(<a class="code" href="structcgns__array.html">cgns_array</a>, 3);
<a name="l06174"></a>06174 
<a name="l06175"></a>06175     <span class="keywordflow">for</span> (n=0; n&lt;cperio-&gt;<a class="code" href="structcgns__cperio.html#ace0c04d503f8dda2284ae61a8344b8b">narrays</a>; n++) {
<a name="l06176"></a>06176         strcpy(cperio-&gt;<a class="code" href="structcgns__cperio.html#1973739e7639e00a0d5aafe8c355c2aa">array</a>[n].<a class="code" href="structcgns__array.html#86e4d546d1321bcac60584c413eb0f6d">data_type</a>, <span class="stringliteral">"R4"</span>);
<a name="l06177"></a>06177         cperio-&gt;<a class="code" href="structcgns__cperio.html#1973739e7639e00a0d5aafe8c355c2aa">array</a>[n].<a class="code" href="structcgns__array.html#735984d41155bc1032e09bece8f8d66d">data</a> = (<span class="keywordtype">void</span> *)<a class="code" href="cg__malloc_8h.html#535b58ab5aa48e2e86073e334d43fd32">malloc</a>(base-&gt;<a class="code" href="structcgns__base.html#f210aa767697826c3dc29cfb2ffec256">phys_dim</a>*<span class="keyword">sizeof</span>(<span class="keywordtype">float</span>));
<a name="l06178"></a>06178         <span class="keywordflow">if</span> (cperio-&gt;<a class="code" href="structcgns__cperio.html#1973739e7639e00a0d5aafe8c355c2aa">array</a>[n].<a class="code" href="structcgns__array.html#735984d41155bc1032e09bece8f8d66d">data</a> == NULL) {
<a name="l06179"></a>06179             <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Error allocating cperio-&gt;array[n].data"</span>);
<a name="l06180"></a>06180             <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l06181"></a>06181         }
<a name="l06182"></a>06182         cperio-&gt;<a class="code" href="structcgns__cperio.html#1973739e7639e00a0d5aafe8c355c2aa">array</a>[n].<a class="code" href="structcgns__array.html#c7e27870b79e982377b6669e633a32ad">data_dim</a>=1;
<a name="l06183"></a>06183         cperio-&gt;<a class="code" href="structcgns__cperio.html#1973739e7639e00a0d5aafe8c355c2aa">array</a>[n].<a class="code" href="structcgns__array.html#5ca9ee30477c56421c793e2341f75931">dim_vals</a>[0]=base-&gt;<a class="code" href="structcgns__base.html#f210aa767697826c3dc29cfb2ffec256">phys_dim</a>;
<a name="l06184"></a>06184         cperio-&gt;<a class="code" href="structcgns__cperio.html#1973739e7639e00a0d5aafe8c355c2aa">array</a>[n].<a class="code" href="structcgns__array.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>=0;
<a name="l06185"></a>06185         cperio-&gt;<a class="code" href="structcgns__cperio.html#1973739e7639e00a0d5aafe8c355c2aa">array</a>[n].<a class="code" href="structcgns__array.html#f6f27f42b9ecc89cf0ed39415bca67d1">link</a>=0;
<a name="l06186"></a>06186         cperio-&gt;<a class="code" href="structcgns__cperio.html#1973739e7639e00a0d5aafe8c355c2aa">array</a>[n].<a class="code" href="structcgns__array.html#cdee83a08ec17a8018bf719ef82a3602">ndescr</a>=0;
<a name="l06187"></a>06187         cperio-&gt;<a class="code" href="structcgns__cperio.html#1973739e7639e00a0d5aafe8c355c2aa">array</a>[n].<a class="code" href="structcgns__array.html#6aa9eb3c5ad6bdecf6cd8c2b3d97839c">data_class</a>=<a class="code" href="cgns_keywords_8h.html#6e3a45166e6780b756fef5c427279ca079d3001e5ba3290ed80f0762d51bb379">DataClassNull</a>;
<a name="l06188"></a>06188         cperio-&gt;<a class="code" href="structcgns__cperio.html#1973739e7639e00a0d5aafe8c355c2aa">array</a>[n].<a class="code" href="structcgns__array.html#9b4c6b823f0741729aa08b21a4120308">units</a>=0;
<a name="l06189"></a>06189         cperio-&gt;<a class="code" href="structcgns__cperio.html#1973739e7639e00a0d5aafe8c355c2aa">array</a>[n].<a class="code" href="structcgns__array.html#87b103c38a459cc8a1c6cf06f01aa12a">exponents</a>=0;
<a name="l06190"></a>06190         cperio-&gt;<a class="code" href="structcgns__cperio.html#1973739e7639e00a0d5aafe8c355c2aa">array</a>[n].<a class="code" href="structcgns__array.html#0724545c909f7773439fee292fe3ef5f">convert</a>=0;
<a name="l06191"></a>06191     }
<a name="l06192"></a>06192     memcpy(cperio-&gt;<a class="code" href="structcgns__cperio.html#1973739e7639e00a0d5aafe8c355c2aa">array</a>[0].<a class="code" href="structcgns__array.html#735984d41155bc1032e09bece8f8d66d">data</a>,RotationCenter,base-&gt;<a class="code" href="structcgns__base.html#f210aa767697826c3dc29cfb2ffec256">phys_dim</a>*<span class="keyword">sizeof</span>(<span class="keywordtype">float</span>));
<a name="l06193"></a>06193     memcpy(cperio-&gt;<a class="code" href="structcgns__cperio.html#1973739e7639e00a0d5aafe8c355c2aa">array</a>[1].<a class="code" href="structcgns__array.html#735984d41155bc1032e09bece8f8d66d">data</a>,RotationAngle,base-&gt;<a class="code" href="structcgns__base.html#f210aa767697826c3dc29cfb2ffec256">phys_dim</a>*<span class="keyword">sizeof</span>(<span class="keywordtype">float</span>));
<a name="l06194"></a>06194     memcpy(cperio-&gt;<a class="code" href="structcgns__cperio.html#1973739e7639e00a0d5aafe8c355c2aa">array</a>[2].<a class="code" href="structcgns__array.html#735984d41155bc1032e09bece8f8d66d">data</a>,Translation,base-&gt;<a class="code" href="structcgns__base.html#f210aa767697826c3dc29cfb2ffec256">phys_dim</a>*<span class="keyword">sizeof</span>(<span class="keywordtype">float</span>));
<a name="l06195"></a>06195     strcpy(cperio-&gt;<a class="code" href="structcgns__cperio.html#1973739e7639e00a0d5aafe8c355c2aa">array</a>[0].<a class="code" href="structcgns__array.html#b5192b2e796e6224c74ec532ec32abf7">name</a>,<span class="stringliteral">"RotationCenter"</span>);
<a name="l06196"></a>06196     strcpy(cperio-&gt;<a class="code" href="structcgns__cperio.html#1973739e7639e00a0d5aafe8c355c2aa">array</a>[1].<a class="code" href="structcgns__array.html#b5192b2e796e6224c74ec532ec32abf7">name</a>,<span class="stringliteral">"RotationAngle"</span>);
<a name="l06197"></a>06197     strcpy(cperio-&gt;<a class="code" href="structcgns__cperio.html#1973739e7639e00a0d5aafe8c355c2aa">array</a>[2].<a class="code" href="structcgns__array.html#b5192b2e796e6224c74ec532ec32abf7">name</a>,<span class="stringliteral">"Translation"</span>);
<a name="l06198"></a>06198 
<a name="l06199"></a>06199     <span class="comment">/* Create GridConnectivityProperty_t node if it doesn't yet exist */</span>
<a name="l06200"></a>06200     <span class="keywordflow">if</span> (cprop-&gt;<a class="code" href="structcgns__cprop.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>==0) {
<a name="l06201"></a>06201         <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#184dd1d99e9f4e7b826f84887ba07748">cgi_new_node</a>(one21-&gt;<a class="code" href="structcgns__1to1.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, <span class="stringliteral">"GridConnectivityProperty"</span>,
<a name="l06202"></a>06202             <span class="stringliteral">"GridConnectivityProperty_t"</span>, &amp;cprop-&gt;<a class="code" href="structcgns__cprop.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, <span class="stringliteral">"MT"</span>, 0, 0, 0))
<a name="l06203"></a>06203             <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l06204"></a>06204     }
<a name="l06205"></a>06205     <span class="comment">/* Create the Periodic_t Node */</span>
<a name="l06206"></a>06206     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#184dd1d99e9f4e7b826f84887ba07748">cgi_new_node</a>(cprop-&gt;<a class="code" href="structcgns__cprop.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, <span class="stringliteral">"Periodic"</span>, <span class="stringliteral">"Periodic_t"</span>,
<a name="l06207"></a>06207         &amp;cperio-&gt;<a class="code" href="structcgns__cperio.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, <span class="stringliteral">"MT"</span>, 0, 0, 0)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l06208"></a>06208 
<a name="l06209"></a>06209     <span class="comment">/* Periodic_t/DataArray_t: RotationCenter, RotationAngle, Translation */</span>
<a name="l06210"></a>06210     <span class="keywordflow">for</span> (n=0; n&lt;cperio-&gt;<a class="code" href="structcgns__cperio.html#ace0c04d503f8dda2284ae61a8344b8b">narrays</a>; n++)
<a name="l06211"></a>06211         <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#2c75d7a1fe94da29b442e30b06c05035">cgi_write_array</a>(cperio-&gt;<a class="code" href="structcgns__cperio.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, &amp;cperio-&gt;<a class="code" href="structcgns__cperio.html#1973739e7639e00a0d5aafe8c355c2aa">array</a>[n])) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l06212"></a>06212     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l06213"></a>06213 }
<a name="l06214"></a>06214 
<a name="l06215"></a><a class="code" href="cgnslib_8h.html#379a73bfef751270f30d51334b8f5c0c">06215</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#720baef0fe81c02569c99957f233ee70">cg_boco_write</a>(<span class="keywordtype">int</span> file_number, <span class="keywordtype">int</span> B, <span class="keywordtype">int</span> Z, <span class="keywordtype">char</span> <span class="keyword">const</span> * boconame, <a class="code" href="cgns_keywords_8h.html#44b677e45de9f4d98475b69a56eec4e1">BCType_t</a> bocotype,
<a name="l06216"></a>06216           <a class="code" href="cgns_keywords_8h.html#82fcf406991383f888f145541f6616f5">PointSetType_t</a> ptset_type, <span class="keywordtype">int</span> <a class="code" href="write__bcdata_8c.html#5444c4f4b8152e0b11ea6acae6b6de2a">npnts</a>, <span class="keywordtype">int</span> <span class="keyword">const</span> * <a class="code" href="write__bcdata_8c.html#5e162cfaac90b1bb6effc1042b58b64e">pnts</a>, <span class="keywordtype">int</span> *BC) {
<a name="l06217"></a>06217     <a class="code" href="structcgns__zone.html">cgns_zone</a> *zone;
<a name="l06218"></a>06218     <a class="code" href="structcgns__zboco.html">cgns_zboco</a> *zboco;
<a name="l06219"></a>06219     <a class="code" href="structcgns__boco.html">cgns_boco</a> *boco = NULL;
<a name="l06220"></a>06220     <span class="keywordtype">int</span> index, <a class="code" href="namespacefmain.html#c6f559daa4a4864f2449315176500469">i</a>, index_dim, length;
<a name="l06221"></a>06221 
<a name="l06222"></a>06222      <span class="comment">/* verify input */</span>
<a name="l06223"></a>06223 <span class="preprocessor">#if 0  </span><span class="comment">/* re-enable ElementList/ElementRange */</span>
<a name="l06224"></a>06224     <span class="keywordflow">if</span> (ptset_type!= <a class="code" href="cgns_keywords_8h.html#82fcf406991383f888f145541f6616f5d9df12b6366abf1175abbfca72f5f43e">PointList</a> &amp;&amp; ptset_type!=<a class="code" href="cgns_keywords_8h.html#82fcf406991383f888f145541f6616f5e5d03a0d4cdaa9d5c45a500029bd3783">PointRange</a>) {
<a name="l06225"></a>06225         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Invalid point set type: %d...?"</span>,ptset_type);
<a name="l06226"></a>06226         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l06227"></a>06227     }
<a name="l06228"></a>06228     <span class="keywordflow">if</span> (!(ptset_type==<a class="code" href="cgns_keywords_8h.html#82fcf406991383f888f145541f6616f5e5d03a0d4cdaa9d5c45a500029bd3783">PointRange</a> &amp;&amp; npnts==2) &amp;&amp; !(ptset_type==<a class="code" href="cgns_keywords_8h.html#82fcf406991383f888f145541f6616f5d9df12b6366abf1175abbfca72f5f43e">PointList</a> &amp;&amp; npnts&gt;0)) {
<a name="l06229"></a>06229         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Invalid input:  npoint=%d, point set type=%s"</span>,
<a name="l06230"></a>06230                npnts, <a class="code" href="cgnslib_8c.html#4a8e191f04e4a8f19c88e882e5451685">PointSetTypeName</a>[ptset_type]);
<a name="l06231"></a>06231         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l06232"></a>06232     }
<a name="l06233"></a>06233 <span class="preprocessor">#else</span>
<a name="l06234"></a>06234 <span class="preprocessor"></span>    <span class="keywordflow">if</span> (ptset_type == <a class="code" href="cgns_keywords_8h.html#82fcf406991383f888f145541f6616f5d9df12b6366abf1175abbfca72f5f43e">PointList</a> || ptset_type == <a class="code" href="cgns_keywords_8h.html#82fcf406991383f888f145541f6616f564fbbf86f8130201d7e4c75dfb1a59bf">ElementList</a>) {
<a name="l06235"></a>06235         <span class="keywordflow">if</span> (npnts &lt;= 0) {
<a name="l06236"></a>06236             <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Invalid input:  npoint=%d, point set type=%s"</span>,
<a name="l06237"></a>06237                    npnts, <a class="code" href="cgnslib_8c.html#4a8e191f04e4a8f19c88e882e5451685">PointSetTypeName</a>[ptset_type]);
<a name="l06238"></a>06238             <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l06239"></a>06239         }
<a name="l06240"></a>06240     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ptset_type == <a class="code" href="cgns_keywords_8h.html#82fcf406991383f888f145541f6616f5e5d03a0d4cdaa9d5c45a500029bd3783">PointRange</a> || ptset_type == <a class="code" href="cgns_keywords_8h.html#82fcf406991383f888f145541f6616f586986673b7c935efa39b88987781a180">ElementRange</a>) {
<a name="l06241"></a>06241         <span class="keywordflow">if</span> (npnts != 2) {
<a name="l06242"></a>06242             <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Invalid input:  npoint=%d, point set type=%s"</span>,
<a name="l06243"></a>06243                    npnts, <a class="code" href="cgnslib_8c.html#4a8e191f04e4a8f19c88e882e5451685">PointSetTypeName</a>[ptset_type]);
<a name="l06244"></a>06244             <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l06245"></a>06245         }
<a name="l06246"></a>06246     } <span class="keywordflow">else</span> {
<a name="l06247"></a>06247         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Invalid point set type: %d...?"</span>,ptset_type);
<a name="l06248"></a>06248         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l06249"></a>06249     }
<a name="l06250"></a>06250 <span class="preprocessor">#endif</span>
<a name="l06251"></a>06251 <span class="preprocessor"></span>    <span class="keywordflow">if</span> (bocotype&lt;0 || bocotype&gt;=<a class="code" href="cgns_keywords_8h.html#bf6f54174df8990df78582b7706aa8be">NofValidBCTypes</a>) {
<a name="l06252"></a>06252         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Invalid BCType:  %d"</span>,bocotype);
<a name="l06253"></a>06253         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l06254"></a>06254     }
<a name="l06255"></a>06255     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#b042658423afd0817ab23b3ea7a5e03d">cgi_check_strlen</a>(boconame)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l06256"></a>06256 
<a name="l06257"></a>06257      <span class="comment">/* get memory address of file */</span>
<a name="l06258"></a>06258     cg = <a class="code" href="cgns__header_8h.html#64a13852e04666fc73b74a8ff7727f4f">cgi_get_file</a>(file_number);
<a name="l06259"></a>06259     <span class="keywordflow">if</span> (cg == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l06260"></a>06260 
<a name="l06261"></a>06261     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l06262"></a>06262 
<a name="l06263"></a>06263      <span class="comment">/* get memory address of zone */</span>
<a name="l06264"></a>06264     zone = <a class="code" href="cgns__header_8h.html#5ce4ef97dee99baf9183b8c23419bfe0">cgi_get_zone</a>(cg, B, Z);
<a name="l06265"></a>06265     <span class="keywordflow">if</span> (zone==0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l06266"></a>06266 
<a name="l06267"></a>06267      <span class="comment">/* Allocate ZoneBC data struct. if not already created */</span>
<a name="l06268"></a>06268     <span class="keywordflow">if</span> (zone-&gt;<a class="code" href="structcgns__zone.html#62ddad6dbb0ac4c3ccb1757ba06ff602">zboco</a> == 0) {
<a name="l06269"></a>06269         zone-&gt;<a class="code" href="structcgns__zone.html#62ddad6dbb0ac4c3ccb1757ba06ff602">zboco</a> = <a class="code" href="cgns__header_8h.html#948c36b3700de0f3332aa3620eafb0f4">CGNS_NEW</a>(<a class="code" href="structcgns__zboco.html">cgns_zboco</a>, 1);
<a name="l06270"></a>06270         zboco = zone-&gt;<a class="code" href="structcgns__zone.html#62ddad6dbb0ac4c3ccb1757ba06ff602">zboco</a>;
<a name="l06271"></a>06271         strcpy(zboco-&gt;<a class="code" href="structcgns__zboco.html#b5192b2e796e6224c74ec532ec32abf7">name</a>,<span class="stringliteral">"ZoneBC"</span>);
<a name="l06272"></a>06272         zboco-&gt;<a class="code" href="structcgns__zboco.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>=0;
<a name="l06273"></a>06273         zboco-&gt;<a class="code" href="structcgns__zboco.html#f6f27f42b9ecc89cf0ed39415bca67d1">link</a>=0;
<a name="l06274"></a>06274         zboco-&gt;<a class="code" href="structcgns__zboco.html#cdee83a08ec17a8018bf719ef82a3602">ndescr</a>=0;
<a name="l06275"></a>06275         zboco-&gt;<a class="code" href="structcgns__zboco.html#9df6a136243e878051f1329b2177dba2">nbocos</a>=0;
<a name="l06276"></a>06276         zboco-&gt;<a class="code" href="structcgns__zboco.html#15c8ead849bcf27b5e35f578c29e6aff">state</a>=0;
<a name="l06277"></a>06277         zboco-&gt;<a class="code" href="structcgns__zboco.html#6aa9eb3c5ad6bdecf6cd8c2b3d97839c">data_class</a>=<a class="code" href="cgns_keywords_8h.html#6e3a45166e6780b756fef5c427279ca079d3001e5ba3290ed80f0762d51bb379">DataClassNull</a>;
<a name="l06278"></a>06278         zboco-&gt;<a class="code" href="structcgns__zboco.html#9b4c6b823f0741729aa08b21a4120308">units</a>=0;
<a name="l06279"></a>06279         zboco-&gt;<a class="code" href="structcgns__zboco.html#dc1e157d997b3174f9d41c5b645631f9">nuser_data</a>=0;
<a name="l06280"></a>06280     } <span class="keywordflow">else</span> zboco = zone-&gt;<a class="code" href="structcgns__zone.html#62ddad6dbb0ac4c3ccb1757ba06ff602">zboco</a>;
<a name="l06281"></a>06281 
<a name="l06282"></a>06282      <span class="comment">/* verify input */</span>
<a name="l06283"></a>06283     index_dim = zone-&gt;<a class="code" href="structcgns__zone.html#5ea7c3da009c9add916c0eeca1973c05">index_dim</a>;
<a name="l06284"></a>06284 <span class="preprocessor">#if 0</span>
<a name="l06285"></a>06285 <span class="preprocessor"></span>    <span class="keywordflow">if</span> (ptset_type==<a class="code" href="cgns_keywords_8h.html#82fcf406991383f888f145541f6616f5e5d03a0d4cdaa9d5c45a500029bd3783">PointRange</a>) {
<a name="l06286"></a>06286         <span class="keywordflow">for</span> (i=0; i&lt;index_dim; i++) {
<a name="l06287"></a>06287             <span class="keywordflow">if</span> (pnts[i]&lt;=0 || pnts[i+index_dim]&gt;zone-&gt;<a class="code" href="structcgns__zone.html#41ee98048c689af7dcf7cf361860ee09">nijk</a>[i]) {
<a name="l06288"></a>06288                 <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Invalid input range:  %d-&gt;%d"</span>,pnts[i], pnts[i+index_dim]);
<a name="l06289"></a>06289                 <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l06290"></a>06290             }
<a name="l06291"></a>06291         }
<a name="l06292"></a>06292     }
<a name="l06293"></a>06293 <span class="preprocessor">#endif</span>
<a name="l06294"></a>06294 <span class="preprocessor"></span>
<a name="l06295"></a>06295      <span class="comment">/* Overwrite a BC_t Node: */</span>
<a name="l06296"></a>06296     <span class="keywordflow">for</span> (index=0; index&lt;zboco-&gt;<a class="code" href="structcgns__zboco.html#9df6a136243e878051f1329b2177dba2">nbocos</a>; index++) {
<a name="l06297"></a>06297         <span class="keywordflow">if</span> (strcmp(boconame, zboco-&gt;<a class="code" href="structcgns__zboco.html#9d3e1eba43b87b3ad031cff3fcc60efd">boco</a>[index].<a class="code" href="structcgns__boco.html#b5192b2e796e6224c74ec532ec32abf7">name</a>)==0) {
<a name="l06298"></a>06298 
<a name="l06299"></a>06299              <span class="comment">/* in CG_MODE_WRITE, children names must be unique */</span>
<a name="l06300"></a>06300             <span class="keywordflow">if</span> (cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>==<a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>) {
<a name="l06301"></a>06301                 <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Duplicate child name found: %s"</span>,boconame);
<a name="l06302"></a>06302                 <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l06303"></a>06303             }
<a name="l06304"></a>06304 
<a name="l06305"></a>06305              <span class="comment">/* overwrite an existing BC_t Node */</span>
<a name="l06306"></a>06306              <span class="comment">/* delete the existing BC_t Node from file */</span>
<a name="l06307"></a>06307             <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#032ae98a5be795f845bb5cc7d63750e4">cgi_delete_node</a>(zboco-&gt;<a class="code" href="structcgns__zboco.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, zboco-&gt;<a class="code" href="structcgns__zboco.html#9d3e1eba43b87b3ad031cff3fcc60efd">boco</a>[index].<a class="code" href="structcgns__boco.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>))
<a name="l06308"></a>06308                 <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l06309"></a>06309              <span class="comment">/* save the old in-memory address to overwrite */</span>
<a name="l06310"></a>06310             boco = &amp;(zboco-&gt;<a class="code" href="structcgns__zboco.html#9d3e1eba43b87b3ad031cff3fcc60efd">boco</a>[index]);
<a name="l06311"></a>06311             <a class="code" href="cgns__header_8h.html#11061c7e46ac535ae1ad8cb4eb794747">cgi_free_boco</a>(boco);
<a name="l06312"></a>06312             <span class="keywordflow">break</span>;
<a name="l06313"></a>06313         }
<a name="l06314"></a>06314     }
<a name="l06315"></a>06315      <span class="comment">/* ... or add a BC_t Node: */</span>
<a name="l06316"></a>06316     <span class="keywordflow">if</span> (index==zboco-&gt;<a class="code" href="structcgns__zboco.html#9df6a136243e878051f1329b2177dba2">nbocos</a>) {
<a name="l06317"></a>06317         <span class="keywordflow">if</span> (zboco-&gt;<a class="code" href="structcgns__zboco.html#9df6a136243e878051f1329b2177dba2">nbocos</a> == 0) {
<a name="l06318"></a>06318             zboco-&gt;<a class="code" href="structcgns__zboco.html#9d3e1eba43b87b3ad031cff3fcc60efd">boco</a> = <a class="code" href="cgns__header_8h.html#948c36b3700de0f3332aa3620eafb0f4">CGNS_NEW</a>(<a class="code" href="structcgns__boco.html">cgns_boco</a>, zboco-&gt;<a class="code" href="structcgns__zboco.html#9df6a136243e878051f1329b2177dba2">nbocos</a>+1);
<a name="l06319"></a>06319         } <span class="keywordflow">else</span> {
<a name="l06320"></a>06320             zboco-&gt;<a class="code" href="structcgns__zboco.html#9d3e1eba43b87b3ad031cff3fcc60efd">boco</a> = <a class="code" href="cgns__header_8h.html#e23e608849b6dc488ccdad466e76e2ad">CGNS_RENEW</a>(<a class="code" href="structcgns__boco.html">cgns_boco</a>, zboco-&gt;<a class="code" href="structcgns__zboco.html#9df6a136243e878051f1329b2177dba2">nbocos</a>+1, zboco-&gt;<a class="code" href="structcgns__zboco.html#9d3e1eba43b87b3ad031cff3fcc60efd">boco</a>);
<a name="l06321"></a>06321         }
<a name="l06322"></a>06322         boco = &amp;(zboco-&gt;<a class="code" href="structcgns__zboco.html#9d3e1eba43b87b3ad031cff3fcc60efd">boco</a>[zboco-&gt;<a class="code" href="structcgns__zboco.html#9df6a136243e878051f1329b2177dba2">nbocos</a>]);
<a name="l06323"></a>06323         zboco-&gt;<a class="code" href="structcgns__zboco.html#9df6a136243e878051f1329b2177dba2">nbocos</a>++;
<a name="l06324"></a>06324     }
<a name="l06325"></a>06325     (*BC) = index+1;
<a name="l06326"></a>06326 
<a name="l06327"></a>06327      <span class="comment">/* write boco info to internal memory */</span>
<a name="l06328"></a>06328     strcpy(boco-&gt;<a class="code" href="structcgns__boco.html#b5192b2e796e6224c74ec532ec32abf7">name</a>,boconame);
<a name="l06329"></a>06329     boco-&gt;<a class="code" href="structcgns__boco.html#3559c6e2ba54cdf205f7b0229c1f43de">type</a> = bocotype;
<a name="l06330"></a>06330     boco-&gt;<a class="code" href="structcgns__boco.html#8b7e2cc8709c8363359a7b3f8dba99c1">ptset</a> = <a class="code" href="cgns__header_8h.html#948c36b3700de0f3332aa3620eafb0f4">CGNS_NEW</a>(<a class="code" href="structcgns__ptset.html">cgns_ptset</a>,1);
<a name="l06331"></a>06331     boco-&gt;<a class="code" href="structcgns__boco.html#8b7e2cc8709c8363359a7b3f8dba99c1">ptset</a>-&gt;<a class="code" href="structcgns__ptset.html#5aec710ee64d19d29072491968901bb5">type</a> = ptset_type;
<a name="l06332"></a>06332     strcpy(boco-&gt;<a class="code" href="structcgns__boco.html#8b7e2cc8709c8363359a7b3f8dba99c1">ptset</a>-&gt;<a class="code" href="structcgns__ptset.html#86e4d546d1321bcac60584c413eb0f6d">data_type</a>,<span class="stringliteral">"I4"</span>);
<a name="l06333"></a>06333     boco-&gt;<a class="code" href="structcgns__boco.html#8b7e2cc8709c8363359a7b3f8dba99c1">ptset</a>-&gt;<a class="code" href="structcgns__ptset.html#0306378cd06415f84b10cb3d15516ec3">npts</a> = npnts;
<a name="l06334"></a>06334 
<a name="l06335"></a>06335      <span class="comment">/* Record the number of nodes or elements in the point set */</span>
<a name="l06336"></a>06336 <span class="preprocessor">#if 0  </span><span class="comment">/* re-enable ElementList/ElementRange */</span>
<a name="l06337"></a>06337     <span class="keywordflow">if</span> (ptset_type==<a class="code" href="cgns_keywords_8h.html#82fcf406991383f888f145541f6616f5d9df12b6366abf1175abbfca72f5f43e">PointList</a>) boco-&gt;<a class="code" href="structcgns__boco.html#8b7e2cc8709c8363359a7b3f8dba99c1">ptset</a>-&gt;<a class="code" href="structcgns__ptset.html#e2b9734c6e30fe18058a373b8aad77a2">size_of_patch</a>=npnts;
<a name="l06338"></a>06338     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ptset_type==<a class="code" href="cgns_keywords_8h.html#82fcf406991383f888f145541f6616f5e5d03a0d4cdaa9d5c45a500029bd3783">PointRange</a>) {
<a name="l06339"></a>06339         boco-&gt;<a class="code" href="structcgns__boco.html#8b7e2cc8709c8363359a7b3f8dba99c1">ptset</a>-&gt;<a class="code" href="structcgns__ptset.html#e2b9734c6e30fe18058a373b8aad77a2">size_of_patch</a> = 1;
<a name="l06340"></a>06340         <span class="keywordflow">for</span> (i=0; i&lt;index_dim; i++)
<a name="l06341"></a>06341             boco-&gt;<a class="code" href="structcgns__boco.html#8b7e2cc8709c8363359a7b3f8dba99c1">ptset</a>-&gt;<a class="code" href="structcgns__ptset.html#e2b9734c6e30fe18058a373b8aad77a2">size_of_patch</a> = boco-&gt;<a class="code" href="structcgns__boco.html#8b7e2cc8709c8363359a7b3f8dba99c1">ptset</a>-&gt;<a class="code" href="structcgns__ptset.html#e2b9734c6e30fe18058a373b8aad77a2">size_of_patch</a> * (pnts[i+index_dim]-pnts[i]+1);
<a name="l06342"></a>06342     }
<a name="l06343"></a>06343 <span class="preprocessor">#else</span>
<a name="l06344"></a>06344 <span class="preprocessor"></span>    <span class="keywordflow">if</span> (ptset_type == <a class="code" href="cgns_keywords_8h.html#82fcf406991383f888f145541f6616f5d9df12b6366abf1175abbfca72f5f43e">PointList</a> || ptset_type == <a class="code" href="cgns_keywords_8h.html#82fcf406991383f888f145541f6616f564fbbf86f8130201d7e4c75dfb1a59bf">ElementList</a>)
<a name="l06345"></a>06345         boco-&gt;<a class="code" href="structcgns__boco.html#8b7e2cc8709c8363359a7b3f8dba99c1">ptset</a>-&gt;<a class="code" href="structcgns__ptset.html#e2b9734c6e30fe18058a373b8aad77a2">size_of_patch</a>=npnts;
<a name="l06346"></a>06346     <span class="keywordflow">else</span> {
<a name="l06347"></a>06347         boco-&gt;<a class="code" href="structcgns__boco.html#8b7e2cc8709c8363359a7b3f8dba99c1">ptset</a>-&gt;<a class="code" href="structcgns__ptset.html#e2b9734c6e30fe18058a373b8aad77a2">size_of_patch</a> = 1;
<a name="l06348"></a>06348         <span class="keywordflow">for</span> (i=0; i&lt;index_dim; i++)
<a name="l06349"></a>06349             boco-&gt;<a class="code" href="structcgns__boco.html#8b7e2cc8709c8363359a7b3f8dba99c1">ptset</a>-&gt;<a class="code" href="structcgns__ptset.html#e2b9734c6e30fe18058a373b8aad77a2">size_of_patch</a> = boco-&gt;<a class="code" href="structcgns__boco.html#8b7e2cc8709c8363359a7b3f8dba99c1">ptset</a>-&gt;<a class="code" href="structcgns__ptset.html#e2b9734c6e30fe18058a373b8aad77a2">size_of_patch</a> * (pnts[i+index_dim]-pnts[i]+1);
<a name="l06350"></a>06350     }
<a name="l06351"></a>06351 <span class="preprocessor">#endif</span>
<a name="l06352"></a>06352 <span class="preprocessor"></span>
<a name="l06353"></a>06353      <span class="comment">/* ... initialize: */</span>
<a name="l06354"></a>06354     boco-&gt;<a class="code" href="structcgns__boco.html#768ab32276e8694960d095f945951a26">normal</a> = 0;
<a name="l06355"></a>06355     boco-&gt;<a class="code" href="structcgns__boco.html#c82853e05a91f5be1f4d8cd1176df05b">Nindex</a> = 0;
<a name="l06356"></a>06356     boco-&gt;<a class="code" href="structcgns__boco.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>=0;
<a name="l06357"></a>06357     boco-&gt;<a class="code" href="structcgns__boco.html#f6f27f42b9ecc89cf0ed39415bca67d1">link</a> = 0;
<a name="l06358"></a>06358     boco-&gt;<a class="code" href="structcgns__boco.html#0e4921cde80f9718431923eedef14779">location</a> = <a class="code" href="cgns_keywords_8h.html#5a0e596ed46b12f73c2ed1b8b0176e13d013c4439c3e09308d6b2eef2a4025ae">Vertex</a>;
<a name="l06359"></a>06359     boco-&gt;<a class="code" href="structcgns__boco.html#8b7e2cc8709c8363359a7b3f8dba99c1">ptset</a>-&gt;<a class="code" href="structcgns__ptset.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a> = 0;
<a name="l06360"></a>06360     boco-&gt;<a class="code" href="structcgns__boco.html#8b7e2cc8709c8363359a7b3f8dba99c1">ptset</a>-&gt;<a class="code" href="structcgns__ptset.html#f6f27f42b9ecc89cf0ed39415bca67d1">link</a> = 0;
<a name="l06361"></a>06361     boco-&gt;<a class="code" href="structcgns__boco.html#cdee83a08ec17a8018bf719ef82a3602">ndescr</a> = 0;
<a name="l06362"></a>06362     boco-&gt;<a class="code" href="structcgns__boco.html#64ec9db7756548dd7935ab504da21bfe">ndataset</a> = 0;
<a name="l06363"></a>06363     boco-&gt;<a class="code" href="structcgns__boco.html#15c8ead849bcf27b5e35f578c29e6aff">state</a> = 0;
<a name="l06364"></a>06364     boco-&gt;<a class="code" href="structcgns__boco.html#6aa9eb3c5ad6bdecf6cd8c2b3d97839c">data_class</a> = <a class="code" href="cgns_keywords_8h.html#6e3a45166e6780b756fef5c427279ca079d3001e5ba3290ed80f0762d51bb379">DataClassNull</a>;
<a name="l06365"></a>06365     boco-&gt;<a class="code" href="structcgns__boco.html#9b4c6b823f0741729aa08b21a4120308">units</a> = 0;
<a name="l06366"></a>06366     boco-&gt;<a class="code" href="structcgns__boco.html#6906d66a97c04f02a830a98f4ee90872">ordinal</a> = 0;
<a name="l06367"></a>06367     boco-&gt;<a class="code" href="structcgns__boco.html#e87a193017e6c339aa4108f69caadbb1">family_name</a>[0]=<span class="charliteral">'\0'</span>;
<a name="l06368"></a>06368     boco-&gt;<a class="code" href="structcgns__boco.html#dc1e157d997b3174f9d41c5b645631f9">nuser_data</a> = 0;
<a name="l06369"></a>06369     boco-&gt;<a class="code" href="structcgns__boco.html#2caa25832810f091f3a8e999e9f3d54c">bprop</a> = 0;
<a name="l06370"></a>06370 
<a name="l06371"></a>06371     <span class="comment">/* Create ZoneBC_t node if it doesn't yet exist */</span>
<a name="l06372"></a>06372     <span class="keywordflow">if</span> (zboco-&gt;<a class="code" href="structcgns__zboco.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>==0) {
<a name="l06373"></a>06373         <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#184dd1d99e9f4e7b826f84887ba07748">cgi_new_node</a>(zone-&gt;<a class="code" href="structcgns__zone.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, <span class="stringliteral">"ZoneBC"</span>, <span class="stringliteral">"ZoneBC_t"</span>,
<a name="l06374"></a>06374             &amp;zboco-&gt;<a class="code" href="structcgns__zboco.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, <span class="stringliteral">"MT"</span>, 0, 0, 0)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l06375"></a>06375     }
<a name="l06376"></a>06376     <span class="comment">/* Create the BC_t Node */</span>
<a name="l06377"></a>06377     length = strlen(<a class="code" href="cgnslib_8c.html#524bd2d700c329555ff489a4a15a239b">BCTypeName</a>[boco-&gt;<a class="code" href="structcgns__boco.html#3559c6e2ba54cdf205f7b0229c1f43de">type</a>]);
<a name="l06378"></a>06378     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#184dd1d99e9f4e7b826f84887ba07748">cgi_new_node</a>(zboco-&gt;<a class="code" href="structcgns__zboco.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, boco-&gt;<a class="code" href="structcgns__boco.html#b5192b2e796e6224c74ec532ec32abf7">name</a>, <span class="stringliteral">"BC_t"</span>, &amp;boco-&gt;<a class="code" href="structcgns__boco.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, <span class="stringliteral">"C1"</span>, 1,
<a name="l06379"></a>06379         &amp;length, <a class="code" href="cgnslib_8c.html#524bd2d700c329555ff489a4a15a239b">BCTypeName</a>[boco-&gt;<a class="code" href="structcgns__boco.html#3559c6e2ba54cdf205f7b0229c1f43de">type</a>])) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l06380"></a>06380 
<a name="l06381"></a>06381      <span class="comment">/* Save Point-Set on Disk */</span>
<a name="l06382"></a>06382     <span class="keywordflow">if</span> (npnts&gt;0) {
<a name="l06383"></a>06383         <a class="code" href="cgns__header_8h.html#3643549b6f6f5f037878b262787434c0">char_33</a> PointSetName;
<a name="l06384"></a>06384         strcpy(PointSetName, <a class="code" href="cgnslib_8c.html#4a8e191f04e4a8f19c88e882e5451685">PointSetTypeName</a>[boco-&gt;<a class="code" href="structcgns__boco.html#8b7e2cc8709c8363359a7b3f8dba99c1">ptset</a>-&gt;<a class="code" href="structcgns__ptset.html#5aec710ee64d19d29072491968901bb5">type</a>]);
<a name="l06385"></a>06385         <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#b515c026b136510f7280371efafda974">cgi_write_ptset</a>(boco-&gt;<a class="code" href="structcgns__boco.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, PointSetName, boco-&gt;<a class="code" href="structcgns__boco.html#8b7e2cc8709c8363359a7b3f8dba99c1">ptset</a>, index_dim,
<a name="l06386"></a>06386             (<span class="keywordtype">void</span> *)pnts)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l06387"></a>06387     }
<a name="l06388"></a>06388 
<a name="l06389"></a>06389     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l06390"></a>06390 }
<a name="l06391"></a>06391 
<a name="l06392"></a><a class="code" href="cgnslib_8h.html#782fde78a47e377f1a3864f41eff9515">06392</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#9da26c4f309f63ec5e58d01772738a24">cg_boco_normal_write</a>(<span class="keywordtype">int</span> file_number, <span class="keywordtype">int</span> B, <span class="keywordtype">int</span> Z, <span class="keywordtype">int</span> BC, <span class="keywordtype">int</span> <span class="keyword">const</span> * NormalIndex,
<a name="l06393"></a>06393          <span class="keywordtype">int</span> NormalListFlag,  <a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae">DataType_t</a> NormalDataType, <span class="keywordtype">void</span> <span class="keyword">const</span> * NormalList) {
<a name="l06394"></a>06394     <a class="code" href="structcgns__boco.html">cgns_boco</a> *boco;
<a name="l06395"></a>06395     <span class="keywordtype">int</span> <a class="code" href="write__bcdata_8c.html#5444c4f4b8152e0b11ea6acae6b6de2a">npnts</a>, n, index_dim, phys_dim;
<a name="l06396"></a>06396 
<a name="l06397"></a>06397      <span class="comment">/* get memory address of file */</span>
<a name="l06398"></a>06398     cg = <a class="code" href="cgns__header_8h.html#64a13852e04666fc73b74a8ff7727f4f">cgi_get_file</a>(file_number);
<a name="l06399"></a>06399     <span class="keywordflow">if</span> (cg == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l06400"></a>06400 
<a name="l06401"></a>06401     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l06402"></a>06402 
<a name="l06403"></a>06403     boco = <a class="code" href="cgns__header_8h.html#7686b8c1f9d6eab108c07efd2288a299">cgi_get_boco</a>(cg, B, Z, BC);
<a name="l06404"></a>06404     <span class="keywordflow">if</span> (boco==0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l06405"></a>06405     npnts = boco-&gt;<a class="code" href="structcgns__boco.html#8b7e2cc8709c8363359a7b3f8dba99c1">ptset</a>-&gt;<a class="code" href="structcgns__ptset.html#e2b9734c6e30fe18058a373b8aad77a2">size_of_patch</a>;
<a name="l06406"></a>06406 
<a name="l06407"></a>06407     phys_dim=cg-&gt;<a class="code" href="structcgns__file.html#0429392e9c26dac2f0b97ae2d2127117">base</a>[B-1].<a class="code" href="structcgns__base.html#f210aa767697826c3dc29cfb2ffec256">phys_dim</a>;
<a name="l06408"></a>06408 
<a name="l06409"></a>06409     <span class="keywordflow">if</span> (NormalListFlag &amp;&amp; npnts) {
<a name="l06410"></a>06410         <a class="code" href="structcgns__array.html">cgns_array</a> *normal;
<a name="l06411"></a>06411 
<a name="l06412"></a>06412         <span class="keywordflow">if</span> (boco-&gt;<a class="code" href="structcgns__boco.html#768ab32276e8694960d095f945951a26">normal</a>) {
<a name="l06413"></a>06413             <span class="keywordflow">if</span> (cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>==<a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>) {
<a name="l06414"></a>06414                 <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"InwardNormalList is already defined under BC_t '%s'"</span>,
<a name="l06415"></a>06415                        boco-&gt;<a class="code" href="structcgns__boco.html#b5192b2e796e6224c74ec532ec32abf7">name</a>);
<a name="l06416"></a>06416                 <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l06417"></a>06417             }
<a name="l06418"></a>06418             <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#032ae98a5be795f845bb5cc7d63750e4">cgi_delete_node</a>(boco-&gt;<a class="code" href="structcgns__boco.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, boco-&gt;<a class="code" href="structcgns__boco.html#768ab32276e8694960d095f945951a26">normal</a>-&gt;<a class="code" href="structcgns__array.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>))
<a name="l06419"></a>06419                 <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l06420"></a>06420             <a class="code" href="cgns__header_8h.html#a8d17c939a13a195c4ab5f66573305cb">cgi_free_array</a>(boco-&gt;<a class="code" href="structcgns__boco.html#768ab32276e8694960d095f945951a26">normal</a>);
<a name="l06421"></a>06421         } <span class="keywordflow">else</span>
<a name="l06422"></a>06422             boco-&gt;<a class="code" href="structcgns__boco.html#768ab32276e8694960d095f945951a26">normal</a> = <a class="code" href="cgns__header_8h.html#948c36b3700de0f3332aa3620eafb0f4">CGNS_NEW</a>(<a class="code" href="structcgns__array.html">cgns_array</a>, 1);
<a name="l06423"></a>06423         normal = boco-&gt;<a class="code" href="structcgns__boco.html#768ab32276e8694960d095f945951a26">normal</a>;
<a name="l06424"></a>06424 
<a name="l06425"></a>06425         strcpy(normal-&gt;<a class="code" href="structcgns__array.html#86e4d546d1321bcac60584c413eb0f6d">data_type</a>, <a class="code" href="cgns__header_8h.html#abf7e64b45b7a0d3aa0f56747525065c">cgi_adf_datatype</a>(NormalDataType));
<a name="l06426"></a>06426         normal-&gt;<a class="code" href="structcgns__array.html#735984d41155bc1032e09bece8f8d66d">data</a> = (<span class="keywordtype">void</span> *)<a class="code" href="cg__malloc_8h.html#535b58ab5aa48e2e86073e334d43fd32">malloc</a>(npnts*phys_dim*<a class="code" href="cgns__header_8h.html#c7abea28547e8f0f35e8eaa9d3048889">size_of</a>(normal-&gt;<a class="code" href="structcgns__array.html#86e4d546d1321bcac60584c413eb0f6d">data_type</a>));
<a name="l06427"></a>06427         <span class="keywordflow">if</span> (!normal-&gt;<a class="code" href="structcgns__array.html#735984d41155bc1032e09bece8f8d66d">data</a>) {
<a name="l06428"></a>06428             <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Error allocating normal-&gt;data"</span>);
<a name="l06429"></a>06429             <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l06430"></a>06430         }
<a name="l06431"></a>06431         memcpy(normal-&gt;<a class="code" href="structcgns__array.html#735984d41155bc1032e09bece8f8d66d">data</a>, NormalList, npnts*phys_dim*<a class="code" href="cgns__header_8h.html#c7abea28547e8f0f35e8eaa9d3048889">size_of</a>(normal-&gt;<a class="code" href="structcgns__array.html#86e4d546d1321bcac60584c413eb0f6d">data_type</a>));
<a name="l06432"></a>06432         strcpy(normal-&gt;<a class="code" href="structcgns__array.html#b5192b2e796e6224c74ec532ec32abf7">name</a>, <span class="stringliteral">"InwardNormalList"</span>);
<a name="l06433"></a>06433         normal-&gt;<a class="code" href="structcgns__array.html#c7e27870b79e982377b6669e633a32ad">data_dim</a> =2;
<a name="l06434"></a>06434         normal-&gt;<a class="code" href="structcgns__array.html#5ca9ee30477c56421c793e2341f75931">dim_vals</a>[0]=phys_dim;
<a name="l06435"></a>06435         normal-&gt;<a class="code" href="structcgns__array.html#5ca9ee30477c56421c793e2341f75931">dim_vals</a>[1]=npnts;
<a name="l06436"></a>06436 
<a name="l06437"></a>06437      <span class="comment">/* initialize other fields */</span>
<a name="l06438"></a>06438         normal-&gt;<a class="code" href="structcgns__array.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>=0;
<a name="l06439"></a>06439         normal-&gt;<a class="code" href="structcgns__array.html#f6f27f42b9ecc89cf0ed39415bca67d1">link</a>=0;
<a name="l06440"></a>06440         normal-&gt;<a class="code" href="structcgns__array.html#cdee83a08ec17a8018bf719ef82a3602">ndescr</a>=0;
<a name="l06441"></a>06441         normal-&gt;<a class="code" href="structcgns__array.html#6aa9eb3c5ad6bdecf6cd8c2b3d97839c">data_class</a>=<a class="code" href="cgns_keywords_8h.html#6e3a45166e6780b756fef5c427279ca079d3001e5ba3290ed80f0762d51bb379">DataClassNull</a>;
<a name="l06442"></a>06442         normal-&gt;<a class="code" href="structcgns__array.html#9b4c6b823f0741729aa08b21a4120308">units</a>=0;
<a name="l06443"></a>06443         normal-&gt;<a class="code" href="structcgns__array.html#87b103c38a459cc8a1c6cf06f01aa12a">exponents</a>=0;
<a name="l06444"></a>06444         normal-&gt;<a class="code" href="structcgns__array.html#0724545c909f7773439fee292fe3ef5f">convert</a>=0;
<a name="l06445"></a>06445 
<a name="l06446"></a>06446         <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#184dd1d99e9f4e7b826f84887ba07748">cgi_new_node</a>(boco-&gt;<a class="code" href="structcgns__boco.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, <span class="stringliteral">"InwardNormalList"</span>, <span class="stringliteral">"IndexArray_t"</span>,
<a name="l06447"></a>06447             &amp;normal-&gt;<a class="code" href="structcgns__array.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, normal-&gt;<a class="code" href="structcgns__array.html#86e4d546d1321bcac60584c413eb0f6d">data_type</a>, 2, normal-&gt;<a class="code" href="structcgns__array.html#5ca9ee30477c56421c793e2341f75931">dim_vals</a>,
<a name="l06448"></a>06448             (<span class="keywordtype">void</span> *)normal-&gt;<a class="code" href="structcgns__array.html#735984d41155bc1032e09bece8f8d66d">data</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l06449"></a>06449     }
<a name="l06450"></a>06450     <span class="keywordflow">if</span> (boco-&gt;<a class="code" href="structcgns__boco.html#c82853e05a91f5be1f4d8cd1176df05b">Nindex</a>) {
<a name="l06451"></a>06451         <span class="keywordflow">if</span> (cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>==<a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>) {
<a name="l06452"></a>06452             <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"InwardNormalIndex is already defined under BC_t '%s'"</span>,
<a name="l06453"></a>06453                    boco-&gt;<a class="code" href="structcgns__boco.html#b5192b2e796e6224c74ec532ec32abf7">name</a>);
<a name="l06454"></a>06454             <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l06455"></a>06455         } <span class="keywordflow">else</span> {
<a name="l06456"></a>06456             <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#032ae98a5be795f845bb5cc7d63750e4">cgi_delete_node</a>(boco-&gt;<a class="code" href="structcgns__boco.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, boco-&gt;<a class="code" href="structcgns__boco.html#9f884ada1ebaf5a5f0f92c40d6bf185d">index_id</a>))
<a name="l06457"></a>06457                 <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l06458"></a>06458             <a class="code" href="cg__malloc_8h.html#a7943e5d135734f6801bebcc37401fc0">free</a>(boco-&gt;<a class="code" href="structcgns__boco.html#c82853e05a91f5be1f4d8cd1176df05b">Nindex</a>);
<a name="l06459"></a>06459             boco-&gt;<a class="code" href="structcgns__boco.html#c82853e05a91f5be1f4d8cd1176df05b">Nindex</a> = 0;
<a name="l06460"></a>06460         }
<a name="l06461"></a>06461     }
<a name="l06462"></a>06462     <span class="keywordflow">if</span> (NormalIndex &amp;&amp; cg-&gt;<a class="code" href="structcgns__file.html#0429392e9c26dac2f0b97ae2d2127117">base</a>[B-1].<a class="code" href="structcgns__base.html#abbb754f366f926198416ad91b8155ef">zone</a>[Z-1].<a class="code" href="structcgns__zone.html#70e3228eb924895531acd9144d41916f">type</a> == <a class="code" href="cgns_keywords_8h.html#68acb02e36b91d3020f4de86436a07fe8a382d9e08294b2cd243ee60bd75c068">Structured</a>) {
<a name="l06463"></a>06463         index_dim=cg-&gt;<a class="code" href="structcgns__file.html#0429392e9c26dac2f0b97ae2d2127117">base</a>[B-1].<a class="code" href="structcgns__base.html#abbb754f366f926198416ad91b8155ef">zone</a>[Z-1].<a class="code" href="structcgns__zone.html#5ea7c3da009c9add916c0eeca1973c05">index_dim</a>;
<a name="l06464"></a>06464         boco-&gt;<a class="code" href="structcgns__boco.html#c82853e05a91f5be1f4d8cd1176df05b">Nindex</a> = <a class="code" href="cgns__header_8h.html#948c36b3700de0f3332aa3620eafb0f4">CGNS_NEW</a>(<span class="keywordtype">int</span>, index_dim);
<a name="l06465"></a>06465         <span class="keywordflow">for</span> (n=0; n&lt;index_dim; n++)
<a name="l06466"></a>06466             boco-&gt;<a class="code" href="structcgns__boco.html#c82853e05a91f5be1f4d8cd1176df05b">Nindex</a>[n]=NormalIndex[n];
<a name="l06467"></a>06467 
<a name="l06468"></a>06468         if (<a class="code" href="cgns__header_8h.html#184dd1d99e9f4e7b826f84887ba07748">cgi_new_node</a>(boco-&gt;<a class="code" href="structcgns__boco.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, <span class="stringliteral">"InwardNormalIndex"</span>, <span class="stringliteral">"\"int[IndexDimension]\""</span>,
<a name="l06469"></a>06469             &amp;boco-&gt;<a class="code" href="structcgns__boco.html#9f884ada1ebaf5a5f0f92c40d6bf185d">index_id</a>, <span class="stringliteral">"I4"</span>, 1, &amp;index_dim, (<span class="keywordtype">void</span> *)NormalIndex))
<a name="l06470"></a>06470             <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l06471"></a>06471     }
<a name="l06472"></a>06472     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l06473"></a>06473 }
<a name="l06474"></a>06474 
<a name="l06475"></a><a class="code" href="cgnslib_8h.html#af7fe7610bdaca20e0e8b2dcdcf1c14b">06475</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#788d335e537fb5c7518161449bc2da2b">cg_dataset_write</a>(<span class="keywordtype">int</span> file_number, <span class="keywordtype">int</span> B, <span class="keywordtype">int</span> Z, <span class="keywordtype">int</span> BC, <span class="keywordtype">char</span> <span class="keyword">const</span> * name,
<a name="l06476"></a>06476     <a class="code" href="cgns_keywords_8h.html#44b677e45de9f4d98475b69a56eec4e1">BCType_t</a> BCType, <span class="keywordtype">int</span> *Dset) {
<a name="l06477"></a>06477 
<a name="l06478"></a>06478     <a class="code" href="structcgns__boco.html">cgns_boco</a> *boco;
<a name="l06479"></a>06479     <a class="code" href="structcgns__dataset.html">cgns_dataset</a> *dataset = NULL;
<a name="l06480"></a>06480     <span class="keywordtype">int</span> index, length;
<a name="l06481"></a>06481 
<a name="l06482"></a>06482      <span class="comment">/* verify input */</span>
<a name="l06483"></a>06483     <span class="keywordflow">if</span> (BCType&lt;0 || BCType&gt;=<a class="code" href="cgns_keywords_8h.html#bf6f54174df8990df78582b7706aa8be">NofValidBCTypes</a>) {
<a name="l06484"></a>06484         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Invalid BCType:  %d"</span>,BCType);
<a name="l06485"></a>06485         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l06486"></a>06486     }
<a name="l06487"></a>06487     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#b042658423afd0817ab23b3ea7a5e03d">cgi_check_strlen</a>(name)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l06488"></a>06488 
<a name="l06489"></a>06489      <span class="comment">/* get memory address of file */</span>
<a name="l06490"></a>06490     cg = <a class="code" href="cgns__header_8h.html#64a13852e04666fc73b74a8ff7727f4f">cgi_get_file</a>(file_number);
<a name="l06491"></a>06491     <span class="keywordflow">if</span> (cg == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l06492"></a>06492 
<a name="l06493"></a>06493     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l06494"></a>06494 
<a name="l06495"></a>06495     boco = <a class="code" href="cgns__header_8h.html#7686b8c1f9d6eab108c07efd2288a299">cgi_get_boco</a>(cg, B, Z, BC);
<a name="l06496"></a>06496     <span class="keywordflow">if</span> (boco==0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l06497"></a>06497 
<a name="l06498"></a>06498      <span class="comment">/* Overwrite a BCDataSet_t node : */</span>
<a name="l06499"></a>06499     <span class="keywordflow">for</span> (index=0; index&lt;boco-&gt;<a class="code" href="structcgns__boco.html#64ec9db7756548dd7935ab504da21bfe">ndataset</a>; index++) {
<a name="l06500"></a>06500         <span class="keywordflow">if</span> (strcmp(name, boco-&gt;<a class="code" href="structcgns__boco.html#cf40da8e525cc82b05d405b4f9ad3b99">dataset</a>[index].<a class="code" href="structcgns__dataset.html#b5192b2e796e6224c74ec532ec32abf7">name</a>)==0) {
<a name="l06501"></a>06501 
<a name="l06502"></a>06502              <span class="comment">/* in CG_MODE_WRITE, children names must be unique */</span>
<a name="l06503"></a>06503             <span class="keywordflow">if</span> (cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>==<a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>) {
<a name="l06504"></a>06504                 <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Duplicate child name found: %s"</span>,name);
<a name="l06505"></a>06505                 <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l06506"></a>06506             }
<a name="l06507"></a>06507 
<a name="l06508"></a>06508              <span class="comment">/* overwrite an existing solution */</span>
<a name="l06509"></a>06509              <span class="comment">/* delete the existing dataset from file */</span>
<a name="l06510"></a>06510             <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#032ae98a5be795f845bb5cc7d63750e4">cgi_delete_node</a>(boco-&gt;<a class="code" href="structcgns__boco.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, boco-&gt;<a class="code" href="structcgns__boco.html#cf40da8e525cc82b05d405b4f9ad3b99">dataset</a>[index].<a class="code" href="structcgns__dataset.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>))
<a name="l06511"></a>06511                 <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l06512"></a>06512              <span class="comment">/* save the old in-memory address to overwrite */</span>
<a name="l06513"></a>06513             dataset = &amp;(boco-&gt;<a class="code" href="structcgns__boco.html#cf40da8e525cc82b05d405b4f9ad3b99">dataset</a>[index]);
<a name="l06514"></a>06514              <span class="comment">/* free memory */</span>
<a name="l06515"></a>06515             <a class="code" href="cgns__header_8h.html#2f0936a3010a777ebd9cdb51410131c4">cgi_free_dataset</a>(dataset);
<a name="l06516"></a>06516             <span class="keywordflow">break</span>;
<a name="l06517"></a>06517         }
<a name="l06518"></a>06518     }
<a name="l06519"></a>06519      <span class="comment">/* ... or add a BCDataSet_t Node: */</span>
<a name="l06520"></a>06520     <span class="keywordflow">if</span> (index==boco-&gt;<a class="code" href="structcgns__boco.html#64ec9db7756548dd7935ab504da21bfe">ndataset</a>) {
<a name="l06521"></a>06521         <span class="keywordflow">if</span> (boco-&gt;<a class="code" href="structcgns__boco.html#64ec9db7756548dd7935ab504da21bfe">ndataset</a> == 0)
<a name="l06522"></a>06522             boco-&gt;<a class="code" href="structcgns__boco.html#cf40da8e525cc82b05d405b4f9ad3b99">dataset</a> = <a class="code" href="cgns__header_8h.html#948c36b3700de0f3332aa3620eafb0f4">CGNS_NEW</a>(<a class="code" href="structcgns__dataset.html">cgns_dataset</a>, boco-&gt;<a class="code" href="structcgns__boco.html#64ec9db7756548dd7935ab504da21bfe">ndataset</a>+1);
<a name="l06523"></a>06523         <span class="keywordflow">else</span>
<a name="l06524"></a>06524             boco-&gt;<a class="code" href="structcgns__boco.html#cf40da8e525cc82b05d405b4f9ad3b99">dataset</a>= <a class="code" href="cgns__header_8h.html#e23e608849b6dc488ccdad466e76e2ad">CGNS_RENEW</a>(<a class="code" href="structcgns__dataset.html">cgns_dataset</a>, boco-&gt;<a class="code" href="structcgns__boco.html#64ec9db7756548dd7935ab504da21bfe">ndataset</a>+1, boco-&gt;<a class="code" href="structcgns__boco.html#cf40da8e525cc82b05d405b4f9ad3b99">dataset</a>);
<a name="l06525"></a>06525         dataset= &amp;boco-&gt;<a class="code" href="structcgns__boco.html#cf40da8e525cc82b05d405b4f9ad3b99">dataset</a>[boco-&gt;<a class="code" href="structcgns__boco.html#64ec9db7756548dd7935ab504da21bfe">ndataset</a>];
<a name="l06526"></a>06526         boco-&gt;<a class="code" href="structcgns__boco.html#64ec9db7756548dd7935ab504da21bfe">ndataset</a>++;
<a name="l06527"></a>06527     }
<a name="l06528"></a>06528     (*Dset) = index+1;
<a name="l06529"></a>06529 
<a name="l06530"></a>06530      <span class="comment">/* save data in memory */</span>
<a name="l06531"></a>06531     dataset-&gt;<a class="code" href="structcgns__dataset.html#3559c6e2ba54cdf205f7b0229c1f43de">type</a> = BCType;
<a name="l06532"></a>06532     strcpy(dataset-&gt;<a class="code" href="structcgns__dataset.html#b5192b2e796e6224c74ec532ec32abf7">name</a>, name);
<a name="l06533"></a>06533 
<a name="l06534"></a>06534      <span class="comment">/* initialize other fields */</span>
<a name="l06535"></a>06535     dataset-&gt;<a class="code" href="structcgns__dataset.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a> = 0;
<a name="l06536"></a>06536     dataset-&gt;<a class="code" href="structcgns__dataset.html#f6f27f42b9ecc89cf0ed39415bca67d1">link</a>=0;
<a name="l06537"></a>06537     dataset-&gt;<a class="code" href="structcgns__dataset.html#cdee83a08ec17a8018bf719ef82a3602">ndescr</a>=0;
<a name="l06538"></a>06538     dataset-&gt;<a class="code" href="structcgns__dataset.html#48997bc56a21c2c5ea2b12a397067609">dirichlet</a>=0;
<a name="l06539"></a>06539     dataset-&gt;<a class="code" href="structcgns__dataset.html#9e5bbe656ff3e9bd4e5c6d0c29ade2a9">neumann</a>=0;
<a name="l06540"></a>06540     dataset-&gt;<a class="code" href="structcgns__dataset.html#15c8ead849bcf27b5e35f578c29e6aff">state</a>=0;
<a name="l06541"></a>06541     dataset-&gt;<a class="code" href="structcgns__dataset.html#6aa9eb3c5ad6bdecf6cd8c2b3d97839c">data_class</a>=<a class="code" href="cgns_keywords_8h.html#6e3a45166e6780b756fef5c427279ca079d3001e5ba3290ed80f0762d51bb379">DataClassNull</a>;
<a name="l06542"></a>06542     dataset-&gt;<a class="code" href="structcgns__dataset.html#9b4c6b823f0741729aa08b21a4120308">units</a>=0;
<a name="l06543"></a>06543     dataset-&gt;<a class="code" href="structcgns__dataset.html#dc1e157d997b3174f9d41c5b645631f9">nuser_data</a>=0;
<a name="l06544"></a>06544     <span class="comment">/* initialize dataset-&gt;ptset and dataset-&gt;location with default</span>
<a name="l06545"></a>06545 <span class="comment">     * values</span>
<a name="l06546"></a>06546 <span class="comment">    */</span>
<a name="l06547"></a>06547     dataset-&gt;<a class="code" href="structcgns__dataset.html#0e4921cde80f9718431923eedef14779">location</a> = <a class="code" href="cgns_keywords_8h.html#5a0e596ed46b12f73c2ed1b8b0176e13d013c4439c3e09308d6b2eef2a4025ae">Vertex</a>;
<a name="l06548"></a>06548     dataset-&gt;<a class="code" href="structcgns__dataset.html#8b7e2cc8709c8363359a7b3f8dba99c1">ptset</a> = 0;
<a name="l06549"></a>06549 
<a name="l06550"></a>06550      <span class="comment">/* save data in file */</span>
<a name="l06551"></a>06551     length = strlen(<a class="code" href="cgnslib_8c.html#524bd2d700c329555ff489a4a15a239b">BCTypeName</a>[dataset-&gt;<a class="code" href="structcgns__dataset.html#3559c6e2ba54cdf205f7b0229c1f43de">type</a>]);
<a name="l06552"></a>06552     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#184dd1d99e9f4e7b826f84887ba07748">cgi_new_node</a>(boco-&gt;<a class="code" href="structcgns__boco.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, dataset-&gt;<a class="code" href="structcgns__dataset.html#b5192b2e796e6224c74ec532ec32abf7">name</a>, <span class="stringliteral">"BCDataSet_t"</span>, &amp;dataset-&gt;<a class="code" href="structcgns__dataset.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>,
<a name="l06553"></a>06553         <span class="stringliteral">"C1"</span>, 1, &amp;length, (<span class="keywordtype">void</span> *)<a class="code" href="cgnslib_8c.html#524bd2d700c329555ff489a4a15a239b">BCTypeName</a>[dataset-&gt;<a class="code" href="structcgns__dataset.html#3559c6e2ba54cdf205f7b0229c1f43de">type</a>])) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l06554"></a>06554     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l06555"></a>06555 }
<a name="l06556"></a>06556 
<a name="l06557"></a><a class="code" href="cgnslib_8h.html#c2c5e6da88fa6a4c86870fea75048ef2">06557</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#b330ba82a94ba8a4cd7f24435494468b">cg_bcdata_write</a>(<span class="keywordtype">int</span> file_number, <span class="keywordtype">int</span> B, <span class="keywordtype">int</span> Z, <span class="keywordtype">int</span> BC, <span class="keywordtype">int</span> Dset,
<a name="l06558"></a>06558     <a class="code" href="cgns_keywords_8h.html#3be0aed74a9dad8d4558fa68ff3e737d">BCDataType_t</a> BCDataType) {
<a name="l06559"></a>06559 
<a name="l06560"></a>06560     <a class="code" href="structcgns__dataset.html">cgns_dataset</a> *dataset;
<a name="l06561"></a>06561     <a class="code" href="structcgns__bcdata.html">cgns_bcdata</a> *bcdata;
<a name="l06562"></a>06562 
<a name="l06563"></a>06563      <span class="comment">/* verify input */</span>
<a name="l06564"></a>06564     <span class="keywordflow">if</span> (BCDataType&lt;0 || BCDataType&gt;=<a class="code" href="cgns_keywords_8h.html#6d5a35b1d55444a926c9c0e3ba1f5817">NofValidBCDataTypes</a>) {
<a name="l06565"></a>06565         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"BCDataType %d not valid"</span>,BCDataType);
<a name="l06566"></a>06566         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l06567"></a>06567     }
<a name="l06568"></a>06568 
<a name="l06569"></a>06569      <span class="comment">/* get memory address of file */</span>
<a name="l06570"></a>06570     cg = <a class="code" href="cgns__header_8h.html#64a13852e04666fc73b74a8ff7727f4f">cgi_get_file</a>(file_number);
<a name="l06571"></a>06571     <span class="keywordflow">if</span> (cg == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l06572"></a>06572 
<a name="l06573"></a>06573     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l06574"></a>06574 
<a name="l06575"></a>06575     dataset = <a class="code" href="cgns__header_8h.html#24559a058d39f10b3c3a0448dd4b41f3">cgi_get_dataset</a>(cg, B, Z, BC, Dset);
<a name="l06576"></a>06576     <span class="keywordflow">if</span> (dataset==0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l06577"></a>06577 
<a name="l06578"></a>06578     <span class="keywordflow">if</span> (BCDataType==<a class="code" href="cgns_keywords_8h.html#3be0aed74a9dad8d4558fa68ff3e737dd2ba0bf65961bac8373de60a7e6571b9">Dirichlet</a>) {
<a name="l06579"></a>06579         <span class="keywordflow">if</span> (dataset-&gt;<a class="code" href="structcgns__dataset.html#48997bc56a21c2c5ea2b12a397067609">dirichlet</a>) {
<a name="l06580"></a>06580             <span class="keywordflow">if</span> (cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a> == <a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>) {
<a name="l06581"></a>06581                 <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Dirichlet data already defined under BCDataSet_t '%s'"</span>,
<a name="l06582"></a>06582                        dataset-&gt;<a class="code" href="structcgns__dataset.html#b5192b2e796e6224c74ec532ec32abf7">name</a>);
<a name="l06583"></a>06583                 <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l06584"></a>06584             }
<a name="l06585"></a>06585             <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#032ae98a5be795f845bb5cc7d63750e4">cgi_delete_node</a>(dataset-&gt;<a class="code" href="structcgns__dataset.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, dataset-&gt;<a class="code" href="structcgns__dataset.html#48997bc56a21c2c5ea2b12a397067609">dirichlet</a>-&gt;<a class="code" href="structcgns__bcdata.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>))
<a name="l06586"></a>06586                 <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l06587"></a>06587             <a class="code" href="cgns__header_8h.html#1328c1e1642cffec0bd80c89167b3dd7">cgi_free_bcdata</a>(dataset-&gt;<a class="code" href="structcgns__dataset.html#48997bc56a21c2c5ea2b12a397067609">dirichlet</a>);
<a name="l06588"></a>06588         } <span class="keywordflow">else</span>
<a name="l06589"></a>06589             dataset-&gt;<a class="code" href="structcgns__dataset.html#48997bc56a21c2c5ea2b12a397067609">dirichlet</a> = <a class="code" href="cgns__header_8h.html#948c36b3700de0f3332aa3620eafb0f4">CGNS_NEW</a>(<a class="code" href="structcgns__bcdata.html">cgns_bcdata</a>,1);
<a name="l06590"></a>06590         strcpy(dataset-&gt;<a class="code" href="structcgns__dataset.html#48997bc56a21c2c5ea2b12a397067609">dirichlet</a>-&gt;<a class="code" href="structcgns__bcdata.html#b5192b2e796e6224c74ec532ec32abf7">name</a>, <span class="stringliteral">"DirichletData"</span>);
<a name="l06591"></a>06591         bcdata = dataset-&gt;<a class="code" href="structcgns__dataset.html#48997bc56a21c2c5ea2b12a397067609">dirichlet</a>;
<a name="l06592"></a>06592     } <span class="keywordflow">else</span> {
<a name="l06593"></a>06593         <span class="keywordflow">if</span> (dataset-&gt;<a class="code" href="structcgns__dataset.html#9e5bbe656ff3e9bd4e5c6d0c29ade2a9">neumann</a>) {
<a name="l06594"></a>06594             <span class="keywordflow">if</span> (cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a> == <a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>) {
<a name="l06595"></a>06595                 <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Neumann data already defined under BCDataSet_t '%s'"</span>,
<a name="l06596"></a>06596                        dataset-&gt;<a class="code" href="structcgns__dataset.html#b5192b2e796e6224c74ec532ec32abf7">name</a>);
<a name="l06597"></a>06597                 <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l06598"></a>06598             }
<a name="l06599"></a>06599             <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#032ae98a5be795f845bb5cc7d63750e4">cgi_delete_node</a>(dataset-&gt;<a class="code" href="structcgns__dataset.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, dataset-&gt;<a class="code" href="structcgns__dataset.html#9e5bbe656ff3e9bd4e5c6d0c29ade2a9">neumann</a>-&gt;<a class="code" href="structcgns__bcdata.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>))
<a name="l06600"></a>06600                 <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l06601"></a>06601             <a class="code" href="cgns__header_8h.html#1328c1e1642cffec0bd80c89167b3dd7">cgi_free_bcdata</a>(dataset-&gt;<a class="code" href="structcgns__dataset.html#9e5bbe656ff3e9bd4e5c6d0c29ade2a9">neumann</a>);
<a name="l06602"></a>06602         } <span class="keywordflow">else</span>
<a name="l06603"></a>06603             dataset-&gt;<a class="code" href="structcgns__dataset.html#9e5bbe656ff3e9bd4e5c6d0c29ade2a9">neumann</a> = <a class="code" href="cgns__header_8h.html#948c36b3700de0f3332aa3620eafb0f4">CGNS_NEW</a>(<a class="code" href="structcgns__bcdata.html">cgns_bcdata</a>,1);
<a name="l06604"></a>06604         strcpy(dataset-&gt;<a class="code" href="structcgns__dataset.html#9e5bbe656ff3e9bd4e5c6d0c29ade2a9">neumann</a>-&gt;<a class="code" href="structcgns__bcdata.html#b5192b2e796e6224c74ec532ec32abf7">name</a>, <span class="stringliteral">"NeumannData"</span>);
<a name="l06605"></a>06605         bcdata = dataset-&gt;<a class="code" href="structcgns__dataset.html#9e5bbe656ff3e9bd4e5c6d0c29ade2a9">neumann</a>;
<a name="l06606"></a>06606     }
<a name="l06607"></a>06607 
<a name="l06608"></a>06608      <span class="comment">/* initialize other fields */</span>
<a name="l06609"></a>06609     bcdata-&gt;<a class="code" href="structcgns__bcdata.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a> = 0;
<a name="l06610"></a>06610     bcdata-&gt;<a class="code" href="structcgns__bcdata.html#f6f27f42b9ecc89cf0ed39415bca67d1">link</a>=0;
<a name="l06611"></a>06611     bcdata-&gt;<a class="code" href="structcgns__bcdata.html#cdee83a08ec17a8018bf719ef82a3602">ndescr</a>=0;
<a name="l06612"></a>06612     bcdata-&gt;<a class="code" href="structcgns__bcdata.html#6aa9eb3c5ad6bdecf6cd8c2b3d97839c">data_class</a>=<a class="code" href="cgns_keywords_8h.html#6e3a45166e6780b756fef5c427279ca079d3001e5ba3290ed80f0762d51bb379">DataClassNull</a>;
<a name="l06613"></a>06613     bcdata-&gt;<a class="code" href="structcgns__bcdata.html#9b4c6b823f0741729aa08b21a4120308">units</a>=0;
<a name="l06614"></a>06614     bcdata-&gt;<a class="code" href="structcgns__bcdata.html#ace0c04d503f8dda2284ae61a8344b8b">narrays</a>=0;
<a name="l06615"></a>06615     bcdata-&gt;<a class="code" href="structcgns__bcdata.html#dc1e157d997b3174f9d41c5b645631f9">nuser_data</a>=0;
<a name="l06616"></a>06616 
<a name="l06617"></a>06617     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#184dd1d99e9f4e7b826f84887ba07748">cgi_new_node</a>(dataset-&gt;<a class="code" href="structcgns__dataset.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, bcdata-&gt;<a class="code" href="structcgns__bcdata.html#b5192b2e796e6224c74ec532ec32abf7">name</a>, <span class="stringliteral">"BCData_t"</span>, &amp;bcdata-&gt;<a class="code" href="structcgns__bcdata.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>,
<a name="l06618"></a>06618         <span class="stringliteral">"MT"</span>, 0, 0, 0)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l06619"></a>06619     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l06620"></a>06620 }
<a name="l06621"></a>06621 
<a name="l06622"></a><a class="code" href="cgnslib_8h.html#2089bc6f5e3274001bdb57244db8ba5b">06622</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#f2c0010e9bbc6557c1086e40b3b2bf09">cg_bc_wallfunction_write</a>(<span class="keywordtype">int</span> file_number, <span class="keywordtype">int</span> B, <span class="keywordtype">int</span> Z, <span class="keywordtype">int</span> BC,
<a name="l06623"></a>06623     <a class="code" href="cgns_keywords_8h.html#2b4b0d12e36cae57838f1b5da29bce31">WallFunctionType_t</a> WallFunctionType) {
<a name="l06624"></a>06624 
<a name="l06625"></a>06625     <a class="code" href="structcgns__bprop.html">cgns_bprop</a> *bprop;
<a name="l06626"></a>06626     <a class="code" href="structcgns__bcwall.html">cgns_bcwall</a> *bcwall;
<a name="l06627"></a>06627     <a class="code" href="structcgns__boco.html">cgns_boco</a> *boco;
<a name="l06628"></a>06628     <span class="keywordtype">int</span> length;
<a name="l06629"></a>06629     <span class="keywordtype">double</span> dummy_id;
<a name="l06630"></a>06630 
<a name="l06631"></a>06631      <span class="comment">/* verify input */</span>
<a name="l06632"></a>06632     <span class="keywordflow">if</span> (WallFunctionType&lt;0 || WallFunctionType&gt;=<a class="code" href="cgns_keywords_8h.html#c6f8a568eb332eeb0694508187618b77">NofValidWallFunctionTypes</a>) {
<a name="l06633"></a>06633         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Invalid WallFunctionType:  %d"</span>,WallFunctionType);
<a name="l06634"></a>06634         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l06635"></a>06635     }
<a name="l06636"></a>06636 
<a name="l06637"></a>06637      <span class="comment">/* get memory address of file */</span>
<a name="l06638"></a>06638     cg = <a class="code" href="cgns__header_8h.html#64a13852e04666fc73b74a8ff7727f4f">cgi_get_file</a>(file_number);
<a name="l06639"></a>06639     <span class="keywordflow">if</span> (cg == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l06640"></a>06640 
<a name="l06641"></a>06641     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l06642"></a>06642 
<a name="l06643"></a>06643      <span class="comment">/* get memory address of BC_t node */</span>
<a name="l06644"></a>06644     boco = <a class="code" href="cgns__header_8h.html#7686b8c1f9d6eab108c07efd2288a299">cgi_get_boco</a>(cg, B, Z, BC);
<a name="l06645"></a>06645     <span class="keywordflow">if</span> (boco==0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l06646"></a>06646 
<a name="l06647"></a>06647      <span class="comment">/* Allocate BCProperty_t data struct. if not already created */</span>
<a name="l06648"></a>06648     <span class="keywordflow">if</span> (boco-&gt;<a class="code" href="structcgns__boco.html#2caa25832810f091f3a8e999e9f3d54c">bprop</a> == 0) {
<a name="l06649"></a>06649         boco-&gt;<a class="code" href="structcgns__boco.html#2caa25832810f091f3a8e999e9f3d54c">bprop</a> = <a class="code" href="cgns__header_8h.html#948c36b3700de0f3332aa3620eafb0f4">CGNS_NEW</a>(<a class="code" href="structcgns__bprop.html">cgns_bprop</a>, 1);
<a name="l06650"></a>06650         bprop = boco-&gt;<a class="code" href="structcgns__boco.html#2caa25832810f091f3a8e999e9f3d54c">bprop</a>;
<a name="l06651"></a>06651         strcpy(bprop-&gt;<a class="code" href="structcgns__bprop.html#b5192b2e796e6224c74ec532ec32abf7">name</a>,<span class="stringliteral">"BCProperty"</span>);
<a name="l06652"></a>06652         bprop-&gt;<a class="code" href="structcgns__bprop.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>=0;
<a name="l06653"></a>06653         bprop-&gt;<a class="code" href="structcgns__bprop.html#f6f27f42b9ecc89cf0ed39415bca67d1">link</a>=0;
<a name="l06654"></a>06654         bprop-&gt;<a class="code" href="structcgns__bprop.html#cdee83a08ec17a8018bf719ef82a3602">ndescr</a>=0;
<a name="l06655"></a>06655         bprop-&gt;<a class="code" href="structcgns__bprop.html#dc1e157d997b3174f9d41c5b645631f9">nuser_data</a>=0;
<a name="l06656"></a>06656         bprop-&gt;<a class="code" href="structcgns__bprop.html#59fb70e66df69b0d03abbae651cd9106">bcarea</a>=0;
<a name="l06657"></a>06657         bprop-&gt;<a class="code" href="structcgns__bprop.html#48539e283bf0e0472f540626012a2e5d">bcwall</a>=0;
<a name="l06658"></a>06658     } <span class="keywordflow">else</span> bprop = boco-&gt;<a class="code" href="structcgns__boco.html#2caa25832810f091f3a8e999e9f3d54c">bprop</a>;
<a name="l06659"></a>06659 
<a name="l06660"></a>06660      <span class="comment">/* Overwrite a WallFunction_t Node: */</span>
<a name="l06661"></a>06661     <span class="keywordflow">if</span> (bprop-&gt;<a class="code" href="structcgns__bprop.html#48539e283bf0e0472f540626012a2e5d">bcwall</a>) {
<a name="l06662"></a>06662      <span class="comment">/* in CG_MODE_WRITE, children names must be unique */</span>
<a name="l06663"></a>06663         <span class="keywordflow">if</span> (cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>==<a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>) {
<a name="l06664"></a>06664             <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"WallFunction_t already defined under BCProperty_t."</span>);
<a name="l06665"></a>06665             <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l06666"></a>06666         }
<a name="l06667"></a>06667 
<a name="l06668"></a>06668      <span class="comment">/* overwrite an existing WallFunction_t Node */</span>
<a name="l06669"></a>06669          <span class="comment">/* delete the existing WallFunction_t Node from file */</span>
<a name="l06670"></a>06670         <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#032ae98a5be795f845bb5cc7d63750e4">cgi_delete_node</a>(bprop-&gt;<a class="code" href="structcgns__bprop.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, bprop-&gt;<a class="code" href="structcgns__bprop.html#48539e283bf0e0472f540626012a2e5d">bcwall</a>-&gt;<a class="code" href="structcgns__bcwall.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>))
<a name="l06671"></a>06671             <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l06672"></a>06672         <a class="code" href="cgns__header_8h.html#71327596e0c5df1d96024a69a115afbb">cgi_free_bcwall</a>(bprop-&gt;<a class="code" href="structcgns__bprop.html#48539e283bf0e0472f540626012a2e5d">bcwall</a>);
<a name="l06673"></a>06673     } <span class="keywordflow">else</span>
<a name="l06674"></a>06674         bprop-&gt;<a class="code" href="structcgns__bprop.html#48539e283bf0e0472f540626012a2e5d">bcwall</a> = <a class="code" href="cgns__header_8h.html#948c36b3700de0f3332aa3620eafb0f4">CGNS_NEW</a>(<a class="code" href="structcgns__bcwall.html">cgns_bcwall</a>, 1);
<a name="l06675"></a>06675     bcwall = bprop-&gt;<a class="code" href="structcgns__bprop.html#48539e283bf0e0472f540626012a2e5d">bcwall</a>;
<a name="l06676"></a>06676 
<a name="l06677"></a>06677      <span class="comment">/* write bcwall info to internal memory */</span>
<a name="l06678"></a>06678     bcwall-&gt;<a class="code" href="structcgns__bcwall.html#bd2e3b06052d10dbd3f793c22fea81fc">type</a> = WallFunctionType;
<a name="l06679"></a>06679 
<a name="l06680"></a>06680      <span class="comment">/* initialize other fields */</span>
<a name="l06681"></a>06681     strcpy(bcwall-&gt;<a class="code" href="structcgns__bcwall.html#b5192b2e796e6224c74ec532ec32abf7">name</a>,<span class="stringliteral">"WallFunction"</span>);
<a name="l06682"></a>06682     bcwall-&gt;<a class="code" href="structcgns__bcwall.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a> = 0;
<a name="l06683"></a>06683     bcwall-&gt;<a class="code" href="structcgns__bcwall.html#f6f27f42b9ecc89cf0ed39415bca67d1">link</a> = 0;
<a name="l06684"></a>06684     bcwall-&gt;<a class="code" href="structcgns__bcwall.html#cdee83a08ec17a8018bf719ef82a3602">ndescr</a> = 0;
<a name="l06685"></a>06685     bcwall-&gt;<a class="code" href="structcgns__bcwall.html#dc1e157d997b3174f9d41c5b645631f9">nuser_data</a> = 0;
<a name="l06686"></a>06686 
<a name="l06687"></a>06687     <span class="comment">/* Create BCProperty_t node if it doesn't yet exist */</span>
<a name="l06688"></a>06688     <span class="keywordflow">if</span> (bprop-&gt;<a class="code" href="structcgns__bprop.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>==0) {
<a name="l06689"></a>06689         <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#184dd1d99e9f4e7b826f84887ba07748">cgi_new_node</a>(boco-&gt;<a class="code" href="structcgns__boco.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, <span class="stringliteral">"BCProperty"</span>, <span class="stringliteral">"BCProperty_t"</span>,
<a name="l06690"></a>06690              &amp;bprop-&gt;<a class="code" href="structcgns__bprop.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, <span class="stringliteral">"MT"</span>, 0, 0, 0)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l06691"></a>06691     }
<a name="l06692"></a>06692 
<a name="l06693"></a>06693     <span class="comment">/* Create the WallFunction_t Node */</span>
<a name="l06694"></a>06694     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#184dd1d99e9f4e7b826f84887ba07748">cgi_new_node</a>(bprop-&gt;<a class="code" href="structcgns__bprop.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, <span class="stringliteral">"WallFunction"</span>, <span class="stringliteral">"WallFunction_t"</span>,
<a name="l06695"></a>06695         &amp;bcwall-&gt;<a class="code" href="structcgns__bcwall.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, <span class="stringliteral">"MT"</span>, 0, 0, 0)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l06696"></a>06696 
<a name="l06697"></a>06697     <span class="comment">/* WallFunction_t/WallFunctionType_t */</span>
<a name="l06698"></a>06698     length = strlen(<a class="code" href="cgnslib_8c.html#34a4a54a2ae236eabb4f61b38ad56179">WallFunctionTypeName</a>[bcwall-&gt;<a class="code" href="structcgns__bcwall.html#bd2e3b06052d10dbd3f793c22fea81fc">type</a>]);
<a name="l06699"></a>06699     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#184dd1d99e9f4e7b826f84887ba07748">cgi_new_node</a>(bcwall-&gt;<a class="code" href="structcgns__bcwall.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, <span class="stringliteral">"WallFunctionType"</span>, <span class="stringliteral">"WallFunctionType_t"</span>, &amp;dummy_id,
<a name="l06700"></a>06700         <span class="stringliteral">"C1"</span>, 1, &amp;length, (<span class="keywordtype">void</span> *)<a class="code" href="cgnslib_8c.html#34a4a54a2ae236eabb4f61b38ad56179">WallFunctionTypeName</a>[bcwall-&gt;<a class="code" href="structcgns__bcwall.html#bd2e3b06052d10dbd3f793c22fea81fc">type</a>])) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l06701"></a>06701 
<a name="l06702"></a>06702     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l06703"></a>06703 }
<a name="l06704"></a>06704 
<a name="l06705"></a>06705 
<a name="l06706"></a><a class="code" href="cgnslib_8h.html#5c9f99519a0ca2030525003f231cf3ca">06706</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#306778ca01ef0b130b96471c6d6abf79">cg_bc_area_write</a>(<span class="keywordtype">int</span> file_number, <span class="keywordtype">int</span> B, <span class="keywordtype">int</span> Z, <span class="keywordtype">int</span> BC,
<a name="l06707"></a>06707     <a class="code" href="cgns_keywords_8h.html#1880bd253228588cf62ef75ab37c07e2">AreaType_t</a> AreaType, <span class="keywordtype">float</span> SurfaceArea, <span class="keywordtype">char</span> <span class="keyword">const</span> *RegionName) {
<a name="l06708"></a>06708     <a class="code" href="structcgns__boco.html">cgns_boco</a> *boco;
<a name="l06709"></a>06709     <a class="code" href="structcgns__bprop.html">cgns_bprop</a> *bprop;
<a name="l06710"></a>06710     <a class="code" href="structcgns__bcarea.html">cgns_bcarea</a> *bcarea;
<a name="l06711"></a>06711     <span class="keywordtype">int</span> n, len;
<a name="l06712"></a>06712     <span class="keywordtype">char</span> *RegionName32;
<a name="l06713"></a>06713     <span class="keywordtype">double</span> dummy_id;
<a name="l06714"></a>06714 
<a name="l06715"></a>06715      <span class="comment">/* verify input */</span>
<a name="l06716"></a>06716     <span class="keywordflow">if</span> (AreaType&lt;0 || AreaType&gt;=<a class="code" href="cgns_keywords_8h.html#cb72dddb306fa2b4e2b89701b66d2744">NofValidAreaTypes</a>) {
<a name="l06717"></a>06717         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Invalid AreaType:  %d"</span>,AreaType);
<a name="l06718"></a>06718         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l06719"></a>06719     }
<a name="l06720"></a>06720 
<a name="l06721"></a>06721      <span class="comment">/* get memory address of file */</span>
<a name="l06722"></a>06722     cg = <a class="code" href="cgns__header_8h.html#64a13852e04666fc73b74a8ff7727f4f">cgi_get_file</a>(file_number);
<a name="l06723"></a>06723     <span class="keywordflow">if</span> (cg == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l06724"></a>06724 
<a name="l06725"></a>06725     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l06726"></a>06726 
<a name="l06727"></a>06727      <span class="comment">/* get memory address of BC_t node */</span>
<a name="l06728"></a>06728     boco = <a class="code" href="cgns__header_8h.html#7686b8c1f9d6eab108c07efd2288a299">cgi_get_boco</a>(cg, B, Z, BC);
<a name="l06729"></a>06729     <span class="keywordflow">if</span> (boco==0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l06730"></a>06730 
<a name="l06731"></a>06731      <span class="comment">/* Allocate BCProperty_t data struct. if not already created */</span>
<a name="l06732"></a>06732     <span class="keywordflow">if</span> (boco-&gt;<a class="code" href="structcgns__boco.html#2caa25832810f091f3a8e999e9f3d54c">bprop</a> == 0) {
<a name="l06733"></a>06733         boco-&gt;<a class="code" href="structcgns__boco.html#2caa25832810f091f3a8e999e9f3d54c">bprop</a> = <a class="code" href="cgns__header_8h.html#948c36b3700de0f3332aa3620eafb0f4">CGNS_NEW</a>(<a class="code" href="structcgns__bprop.html">cgns_bprop</a>, 1);
<a name="l06734"></a>06734         bprop = boco-&gt;<a class="code" href="structcgns__boco.html#2caa25832810f091f3a8e999e9f3d54c">bprop</a>;
<a name="l06735"></a>06735         strcpy(bprop-&gt;<a class="code" href="structcgns__bprop.html#b5192b2e796e6224c74ec532ec32abf7">name</a>,<span class="stringliteral">"BCProperty"</span>);
<a name="l06736"></a>06736         bprop-&gt;<a class="code" href="structcgns__bprop.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>=0;
<a name="l06737"></a>06737         bprop-&gt;<a class="code" href="structcgns__bprop.html#f6f27f42b9ecc89cf0ed39415bca67d1">link</a>=0;
<a name="l06738"></a>06738         bprop-&gt;<a class="code" href="structcgns__bprop.html#cdee83a08ec17a8018bf719ef82a3602">ndescr</a>=0;
<a name="l06739"></a>06739         bprop-&gt;<a class="code" href="structcgns__bprop.html#dc1e157d997b3174f9d41c5b645631f9">nuser_data</a>=0;
<a name="l06740"></a>06740         bprop-&gt;<a class="code" href="structcgns__bprop.html#59fb70e66df69b0d03abbae651cd9106">bcarea</a>=0;
<a name="l06741"></a>06741         bprop-&gt;<a class="code" href="structcgns__bprop.html#48539e283bf0e0472f540626012a2e5d">bcwall</a>=0;
<a name="l06742"></a>06742     } <span class="keywordflow">else</span> bprop = boco-&gt;<a class="code" href="structcgns__boco.html#2caa25832810f091f3a8e999e9f3d54c">bprop</a>;
<a name="l06743"></a>06743 
<a name="l06744"></a>06744      <span class="comment">/* Overwrite a Area_t Node: */</span>
<a name="l06745"></a>06745     <span class="keywordflow">if</span> (bprop-&gt;<a class="code" href="structcgns__bprop.html#59fb70e66df69b0d03abbae651cd9106">bcarea</a>) {
<a name="l06746"></a>06746      <span class="comment">/* in CG_MODE_WRITE, children names must be unique */</span>
<a name="l06747"></a>06747         <span class="keywordflow">if</span> (cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>==<a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>) {
<a name="l06748"></a>06748             <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Area_t already defined under BCProperty_t."</span>);
<a name="l06749"></a>06749             <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l06750"></a>06750         }
<a name="l06751"></a>06751 
<a name="l06752"></a>06752      <span class="comment">/* overwrite an existing Area_t Node */</span>
<a name="l06753"></a>06753          <span class="comment">/* delete the existing Area_t Node from file */</span>
<a name="l06754"></a>06754         <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#032ae98a5be795f845bb5cc7d63750e4">cgi_delete_node</a>(bprop-&gt;<a class="code" href="structcgns__bprop.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, bprop-&gt;<a class="code" href="structcgns__bprop.html#59fb70e66df69b0d03abbae651cd9106">bcarea</a>-&gt;<a class="code" href="structcgns__bcarea.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>))
<a name="l06755"></a>06755             <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l06756"></a>06756         <a class="code" href="cgns__header_8h.html#cdbdbbef7d6349c590f4d25b150e42f8">cgi_free_bcarea</a>(bprop-&gt;<a class="code" href="structcgns__bprop.html#59fb70e66df69b0d03abbae651cd9106">bcarea</a>);
<a name="l06757"></a>06757     } <span class="keywordflow">else</span>
<a name="l06758"></a>06758         bprop-&gt;<a class="code" href="structcgns__bprop.html#59fb70e66df69b0d03abbae651cd9106">bcarea</a> = <a class="code" href="cgns__header_8h.html#948c36b3700de0f3332aa3620eafb0f4">CGNS_NEW</a>(<a class="code" href="structcgns__bcarea.html">cgns_bcarea</a>, 1);
<a name="l06759"></a>06759     bcarea = bprop-&gt;<a class="code" href="structcgns__bprop.html#59fb70e66df69b0d03abbae651cd9106">bcarea</a>;
<a name="l06760"></a>06760 
<a name="l06761"></a>06761      <span class="comment">/* write bcarea info to internal memory */</span>
<a name="l06762"></a>06762     bcarea-&gt;<a class="code" href="structcgns__bcarea.html#8c0cebd5f8a0457ed51c9d096c4b68d5">type</a> = AreaType;
<a name="l06763"></a>06763      <span class="comment">/* initialize other fields */</span>
<a name="l06764"></a>06764     strcpy(bcarea-&gt;<a class="code" href="structcgns__bcarea.html#b5192b2e796e6224c74ec532ec32abf7">name</a>,<span class="stringliteral">"Area"</span>);
<a name="l06765"></a>06765     bcarea-&gt;<a class="code" href="structcgns__bcarea.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a> = 0;
<a name="l06766"></a>06766     bcarea-&gt;<a class="code" href="structcgns__bcarea.html#f6f27f42b9ecc89cf0ed39415bca67d1">link</a> = 0;
<a name="l06767"></a>06767     bcarea-&gt;<a class="code" href="structcgns__bcarea.html#cdee83a08ec17a8018bf719ef82a3602">ndescr</a> = 0;
<a name="l06768"></a>06768     bcarea-&gt;<a class="code" href="structcgns__bcarea.html#dc1e157d997b3174f9d41c5b645631f9">nuser_data</a> = 0;
<a name="l06769"></a>06769     bcarea-&gt;<a class="code" href="structcgns__bcarea.html#ace0c04d503f8dda2284ae61a8344b8b">narrays</a> = 2;
<a name="l06770"></a>06770 
<a name="l06771"></a>06771      <span class="comment">/* Create DataArray_t SurfaceArea &amp; RegionName under Area_t */</span>
<a name="l06772"></a>06772     bcarea-&gt;<a class="code" href="structcgns__bcarea.html#1973739e7639e00a0d5aafe8c355c2aa">array</a> = <a class="code" href="cgns__header_8h.html#948c36b3700de0f3332aa3620eafb0f4">CGNS_NEW</a>(<a class="code" href="structcgns__array.html">cgns_array</a>, 2);
<a name="l06773"></a>06773 
<a name="l06774"></a>06774     strcpy(bcarea-&gt;<a class="code" href="structcgns__bcarea.html#1973739e7639e00a0d5aafe8c355c2aa">array</a>[0].<a class="code" href="structcgns__array.html#86e4d546d1321bcac60584c413eb0f6d">data_type</a>, <span class="stringliteral">"R4"</span>);
<a name="l06775"></a>06775     bcarea-&gt;<a class="code" href="structcgns__bcarea.html#1973739e7639e00a0d5aafe8c355c2aa">array</a>[0].<a class="code" href="structcgns__array.html#735984d41155bc1032e09bece8f8d66d">data</a> = (<span class="keywordtype">void</span> *)<a class="code" href="cg__malloc_8h.html#535b58ab5aa48e2e86073e334d43fd32">malloc</a>(<span class="keyword">sizeof</span>(<span class="keywordtype">float</span>));
<a name="l06776"></a>06776     <span class="keywordflow">if</span> (!bcarea-&gt;<a class="code" href="structcgns__bcarea.html#1973739e7639e00a0d5aafe8c355c2aa">array</a>[0].<a class="code" href="structcgns__array.html#735984d41155bc1032e09bece8f8d66d">data</a>) {
<a name="l06777"></a>06777         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Error allocating bcarea-&gt;array[0].data"</span>);
<a name="l06778"></a>06778         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l06779"></a>06779     }
<a name="l06780"></a>06780     memcpy(bcarea-&gt;<a class="code" href="structcgns__bcarea.html#1973739e7639e00a0d5aafe8c355c2aa">array</a>[0].<a class="code" href="structcgns__array.html#735984d41155bc1032e09bece8f8d66d">data</a>, &amp;SurfaceArea, <span class="keyword">sizeof</span>(<span class="keywordtype">float</span>));
<a name="l06781"></a>06781     <span class="comment">/* *((float *)bcarea-&gt;array[0].data) = SurfaceArea; */</span>
<a name="l06782"></a>06782     strcpy(bcarea-&gt;<a class="code" href="structcgns__bcarea.html#1973739e7639e00a0d5aafe8c355c2aa">array</a>[0].<a class="code" href="structcgns__array.html#b5192b2e796e6224c74ec532ec32abf7">name</a>, <span class="stringliteral">"SurfaceArea"</span>);
<a name="l06783"></a>06783     bcarea-&gt;<a class="code" href="structcgns__bcarea.html#1973739e7639e00a0d5aafe8c355c2aa">array</a>[0].<a class="code" href="structcgns__array.html#c7e27870b79e982377b6669e633a32ad">data_dim</a>=1;
<a name="l06784"></a>06784     bcarea-&gt;<a class="code" href="structcgns__bcarea.html#1973739e7639e00a0d5aafe8c355c2aa">array</a>[0].<a class="code" href="structcgns__array.html#5ca9ee30477c56421c793e2341f75931">dim_vals</a>[0]=1;
<a name="l06785"></a>06785 
<a name="l06786"></a>06786     strcpy(bcarea-&gt;<a class="code" href="structcgns__bcarea.html#1973739e7639e00a0d5aafe8c355c2aa">array</a>[1].<a class="code" href="structcgns__array.html#86e4d546d1321bcac60584c413eb0f6d">data_type</a>, <span class="stringliteral">"C1"</span>);
<a name="l06787"></a>06787     bcarea-&gt;<a class="code" href="structcgns__bcarea.html#1973739e7639e00a0d5aafe8c355c2aa">array</a>[1].<a class="code" href="structcgns__array.html#735984d41155bc1032e09bece8f8d66d">data</a> = (<span class="keywordtype">void</span> *)<a class="code" href="cg__malloc_8h.html#535b58ab5aa48e2e86073e334d43fd32">malloc</a>(32*<span class="keyword">sizeof</span>(<span class="keywordtype">char</span>));
<a name="l06788"></a>06788     <span class="keywordflow">if</span> (!bcarea-&gt;<a class="code" href="structcgns__bcarea.html#1973739e7639e00a0d5aafe8c355c2aa">array</a>[1].<a class="code" href="structcgns__array.html#735984d41155bc1032e09bece8f8d66d">data</a>) {
<a name="l06789"></a>06789         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Error allocating bcarea-&gt;array[1].data"</span>);
<a name="l06790"></a>06790         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l06791"></a>06791     }
<a name="l06792"></a>06792 
<a name="l06793"></a>06793      <span class="comment">/* check length of RegionName and fill in with blanks */</span>
<a name="l06794"></a>06794     RegionName32 = (<span class="keywordtype">char</span> *)bcarea-&gt;<a class="code" href="structcgns__bcarea.html#1973739e7639e00a0d5aafe8c355c2aa">array</a>[1].<a class="code" href="structcgns__array.html#735984d41155bc1032e09bece8f8d66d">data</a>;
<a name="l06795"></a>06795     len = strlen(RegionName);
<a name="l06796"></a>06796     <span class="keywordflow">for</span> (n=0; n&lt;len; n++) RegionName32[n]=RegionName[n];
<a name="l06797"></a>06797     <span class="keywordflow">for</span> (n=len; n&lt;32; n++) RegionName32[n]=<span class="charliteral">' '</span>;
<a name="l06798"></a>06798 
<a name="l06799"></a>06799     strcpy(bcarea-&gt;<a class="code" href="structcgns__bcarea.html#1973739e7639e00a0d5aafe8c355c2aa">array</a>[1].<a class="code" href="structcgns__array.html#b5192b2e796e6224c74ec532ec32abf7">name</a>, <span class="stringliteral">"RegionName"</span>);
<a name="l06800"></a>06800     bcarea-&gt;<a class="code" href="structcgns__bcarea.html#1973739e7639e00a0d5aafe8c355c2aa">array</a>[1].<a class="code" href="structcgns__array.html#c7e27870b79e982377b6669e633a32ad">data_dim</a>=1;
<a name="l06801"></a>06801     bcarea-&gt;<a class="code" href="structcgns__bcarea.html#1973739e7639e00a0d5aafe8c355c2aa">array</a>[1].<a class="code" href="structcgns__array.html#5ca9ee30477c56421c793e2341f75931">dim_vals</a>[0]=32;
<a name="l06802"></a>06802 
<a name="l06803"></a>06803      <span class="comment">/* initialize other fields of bcarea-&gt;array[n] */</span>
<a name="l06804"></a>06804     <span class="keywordflow">for</span> (n=0; n&lt;bcarea-&gt;<a class="code" href="structcgns__bcarea.html#ace0c04d503f8dda2284ae61a8344b8b">narrays</a>; n++) {
<a name="l06805"></a>06805         bcarea-&gt;<a class="code" href="structcgns__bcarea.html#1973739e7639e00a0d5aafe8c355c2aa">array</a>[n].<a class="code" href="structcgns__array.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>=0;
<a name="l06806"></a>06806         bcarea-&gt;<a class="code" href="structcgns__bcarea.html#1973739e7639e00a0d5aafe8c355c2aa">array</a>[n].<a class="code" href="structcgns__array.html#f6f27f42b9ecc89cf0ed39415bca67d1">link</a>=0;
<a name="l06807"></a>06807         bcarea-&gt;<a class="code" href="structcgns__bcarea.html#1973739e7639e00a0d5aafe8c355c2aa">array</a>[n].<a class="code" href="structcgns__array.html#cdee83a08ec17a8018bf719ef82a3602">ndescr</a>=0;
<a name="l06808"></a>06808         bcarea-&gt;<a class="code" href="structcgns__bcarea.html#1973739e7639e00a0d5aafe8c355c2aa">array</a>[n].<a class="code" href="structcgns__array.html#6aa9eb3c5ad6bdecf6cd8c2b3d97839c">data_class</a>=<a class="code" href="cgns_keywords_8h.html#6e3a45166e6780b756fef5c427279ca079d3001e5ba3290ed80f0762d51bb379">DataClassNull</a>;
<a name="l06809"></a>06809         bcarea-&gt;<a class="code" href="structcgns__bcarea.html#1973739e7639e00a0d5aafe8c355c2aa">array</a>[n].<a class="code" href="structcgns__array.html#9b4c6b823f0741729aa08b21a4120308">units</a>=0;
<a name="l06810"></a>06810         bcarea-&gt;<a class="code" href="structcgns__bcarea.html#1973739e7639e00a0d5aafe8c355c2aa">array</a>[n].<a class="code" href="structcgns__array.html#87b103c38a459cc8a1c6cf06f01aa12a">exponents</a>=0;
<a name="l06811"></a>06811         bcarea-&gt;<a class="code" href="structcgns__bcarea.html#1973739e7639e00a0d5aafe8c355c2aa">array</a>[n].<a class="code" href="structcgns__array.html#0724545c909f7773439fee292fe3ef5f">convert</a>=0;
<a name="l06812"></a>06812     }
<a name="l06813"></a>06813 
<a name="l06814"></a>06814     <span class="comment">/* Create BCProperty_t node if it doesn't yet exist */</span>
<a name="l06815"></a>06815     <span class="keywordflow">if</span> (bprop-&gt;<a class="code" href="structcgns__bprop.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>==0) {
<a name="l06816"></a>06816         <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#184dd1d99e9f4e7b826f84887ba07748">cgi_new_node</a>(boco-&gt;<a class="code" href="structcgns__boco.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, <span class="stringliteral">"BCProperty"</span>, <span class="stringliteral">"BCProperty_t"</span>,
<a name="l06817"></a>06817              &amp;bprop-&gt;<a class="code" href="structcgns__bprop.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, <span class="stringliteral">"MT"</span>, 0, 0, 0)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l06818"></a>06818     }
<a name="l06819"></a>06819     <span class="comment">/* Create the Area_t Node */</span>
<a name="l06820"></a>06820     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#184dd1d99e9f4e7b826f84887ba07748">cgi_new_node</a>(bprop-&gt;<a class="code" href="structcgns__bprop.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, <span class="stringliteral">"Area"</span>, <span class="stringliteral">"Area_t"</span>,
<a name="l06821"></a>06821         &amp;bcarea-&gt;<a class="code" href="structcgns__bcarea.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, <span class="stringliteral">"MT"</span>, 0, 0, 0)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l06822"></a>06822 
<a name="l06823"></a>06823     <span class="comment">/* Area_t/AreaType_t */</span>
<a name="l06824"></a>06824     len = strlen(<a class="code" href="cgnslib_8c.html#5d4c2822b0dcdc8d4f09cc2618bed457">AreaTypeName</a>[bcarea-&gt;<a class="code" href="structcgns__bcarea.html#8c0cebd5f8a0457ed51c9d096c4b68d5">type</a>]);
<a name="l06825"></a>06825     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#184dd1d99e9f4e7b826f84887ba07748">cgi_new_node</a>(bcarea-&gt;<a class="code" href="structcgns__bcarea.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, <span class="stringliteral">"AreaType"</span>, <span class="stringliteral">"AreaType_t"</span>, &amp;dummy_id,
<a name="l06826"></a>06826         <span class="stringliteral">"C1"</span>, 1, &amp;len, (<span class="keywordtype">void</span> *)<a class="code" href="cgnslib_8c.html#5d4c2822b0dcdc8d4f09cc2618bed457">AreaTypeName</a>[bcarea-&gt;<a class="code" href="structcgns__bcarea.html#8c0cebd5f8a0457ed51c9d096c4b68d5">type</a>])) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l06827"></a>06827 
<a name="l06828"></a>06828     <span class="comment">/* Area_t/DataArray_t: SurfaceArea &amp; RegionName */</span>
<a name="l06829"></a>06829     <span class="keywordflow">for</span> (n=0; n&lt;bcarea-&gt;<a class="code" href="structcgns__bcarea.html#ace0c04d503f8dda2284ae61a8344b8b">narrays</a>; n++)
<a name="l06830"></a>06830         <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#2c75d7a1fe94da29b442e30b06c05035">cgi_write_array</a>(bcarea-&gt;<a class="code" href="structcgns__bcarea.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, &amp;bcarea-&gt;<a class="code" href="structcgns__bcarea.html#1973739e7639e00a0d5aafe8c355c2aa">array</a>[n])) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l06831"></a>06831 
<a name="l06832"></a>06832     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l06833"></a>06833 }
<a name="l06834"></a>06834 
<a name="l06835"></a><a class="code" href="cgnslib_8h.html#60e206ee89a23f2227329bfb5e605335">06835</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#4a6fdf2114810cc5c86bb9168e771a79">cg_rigid_motion_write</a>(<span class="keywordtype">int</span> file_number, <span class="keywordtype">int</span> B, <span class="keywordtype">int</span> Z, <span class="keywordtype">char</span> <span class="keyword">const</span> * rmotionname,
<a name="l06836"></a>06836     <a class="code" href="cgns_keywords_8h.html#a602987845520a58bcd078d161445d92">RigidGridMotionType_t</a> type, <span class="keywordtype">int</span> *R) {
<a name="l06837"></a>06837     <a class="code" href="structcgns__zone.html">cgns_zone</a> *zone;
<a name="l06838"></a>06838     <a class="code" href="structcgns__rmotion.html">cgns_rmotion</a> *rmotion = NULL;
<a name="l06839"></a>06839     <span class="keywordtype">int</span> index, length;
<a name="l06840"></a>06840 
<a name="l06841"></a>06841      <span class="comment">/* verify input */</span>
<a name="l06842"></a>06842     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#b042658423afd0817ab23b3ea7a5e03d">cgi_check_strlen</a>(rmotionname)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l06843"></a>06843 
<a name="l06844"></a>06844     <span class="keywordflow">if</span> (type&lt;0 || type &gt;= <a class="code" href="cgns_keywords_8h.html#d4916a43d4ddf44996cca0ca760a3e9a">NofValidRigidGridMotionTypes</a>) {
<a name="l06845"></a>06845         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Invalid input:  RigidGridMotionType=%d ?"</span>,type);
<a name="l06846"></a>06846         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l06847"></a>06847     }
<a name="l06848"></a>06848 
<a name="l06849"></a>06849      <span class="comment">/* get memory address for RigidGridMotion_t node */</span>
<a name="l06850"></a>06850     cg = <a class="code" href="cgns__header_8h.html#64a13852e04666fc73b74a8ff7727f4f">cgi_get_file</a>(file_number);
<a name="l06851"></a>06851     <span class="keywordflow">if</span> (cg == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l06852"></a>06852 
<a name="l06853"></a>06853     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l06854"></a>06854 
<a name="l06855"></a>06855     zone = <a class="code" href="cgns__header_8h.html#5ce4ef97dee99baf9183b8c23419bfe0">cgi_get_zone</a>(cg, B, Z);
<a name="l06856"></a>06856     <span class="keywordflow">if</span> (zone==0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l06857"></a>06857 
<a name="l06858"></a>06858      <span class="comment">/* Overwrite a RigidGridMotion_t Node: */</span>
<a name="l06859"></a>06859     <span class="keywordflow">for</span> (index=0; index&lt;zone-&gt;<a class="code" href="structcgns__zone.html#d0036d257ee12062924b4a9572b612d1">nrmotions</a>; index++) {
<a name="l06860"></a>06860         <span class="keywordflow">if</span> (strcmp(rmotionname, zone-&gt;<a class="code" href="structcgns__zone.html#e552eeeb3f6c89a83da793edbea42d32">rmotion</a>[index].<a class="code" href="structcgns__rmotion.html#b5192b2e796e6224c74ec532ec32abf7">name</a>)==0) {
<a name="l06861"></a>06861 
<a name="l06862"></a>06862              <span class="comment">/* in CG_MODE_WRITE, children names must be unique */</span>
<a name="l06863"></a>06863             <span class="keywordflow">if</span> (cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>==<a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>) {
<a name="l06864"></a>06864                 <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Duplicate child name found: %s"</span>,rmotionname);
<a name="l06865"></a>06865                 <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l06866"></a>06866             }
<a name="l06867"></a>06867 
<a name="l06868"></a>06868              <span class="comment">/* overwrite an existing rmotion */</span>
<a name="l06869"></a>06869              <span class="comment">/* delete the existing rmotion from file */</span>
<a name="l06870"></a>06870             <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#032ae98a5be795f845bb5cc7d63750e4">cgi_delete_node</a>(zone-&gt;<a class="code" href="structcgns__zone.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, zone-&gt;<a class="code" href="structcgns__zone.html#e552eeeb3f6c89a83da793edbea42d32">rmotion</a>[index].<a class="code" href="structcgns__rmotion.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>))
<a name="l06871"></a>06871                 <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l06872"></a>06872              <span class="comment">/* save the old in-memory address to overwrite */</span>
<a name="l06873"></a>06873             rmotion = &amp;(zone-&gt;<a class="code" href="structcgns__zone.html#e552eeeb3f6c89a83da793edbea42d32">rmotion</a>[index]);
<a name="l06874"></a>06874              <span class="comment">/* free memory */</span>
<a name="l06875"></a>06875             <a class="code" href="cgns__header_8h.html#346036b345d56697bab2de4e9bdfa853">cgi_free_rmotion</a>(rmotion);
<a name="l06876"></a>06876             <span class="keywordflow">break</span>;
<a name="l06877"></a>06877         }
<a name="l06878"></a>06878     }
<a name="l06879"></a>06879      <span class="comment">/* ... or add a new RigidGridMotion_t Node: */</span>
<a name="l06880"></a>06880     <span class="keywordflow">if</span> (index==zone-&gt;<a class="code" href="structcgns__zone.html#d0036d257ee12062924b4a9572b612d1">nrmotions</a>) {
<a name="l06881"></a>06881         <span class="keywordflow">if</span> (zone-&gt;<a class="code" href="structcgns__zone.html#d0036d257ee12062924b4a9572b612d1">nrmotions</a> == 0) {
<a name="l06882"></a>06882             zone-&gt;<a class="code" href="structcgns__zone.html#e552eeeb3f6c89a83da793edbea42d32">rmotion</a> = <a class="code" href="cgns__header_8h.html#948c36b3700de0f3332aa3620eafb0f4">CGNS_NEW</a>(<a class="code" href="structcgns__rmotion.html">cgns_rmotion</a>, 1);
<a name="l06883"></a>06883         } <span class="keywordflow">else</span> {
<a name="l06884"></a>06884             zone-&gt;<a class="code" href="structcgns__zone.html#e552eeeb3f6c89a83da793edbea42d32">rmotion</a> = <a class="code" href="cgns__header_8h.html#e23e608849b6dc488ccdad466e76e2ad">CGNS_RENEW</a>(<a class="code" href="structcgns__rmotion.html">cgns_rmotion</a>, zone-&gt;<a class="code" href="structcgns__zone.html#d0036d257ee12062924b4a9572b612d1">nrmotions</a>+1, zone-&gt;<a class="code" href="structcgns__zone.html#e552eeeb3f6c89a83da793edbea42d32">rmotion</a>);
<a name="l06885"></a>06885         }
<a name="l06886"></a>06886         rmotion = &amp;(zone-&gt;<a class="code" href="structcgns__zone.html#e552eeeb3f6c89a83da793edbea42d32">rmotion</a>[zone-&gt;<a class="code" href="structcgns__zone.html#d0036d257ee12062924b4a9572b612d1">nrmotions</a>]);
<a name="l06887"></a>06887         zone-&gt;<a class="code" href="structcgns__zone.html#d0036d257ee12062924b4a9572b612d1">nrmotions</a>++;
<a name="l06888"></a>06888     }
<a name="l06889"></a>06889     (*R) = index+1;
<a name="l06890"></a>06890 
<a name="l06891"></a>06891      <span class="comment">/* save data for cgns_rmotion *rmotion */</span>
<a name="l06892"></a>06892     strcpy(rmotion-&gt;<a class="code" href="structcgns__rmotion.html#b5192b2e796e6224c74ec532ec32abf7">name</a>,rmotionname);
<a name="l06893"></a>06893     rmotion-&gt;<a class="code" href="structcgns__rmotion.html#b98187d53062a3d355c70fe85a3a6853">type</a> = type;
<a name="l06894"></a>06894 
<a name="l06895"></a>06895      <span class="comment">/* initialize other members of rmotion */</span>
<a name="l06896"></a>06896     rmotion-&gt;<a class="code" href="structcgns__rmotion.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>=0;
<a name="l06897"></a>06897     rmotion-&gt;<a class="code" href="structcgns__rmotion.html#f6f27f42b9ecc89cf0ed39415bca67d1">link</a>=0;
<a name="l06898"></a>06898     rmotion-&gt;<a class="code" href="structcgns__rmotion.html#cdee83a08ec17a8018bf719ef82a3602">ndescr</a>=0;
<a name="l06899"></a>06899     rmotion-&gt;<a class="code" href="structcgns__rmotion.html#6aa9eb3c5ad6bdecf6cd8c2b3d97839c">data_class</a>=<a class="code" href="cgns_keywords_8h.html#6e3a45166e6780b756fef5c427279ca079d3001e5ba3290ed80f0762d51bb379">DataClassNull</a>;
<a name="l06900"></a>06900     rmotion-&gt;<a class="code" href="structcgns__rmotion.html#9b4c6b823f0741729aa08b21a4120308">units</a>=0;
<a name="l06901"></a>06901     rmotion-&gt;<a class="code" href="structcgns__rmotion.html#ace0c04d503f8dda2284ae61a8344b8b">narrays</a>=0;
<a name="l06902"></a>06902     rmotion-&gt;<a class="code" href="structcgns__rmotion.html#dc1e157d997b3174f9d41c5b645631f9">nuser_data</a>=0;
<a name="l06903"></a>06903 
<a name="l06904"></a>06904      <span class="comment">/* Create node RigidGridMotion_t */</span>
<a name="l06905"></a>06905     length = strlen(<a class="code" href="cgnslib_8c.html#8763960d0782caf63aa295c0f6824a39">RigidGridMotionTypeName</a>[rmotion-&gt;<a class="code" href="structcgns__rmotion.html#b98187d53062a3d355c70fe85a3a6853">type</a>]);
<a name="l06906"></a>06906     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#184dd1d99e9f4e7b826f84887ba07748">cgi_new_node</a>(zone-&gt;<a class="code" href="structcgns__zone.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, rmotion-&gt;<a class="code" href="structcgns__rmotion.html#b5192b2e796e6224c74ec532ec32abf7">name</a>, <span class="stringliteral">"RigidGridMotion_t"</span>, &amp;rmotion-&gt;<a class="code" href="structcgns__rmotion.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>,
<a name="l06907"></a>06907         <span class="stringliteral">"C1"</span>, 1, &amp;length, (<span class="keywordtype">void</span> *)<a class="code" href="cgnslib_8c.html#8763960d0782caf63aa295c0f6824a39">RigidGridMotionTypeName</a>[rmotion-&gt;<a class="code" href="structcgns__rmotion.html#b98187d53062a3d355c70fe85a3a6853">type</a>])) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l06908"></a>06908 
<a name="l06909"></a>06909     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l06910"></a>06910 }
<a name="l06911"></a>06911 
<a name="l06912"></a><a class="code" href="cgnslib_8h.html#24e3faf7e703c64f71c359f11dec3f82">06912</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#fed5d667ae002854328d8c3b0d261abf">cg_arbitrary_motion_write</a>(<span class="keywordtype">int</span> file_number, <span class="keywordtype">int</span> B, <span class="keywordtype">int</span> Z, <span class="keywordtype">char</span> <span class="keyword">const</span> * amotionname,
<a name="l06913"></a>06913     <a class="code" href="cgns_keywords_8h.html#7c3ea967ff670b6a0961dcb231d4739c">ArbitraryGridMotionType_t</a> type, <span class="keywordtype">int</span> *A) {
<a name="l06914"></a>06914     <a class="code" href="structcgns__zone.html">cgns_zone</a> *zone;
<a name="l06915"></a>06915     <a class="code" href="structcgns__amotion.html">cgns_amotion</a> *amotion = NULL;
<a name="l06916"></a>06916     <span class="keywordtype">int</span> index, length;
<a name="l06917"></a>06917 
<a name="l06918"></a>06918      <span class="comment">/* verify input */</span>
<a name="l06919"></a>06919     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#b042658423afd0817ab23b3ea7a5e03d">cgi_check_strlen</a>(amotionname)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l06920"></a>06920 
<a name="l06921"></a>06921     <span class="keywordflow">if</span> (type&lt;0 || type &gt;= <a class="code" href="cgns_keywords_8h.html#7e51b70f50e1ec975515103e52e4e525">NofValidArbitraryGridMotionTypes</a>) {
<a name="l06922"></a>06922         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Invalid input:  ArbitraryGridMotionType=%d ?"</span>,type);
<a name="l06923"></a>06923         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l06924"></a>06924     }
<a name="l06925"></a>06925 
<a name="l06926"></a>06926      <span class="comment">/* get memory address for ArbitraryGridMotion_t node */</span>
<a name="l06927"></a>06927     cg = <a class="code" href="cgns__header_8h.html#64a13852e04666fc73b74a8ff7727f4f">cgi_get_file</a>(file_number);
<a name="l06928"></a>06928     <span class="keywordflow">if</span> (cg == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l06929"></a>06929 
<a name="l06930"></a>06930     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l06931"></a>06931 
<a name="l06932"></a>06932     zone = <a class="code" href="cgns__header_8h.html#5ce4ef97dee99baf9183b8c23419bfe0">cgi_get_zone</a>(cg, B, Z);
<a name="l06933"></a>06933     <span class="keywordflow">if</span> (zone==0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l06934"></a>06934 
<a name="l06935"></a>06935      <span class="comment">/* Overwrite a ArbitraryGridMotion_t Node: */</span>
<a name="l06936"></a>06936     <span class="keywordflow">for</span> (index=0; index&lt;zone-&gt;<a class="code" href="structcgns__zone.html#561728a84e0ab332200506a1a6daa57d">namotions</a>; index++) {
<a name="l06937"></a>06937         <span class="keywordflow">if</span> (strcmp(amotionname, zone-&gt;<a class="code" href="structcgns__zone.html#f1e54b55fcc24d4e3f7860e22234d495">amotion</a>[index].<a class="code" href="structcgns__amotion.html#b5192b2e796e6224c74ec532ec32abf7">name</a>)==0) {
<a name="l06938"></a>06938 
<a name="l06939"></a>06939              <span class="comment">/* in CG_MODE_WRITE, children names must be unique */</span>
<a name="l06940"></a>06940             <span class="keywordflow">if</span> (cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>==<a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>) {
<a name="l06941"></a>06941                 <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Duplicate child name found: %s"</span>,amotionname);
<a name="l06942"></a>06942                 <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l06943"></a>06943             }
<a name="l06944"></a>06944 
<a name="l06945"></a>06945              <span class="comment">/* overwrite an existing amotion */</span>
<a name="l06946"></a>06946              <span class="comment">/* delete the existing amotion from file */</span>
<a name="l06947"></a>06947             <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#032ae98a5be795f845bb5cc7d63750e4">cgi_delete_node</a>(zone-&gt;<a class="code" href="structcgns__zone.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, zone-&gt;<a class="code" href="structcgns__zone.html#f1e54b55fcc24d4e3f7860e22234d495">amotion</a>[index].<a class="code" href="structcgns__amotion.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>))
<a name="l06948"></a>06948                 <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l06949"></a>06949              <span class="comment">/* save the old in-memory address to overwrite */</span>
<a name="l06950"></a>06950             amotion = &amp;(zone-&gt;<a class="code" href="structcgns__zone.html#f1e54b55fcc24d4e3f7860e22234d495">amotion</a>[index]);
<a name="l06951"></a>06951              <span class="comment">/* free memory */</span>
<a name="l06952"></a>06952             <a class="code" href="cgns__header_8h.html#feafa6c0190a468d01a7bff341f137e3">cgi_free_amotion</a>(amotion);
<a name="l06953"></a>06953             <span class="keywordflow">break</span>;
<a name="l06954"></a>06954         }
<a name="l06955"></a>06955     }
<a name="l06956"></a>06956      <span class="comment">/* ... or add a new ArbitraryGridMotion_t Node: */</span>
<a name="l06957"></a>06957     <span class="keywordflow">if</span> (index==zone-&gt;<a class="code" href="structcgns__zone.html#561728a84e0ab332200506a1a6daa57d">namotions</a>) {
<a name="l06958"></a>06958         <span class="keywordflow">if</span> (zone-&gt;<a class="code" href="structcgns__zone.html#561728a84e0ab332200506a1a6daa57d">namotions</a> == 0) {
<a name="l06959"></a>06959             zone-&gt;<a class="code" href="structcgns__zone.html#f1e54b55fcc24d4e3f7860e22234d495">amotion</a> = <a class="code" href="cgns__header_8h.html#948c36b3700de0f3332aa3620eafb0f4">CGNS_NEW</a>(<a class="code" href="structcgns__amotion.html">cgns_amotion</a>, 1);
<a name="l06960"></a>06960         } <span class="keywordflow">else</span> {
<a name="l06961"></a>06961             zone-&gt;<a class="code" href="structcgns__zone.html#f1e54b55fcc24d4e3f7860e22234d495">amotion</a> = <a class="code" href="cgns__header_8h.html#e23e608849b6dc488ccdad466e76e2ad">CGNS_RENEW</a>(<a class="code" href="structcgns__amotion.html">cgns_amotion</a>, zone-&gt;<a class="code" href="structcgns__zone.html#561728a84e0ab332200506a1a6daa57d">namotions</a>+1, zone-&gt;<a class="code" href="structcgns__zone.html#f1e54b55fcc24d4e3f7860e22234d495">amotion</a>);
<a name="l06962"></a>06962         }
<a name="l06963"></a>06963         amotion = &amp;(zone-&gt;<a class="code" href="structcgns__zone.html#f1e54b55fcc24d4e3f7860e22234d495">amotion</a>[zone-&gt;<a class="code" href="structcgns__zone.html#561728a84e0ab332200506a1a6daa57d">namotions</a>]);
<a name="l06964"></a>06964         zone-&gt;<a class="code" href="structcgns__zone.html#561728a84e0ab332200506a1a6daa57d">namotions</a>++;
<a name="l06965"></a>06965     }
<a name="l06966"></a>06966     (*A) = index+1;
<a name="l06967"></a>06967 
<a name="l06968"></a>06968      <span class="comment">/* save data for cgns_amotion *amotion */</span>
<a name="l06969"></a>06969     strcpy(amotion-&gt;<a class="code" href="structcgns__amotion.html#b5192b2e796e6224c74ec532ec32abf7">name</a>,amotionname);
<a name="l06970"></a>06970     amotion-&gt;<a class="code" href="structcgns__amotion.html#d1048f960a531e8d3c21c2775aca84c2">type</a> = type;
<a name="l06971"></a>06971 
<a name="l06972"></a>06972      <span class="comment">/* initialize other members of amotion */</span>
<a name="l06973"></a>06973     amotion-&gt;<a class="code" href="structcgns__amotion.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>=0;
<a name="l06974"></a>06974     amotion-&gt;<a class="code" href="structcgns__amotion.html#f6f27f42b9ecc89cf0ed39415bca67d1">link</a>=0;
<a name="l06975"></a>06975     amotion-&gt;<a class="code" href="structcgns__amotion.html#cdee83a08ec17a8018bf719ef82a3602">ndescr</a>=0;
<a name="l06976"></a>06976     amotion-&gt;<a class="code" href="structcgns__amotion.html#0e4921cde80f9718431923eedef14779">location</a>=<a class="code" href="cgns_keywords_8h.html#5a0e596ed46b12f73c2ed1b8b0176e13d013c4439c3e09308d6b2eef2a4025ae">Vertex</a>;
<a name="l06977"></a>06977     amotion-&gt;<a class="code" href="structcgns__amotion.html#e095e97c5a8c7758b4c9d0e463093b57">rind_planes</a>=0;
<a name="l06978"></a>06978     amotion-&gt;<a class="code" href="structcgns__amotion.html#ace0c04d503f8dda2284ae61a8344b8b">narrays</a>=0;
<a name="l06979"></a>06979     amotion-&gt;<a class="code" href="structcgns__amotion.html#6aa9eb3c5ad6bdecf6cd8c2b3d97839c">data_class</a>=<a class="code" href="cgns_keywords_8h.html#6e3a45166e6780b756fef5c427279ca079d3001e5ba3290ed80f0762d51bb379">DataClassNull</a>;
<a name="l06980"></a>06980     amotion-&gt;<a class="code" href="structcgns__amotion.html#9b4c6b823f0741729aa08b21a4120308">units</a>=0;
<a name="l06981"></a>06981     amotion-&gt;<a class="code" href="structcgns__amotion.html#dc1e157d997b3174f9d41c5b645631f9">nuser_data</a>=0;
<a name="l06982"></a>06982 
<a name="l06983"></a>06983      <span class="comment">/* Create node ArbitraryGridMotion_t */</span>
<a name="l06984"></a>06984     length = strlen(<a class="code" href="cgnslib_8c.html#0e45c271036ce12be0a015414009f10e">ArbitraryGridMotionTypeName</a>[amotion-&gt;<a class="code" href="structcgns__amotion.html#d1048f960a531e8d3c21c2775aca84c2">type</a>]);
<a name="l06985"></a>06985     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#184dd1d99e9f4e7b826f84887ba07748">cgi_new_node</a>(zone-&gt;<a class="code" href="structcgns__zone.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, amotion-&gt;<a class="code" href="structcgns__amotion.html#b5192b2e796e6224c74ec532ec32abf7">name</a>, <span class="stringliteral">"ArbitraryGridMotion_t"</span>, &amp;amotion-&gt;<a class="code" href="structcgns__amotion.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>,
<a name="l06986"></a>06986         <span class="stringliteral">"C1"</span>, 1, &amp;length, (<span class="keywordtype">void</span> *)<a class="code" href="cgnslib_8c.html#0e45c271036ce12be0a015414009f10e">ArbitraryGridMotionTypeName</a>[amotion-&gt;<a class="code" href="structcgns__amotion.html#d1048f960a531e8d3c21c2775aca84c2">type</a>])) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l06987"></a>06987     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l06988"></a>06988 }
<a name="l06989"></a>06989 
<a name="l06990"></a><a class="code" href="cgnslib_8h.html#575d9f91cf2bbb0cccf91c5573219867">06990</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#34babc44763471dd2e7a0d2db076e159">cg_simulation_type_write</a>(<span class="keywordtype">int</span> file_number, <span class="keywordtype">int</span> B, <a class="code" href="cgns_keywords_8h.html#9e78c57e09b9a11a016f0c65bc00f185">SimulationType_t</a> type) {
<a name="l06991"></a>06991     <a class="code" href="structcgns__base.html">cgns_base</a> *base;
<a name="l06992"></a>06992     <span class="keywordtype">int</span> length;
<a name="l06993"></a>06993 
<a name="l06994"></a>06994      <span class="comment">/* check input */</span>
<a name="l06995"></a>06995     <span class="keywordflow">if</span> (type&lt;0 || type &gt;= <a class="code" href="cgns_keywords_8h.html#6487254ba3c8e3aa4d879a38faa220a1">NofValidSimulationTypes</a>) {
<a name="l06996"></a>06996         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Invalid input:  SimulationType=%d ?"</span>,type);
<a name="l06997"></a>06997         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l06998"></a>06998     }
<a name="l06999"></a>06999 
<a name="l07000"></a>07000      <span class="comment">/* get memory address for file */</span>
<a name="l07001"></a>07001     cg = <a class="code" href="cgns__header_8h.html#64a13852e04666fc73b74a8ff7727f4f">cgi_get_file</a>(file_number);
<a name="l07002"></a>07002     <span class="keywordflow">if</span> (cg == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l07003"></a>07003 
<a name="l07004"></a>07004     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l07005"></a>07005 
<a name="l07006"></a>07006      <span class="comment">/* get memory address for CGNSBase_t node */</span>
<a name="l07007"></a>07007     base = <a class="code" href="cgns__header_8h.html#09d3b45ead80b0d2b1921ff6a1b1d3ae">cgi_get_base</a>(cg, B);
<a name="l07008"></a>07008     <span class="keywordflow">if</span> (base==0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l07009"></a>07009 
<a name="l07010"></a>07010      <span class="comment">/* write or overwrite SimulationType_t to Base */</span>
<a name="l07011"></a>07011     <span class="keywordflow">if</span> (base-&gt;<a class="code" href="structcgns__base.html#2cd15f8599e5adccf7ab541dc06ead76">type</a>) {
<a name="l07012"></a>07012         <span class="keywordflow">if</span> (cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>==<a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>) {
<a name="l07013"></a>07013             <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Simulation type already defined under CGNSBase_t '%s'"</span>,
<a name="l07014"></a>07014                    base-&gt;<a class="code" href="structcgns__base.html#b5192b2e796e6224c74ec532ec32abf7">name</a>);
<a name="l07015"></a>07015             <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l07016"></a>07016         }
<a name="l07017"></a>07017         <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#032ae98a5be795f845bb5cc7d63750e4">cgi_delete_node</a>(base-&gt;<a class="code" href="structcgns__base.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, base-&gt;<a class="code" href="structcgns__base.html#510eb2e9a2ea6c68c6704102e55f1cf8">type_id</a>))
<a name="l07018"></a>07018             <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l07019"></a>07019     }
<a name="l07020"></a>07020     base-&gt;<a class="code" href="structcgns__base.html#2cd15f8599e5adccf7ab541dc06ead76">type</a> = type;
<a name="l07021"></a>07021     base-&gt;<a class="code" href="structcgns__base.html#510eb2e9a2ea6c68c6704102e55f1cf8">type_id</a> = 0;
<a name="l07022"></a>07022 
<a name="l07023"></a>07023      <span class="comment">/* save data in file */</span>
<a name="l07024"></a>07024     length = strlen(<a class="code" href="cgnslib_8c.html#9bfe602795cb449e4a9aafabfd84395c">SimulationTypeName</a>[type]);
<a name="l07025"></a>07025     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#184dd1d99e9f4e7b826f84887ba07748">cgi_new_node</a>(base-&gt;<a class="code" href="structcgns__base.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, <span class="stringliteral">"SimulationType"</span>, <span class="stringliteral">"SimulationType_t"</span>, &amp;base-&gt;<a class="code" href="structcgns__base.html#510eb2e9a2ea6c68c6704102e55f1cf8">type_id</a>,
<a name="l07026"></a>07026         <span class="stringliteral">"C1"</span>, 1, &amp;length, (<span class="keywordtype">void</span> *)<a class="code" href="cgnslib_8c.html#9bfe602795cb449e4a9aafabfd84395c">SimulationTypeName</a>[type])) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l07027"></a>07027 
<a name="l07028"></a>07028     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l07029"></a>07029 }
<a name="l07030"></a>07030 
<a name="l07031"></a><a class="code" href="cgnslib_8h.html#308601e02a6ce3f7cc335f0c36e42868">07031</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#d8c916e876d5c91e9f685923933e4097">cg_biter_write</a>(<span class="keywordtype">int</span> file_number, <span class="keywordtype">int</span> B,  <span class="keywordtype">char</span> <span class="keyword">const</span> * bitername, <span class="keywordtype">int</span> nsteps) {
<a name="l07032"></a>07032     <a class="code" href="structcgns__base.html">cgns_base</a> *base;
<a name="l07033"></a>07033     <a class="code" href="structcgns__biter.html">cgns_biter</a> *biter;
<a name="l07034"></a>07034     <span class="keywordtype">int</span> length=1;
<a name="l07035"></a>07035 
<a name="l07036"></a>07036      <span class="comment">/* verify input */</span>
<a name="l07037"></a>07037     <span class="keywordflow">if</span> (nsteps&lt;=0) {
<a name="l07038"></a>07038         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Invalid input:  The number of steps must be a positive integer!"</span>);
<a name="l07039"></a>07039         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l07040"></a>07040     }
<a name="l07041"></a>07041 
<a name="l07042"></a>07042      <span class="comment">/* get memory address for BaseIterativeData_t node */</span>
<a name="l07043"></a>07043     cg = <a class="code" href="cgns__header_8h.html#64a13852e04666fc73b74a8ff7727f4f">cgi_get_file</a>(file_number);
<a name="l07044"></a>07044     <span class="keywordflow">if</span> (cg == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l07045"></a>07045 
<a name="l07046"></a>07046     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l07047"></a>07047 
<a name="l07048"></a>07048     base = <a class="code" href="cgns__header_8h.html#09d3b45ead80b0d2b1921ff6a1b1d3ae">cgi_get_base</a>(cg, B);
<a name="l07049"></a>07049     <span class="keywordflow">if</span> (base==0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l07050"></a>07050 
<a name="l07051"></a>07051      <span class="comment">/* If BaseIterativeData_t already exist: */</span>
<a name="l07052"></a>07052     <span class="keywordflow">if</span> (base-&gt;<a class="code" href="structcgns__base.html#134f6be7ea56b1eb7de26b1fd1a13da8">biter</a>) {
<a name="l07053"></a>07053         <span class="keywordflow">if</span> (cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>==<a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>) {
<a name="l07054"></a>07054             <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Error:  BaseIterativeData_t already defined"</span>);
<a name="l07055"></a>07055             <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l07056"></a>07056         }
<a name="l07057"></a>07057 
<a name="l07058"></a>07058      <span class="comment">/* overwrite an existing rmotion */</span>
<a name="l07059"></a>07059          <span class="comment">/* delete the existing biter from file */</span>
<a name="l07060"></a>07060         <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#032ae98a5be795f845bb5cc7d63750e4">cgi_delete_node</a>(base-&gt;<a class="code" href="structcgns__base.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, base-&gt;<a class="code" href="structcgns__base.html#134f6be7ea56b1eb7de26b1fd1a13da8">biter</a>-&gt;<a class="code" href="structcgns__biter.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>))
<a name="l07061"></a>07061             <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l07062"></a>07062          <span class="comment">/* save the old in-memory address to overwrite */</span>
<a name="l07063"></a>07063         biter = base-&gt;<a class="code" href="structcgns__base.html#134f6be7ea56b1eb7de26b1fd1a13da8">biter</a>;
<a name="l07064"></a>07064          <span class="comment">/* free memory */</span>
<a name="l07065"></a>07065         <a class="code" href="cgns__header_8h.html#f9b16f72a1dadf3e539cc1b36ce42a67">cgi_free_biter</a>(biter);
<a name="l07066"></a>07066      <span class="comment">/* ... or add a new BaseIterativeData_t Node: */</span>
<a name="l07067"></a>07067     } <span class="keywordflow">else</span> {
<a name="l07068"></a>07068         base-&gt;<a class="code" href="structcgns__base.html#134f6be7ea56b1eb7de26b1fd1a13da8">biter</a> = <a class="code" href="cgns__header_8h.html#948c36b3700de0f3332aa3620eafb0f4">CGNS_NEW</a>(<a class="code" href="structcgns__biter.html">cgns_biter</a>, 1);
<a name="l07069"></a>07069         biter = base-&gt;<a class="code" href="structcgns__base.html#134f6be7ea56b1eb7de26b1fd1a13da8">biter</a>;
<a name="l07070"></a>07070     }
<a name="l07071"></a>07071 
<a name="l07072"></a>07072      <span class="comment">/* save data for cgns_biter *biter */</span>
<a name="l07073"></a>07073     strcpy(biter-&gt;<a class="code" href="structcgns__biter.html#b5192b2e796e6224c74ec532ec32abf7">name</a>,bitername);
<a name="l07074"></a>07074     biter-&gt;<a class="code" href="structcgns__biter.html#a2414080b021dbb9b56eeaeedec0ffa2">nsteps</a> = nsteps;
<a name="l07075"></a>07075 
<a name="l07076"></a>07076      <span class="comment">/* initialize other members of biter */</span>
<a name="l07077"></a>07077     biter-&gt;<a class="code" href="structcgns__biter.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>=0;
<a name="l07078"></a>07078     biter-&gt;<a class="code" href="structcgns__biter.html#f6f27f42b9ecc89cf0ed39415bca67d1">link</a>=0;
<a name="l07079"></a>07079     biter-&gt;<a class="code" href="structcgns__biter.html#cdee83a08ec17a8018bf719ef82a3602">ndescr</a>=0;
<a name="l07080"></a>07080     biter-&gt;<a class="code" href="structcgns__biter.html#ace0c04d503f8dda2284ae61a8344b8b">narrays</a>=0;
<a name="l07081"></a>07081     biter-&gt;<a class="code" href="structcgns__biter.html#6aa9eb3c5ad6bdecf6cd8c2b3d97839c">data_class</a>=<a class="code" href="cgns_keywords_8h.html#6e3a45166e6780b756fef5c427279ca079d3001e5ba3290ed80f0762d51bb379">DataClassNull</a>;
<a name="l07082"></a>07082     biter-&gt;<a class="code" href="structcgns__biter.html#9b4c6b823f0741729aa08b21a4120308">units</a>=0;
<a name="l07083"></a>07083     biter-&gt;<a class="code" href="structcgns__biter.html#dc1e157d997b3174f9d41c5b645631f9">nuser_data</a>=0;
<a name="l07084"></a>07084 
<a name="l07085"></a>07085      <span class="comment">/* Create node BaseIterativeData_t */</span>
<a name="l07086"></a>07086     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#184dd1d99e9f4e7b826f84887ba07748">cgi_new_node</a>(base-&gt;<a class="code" href="structcgns__base.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, biter-&gt;<a class="code" href="structcgns__biter.html#b5192b2e796e6224c74ec532ec32abf7">name</a>, <span class="stringliteral">"BaseIterativeData_t"</span>, &amp;biter-&gt;<a class="code" href="structcgns__biter.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>,
<a name="l07087"></a>07087         <span class="stringliteral">"I4"</span>, 1, &amp;length, (<span class="keywordtype">void</span> *)&amp;nsteps)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l07088"></a>07088     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l07089"></a>07089 }
<a name="l07090"></a>07090 
<a name="l07091"></a><a class="code" href="cgnslib_8h.html#89e51bc190343f9ab7bdcbf0551dbb05">07091</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#0383e70b0a062148ea8f6a2047636321">cg_ziter_write</a>(<span class="keywordtype">int</span> file_number, <span class="keywordtype">int</span> B, <span class="keywordtype">int</span> Z, <span class="keywordtype">char</span> <span class="keyword">const</span> * zitername) {
<a name="l07092"></a>07092     <a class="code" href="structcgns__zone.html">cgns_zone</a> *zone;
<a name="l07093"></a>07093     <a class="code" href="structcgns__ziter.html">cgns_ziter</a> *ziter;
<a name="l07094"></a>07094 
<a name="l07095"></a>07095      <span class="comment">/* verify input */</span>
<a name="l07096"></a>07096     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#b042658423afd0817ab23b3ea7a5e03d">cgi_check_strlen</a>(zitername)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l07097"></a>07097 
<a name="l07098"></a>07098      <span class="comment">/* get memory address for ZoneIterativeData_t node */</span>
<a name="l07099"></a>07099     cg = <a class="code" href="cgns__header_8h.html#64a13852e04666fc73b74a8ff7727f4f">cgi_get_file</a>(file_number);
<a name="l07100"></a>07100     <span class="keywordflow">if</span> (cg == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l07101"></a>07101 
<a name="l07102"></a>07102     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l07103"></a>07103 
<a name="l07104"></a>07104     zone = <a class="code" href="cgns__header_8h.html#5ce4ef97dee99baf9183b8c23419bfe0">cgi_get_zone</a>(cg, B, Z);
<a name="l07105"></a>07105     <span class="keywordflow">if</span> (zone==0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l07106"></a>07106 
<a name="l07107"></a>07107      <span class="comment">/* Overwrite the ZoneIterativeData_t Node: */</span>
<a name="l07108"></a>07108     <span class="keywordflow">if</span> (zone-&gt;<a class="code" href="structcgns__zone.html#2acf48f1297eeab90d6b9c7d76c14a25">ziter</a>) {
<a name="l07109"></a>07109         <span class="keywordflow">if</span> (cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>==<a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>) {
<a name="l07110"></a>07110             <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Error:  ZoneIterativeData_t already defined"</span>);
<a name="l07111"></a>07111             <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l07112"></a>07112         }
<a name="l07113"></a>07113      <span class="comment">/* overwrite an existing ZoneIterativeData_t Node */</span>
<a name="l07114"></a>07114          <span class="comment">/* delete the existing ziter from file */</span>
<a name="l07115"></a>07115         <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#032ae98a5be795f845bb5cc7d63750e4">cgi_delete_node</a>(zone-&gt;<a class="code" href="structcgns__zone.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, zone-&gt;<a class="code" href="structcgns__zone.html#2acf48f1297eeab90d6b9c7d76c14a25">ziter</a>-&gt;<a class="code" href="structcgns__ziter.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>))
<a name="l07116"></a>07116             <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l07117"></a>07117          <span class="comment">/* save the old in-memory address to overwrite */</span>
<a name="l07118"></a>07118         ziter = zone-&gt;<a class="code" href="structcgns__zone.html#2acf48f1297eeab90d6b9c7d76c14a25">ziter</a>;
<a name="l07119"></a>07119          <span class="comment">/* free memory */</span>
<a name="l07120"></a>07120         <a class="code" href="cgns__header_8h.html#c229f4874d4cde8193e26552e61db457">cgi_free_ziter</a>(ziter);
<a name="l07121"></a>07121     } <span class="keywordflow">else</span> {
<a name="l07122"></a>07122         zone-&gt;<a class="code" href="structcgns__zone.html#2acf48f1297eeab90d6b9c7d76c14a25">ziter</a> = <a class="code" href="cgns__header_8h.html#948c36b3700de0f3332aa3620eafb0f4">CGNS_NEW</a>(<a class="code" href="structcgns__ziter.html">cgns_ziter</a>, 1);
<a name="l07123"></a>07123         ziter = zone-&gt;<a class="code" href="structcgns__zone.html#2acf48f1297eeab90d6b9c7d76c14a25">ziter</a>;
<a name="l07124"></a>07124     }
<a name="l07125"></a>07125 
<a name="l07126"></a>07126      <span class="comment">/* save data for cgns_ziter *ziter */</span>
<a name="l07127"></a>07127     strcpy(ziter-&gt;<a class="code" href="structcgns__ziter.html#b5192b2e796e6224c74ec532ec32abf7">name</a>,zitername);
<a name="l07128"></a>07128 
<a name="l07129"></a>07129      <span class="comment">/* initialize other members of ziter */</span>
<a name="l07130"></a>07130     ziter-&gt;<a class="code" href="structcgns__ziter.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>=0;
<a name="l07131"></a>07131     ziter-&gt;<a class="code" href="structcgns__ziter.html#f6f27f42b9ecc89cf0ed39415bca67d1">link</a>=0;
<a name="l07132"></a>07132     ziter-&gt;<a class="code" href="structcgns__ziter.html#cdee83a08ec17a8018bf719ef82a3602">ndescr</a>=0;
<a name="l07133"></a>07133     ziter-&gt;<a class="code" href="structcgns__ziter.html#ace0c04d503f8dda2284ae61a8344b8b">narrays</a>=0;
<a name="l07134"></a>07134     ziter-&gt;<a class="code" href="structcgns__ziter.html#6aa9eb3c5ad6bdecf6cd8c2b3d97839c">data_class</a>=<a class="code" href="cgns_keywords_8h.html#6e3a45166e6780b756fef5c427279ca079d3001e5ba3290ed80f0762d51bb379">DataClassNull</a>;
<a name="l07135"></a>07135     ziter-&gt;<a class="code" href="structcgns__ziter.html#9b4c6b823f0741729aa08b21a4120308">units</a>=0;
<a name="l07136"></a>07136     ziter-&gt;<a class="code" href="structcgns__ziter.html#dc1e157d997b3174f9d41c5b645631f9">nuser_data</a>=0;
<a name="l07137"></a>07137 
<a name="l07138"></a>07138      <span class="comment">/* Create node ZoneIterativeData_t */</span>
<a name="l07139"></a>07139     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#184dd1d99e9f4e7b826f84887ba07748">cgi_new_node</a>(zone-&gt;<a class="code" href="structcgns__zone.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, ziter-&gt;<a class="code" href="structcgns__ziter.html#b5192b2e796e6224c74ec532ec32abf7">name</a>, <span class="stringliteral">"ZoneIterativeData_t"</span>, &amp;ziter-&gt;<a class="code" href="structcgns__ziter.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>,
<a name="l07140"></a>07140         <span class="stringliteral">"MT"</span>, 0, 0, 0)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l07141"></a>07141     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l07142"></a>07142 }
<a name="l07143"></a>07143 
<a name="l07144"></a><a class="code" href="cgnslib_8h.html#6cf149dcf422515558812d1243dc7424">07144</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#512aa2662e52d0eb97e10651b41013d7">cg_gravity_write</a>(<span class="keywordtype">int</span> file_number, <span class="keywordtype">int</span> B, <span class="keywordtype">float</span> <span class="keyword">const</span> *gravity_vector) {
<a name="l07145"></a>07145     <a class="code" href="structcgns__base.html">cgns_base</a> *base;
<a name="l07146"></a>07146     <a class="code" href="structcgns__gravity.html">cgns_gravity</a> *gravity;
<a name="l07147"></a>07147 
<a name="l07148"></a>07148      <span class="comment">/* get memory address for file */</span>
<a name="l07149"></a>07149     cg = <a class="code" href="cgns__header_8h.html#64a13852e04666fc73b74a8ff7727f4f">cgi_get_file</a>(file_number);
<a name="l07150"></a>07150     <span class="keywordflow">if</span> (cg == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l07151"></a>07151 
<a name="l07152"></a>07152     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l07153"></a>07153 
<a name="l07154"></a>07154      <span class="comment">/* get memory address for base */</span>
<a name="l07155"></a>07155     base = <a class="code" href="cgns__header_8h.html#09d3b45ead80b0d2b1921ff6a1b1d3ae">cgi_get_base</a>(cg, B);
<a name="l07156"></a>07156     <span class="keywordflow">if</span> (base==0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l07157"></a>07157 
<a name="l07158"></a>07158     <span class="keywordflow">if</span> (base-&gt;<a class="code" href="structcgns__base.html#0ab3298330c91c5b654e01b956906dd5">gravity</a>) {
<a name="l07159"></a>07159         <span class="keywordflow">if</span> (cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>==<a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>) {
<a name="l07160"></a>07160             <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Gravity is already defined under CGNSBase_t '%s'"</span>,
<a name="l07161"></a>07161                    base-&gt;<a class="code" href="structcgns__base.html#b5192b2e796e6224c74ec532ec32abf7">name</a>);
<a name="l07162"></a>07162             <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l07163"></a>07163         }
<a name="l07164"></a>07164         <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#032ae98a5be795f845bb5cc7d63750e4">cgi_delete_node</a>(base-&gt;<a class="code" href="structcgns__base.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, base-&gt;<a class="code" href="structcgns__base.html#0ab3298330c91c5b654e01b956906dd5">gravity</a>-&gt;<a class="code" href="structcgns__gravity.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>))
<a name="l07165"></a>07165             <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l07166"></a>07166         <a class="code" href="cgns__header_8h.html#7628b6e99156c6efa740e55457a6ef1d">cgi_free_gravity</a>(base-&gt;<a class="code" href="structcgns__base.html#0ab3298330c91c5b654e01b956906dd5">gravity</a>);
<a name="l07167"></a>07167     } <span class="keywordflow">else</span>
<a name="l07168"></a>07168         base-&gt;<a class="code" href="structcgns__base.html#0ab3298330c91c5b654e01b956906dd5">gravity</a> = <a class="code" href="cgns__header_8h.html#948c36b3700de0f3332aa3620eafb0f4">CGNS_NEW</a>(<a class="code" href="structcgns__gravity.html">cgns_gravity</a>, 1);
<a name="l07169"></a>07169     gravity = base-&gt;<a class="code" href="structcgns__base.html#0ab3298330c91c5b654e01b956906dd5">gravity</a>;
<a name="l07170"></a>07170     gravity-&gt;<a class="code" href="structcgns__gravity.html#51e79b6a11cb8747d8896db3b4509d8f">vector</a> = <a class="code" href="cgns__header_8h.html#948c36b3700de0f3332aa3620eafb0f4">CGNS_NEW</a>(<a class="code" href="structcgns__array.html">cgns_array</a>, 1);
<a name="l07171"></a>07171 
<a name="l07172"></a>07172      <span class="comment">/* Create DataArray_t GravityVector under gravity */</span>
<a name="l07173"></a>07173     strcpy(gravity-&gt;<a class="code" href="structcgns__gravity.html#51e79b6a11cb8747d8896db3b4509d8f">vector</a>-&gt;<a class="code" href="structcgns__array.html#86e4d546d1321bcac60584c413eb0f6d">data_type</a>, <span class="stringliteral">"R4"</span>);
<a name="l07174"></a>07174     gravity-&gt;<a class="code" href="structcgns__gravity.html#51e79b6a11cb8747d8896db3b4509d8f">vector</a>-&gt;<a class="code" href="structcgns__array.html#735984d41155bc1032e09bece8f8d66d">data</a> = (<span class="keywordtype">void</span> *)<a class="code" href="cg__malloc_8h.html#535b58ab5aa48e2e86073e334d43fd32">malloc</a>(base-&gt;<a class="code" href="structcgns__base.html#f210aa767697826c3dc29cfb2ffec256">phys_dim</a>*<span class="keyword">sizeof</span>(<span class="keywordtype">float</span>));
<a name="l07175"></a>07175     <span class="keywordflow">if</span> (!gravity-&gt;<a class="code" href="structcgns__gravity.html#51e79b6a11cb8747d8896db3b4509d8f">vector</a>-&gt;<a class="code" href="structcgns__array.html#735984d41155bc1032e09bece8f8d66d">data</a>) {
<a name="l07176"></a>07176         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Error allocating gravity-&gt;vector-&gt;data"</span>);
<a name="l07177"></a>07177         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l07178"></a>07178     }
<a name="l07179"></a>07179     memcpy(gravity-&gt;<a class="code" href="structcgns__gravity.html#51e79b6a11cb8747d8896db3b4509d8f">vector</a>-&gt;<a class="code" href="structcgns__array.html#735984d41155bc1032e09bece8f8d66d">data</a>, gravity_vector, base-&gt;<a class="code" href="structcgns__base.html#f210aa767697826c3dc29cfb2ffec256">phys_dim</a>*<span class="keyword">sizeof</span>(<span class="keywordtype">float</span>));
<a name="l07180"></a>07180     strcpy(gravity-&gt;<a class="code" href="structcgns__gravity.html#51e79b6a11cb8747d8896db3b4509d8f">vector</a>-&gt;<a class="code" href="structcgns__array.html#b5192b2e796e6224c74ec532ec32abf7">name</a>, <span class="stringliteral">"GravityVector"</span>);
<a name="l07181"></a>07181     gravity-&gt;<a class="code" href="structcgns__gravity.html#51e79b6a11cb8747d8896db3b4509d8f">vector</a>-&gt;<a class="code" href="structcgns__array.html#c7e27870b79e982377b6669e633a32ad">data_dim</a>=1;
<a name="l07182"></a>07182     gravity-&gt;<a class="code" href="structcgns__gravity.html#51e79b6a11cb8747d8896db3b4509d8f">vector</a>-&gt;<a class="code" href="structcgns__array.html#5ca9ee30477c56421c793e2341f75931">dim_vals</a>[0]=base-&gt;<a class="code" href="structcgns__base.html#f210aa767697826c3dc29cfb2ffec256">phys_dim</a>;
<a name="l07183"></a>07183 
<a name="l07184"></a>07184      <span class="comment">/* initialize other fields of gravity-&gt;vector */</span>
<a name="l07185"></a>07185     gravity-&gt;<a class="code" href="structcgns__gravity.html#51e79b6a11cb8747d8896db3b4509d8f">vector</a>-&gt;<a class="code" href="structcgns__array.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>=0;
<a name="l07186"></a>07186     gravity-&gt;<a class="code" href="structcgns__gravity.html#51e79b6a11cb8747d8896db3b4509d8f">vector</a>-&gt;<a class="code" href="structcgns__array.html#f6f27f42b9ecc89cf0ed39415bca67d1">link</a>=0;
<a name="l07187"></a>07187     gravity-&gt;<a class="code" href="structcgns__gravity.html#51e79b6a11cb8747d8896db3b4509d8f">vector</a>-&gt;<a class="code" href="structcgns__array.html#cdee83a08ec17a8018bf719ef82a3602">ndescr</a>=0;
<a name="l07188"></a>07188     gravity-&gt;<a class="code" href="structcgns__gravity.html#51e79b6a11cb8747d8896db3b4509d8f">vector</a>-&gt;<a class="code" href="structcgns__array.html#6aa9eb3c5ad6bdecf6cd8c2b3d97839c">data_class</a>=<a class="code" href="cgns_keywords_8h.html#6e3a45166e6780b756fef5c427279ca079d3001e5ba3290ed80f0762d51bb379">DataClassNull</a>;
<a name="l07189"></a>07189     gravity-&gt;<a class="code" href="structcgns__gravity.html#51e79b6a11cb8747d8896db3b4509d8f">vector</a>-&gt;<a class="code" href="structcgns__array.html#9b4c6b823f0741729aa08b21a4120308">units</a>=0;
<a name="l07190"></a>07190     gravity-&gt;<a class="code" href="structcgns__gravity.html#51e79b6a11cb8747d8896db3b4509d8f">vector</a>-&gt;<a class="code" href="structcgns__array.html#87b103c38a459cc8a1c6cf06f01aa12a">exponents</a>=0;
<a name="l07191"></a>07191     gravity-&gt;<a class="code" href="structcgns__gravity.html#51e79b6a11cb8747d8896db3b4509d8f">vector</a>-&gt;<a class="code" href="structcgns__array.html#0724545c909f7773439fee292fe3ef5f">convert</a>=0;
<a name="l07192"></a>07192 
<a name="l07193"></a>07193      <span class="comment">/* initialize other fields of gravity */</span>
<a name="l07194"></a>07194     strcpy(gravity-&gt;<a class="code" href="structcgns__gravity.html#b5192b2e796e6224c74ec532ec32abf7">name</a>, <span class="stringliteral">"Gravity"</span>);
<a name="l07195"></a>07195     gravity-&gt;<a class="code" href="structcgns__gravity.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>=0;
<a name="l07196"></a>07196     gravity-&gt;<a class="code" href="structcgns__gravity.html#f6f27f42b9ecc89cf0ed39415bca67d1">link</a>=0;
<a name="l07197"></a>07197     gravity-&gt;<a class="code" href="structcgns__gravity.html#cdee83a08ec17a8018bf719ef82a3602">ndescr</a>=0;
<a name="l07198"></a>07198     gravity-&gt;<a class="code" href="structcgns__gravity.html#6aa9eb3c5ad6bdecf6cd8c2b3d97839c">data_class</a>=<a class="code" href="cgns_keywords_8h.html#6e3a45166e6780b756fef5c427279ca079d3001e5ba3290ed80f0762d51bb379">DataClassNull</a>;
<a name="l07199"></a>07199     gravity-&gt;<a class="code" href="structcgns__gravity.html#9b4c6b823f0741729aa08b21a4120308">units</a>=0;
<a name="l07200"></a>07200     gravity-&gt;<a class="code" href="structcgns__gravity.html#dc1e157d997b3174f9d41c5b645631f9">nuser_data</a>=0;
<a name="l07201"></a>07201     gravity-&gt;<a class="code" href="structcgns__gravity.html#ace0c04d503f8dda2284ae61a8344b8b">narrays</a>=1;
<a name="l07202"></a>07202 
<a name="l07203"></a>07203      <span class="comment">/* Write to disk */</span>
<a name="l07204"></a>07204     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#b0a95d6cfd1d0ee8d3c4e56811331156">cgi_write_gravity</a>(base-&gt;<a class="code" href="structcgns__base.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, gravity)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l07205"></a>07205 
<a name="l07206"></a>07206     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l07207"></a>07207 }
<a name="l07208"></a>07208 
<a name="l07209"></a><a class="code" href="cgnslib_8h.html#dd4fa0112081f46bbdcaa3172f80fe56">07209</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#48f4b5edc8ac0492415a0805d4461b67">cg_axisym_write</a>(<span class="keywordtype">int</span> file_number, <span class="keywordtype">int</span> B, <span class="keywordtype">float</span> <span class="keyword">const</span> *ref_point, <span class="keywordtype">float</span> <span class="keyword">const</span> *axis) {
<a name="l07210"></a>07210     <span class="keywordtype">int</span> n;
<a name="l07211"></a>07211     <a class="code" href="structcgns__base.html">cgns_base</a> *base;
<a name="l07212"></a>07212     <a class="code" href="structcgns__axisym.html">cgns_axisym</a> *axisym;
<a name="l07213"></a>07213 
<a name="l07214"></a>07214      <span class="comment">/* get memory address for file */</span>
<a name="l07215"></a>07215     cg = <a class="code" href="cgns__header_8h.html#64a13852e04666fc73b74a8ff7727f4f">cgi_get_file</a>(file_number);
<a name="l07216"></a>07216     <span class="keywordflow">if</span> (cg == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l07217"></a>07217 
<a name="l07218"></a>07218     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l07219"></a>07219 
<a name="l07220"></a>07220      <span class="comment">/* get memory address for base */</span>
<a name="l07221"></a>07221     base = <a class="code" href="cgns__header_8h.html#09d3b45ead80b0d2b1921ff6a1b1d3ae">cgi_get_base</a>(cg, B);
<a name="l07222"></a>07222     <span class="keywordflow">if</span> (base==0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l07223"></a>07223 
<a name="l07224"></a>07224      <span class="comment">/* Verify that this is a bidimensional base */</span>
<a name="l07225"></a>07225     <span class="keywordflow">if</span> (base-&gt;<a class="code" href="structcgns__base.html#f210aa767697826c3dc29cfb2ffec256">phys_dim</a> !=  2) {
<a name="l07226"></a>07226         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Error: Axisymmetry_t can only be specified for bidimensional bases"</span>);
<a name="l07227"></a>07227         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l07228"></a>07228     }
<a name="l07229"></a>07229 
<a name="l07230"></a>07230     <span class="keywordflow">if</span> (base-&gt;<a class="code" href="structcgns__base.html#8666c44ea0abaf51e4b0dc837478c1ca">axisym</a>) {
<a name="l07231"></a>07231         <span class="keywordflow">if</span> (cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>==<a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>) {
<a name="l07232"></a>07232             <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Axisymmetry is already defined under CGNSBase_t '%s'"</span>,
<a name="l07233"></a>07233                    base-&gt;<a class="code" href="structcgns__base.html#b5192b2e796e6224c74ec532ec32abf7">name</a>);
<a name="l07234"></a>07234             <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l07235"></a>07235         }
<a name="l07236"></a>07236         <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#032ae98a5be795f845bb5cc7d63750e4">cgi_delete_node</a>(base-&gt;<a class="code" href="structcgns__base.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, base-&gt;<a class="code" href="structcgns__base.html#8666c44ea0abaf51e4b0dc837478c1ca">axisym</a>-&gt;<a class="code" href="structcgns__axisym.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>))
<a name="l07237"></a>07237             <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l07238"></a>07238         <a class="code" href="cgns__header_8h.html#6d499e4812d0175340f03658c13a018d">cgi_free_axisym</a>(base-&gt;<a class="code" href="structcgns__base.html#8666c44ea0abaf51e4b0dc837478c1ca">axisym</a>);
<a name="l07239"></a>07239     } <span class="keywordflow">else</span>
<a name="l07240"></a>07240         base-&gt;<a class="code" href="structcgns__base.html#8666c44ea0abaf51e4b0dc837478c1ca">axisym</a> = <a class="code" href="cgns__header_8h.html#948c36b3700de0f3332aa3620eafb0f4">CGNS_NEW</a>(<a class="code" href="structcgns__axisym.html">cgns_axisym</a>, 1);
<a name="l07241"></a>07241     axisym = base-&gt;<a class="code" href="structcgns__base.html#8666c44ea0abaf51e4b0dc837478c1ca">axisym</a>;
<a name="l07242"></a>07242     axisym-&gt;<a class="code" href="structcgns__axisym.html#1973739e7639e00a0d5aafe8c355c2aa">array</a> = <a class="code" href="cgns__header_8h.html#948c36b3700de0f3332aa3620eafb0f4">CGNS_NEW</a>(<a class="code" href="structcgns__array.html">cgns_array</a>, 2);
<a name="l07243"></a>07243     axisym-&gt;<a class="code" href="structcgns__axisym.html#ace0c04d503f8dda2284ae61a8344b8b">narrays</a>=2;
<a name="l07244"></a>07244 
<a name="l07245"></a>07245      <span class="comment">/* Create DataArray_t AxisymmetryReferencePoint &amp; AxisymmetryAxisVector under axisym */</span>
<a name="l07246"></a>07246     <span class="keywordflow">for</span> (n=0; n&lt;axisym-&gt;<a class="code" href="structcgns__axisym.html#ace0c04d503f8dda2284ae61a8344b8b">narrays</a>; n++) {
<a name="l07247"></a>07247         strcpy(axisym-&gt;<a class="code" href="structcgns__axisym.html#1973739e7639e00a0d5aafe8c355c2aa">array</a>[n].<a class="code" href="structcgns__array.html#86e4d546d1321bcac60584c413eb0f6d">data_type</a>, <span class="stringliteral">"R4"</span>);
<a name="l07248"></a>07248         axisym-&gt;<a class="code" href="structcgns__axisym.html#1973739e7639e00a0d5aafe8c355c2aa">array</a>[n].<a class="code" href="structcgns__array.html#735984d41155bc1032e09bece8f8d66d">data</a> = (<span class="keywordtype">void</span> *)<a class="code" href="cg__malloc_8h.html#535b58ab5aa48e2e86073e334d43fd32">malloc</a>(base-&gt;<a class="code" href="structcgns__base.html#f210aa767697826c3dc29cfb2ffec256">phys_dim</a>*<span class="keyword">sizeof</span>(<span class="keywordtype">float</span>));
<a name="l07249"></a>07249         <span class="keywordflow">if</span> (!axisym-&gt;<a class="code" href="structcgns__axisym.html#1973739e7639e00a0d5aafe8c355c2aa">array</a>[n].<a class="code" href="structcgns__array.html#735984d41155bc1032e09bece8f8d66d">data</a>) {
<a name="l07250"></a>07250             <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Error allocating axisym-&gt;array[n].data"</span>);
<a name="l07251"></a>07251             <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l07252"></a>07252         }
<a name="l07253"></a>07253         axisym-&gt;<a class="code" href="structcgns__axisym.html#1973739e7639e00a0d5aafe8c355c2aa">array</a>[n].<a class="code" href="structcgns__array.html#c7e27870b79e982377b6669e633a32ad">data_dim</a>=1;
<a name="l07254"></a>07254         axisym-&gt;<a class="code" href="structcgns__axisym.html#1973739e7639e00a0d5aafe8c355c2aa">array</a>[n].<a class="code" href="structcgns__array.html#5ca9ee30477c56421c793e2341f75931">dim_vals</a>[0]=base-&gt;<a class="code" href="structcgns__base.html#f210aa767697826c3dc29cfb2ffec256">phys_dim</a>;
<a name="l07255"></a>07255     }
<a name="l07256"></a>07256     memcpy(axisym-&gt;<a class="code" href="structcgns__axisym.html#1973739e7639e00a0d5aafe8c355c2aa">array</a>[0].<a class="code" href="structcgns__array.html#735984d41155bc1032e09bece8f8d66d">data</a>, ref_point, base-&gt;<a class="code" href="structcgns__base.html#f210aa767697826c3dc29cfb2ffec256">phys_dim</a>*<span class="keyword">sizeof</span>(<span class="keywordtype">float</span>));
<a name="l07257"></a>07257     memcpy(axisym-&gt;<a class="code" href="structcgns__axisym.html#1973739e7639e00a0d5aafe8c355c2aa">array</a>[1].<a class="code" href="structcgns__array.html#735984d41155bc1032e09bece8f8d66d">data</a>, axis, base-&gt;<a class="code" href="structcgns__base.html#f210aa767697826c3dc29cfb2ffec256">phys_dim</a>*<span class="keyword">sizeof</span>(<span class="keywordtype">float</span>));
<a name="l07258"></a>07258     strcpy(axisym-&gt;<a class="code" href="structcgns__axisym.html#1973739e7639e00a0d5aafe8c355c2aa">array</a>[0].<a class="code" href="structcgns__array.html#b5192b2e796e6224c74ec532ec32abf7">name</a>, <span class="stringliteral">"AxisymmetryReferencePoint"</span>);
<a name="l07259"></a>07259     strcpy(axisym-&gt;<a class="code" href="structcgns__axisym.html#1973739e7639e00a0d5aafe8c355c2aa">array</a>[1].<a class="code" href="structcgns__array.html#b5192b2e796e6224c74ec532ec32abf7">name</a>, <span class="stringliteral">"AxisymmetryAxisVector"</span>);
<a name="l07260"></a>07260 
<a name="l07261"></a>07261      <span class="comment">/* initialize other fields of axisym-&gt;array[n] */</span>
<a name="l07262"></a>07262     <span class="keywordflow">for</span> (n=0; n&lt;axisym-&gt;<a class="code" href="structcgns__axisym.html#ace0c04d503f8dda2284ae61a8344b8b">narrays</a>; n++) {
<a name="l07263"></a>07263         axisym-&gt;<a class="code" href="structcgns__axisym.html#1973739e7639e00a0d5aafe8c355c2aa">array</a>[n].<a class="code" href="structcgns__array.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>=0;
<a name="l07264"></a>07264         axisym-&gt;<a class="code" href="structcgns__axisym.html#1973739e7639e00a0d5aafe8c355c2aa">array</a>[n].<a class="code" href="structcgns__array.html#f6f27f42b9ecc89cf0ed39415bca67d1">link</a>=0;
<a name="l07265"></a>07265         axisym-&gt;<a class="code" href="structcgns__axisym.html#1973739e7639e00a0d5aafe8c355c2aa">array</a>[n].<a class="code" href="structcgns__array.html#cdee83a08ec17a8018bf719ef82a3602">ndescr</a>=0;
<a name="l07266"></a>07266         axisym-&gt;<a class="code" href="structcgns__axisym.html#1973739e7639e00a0d5aafe8c355c2aa">array</a>[n].<a class="code" href="structcgns__array.html#6aa9eb3c5ad6bdecf6cd8c2b3d97839c">data_class</a>=<a class="code" href="cgns_keywords_8h.html#6e3a45166e6780b756fef5c427279ca079d3001e5ba3290ed80f0762d51bb379">DataClassNull</a>;
<a name="l07267"></a>07267         axisym-&gt;<a class="code" href="structcgns__axisym.html#1973739e7639e00a0d5aafe8c355c2aa">array</a>[n].<a class="code" href="structcgns__array.html#9b4c6b823f0741729aa08b21a4120308">units</a>=0;
<a name="l07268"></a>07268         axisym-&gt;<a class="code" href="structcgns__axisym.html#1973739e7639e00a0d5aafe8c355c2aa">array</a>[n].<a class="code" href="structcgns__array.html#87b103c38a459cc8a1c6cf06f01aa12a">exponents</a>=0;
<a name="l07269"></a>07269         axisym-&gt;<a class="code" href="structcgns__axisym.html#1973739e7639e00a0d5aafe8c355c2aa">array</a>[n].<a class="code" href="structcgns__array.html#0724545c909f7773439fee292fe3ef5f">convert</a>=0;
<a name="l07270"></a>07270     }
<a name="l07271"></a>07271 
<a name="l07272"></a>07272      <span class="comment">/* initialize other fields of axisym */</span>
<a name="l07273"></a>07273     strcpy(axisym-&gt;<a class="code" href="structcgns__axisym.html#b5192b2e796e6224c74ec532ec32abf7">name</a>, <span class="stringliteral">"Axisymmetry"</span>);
<a name="l07274"></a>07274     axisym-&gt;<a class="code" href="structcgns__axisym.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>=0;
<a name="l07275"></a>07275     axisym-&gt;<a class="code" href="structcgns__axisym.html#f6f27f42b9ecc89cf0ed39415bca67d1">link</a>=0;
<a name="l07276"></a>07276     axisym-&gt;<a class="code" href="structcgns__axisym.html#cdee83a08ec17a8018bf719ef82a3602">ndescr</a>=0;
<a name="l07277"></a>07277     axisym-&gt;<a class="code" href="structcgns__axisym.html#6aa9eb3c5ad6bdecf6cd8c2b3d97839c">data_class</a>=<a class="code" href="cgns_keywords_8h.html#6e3a45166e6780b756fef5c427279ca079d3001e5ba3290ed80f0762d51bb379">DataClassNull</a>;
<a name="l07278"></a>07278     axisym-&gt;<a class="code" href="structcgns__axisym.html#9b4c6b823f0741729aa08b21a4120308">units</a>=0;
<a name="l07279"></a>07279     axisym-&gt;<a class="code" href="structcgns__axisym.html#dc1e157d997b3174f9d41c5b645631f9">nuser_data</a>=0;
<a name="l07280"></a>07280 
<a name="l07281"></a>07281      <span class="comment">/* Write to disk */</span>
<a name="l07282"></a>07282     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#36c5c06660e3b1a41090d8f29c507b40">cgi_write_axisym</a>(base-&gt;<a class="code" href="structcgns__base.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, axisym)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l07283"></a>07283 
<a name="l07284"></a>07284     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l07285"></a>07285 }
<a name="l07286"></a>07286 
<a name="l07287"></a>07287 <span class="comment">/*****************************************************************************\</span>
<a name="l07288"></a>07288 <span class="comment"> *           Write Multiple path nodes</span>
<a name="l07289"></a>07289 <span class="comment">\*****************************************************************************/</span>
<a name="l07290"></a>07290 
<a name="l07291"></a><a class="code" href="cgnslib_8h.html#4d5e25e31605cabeaa5dd226ffb229ec">07291</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#9daf593267e052ae840040a2e990345c">cg_famname_write</a>(<span class="keywordtype">char</span> <span class="keyword">const</span> * family_name) {
<a name="l07292"></a>07292     <span class="keywordtype">char</span> *famname;
<a name="l07293"></a>07293     <span class="keywordtype">int</span> ier=0, <a class="code" href="_a_d_f__internals_8h.html#830f6050ecf88958651b63cc1abfba2d">dim_vals</a>;
<a name="l07294"></a>07294     <span class="keywordtype">double</span> posit_id, dummy_id;
<a name="l07295"></a>07295 
<a name="l07296"></a>07296      <span class="comment">/* verify input */</span>
<a name="l07297"></a>07297     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l07298"></a>07298 
<a name="l07299"></a>07299     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#b042658423afd0817ab23b3ea7a5e03d">cgi_check_strlen</a>(family_name)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l07300"></a>07300 
<a name="l07301"></a>07301     famname = <a class="code" href="cgns__header_8h.html#ea35d1454d4814d38afc88c1e422f32d">cgi_famname_address</a>(<a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>, &amp;ier);
<a name="l07302"></a>07302     <span class="keywordflow">if</span> (famname==0) <span class="keywordflow">return</span> ier;
<a name="l07303"></a>07303 
<a name="l07304"></a>07304     strcpy(famname, family_name);
<a name="l07305"></a>07305 
<a name="l07306"></a>07306      <span class="comment">/* save data in file */</span>
<a name="l07307"></a>07307     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#dfcc6b9f463371c7fbfb6a9e7307f39a">cgi_posit_id</a>(&amp;posit_id)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l07308"></a>07308     <a class="code" href="_a_d_f__internals_8h.html#830f6050ecf88958651b63cc1abfba2d">dim_vals</a> = strlen(family_name);
<a name="l07309"></a>07309     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#184dd1d99e9f4e7b826f84887ba07748">cgi_new_node</a>(posit_id, <span class="stringliteral">"FamilyName"</span>, <span class="stringliteral">"FamilyName_t"</span>, &amp;dummy_id,
<a name="l07310"></a>07310         <span class="stringliteral">"C1"</span>, 1, &amp;<a class="code" href="_a_d_f__internals_8h.html#830f6050ecf88958651b63cc1abfba2d">dim_vals</a>, (<span class="keywordtype">void</span> *)family_name)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l07311"></a>07311 
<a name="l07312"></a>07312     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l07313"></a>07313 }
<a name="l07314"></a>07314 
<a name="l07315"></a>07315 
<a name="l07316"></a><a class="code" href="cgnslib_8h.html#2338ab100bbcd0d8e694529bbfd1302c">07316</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#a681f69f6a4a03b2413ece4b956159f1">cg_convergence_write</a>(<span class="keywordtype">int</span> iterations, <span class="keywordtype">char</span> <span class="keyword">const</span> * NormDefinitions) {
<a name="l07317"></a>07317     <a class="code" href="structcgns__converg.html">cgns_converg</a> *converg;
<a name="l07318"></a>07318     <span class="keywordtype">int</span> ier=0, <a class="code" href="_a_d_f__internals_8h.html#830f6050ecf88958651b63cc1abfba2d">dim_vals</a>;
<a name="l07319"></a>07319     <span class="keywordtype">double</span> posit_id;
<a name="l07320"></a>07320 
<a name="l07321"></a>07321      <span class="comment">/* verify input */</span>
<a name="l07322"></a>07322     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l07323"></a>07323 
<a name="l07324"></a>07324     converg = <a class="code" href="cgns__header_8h.html#e0467a35e791a0da78a7188175c3aa05">cgi_converg_address</a>(<a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>, &amp;ier);
<a name="l07325"></a>07325     <span class="keywordflow">if</span> (converg==0) <span class="keywordflow">return</span> ier;
<a name="l07326"></a>07326 
<a name="l07327"></a>07327      <span class="comment">/* initialize new ConvergenceHistory_t node */</span>
<a name="l07328"></a>07328     converg-&gt;<a class="code" href="structcgns__converg.html#1d10e252e778731e59f0f71afd7e727e">iterations</a>=0;
<a name="l07329"></a>07329     converg-&gt;<a class="code" href="structcgns__converg.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a> = 0;
<a name="l07330"></a>07330     converg-&gt;<a class="code" href="structcgns__converg.html#f6f27f42b9ecc89cf0ed39415bca67d1">link</a>=0;
<a name="l07331"></a>07331     converg-&gt;<a class="code" href="structcgns__converg.html#cdee83a08ec17a8018bf719ef82a3602">ndescr</a>=0;
<a name="l07332"></a>07332     converg-&gt;<a class="code" href="structcgns__converg.html#d99d78819e8b715593726a92e6562629">NormDefinitions</a> = 0;
<a name="l07333"></a>07333     converg-&gt;<a class="code" href="structcgns__converg.html#ace0c04d503f8dda2284ae61a8344b8b">narrays</a>=0;
<a name="l07334"></a>07334     converg-&gt;<a class="code" href="structcgns__converg.html#6aa9eb3c5ad6bdecf6cd8c2b3d97839c">data_class</a>=<a class="code" href="cgns_keywords_8h.html#6e3a45166e6780b756fef5c427279ca079d3001e5ba3290ed80f0762d51bb379">DataClassNull</a>;
<a name="l07335"></a>07335     converg-&gt;<a class="code" href="structcgns__converg.html#9b4c6b823f0741729aa08b21a4120308">units</a>=0;
<a name="l07336"></a>07336     converg-&gt;<a class="code" href="structcgns__converg.html#dc1e157d997b3174f9d41c5b645631f9">nuser_data</a>=0;
<a name="l07337"></a>07337 
<a name="l07338"></a>07338      <span class="comment">/* save data in memory */</span>
<a name="l07339"></a>07339     converg-&gt;<a class="code" href="structcgns__converg.html#1d10e252e778731e59f0f71afd7e727e">iterations</a> = iterations;
<a name="l07340"></a>07340     <span class="keywordflow">if</span> (NormDefinitions &amp;&amp; strlen(NormDefinitions)) {
<a name="l07341"></a>07341         converg-&gt;<a class="code" href="structcgns__converg.html#d99d78819e8b715593726a92e6562629">NormDefinitions</a>=<a class="code" href="cgns__header_8h.html#948c36b3700de0f3332aa3620eafb0f4">CGNS_NEW</a>(<a class="code" href="structcgns__descr.html">cgns_descr</a>, 1);
<a name="l07342"></a>07342         converg-&gt;<a class="code" href="structcgns__converg.html#d99d78819e8b715593726a92e6562629">NormDefinitions</a>-&gt;<a class="code" href="structcgns__descr.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>=0;
<a name="l07343"></a>07343         converg-&gt;<a class="code" href="structcgns__converg.html#d99d78819e8b715593726a92e6562629">NormDefinitions</a>-&gt;<a class="code" href="structcgns__descr.html#f6f27f42b9ecc89cf0ed39415bca67d1">link</a>=0;
<a name="l07344"></a>07344         converg-&gt;<a class="code" href="structcgns__converg.html#d99d78819e8b715593726a92e6562629">NormDefinitions</a>-&gt;<a class="code" href="structcgns__descr.html#5633b1433389cec21ade3811bbe9ca5b">text</a> = <a class="code" href="cgns__header_8h.html#948c36b3700de0f3332aa3620eafb0f4">CGNS_NEW</a>(<span class="keywordtype">char</span>, strlen(NormDefinitions)+1);
<a name="l07345"></a>07345         strcpy(converg-&gt;<a class="code" href="structcgns__converg.html#d99d78819e8b715593726a92e6562629">NormDefinitions</a>-&gt;<a class="code" href="structcgns__descr.html#5633b1433389cec21ade3811bbe9ca5b">text</a>, NormDefinitions);
<a name="l07346"></a>07346         strcpy(converg-&gt;<a class="code" href="structcgns__converg.html#d99d78819e8b715593726a92e6562629">NormDefinitions</a>-&gt;<a class="code" href="structcgns__descr.html#b5192b2e796e6224c74ec532ec32abf7">name</a>, <span class="stringliteral">"NormDefinitions"</span>);
<a name="l07347"></a>07347     }
<a name="l07348"></a>07348 
<a name="l07349"></a>07349      <span class="comment">/* save data in file */</span>
<a name="l07350"></a>07350     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#dfcc6b9f463371c7fbfb6a9e7307f39a">cgi_posit_id</a>(&amp;posit_id)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l07351"></a>07351     <a class="code" href="_a_d_f__internals_8h.html#830f6050ecf88958651b63cc1abfba2d">dim_vals</a>=1;
<a name="l07352"></a>07352     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#184dd1d99e9f4e7b826f84887ba07748">cgi_new_node</a>(posit_id, converg-&gt;<a class="code" href="structcgns__converg.html#b5192b2e796e6224c74ec532ec32abf7">name</a>, <span class="stringliteral">"ConvergenceHistory_t"</span>, &amp;converg-&gt;<a class="code" href="structcgns__converg.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>,
<a name="l07353"></a>07353         <span class="stringliteral">"I4"</span>, 1, &amp;<a class="code" href="_a_d_f__internals_8h.html#830f6050ecf88958651b63cc1abfba2d">dim_vals</a>, (<span class="keywordtype">void</span> *)&amp;converg-&gt;<a class="code" href="structcgns__converg.html#1d10e252e778731e59f0f71afd7e727e">iterations</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l07354"></a>07354 
<a name="l07355"></a>07355      <span class="comment">/* write NormDefinitions */</span>
<a name="l07356"></a>07356     <span class="keywordflow">if</span> (converg-&gt;<a class="code" href="structcgns__converg.html#d99d78819e8b715593726a92e6562629">NormDefinitions</a> &amp;&amp;
<a name="l07357"></a>07357         <a class="code" href="cgns__header_8h.html#5c492e31ca7f568c379cea03d6b56aca">cgi_write_descr</a>(converg-&gt;<a class="code" href="structcgns__converg.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, converg-&gt;<a class="code" href="structcgns__converg.html#d99d78819e8b715593726a92e6562629">NormDefinitions</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l07358"></a>07358     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l07359"></a>07359 }
<a name="l07360"></a>07360 
<a name="l07361"></a><a class="code" href="cgnslib_8h.html#dc678f084045decacf49dd62338b70c8">07361</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#e4abd3b56b1fa6992eb920e9c0b8adad">cg_state_write</a>(<span class="keywordtype">char</span> <span class="keyword">const</span> * StateDescription) {
<a name="l07362"></a>07362     <a class="code" href="structcgns__state.html">cgns_state</a> *state;
<a name="l07363"></a>07363     <span class="keywordtype">int</span> ier=0;
<a name="l07364"></a>07364     <span class="keywordtype">double</span> posit_id;
<a name="l07365"></a>07365 
<a name="l07366"></a>07366      <span class="comment">/* verify input */</span>
<a name="l07367"></a>07367     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l07368"></a>07368 
<a name="l07369"></a>07369     state = <a class="code" href="cgns__header_8h.html#e87029c5603be1cecf3ecde436cd48cb">cgi_state_address</a>(<a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>, &amp;ier);
<a name="l07370"></a>07370     <span class="keywordflow">if</span> (state==0) <span class="keywordflow">return</span> ier;
<a name="l07371"></a>07371 
<a name="l07372"></a>07372      <span class="comment">/* initialize state */</span>
<a name="l07373"></a>07373     strcpy(state-&gt;<a class="code" href="structcgns__state.html#b5192b2e796e6224c74ec532ec32abf7">name</a>,<span class="stringliteral">"ReferenceState"</span>);
<a name="l07374"></a>07374     state-&gt;<a class="code" href="structcgns__state.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a> = 0;
<a name="l07375"></a>07375     state-&gt;<a class="code" href="structcgns__state.html#f6f27f42b9ecc89cf0ed39415bca67d1">link</a>=0;
<a name="l07376"></a>07376     state-&gt;<a class="code" href="structcgns__state.html#cdee83a08ec17a8018bf719ef82a3602">ndescr</a>=0;
<a name="l07377"></a>07377     state-&gt;<a class="code" href="structcgns__state.html#ace0c04d503f8dda2284ae61a8344b8b">narrays</a>=0;
<a name="l07378"></a>07378     state-&gt;<a class="code" href="structcgns__state.html#6aa9eb3c5ad6bdecf6cd8c2b3d97839c">data_class</a>=<a class="code" href="cgns_keywords_8h.html#6e3a45166e6780b756fef5c427279ca079d3001e5ba3290ed80f0762d51bb379">DataClassNull</a>;
<a name="l07379"></a>07379     state-&gt;<a class="code" href="structcgns__state.html#9b4c6b823f0741729aa08b21a4120308">units</a>=0;
<a name="l07380"></a>07380     state-&gt;<a class="code" href="structcgns__state.html#37ba757b84628410da818ed0943f407d">StateDescription</a>=0;
<a name="l07381"></a>07381     state-&gt;<a class="code" href="structcgns__state.html#dc1e157d997b3174f9d41c5b645631f9">nuser_data</a>=0;
<a name="l07382"></a>07382 
<a name="l07383"></a>07383      <span class="comment">/* Save data in memory */</span>
<a name="l07384"></a>07384     <span class="keywordflow">if</span> (StateDescription &amp;&amp; strlen(StateDescription)) {
<a name="l07385"></a>07385         state-&gt;<a class="code" href="structcgns__state.html#37ba757b84628410da818ed0943f407d">StateDescription</a>=<a class="code" href="cgns__header_8h.html#948c36b3700de0f3332aa3620eafb0f4">CGNS_NEW</a>(<a class="code" href="structcgns__descr.html">cgns_descr</a>, 1);
<a name="l07386"></a>07386         state-&gt;<a class="code" href="structcgns__state.html#37ba757b84628410da818ed0943f407d">StateDescription</a>-&gt;<a class="code" href="structcgns__descr.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a> = 0;
<a name="l07387"></a>07387         state-&gt;<a class="code" href="structcgns__state.html#37ba757b84628410da818ed0943f407d">StateDescription</a>-&gt;<a class="code" href="structcgns__descr.html#f6f27f42b9ecc89cf0ed39415bca67d1">link</a> = 0;
<a name="l07388"></a>07388         state-&gt;<a class="code" href="structcgns__state.html#37ba757b84628410da818ed0943f407d">StateDescription</a>-&gt;<a class="code" href="structcgns__descr.html#5633b1433389cec21ade3811bbe9ca5b">text</a> = <a class="code" href="cgns__header_8h.html#948c36b3700de0f3332aa3620eafb0f4">CGNS_NEW</a>(<span class="keywordtype">char</span>, strlen(StateDescription)+1);
<a name="l07389"></a>07389         strcpy(state-&gt;<a class="code" href="structcgns__state.html#37ba757b84628410da818ed0943f407d">StateDescription</a>-&gt;<a class="code" href="structcgns__descr.html#5633b1433389cec21ade3811bbe9ca5b">text</a>, StateDescription);
<a name="l07390"></a>07390         strcpy(state-&gt;<a class="code" href="structcgns__state.html#37ba757b84628410da818ed0943f407d">StateDescription</a>-&gt;<a class="code" href="structcgns__descr.html#b5192b2e796e6224c74ec532ec32abf7">name</a>, <span class="stringliteral">"ReferenceStateDescription"</span>);
<a name="l07391"></a>07391     }
<a name="l07392"></a>07392 
<a name="l07393"></a>07393      <span class="comment">/* save data in file */</span>
<a name="l07394"></a>07394     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#dfcc6b9f463371c7fbfb6a9e7307f39a">cgi_posit_id</a>(&amp;posit_id)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l07395"></a>07395 
<a name="l07396"></a>07396      <span class="comment">/* ReferenceState_t */</span>
<a name="l07397"></a>07397     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#184dd1d99e9f4e7b826f84887ba07748">cgi_new_node</a>(posit_id, state-&gt;<a class="code" href="structcgns__state.html#b5192b2e796e6224c74ec532ec32abf7">name</a>, <span class="stringliteral">"ReferenceState_t"</span>, &amp;state-&gt;<a class="code" href="structcgns__state.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>,
<a name="l07398"></a>07398         <span class="stringliteral">"MT"</span>, 0, 0, 0)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l07399"></a>07399 
<a name="l07400"></a>07400      <span class="comment">/* ReferenceStateDescription */</span>
<a name="l07401"></a>07401     <span class="keywordflow">if</span> (state-&gt;<a class="code" href="structcgns__state.html#37ba757b84628410da818ed0943f407d">StateDescription</a> &amp;&amp;
<a name="l07402"></a>07402         <a class="code" href="cgns__header_8h.html#5c492e31ca7f568c379cea03d6b56aca">cgi_write_descr</a>(state-&gt;<a class="code" href="structcgns__state.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, state-&gt;<a class="code" href="structcgns__state.html#37ba757b84628410da818ed0943f407d">StateDescription</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l07403"></a>07403     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l07404"></a>07404 }
<a name="l07405"></a>07405 
<a name="l07406"></a><a class="code" href="cgnslib_8h.html#6403be9da276917c8424c2d73c9b1675">07406</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#d4f30648fd323dbce397fc0a3883dc74">cg_equationset_write</a>(<span class="keywordtype">int</span> EquationDimension) {
<a name="l07407"></a>07407     <a class="code" href="structcgns__equations.html">cgns_equations</a> *equations;
<a name="l07408"></a>07408     <span class="keywordtype">int</span> ier=0;
<a name="l07409"></a>07409     <span class="keywordtype">double</span> posit_id;
<a name="l07410"></a>07410 
<a name="l07411"></a>07411      <span class="comment">/* verify input */</span>
<a name="l07412"></a>07412     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l07413"></a>07413 
<a name="l07414"></a>07414     equations=<a class="code" href="cgns__header_8h.html#c5e2d486384b38e1b556a8e758dbfb48">cgi_equations_address</a>(<a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>, &amp;ier);
<a name="l07415"></a>07415     <span class="keywordflow">if</span> (equations==0) <span class="keywordflow">return</span> ier;
<a name="l07416"></a>07416 
<a name="l07417"></a>07417      <span class="comment">/* Save data */</span>
<a name="l07418"></a>07418     equations-&gt;<a class="code" href="structcgns__equations.html#698de3d7bf6f9585878ac4cf71013e48">equation_dim</a>=EquationDimension;
<a name="l07419"></a>07419 
<a name="l07420"></a>07420      <span class="comment">/* initialize other fields */</span>
<a name="l07421"></a>07421     strcpy(equations-&gt;<a class="code" href="structcgns__equations.html#b5192b2e796e6224c74ec532ec32abf7">name</a>, <span class="stringliteral">"FlowEquationSet"</span>);
<a name="l07422"></a>07422     equations-&gt;<a class="code" href="structcgns__equations.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>=0;
<a name="l07423"></a>07423     equations-&gt;<a class="code" href="structcgns__equations.html#f6f27f42b9ecc89cf0ed39415bca67d1">link</a>=0;
<a name="l07424"></a>07424     equations-&gt;<a class="code" href="structcgns__equations.html#cdee83a08ec17a8018bf719ef82a3602">ndescr</a>=0;
<a name="l07425"></a>07425     equations-&gt;<a class="code" href="structcgns__equations.html#4cedde0decc1ffb50a76ff632660ac26">governing</a>=0;
<a name="l07426"></a>07426     equations-&gt;<a class="code" href="structcgns__equations.html#21034bf378329608d1dbc2a02d4587d3">gas</a>=0;
<a name="l07427"></a>07427     equations-&gt;<a class="code" href="structcgns__equations.html#ec3c2c1a1587557a32fb201b00bd0c35">visc</a>=0;
<a name="l07428"></a>07428     equations-&gt;<a class="code" href="structcgns__equations.html#366946fce927d499aae02bac600944bc">conduct</a>=0;
<a name="l07429"></a>07429     equations-&gt;<a class="code" href="structcgns__equations.html#954b06228938d2a19e4d35aba8027433">closure</a>=0;
<a name="l07430"></a>07430     equations-&gt;<a class="code" href="structcgns__equations.html#1cbe673027cbfbf45921d374c7ad052a">turbulence</a>=0;
<a name="l07431"></a>07431     equations-&gt;<a class="code" href="structcgns__equations.html#b1cb762cc36947e17f3034755d346a39">relaxation</a>=0;
<a name="l07432"></a>07432     equations-&gt;<a class="code" href="structcgns__equations.html#720db91659fafeaf32aa9be7aad1034e">chemkin</a>=0;
<a name="l07433"></a>07433     equations-&gt;<a class="code" href="structcgns__equations.html#6aa9eb3c5ad6bdecf6cd8c2b3d97839c">data_class</a>=<a class="code" href="cgns_keywords_8h.html#6e3a45166e6780b756fef5c427279ca079d3001e5ba3290ed80f0762d51bb379">DataClassNull</a>;
<a name="l07434"></a>07434     equations-&gt;<a class="code" href="structcgns__equations.html#9b4c6b823f0741729aa08b21a4120308">units</a>=0;
<a name="l07435"></a>07435     equations-&gt;<a class="code" href="structcgns__equations.html#dc1e157d997b3174f9d41c5b645631f9">nuser_data</a>=0;
<a name="l07436"></a>07436     equations-&gt;<a class="code" href="structcgns__equations.html#2c39257e6300c6d38b83fe375e6d68c1">elecfield</a> = 0;
<a name="l07437"></a>07437     equations-&gt;<a class="code" href="structcgns__equations.html#ddc478d211550ffbd7fa178b5230497b">magnfield</a> = 0;
<a name="l07438"></a>07438     equations-&gt;<a class="code" href="structcgns__equations.html#3718c1414689ccf8b82af7efdbbd2461">emconduct</a> = 0;
<a name="l07439"></a>07439 
<a name="l07440"></a>07440      <span class="comment">/* save data in file */</span>
<a name="l07441"></a>07441     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#dfcc6b9f463371c7fbfb6a9e7307f39a">cgi_posit_id</a>(&amp;posit_id)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l07442"></a>07442     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#b275f96d3d023c4ebfb7319faa08fd77">cgi_write_equations</a>(posit_id, equations)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l07443"></a>07443     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l07444"></a>07444 }
<a name="l07445"></a>07445 
<a name="l07446"></a><a class="code" href="cgnslib_8h.html#e8120e09e2a24c7836135e60273e4203">07446</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#2d63e2a3406c9db25eeaf8c89cfdb0b7">cg_governing_write</a>(<a class="code" href="cgns_keywords_8h.html#7a3f70ad41979f9879fdcb6707519cac">GoverningEquationsType_t</a> Equationstype) {
<a name="l07447"></a>07447     <a class="code" href="structcgns__governing.html">cgns_governing</a> *governing;
<a name="l07448"></a>07448     <span class="keywordtype">int</span> ier=0, index_dim, <a class="code" href="_a_d_f__internals_8h.html#830f6050ecf88958651b63cc1abfba2d">dim_vals</a>;
<a name="l07449"></a>07449     <span class="keywordtype">double</span> posit_id;
<a name="l07450"></a>07450 
<a name="l07451"></a>07451      <span class="comment">/* verify input */</span>
<a name="l07452"></a>07452     <span class="keywordflow">if</span> (Equationstype&lt;0 || Equationstype&gt;=<a class="code" href="cgns_keywords_8h.html#27b265b03203281bea845cdeb957b117">NofValidGoverningEquationsTypes</a>) {
<a name="l07453"></a>07453         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Invalid Governing Equations Type: %d"</span>,Equationstype);
<a name="l07454"></a>07454         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l07455"></a>07455     }
<a name="l07456"></a>07456     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l07457"></a>07457 
<a name="l07458"></a>07458     governing = <a class="code" href="cgns__header_8h.html#dd8e570d0f49461b8356aab28290582e">cgi_governing_address</a>(<a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>, &amp;ier);
<a name="l07459"></a>07459     <span class="keywordflow">if</span> (governing==0) <span class="keywordflow">return</span> ier;
<a name="l07460"></a>07460 
<a name="l07461"></a>07461      <span class="comment">/* Save data */</span>
<a name="l07462"></a>07462     governing-&gt;<a class="code" href="structcgns__governing.html#f4e5b78caa62b03260b2fffcdb77c204">type</a>=Equationstype;
<a name="l07463"></a>07463 
<a name="l07464"></a>07464      <span class="comment">/* initialize other fields */</span>
<a name="l07465"></a>07465     strcpy(governing-&gt;<a class="code" href="structcgns__governing.html#b5192b2e796e6224c74ec532ec32abf7">name</a>, <span class="stringliteral">"GoverningEquations"</span>);
<a name="l07466"></a>07466     governing-&gt;<a class="code" href="structcgns__governing.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>=0;
<a name="l07467"></a>07467     governing-&gt;<a class="code" href="structcgns__governing.html#f6f27f42b9ecc89cf0ed39415bca67d1">link</a>=0;
<a name="l07468"></a>07468     governing-&gt;<a class="code" href="structcgns__governing.html#cdee83a08ec17a8018bf719ef82a3602">ndescr</a>=0;
<a name="l07469"></a>07469     governing-&gt;<a class="code" href="structcgns__governing.html#d5f42f2af19bc6458308a01dbf0685c8">diffusion_model</a>=0;
<a name="l07470"></a>07470     governing-&gt;<a class="code" href="structcgns__governing.html#dc1e157d997b3174f9d41c5b645631f9">nuser_data</a>=0;
<a name="l07471"></a>07471 
<a name="l07472"></a>07472     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#9aefb3fb2179957b84774f80fc7ca76a">posit_base</a> &amp;&amp; <a class="code" href="cgns__header_8h.html#ebd0971a3f05d514c15194a9a9d08617">posit_zone</a>) {
<a name="l07473"></a>07473         index_dim = cg-&gt;<a class="code" href="structcgns__file.html#0429392e9c26dac2f0b97ae2d2127117">base</a>[<a class="code" href="cgns__header_8h.html#9aefb3fb2179957b84774f80fc7ca76a">posit_base</a>-1].<a class="code" href="structcgns__base.html#abbb754f366f926198416ad91b8155ef">zone</a>[<a class="code" href="cgns__header_8h.html#ebd0971a3f05d514c15194a9a9d08617">posit_zone</a>-1].<a class="code" href="structcgns__zone.html#5ea7c3da009c9add916c0eeca1973c05">index_dim</a>;
<a name="l07474"></a>07474 
<a name="l07475"></a>07475      <span class="comment">/* If defined under CGNSBase_t node */</span>
<a name="l07476"></a>07476     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#9aefb3fb2179957b84774f80fc7ca76a">posit_base</a>) {
<a name="l07477"></a>07477         index_dim = cg-&gt;<a class="code" href="structcgns__file.html#0429392e9c26dac2f0b97ae2d2127117">base</a>[<a class="code" href="cgns__header_8h.html#9aefb3fb2179957b84774f80fc7ca76a">posit_base</a>-1].<a class="code" href="structcgns__base.html#1bee6ac28f8d5df04476d015a8643d3a">cell_dim</a>;
<a name="l07478"></a>07478 
<a name="l07479"></a>07479     } <span class="keywordflow">else</span> {
<a name="l07480"></a>07480         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Can't find IndexDimension in cg_governing_write."</span>);
<a name="l07481"></a>07481         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#e5e87a97d0361ef2982e0424d2abeb48">CG_NO_INDEX_DIM</a>;
<a name="l07482"></a>07482     }
<a name="l07483"></a>07483     <span class="keywordflow">if</span> (index_dim==1) governing-&gt;<a class="code" href="structcgns__governing.html#0c1bc7f4d93ce0adcb787c5583e63881">dim_vals</a>=1;
<a name="l07484"></a>07484     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (index_dim==2) governing-&gt;<a class="code" href="structcgns__governing.html#0c1bc7f4d93ce0adcb787c5583e63881">dim_vals</a>=3;
<a name="l07485"></a>07485     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (index_dim==3) governing-&gt;<a class="code" href="structcgns__governing.html#0c1bc7f4d93ce0adcb787c5583e63881">dim_vals</a>=6;
<a name="l07486"></a>07486 
<a name="l07487"></a>07487      <span class="comment">/* save data in file */</span>
<a name="l07488"></a>07488     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#dfcc6b9f463371c7fbfb6a9e7307f39a">cgi_posit_id</a>(&amp;posit_id)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l07489"></a>07489     dim_vals = strlen(<a class="code" href="cgnslib_8c.html#7ff13aa230db5be593d4331ce66d354c">GoverningEquationsTypeName</a>[governing-&gt;<a class="code" href="structcgns__governing.html#f4e5b78caa62b03260b2fffcdb77c204">type</a>]);
<a name="l07490"></a>07490     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#184dd1d99e9f4e7b826f84887ba07748">cgi_new_node</a>(posit_id, <span class="stringliteral">"GoverningEquations"</span>,
<a name="l07491"></a>07491         <span class="stringliteral">"GoverningEquations_t"</span>, &amp;governing-&gt;<a class="code" href="structcgns__governing.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, <span class="stringliteral">"C1"</span>, 1, &amp;dim_vals,
<a name="l07492"></a>07492         <a class="code" href="cgnslib_8c.html#7ff13aa230db5be593d4331ce66d354c">GoverningEquationsTypeName</a>[governing-&gt;<a class="code" href="structcgns__governing.html#f4e5b78caa62b03260b2fffcdb77c204">type</a>])) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l07493"></a>07493     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l07494"></a>07494 }
<a name="l07495"></a>07495 
<a name="l07496"></a><a class="code" href="cgnslib_8h.html#d74d108967825e76d197efe89c476372">07496</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#4ce0b7e4b52ed47adce26c80a6d2885e">cg_diffusion_write</a>(<span class="keywordtype">int</span> <span class="keyword">const</span> * diffusion_model) {
<a name="l07497"></a>07497     <span class="keywordtype">int</span> *diffusion;
<a name="l07498"></a>07498     <span class="keywordtype">int</span> n, ndata, ier=0, index_dim;
<a name="l07499"></a>07499     <span class="keywordtype">double</span> posit_id, dummy_id;
<a name="l07500"></a>07500 
<a name="l07501"></a>07501      <span class="comment">/* verify input */</span>
<a name="l07502"></a>07502     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l07503"></a>07503 
<a name="l07504"></a>07504     diffusion = <a class="code" href="cgns__header_8h.html#dfb98eb01235e97d1518ce6c40eb3e73">cgi_diffusion_address</a>(<a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>, &amp;ier);
<a name="l07505"></a>07505     <span class="keywordflow">if</span> (diffusion==0) <span class="keywordflow">return</span> ier;
<a name="l07506"></a>07506 
<a name="l07507"></a>07507      <span class="comment">/* Save data */</span>
<a name="l07508"></a>07508     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#9aefb3fb2179957b84774f80fc7ca76a">posit_base</a> &amp;&amp; <a class="code" href="cgns__header_8h.html#ebd0971a3f05d514c15194a9a9d08617">posit_zone</a>) {
<a name="l07509"></a>07509         index_dim = cg-&gt;<a class="code" href="structcgns__file.html#0429392e9c26dac2f0b97ae2d2127117">base</a>[<a class="code" href="cgns__header_8h.html#9aefb3fb2179957b84774f80fc7ca76a">posit_base</a>-1].<a class="code" href="structcgns__base.html#abbb754f366f926198416ad91b8155ef">zone</a>[<a class="code" href="cgns__header_8h.html#ebd0971a3f05d514c15194a9a9d08617">posit_zone</a>-1].<a class="code" href="structcgns__zone.html#5ea7c3da009c9add916c0eeca1973c05">index_dim</a>;
<a name="l07510"></a>07510 
<a name="l07511"></a>07511      <span class="comment">/* If defined under CGNSBase_t node */</span>
<a name="l07512"></a>07512     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#9aefb3fb2179957b84774f80fc7ca76a">posit_base</a>) {
<a name="l07513"></a>07513         index_dim = cg-&gt;<a class="code" href="structcgns__file.html#0429392e9c26dac2f0b97ae2d2127117">base</a>[<a class="code" href="cgns__header_8h.html#9aefb3fb2179957b84774f80fc7ca76a">posit_base</a>-1].<a class="code" href="structcgns__base.html#1bee6ac28f8d5df04476d015a8643d3a">cell_dim</a>;
<a name="l07514"></a>07514     } <span class="keywordflow">else</span> {
<a name="l07515"></a>07515         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Can't find IndexDimension in cg_diffusion_write."</span>);
<a name="l07516"></a>07516         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#e5e87a97d0361ef2982e0424d2abeb48">CG_NO_INDEX_DIM</a>;
<a name="l07517"></a>07517     }
<a name="l07518"></a>07518     <span class="keywordflow">if</span> (index_dim==1) ndata=1;
<a name="l07519"></a>07519     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (index_dim==2) ndata=3;
<a name="l07520"></a>07520     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (index_dim==3) ndata=6;
<a name="l07521"></a>07521     <span class="keywordflow">else</span> {
<a name="l07522"></a>07522         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"invalid value for IndexDimension"</span>);
<a name="l07523"></a>07523         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l07524"></a>07524     }
<a name="l07525"></a>07525 
<a name="l07526"></a>07526     <span class="keywordflow">for</span> (n=0; n&lt;ndata; n++) diffusion[n] = diffusion_model[n];
<a name="l07527"></a>07527 
<a name="l07528"></a>07528      <span class="comment">/* save data in file */</span>
<a name="l07529"></a>07529     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#dfcc6b9f463371c7fbfb6a9e7307f39a">cgi_posit_id</a>(&amp;posit_id)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l07530"></a>07530 
<a name="l07531"></a>07531      <span class="comment">/* DiffusionModel */</span>
<a name="l07532"></a>07532     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#184dd1d99e9f4e7b826f84887ba07748">cgi_new_node</a>(posit_id, <span class="stringliteral">"DiffusionModel"</span>,
<a name="l07533"></a>07533         <span class="stringliteral">"\"int[1+...+IndexDimension]\""</span>, &amp;dummy_id, <span class="stringliteral">"I4"</span>, 1,
<a name="l07534"></a>07534         &amp;ndata, (<span class="keywordtype">void</span> *)diffusion_model)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l07535"></a>07535     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l07536"></a>07536 }
<a name="l07537"></a>07537 
<a name="l07538"></a><a class="code" href="cgnslib_8h.html#db4374f160dd766b8677d11e3fc13f7b">07538</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#f695a28e291d8b62c7dc725f763dbacb">cg_model_write</a>(<span class="keywordtype">char</span> <span class="keyword">const</span> * ModelLabel, <a class="code" href="cgns_keywords_8h.html#e4dcb1e90f970848fe809fbe830319fb">ModelType_t</a> ModelType) {
<a name="l07539"></a>07539     <a class="code" href="structcgns__model.html">cgns_model</a> *model;
<a name="l07540"></a>07540     <span class="keywordtype">char</span> ModelName[33];
<a name="l07541"></a>07541     <span class="keywordtype">int</span> ier=0, index_dim;
<a name="l07542"></a>07542     <span class="keywordtype">double</span> posit_id;
<a name="l07543"></a>07543 
<a name="l07544"></a>07544      <span class="comment">/* verify input */</span>
<a name="l07545"></a>07545     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l07546"></a>07546     <span class="keywordflow">if</span> (ModelType&lt;0 || ModelType&gt;=<a class="code" href="cgns_keywords_8h.html#843c181a3ef20f26c35af5910195aa2d">NofValidModelTypes</a>) {
<a name="l07547"></a>07547         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Invalid %s Type: %d"</span>,ModelLabel,ModelType);
<a name="l07548"></a>07548         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l07549"></a>07549     }
<a name="l07550"></a>07550 
<a name="l07551"></a>07551      <span class="comment">/* Validate enums for each model type. */</span>
<a name="l07552"></a>07552     <span class="keywordflow">if</span> (strcmp(ModelLabel, <span class="stringliteral">"GasModel_t"</span>)==0) {
<a name="l07553"></a>07553         <span class="keywordflow">if</span> (ModelType!=<a class="code" href="cgns_keywords_8h.html#e4dcb1e90f970848fe809fbe830319fb2db62ffa791dc08cc798f749b5027d9a">ModelTypeNull</a> &amp;&amp; ModelType!=<a class="code" href="cgns_keywords_8h.html#e4dcb1e90f970848fe809fbe830319fbfe20437cf419a5e097cbfedbcaa664ec">ModelTypeUserDefined</a> &amp;&amp;
<a name="l07554"></a>07554             ModelType!=<a class="code" href="cgns_keywords_8h.html#e4dcb1e90f970848fe809fbe830319fb44d62ff5266d13a48906a7ef40f33c75">Ideal</a> &amp;&amp; ModelType!=<a class="code" href="cgns_keywords_8h.html#e4dcb1e90f970848fe809fbe830319fbbaacae9441ad13fa42169bcc122dd150">VanderWaals</a> &amp;&amp;
<a name="l07555"></a>07555             ModelType!=<a class="code" href="cgns_keywords_8h.html#e4dcb1e90f970848fe809fbe830319fbe3c3f111b9e452a1c7f687e6349cc9eb">CaloricallyPerfect</a> &amp;&amp; ModelType!=<a class="code" href="cgns_keywords_8h.html#e4dcb1e90f970848fe809fbe830319fbba09040e5ea84d9f0c27fcc0be56c3a9">ThermallyPerfect</a> &amp;&amp;
<a name="l07556"></a>07556             ModelType!=<a class="code" href="cgns_keywords_8h.html#e4dcb1e90f970848fe809fbe830319fb6309d7cc7d0c9cdc30275168be341286">ConstantDensity</a> &amp;&amp; ModelType!=<a class="code" href="cgns_keywords_8h.html#e4dcb1e90f970848fe809fbe830319fbf157844e8c2d87f99fac35e17cfa724f">RedlichKwong</a>) {
<a name="l07557"></a>07557             <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Model Type '%s' is not supported for %s"</span>,
<a name="l07558"></a>07558                 <a class="code" href="cgnslib_8c.html#887f773531c0b4ffeb2b72fe5df81913">ModelTypeName</a>[ModelType],ModelLabel);
<a name="l07559"></a>07559             <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l07560"></a>07560         }
<a name="l07561"></a>07561     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(ModelLabel, <span class="stringliteral">"ViscosityModel_t"</span>)==0) {
<a name="l07562"></a>07562         <span class="keywordflow">if</span> (ModelType!=<a class="code" href="cgns_keywords_8h.html#e4dcb1e90f970848fe809fbe830319fb2db62ffa791dc08cc798f749b5027d9a">ModelTypeNull</a> &amp;&amp; ModelType!=<a class="code" href="cgns_keywords_8h.html#e4dcb1e90f970848fe809fbe830319fbfe20437cf419a5e097cbfedbcaa664ec">ModelTypeUserDefined</a> &amp;&amp;
<a name="l07563"></a>07563             ModelType!=<a class="code" href="cgns_keywords_8h.html#e4dcb1e90f970848fe809fbe830319fbaeefcc3671b16fd4226e51cfe73a8da7">Constant</a> &amp;&amp; ModelType!=<a class="code" href="cgns_keywords_8h.html#e4dcb1e90f970848fe809fbe830319fb981029519fc4c1fdad49e6e1e722570c">PowerLaw</a> &amp;&amp; ModelType!=<a class="code" href="cgns_keywords_8h.html#e4dcb1e90f970848fe809fbe830319fb2b59840726e2984ce9593fa13beae8d2">SutherlandLaw</a>) {
<a name="l07564"></a>07564             <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Model Type '%s' is not supported for %s"</span>,
<a name="l07565"></a>07565                 <a class="code" href="cgnslib_8c.html#887f773531c0b4ffeb2b72fe5df81913">ModelTypeName</a>[ModelType],ModelLabel);
<a name="l07566"></a>07566             <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l07567"></a>07567         }
<a name="l07568"></a>07568     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(ModelLabel, <span class="stringliteral">"ThermalConductivityModel_t"</span>)==0) {
<a name="l07569"></a>07569         <span class="keywordflow">if</span> (ModelType!=<a class="code" href="cgns_keywords_8h.html#e4dcb1e90f970848fe809fbe830319fb2db62ffa791dc08cc798f749b5027d9a">ModelTypeNull</a> &amp;&amp; ModelType!=<a class="code" href="cgns_keywords_8h.html#e4dcb1e90f970848fe809fbe830319fbfe20437cf419a5e097cbfedbcaa664ec">ModelTypeUserDefined</a> &amp;&amp;
<a name="l07570"></a>07570             ModelType!=<a class="code" href="cgns_keywords_8h.html#e4dcb1e90f970848fe809fbe830319fb981029519fc4c1fdad49e6e1e722570c">PowerLaw</a> &amp;&amp; ModelType!=<a class="code" href="cgns_keywords_8h.html#e4dcb1e90f970848fe809fbe830319fb2b59840726e2984ce9593fa13beae8d2">SutherlandLaw</a> &amp;&amp; ModelType!=<a class="code" href="cgns_keywords_8h.html#e4dcb1e90f970848fe809fbe830319fb58769234fe1657606a9719ec6d1d1d75">ConstantPrandtl</a>) {
<a name="l07571"></a>07571             <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Model Type '%s' is not supported for %s"</span>,
<a name="l07572"></a>07572                 <a class="code" href="cgnslib_8c.html#887f773531c0b4ffeb2b72fe5df81913">ModelTypeName</a>[ModelType],ModelLabel);
<a name="l07573"></a>07573             <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l07574"></a>07574         }
<a name="l07575"></a>07575     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(ModelLabel, <span class="stringliteral">"TurbulenceModel_t"</span>)==0) {
<a name="l07576"></a>07576         <span class="keywordflow">if</span> (ModelType!=<a class="code" href="cgns_keywords_8h.html#e4dcb1e90f970848fe809fbe830319fb2db62ffa791dc08cc798f749b5027d9a">ModelTypeNull</a> &amp;&amp; ModelType!=<a class="code" href="cgns_keywords_8h.html#e4dcb1e90f970848fe809fbe830319fbfe20437cf419a5e097cbfedbcaa664ec">ModelTypeUserDefined</a> &amp;&amp;
<a name="l07577"></a>07577             ModelType!=<a class="code" href="cgns_keywords_8h.html#e4dcb1e90f970848fe809fbe830319fb98f594b6c9f377a2656ee2b04b188b4a">Algebraic_BaldwinLomax</a> &amp;&amp; ModelType!=<a class="code" href="cgns_keywords_8h.html#e4dcb1e90f970848fe809fbe830319fb09d20926c262d0cd79c5f18ba6387e9d">Algebraic_CebeciSmith</a> &amp;&amp;
<a name="l07578"></a>07578             ModelType!=<a class="code" href="cgns_keywords_8h.html#e4dcb1e90f970848fe809fbe830319fbe5f6c98ad1573c0cb6c5948f2646ddb6">HalfEquation_JohnsonKing</a> &amp;&amp; ModelType!=<a class="code" href="cgns_keywords_8h.html#e4dcb1e90f970848fe809fbe830319fb518d23f9e1d71fffbc132325b75c9b15">OneEquation_BaldwinBarth</a> &amp;&amp;
<a name="l07579"></a>07579             ModelType!=<a class="code" href="cgns_keywords_8h.html#e4dcb1e90f970848fe809fbe830319fb95859757bc2d380d34c5d615234a2646">OneEquation_SpalartAllmaras</a> &amp;&amp; ModelType!=<a class="code" href="cgns_keywords_8h.html#e4dcb1e90f970848fe809fbe830319fbd15459ec1146caef25e332981ad5649b">TwoEquation_JonesLaunder</a> &amp;&amp;
<a name="l07580"></a>07580             ModelType!=<a class="code" href="cgns_keywords_8h.html#e4dcb1e90f970848fe809fbe830319fbb2fd71d2e1e4af8b208ca3cce36b3398">TwoEquation_MenterSST</a> &amp;&amp; ModelType!=<a class="code" href="cgns_keywords_8h.html#e4dcb1e90f970848fe809fbe830319fb60c538bc62f51b98f51474f419a6d87c">TwoEquation_Wilcox</a>) {
<a name="l07581"></a>07581             <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Model Type '%s' is not supported for %s"</span>,
<a name="l07582"></a>07582                 <a class="code" href="cgnslib_8c.html#887f773531c0b4ffeb2b72fe5df81913">ModelTypeName</a>[ModelType],ModelLabel);
<a name="l07583"></a>07583             <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l07584"></a>07584         }
<a name="l07585"></a>07585     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(ModelLabel, <span class="stringliteral">"TurbulenceClosure_t"</span>)==0) {
<a name="l07586"></a>07586         <span class="keywordflow">if</span> (ModelType!=<a class="code" href="cgns_keywords_8h.html#e4dcb1e90f970848fe809fbe830319fb2db62ffa791dc08cc798f749b5027d9a">ModelTypeNull</a> &amp;&amp; ModelType!=<a class="code" href="cgns_keywords_8h.html#e4dcb1e90f970848fe809fbe830319fbfe20437cf419a5e097cbfedbcaa664ec">ModelTypeUserDefined</a> &amp;&amp;
<a name="l07587"></a>07587             ModelType!=<a class="code" href="cgns_keywords_8h.html#e4dcb1e90f970848fe809fbe830319fb2ee4ef6dfeed342ee3c7e9c00eca172e">EddyViscosity</a>  &amp;&amp; ModelType!=<a class="code" href="cgns_keywords_8h.html#e4dcb1e90f970848fe809fbe830319fbca018caba7dd4f6e5bf8fa41c7040744">ReynoldsStress</a> &amp;&amp;
<a name="l07588"></a>07588             ModelType!=<a class="code" href="cgns_keywords_8h.html#e4dcb1e90f970848fe809fbe830319fb21a2d91c3bb9adacd972d3f2444f7516">ReynoldsStressAlgebraic</a>) {
<a name="l07589"></a>07589             <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Model Type '%s' is not supported for %s"</span>,
<a name="l07590"></a>07590                 <a class="code" href="cgnslib_8c.html#887f773531c0b4ffeb2b72fe5df81913">ModelTypeName</a>[ModelType],ModelLabel);
<a name="l07591"></a>07591             <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l07592"></a>07592         }
<a name="l07593"></a>07593     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(ModelLabel, <span class="stringliteral">"ThermalRelaxationModel_t"</span>)==0) {
<a name="l07594"></a>07594         <span class="keywordflow">if</span> (ModelType!=<a class="code" href="cgns_keywords_8h.html#e4dcb1e90f970848fe809fbe830319fb2db62ffa791dc08cc798f749b5027d9a">ModelTypeNull</a> &amp;&amp; ModelType!=<a class="code" href="cgns_keywords_8h.html#e4dcb1e90f970848fe809fbe830319fbfe20437cf419a5e097cbfedbcaa664ec">ModelTypeUserDefined</a> &amp;&amp;
<a name="l07595"></a>07595             ModelType!=<a class="code" href="cgns_keywords_8h.html#e4dcb1e90f970848fe809fbe830319fb2a246cb2744d3a51000e1d0141e39df1">Frozen</a> &amp;&amp; ModelType!=<a class="code" href="cgns_keywords_8h.html#e4dcb1e90f970848fe809fbe830319fbfa2f2c97bb68166001aa0f749ec7eb16">ThermalEquilib</a> &amp;&amp;
<a name="l07596"></a>07596             ModelType!=<a class="code" href="cgns_keywords_8h.html#e4dcb1e90f970848fe809fbe830319fbe80dfa353ee370ed6fea33d90f546b6b">ThermalNonequilib</a>) {
<a name="l07597"></a>07597             <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Model Type '%s' is not supported for %s"</span>,
<a name="l07598"></a>07598                 <a class="code" href="cgnslib_8c.html#887f773531c0b4ffeb2b72fe5df81913">ModelTypeName</a>[ModelType],ModelLabel);
<a name="l07599"></a>07599             <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l07600"></a>07600         }
<a name="l07601"></a>07601     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(ModelLabel, <span class="stringliteral">"ChemicalKineticsModel_t"</span>)==0) {
<a name="l07602"></a>07602         <span class="keywordflow">if</span> (ModelType!=<a class="code" href="cgns_keywords_8h.html#e4dcb1e90f970848fe809fbe830319fb2db62ffa791dc08cc798f749b5027d9a">ModelTypeNull</a> &amp;&amp; ModelType!=<a class="code" href="cgns_keywords_8h.html#e4dcb1e90f970848fe809fbe830319fbfe20437cf419a5e097cbfedbcaa664ec">ModelTypeUserDefined</a> &amp;&amp;
<a name="l07603"></a>07603             ModelType!=<a class="code" href="cgns_keywords_8h.html#e4dcb1e90f970848fe809fbe830319fb2a246cb2744d3a51000e1d0141e39df1">Frozen</a> &amp;&amp; ModelType!=<a class="code" href="cgns_keywords_8h.html#e4dcb1e90f970848fe809fbe830319fb22f9d7b8d2c892c97373f7807c04523e">ChemicalEquilibCurveFit</a> &amp;&amp;
<a name="l07604"></a>07604             ModelType!=<a class="code" href="cgns_keywords_8h.html#e4dcb1e90f970848fe809fbe830319fb8170a5ae87bdb0bbdc3e08d436770b2f">ChemicalEquilibMinimization</a> &amp;&amp; ModelType!=<a class="code" href="cgns_keywords_8h.html#e4dcb1e90f970848fe809fbe830319fb833f09b3c2e6161abd89b6df5a3a4edc">ChemicalNonequilib</a>) {
<a name="l07605"></a>07605             <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Model Type '%s' is not supported for %s"</span>,
<a name="l07606"></a>07606                 <a class="code" href="cgnslib_8c.html#887f773531c0b4ffeb2b72fe5df81913">ModelTypeName</a>[ModelType],ModelLabel);
<a name="l07607"></a>07607             <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l07608"></a>07608         }
<a name="l07609"></a>07609     }
<a name="l07610"></a>07610     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(ModelLabel, <span class="stringliteral">"EMElectricFieldModel_t"</span>)==0) {
<a name="l07611"></a>07611         <span class="keywordflow">if</span> (ModelType!=<a class="code" href="cgns_keywords_8h.html#e4dcb1e90f970848fe809fbe830319fb2db62ffa791dc08cc798f749b5027d9a">ModelTypeNull</a> &amp;&amp; ModelType!=<a class="code" href="cgns_keywords_8h.html#e4dcb1e90f970848fe809fbe830319fbfe20437cf419a5e097cbfedbcaa664ec">ModelTypeUserDefined</a> &amp;&amp;
<a name="l07612"></a>07612             ModelType!=<a class="code" href="cgns_keywords_8h.html#e4dcb1e90f970848fe809fbe830319fb2a246cb2744d3a51000e1d0141e39df1">Frozen</a> &amp;&amp; ModelType!=<a class="code" href="cgns_keywords_8h.html#e4dcb1e90f970848fe809fbe830319fb2c7946b2fb33ad4085f7ed1736549109">Voltage</a> &amp;&amp;
<a name="l07613"></a>07613             ModelType!=<a class="code" href="cgns_keywords_8h.html#e4dcb1e90f970848fe809fbe830319fb6fe6fd5727420f3ccef39cee82a0842c">Interpolated</a> &amp;&amp; ModelType!=<a class="code" href="cgns_keywords_8h.html#e4dcb1e90f970848fe809fbe830319fbaeefcc3671b16fd4226e51cfe73a8da7">Constant</a>) {
<a name="l07614"></a>07614             <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Model Type '%s' is not supported for %s"</span>,
<a name="l07615"></a>07615                 <a class="code" href="cgnslib_8c.html#887f773531c0b4ffeb2b72fe5df81913">ModelTypeName</a>[ModelType],ModelLabel);
<a name="l07616"></a>07616             <span class="keywordflow">return</span> 1;
<a name="l07617"></a>07617         }
<a name="l07618"></a>07618     }
<a name="l07619"></a>07619     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(ModelLabel, <span class="stringliteral">"EMMagneticFieldModel_t"</span>)==0) {
<a name="l07620"></a>07620         <span class="keywordflow">if</span> (ModelType!=<a class="code" href="cgns_keywords_8h.html#e4dcb1e90f970848fe809fbe830319fb2db62ffa791dc08cc798f749b5027d9a">ModelTypeNull</a> &amp;&amp; ModelType!=<a class="code" href="cgns_keywords_8h.html#e4dcb1e90f970848fe809fbe830319fbfe20437cf419a5e097cbfedbcaa664ec">ModelTypeUserDefined</a> &amp;&amp;
<a name="l07621"></a>07621             ModelType!=<a class="code" href="cgns_keywords_8h.html#e4dcb1e90f970848fe809fbe830319fb2a246cb2744d3a51000e1d0141e39df1">Frozen</a> &amp;&amp; ModelType!=<a class="code" href="cgns_keywords_8h.html#e4dcb1e90f970848fe809fbe830319fb6fe6fd5727420f3ccef39cee82a0842c">Interpolated</a> &amp;&amp;
<a name="l07622"></a>07622             ModelType!=<a class="code" href="cgns_keywords_8h.html#e4dcb1e90f970848fe809fbe830319fbaeefcc3671b16fd4226e51cfe73a8da7">Constant</a>) {
<a name="l07623"></a>07623             <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Model Type '%s' is not supported for %s"</span>,
<a name="l07624"></a>07624                 <a class="code" href="cgnslib_8c.html#887f773531c0b4ffeb2b72fe5df81913">ModelTypeName</a>[ModelType],ModelLabel);
<a name="l07625"></a>07625             <span class="keywordflow">return</span> 1;
<a name="l07626"></a>07626         }
<a name="l07627"></a>07627     }
<a name="l07628"></a>07628     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(ModelLabel, <span class="stringliteral">"EMConductivityModel_t"</span>)==0) {
<a name="l07629"></a>07629         <span class="keywordflow">if</span> (ModelType!=<a class="code" href="cgns_keywords_8h.html#e4dcb1e90f970848fe809fbe830319fb2db62ffa791dc08cc798f749b5027d9a">ModelTypeNull</a> &amp;&amp; ModelType!=<a class="code" href="cgns_keywords_8h.html#e4dcb1e90f970848fe809fbe830319fbfe20437cf419a5e097cbfedbcaa664ec">ModelTypeUserDefined</a> &amp;&amp;
<a name="l07630"></a>07630             ModelType!=<a class="code" href="cgns_keywords_8h.html#e4dcb1e90f970848fe809fbe830319fb2a246cb2744d3a51000e1d0141e39df1">Frozen</a> &amp;&amp; ModelType!=<a class="code" href="cgns_keywords_8h.html#e4dcb1e90f970848fe809fbe830319fbaeefcc3671b16fd4226e51cfe73a8da7">Constant</a> &amp;&amp;
<a name="l07631"></a>07631             ModelType!=<a class="code" href="cgns_keywords_8h.html#e4dcb1e90f970848fe809fbe830319fb6a69d0fa9ece6ea42fdc9a420ed8b2cf">Equilibrium_LinRessler</a> &amp;&amp;
<a name="l07632"></a>07632             ModelType!=<a class="code" href="cgns_keywords_8h.html#e4dcb1e90f970848fe809fbe830319fb333110039f59f12fe96c4e00b3e9745b">Chemistry_LinRessler</a>) {
<a name="l07633"></a>07633             <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Model Type '%s' is not supported for %s"</span>,
<a name="l07634"></a>07634                 <a class="code" href="cgnslib_8c.html#887f773531c0b4ffeb2b72fe5df81913">ModelTypeName</a>[ModelType],ModelLabel);
<a name="l07635"></a>07635             <span class="keywordflow">return</span> 1;
<a name="l07636"></a>07636         }
<a name="l07637"></a>07637     }
<a name="l07638"></a>07638 
<a name="l07639"></a>07639     <span class="keywordflow">if</span> (strcmp(ModelLabel, <span class="stringliteral">"ChemicalKineticsModel_t"</span>) &amp;&amp;
<a name="l07640"></a>07640         strcmp(ModelLabel, <span class="stringliteral">"ThermalRelaxationModel_t"</span>) &amp;&amp;
<a name="l07641"></a>07641         strcmp(ModelLabel, <span class="stringliteral">"TurbulenceClosure_t"</span>) &amp;&amp;
<a name="l07642"></a>07642         strcmp(ModelLabel, <span class="stringliteral">"TurbulenceModel_t"</span>) &amp;&amp;
<a name="l07643"></a>07643         strcmp(ModelLabel, <span class="stringliteral">"ThermalConductivityModel_t"</span>) &amp;&amp;
<a name="l07644"></a>07644         strcmp(ModelLabel, <span class="stringliteral">"ViscosityModel_t"</span>) &amp;&amp;
<a name="l07645"></a>07645         strcmp(ModelLabel, <span class="stringliteral">"EMElectricFieldModel_t"</span>) &amp;&amp;
<a name="l07646"></a>07646         strcmp(ModelLabel, <span class="stringliteral">"EMMagneticFieldModel_t"</span>) &amp;&amp;
<a name="l07647"></a>07647         strcmp(ModelLabel, <span class="stringliteral">"EMConductivityModel_t"</span>) &amp;&amp;
<a name="l07648"></a>07648         strcmp(ModelLabel, <span class="stringliteral">"GasModel_t"</span>)) {
<a name="l07649"></a>07649         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Invalid Model Label: %s"</span>,ModelLabel);
<a name="l07650"></a>07650         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l07651"></a>07651     }
<a name="l07652"></a>07652 
<a name="l07653"></a>07653      <span class="comment">/* get address */</span>
<a name="l07654"></a>07654     model = <a class="code" href="cgns__header_8h.html#4edbe2d462fa94756f14375c13235a1e">cgi_model_address</a>(<a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>, ModelLabel, &amp;ier);
<a name="l07655"></a>07655     <span class="keywordflow">if</span> (model==0) <span class="keywordflow">return</span> ier;
<a name="l07656"></a>07656 
<a name="l07657"></a>07657      <span class="comment">/* Save data */</span>
<a name="l07658"></a>07658     model-&gt;<a class="code" href="structcgns__model.html#499527df23869491da6f030957f5aea4">type</a> = ModelType;
<a name="l07659"></a>07659     strcpy(ModelName,ModelLabel);
<a name="l07660"></a>07660     ModelName[strlen(ModelLabel)-2]=<span class="charliteral">'\0'</span>;
<a name="l07661"></a>07661     strcpy(model-&gt;<a class="code" href="structcgns__model.html#b5192b2e796e6224c74ec532ec32abf7">name</a>, ModelName);
<a name="l07662"></a>07662 
<a name="l07663"></a>07663      <span class="comment">/* initialize other fields */</span>
<a name="l07664"></a>07664     model-&gt;<a class="code" href="structcgns__model.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>=0;
<a name="l07665"></a>07665     model-&gt;<a class="code" href="structcgns__model.html#f6f27f42b9ecc89cf0ed39415bca67d1">link</a>=0;
<a name="l07666"></a>07666     model-&gt;<a class="code" href="structcgns__model.html#cdee83a08ec17a8018bf719ef82a3602">ndescr</a>=0;
<a name="l07667"></a>07667     model-&gt;<a class="code" href="structcgns__model.html#ace0c04d503f8dda2284ae61a8344b8b">narrays</a>=0;
<a name="l07668"></a>07668     model-&gt;<a class="code" href="structcgns__model.html#6aa9eb3c5ad6bdecf6cd8c2b3d97839c">data_class</a>=<a class="code" href="cgns_keywords_8h.html#6e3a45166e6780b756fef5c427279ca079d3001e5ba3290ed80f0762d51bb379">DataClassNull</a>;
<a name="l07669"></a>07669     model-&gt;<a class="code" href="structcgns__model.html#9b4c6b823f0741729aa08b21a4120308">units</a>=0;
<a name="l07670"></a>07670     model-&gt;<a class="code" href="structcgns__model.html#d5f42f2af19bc6458308a01dbf0685c8">diffusion_model</a>=0;
<a name="l07671"></a>07671     model-&gt;<a class="code" href="structcgns__model.html#0c1bc7f4d93ce0adcb787c5583e63881">dim_vals</a>=0;
<a name="l07672"></a>07672     model-&gt;<a class="code" href="structcgns__model.html#dc1e157d997b3174f9d41c5b645631f9">nuser_data</a>=0;
<a name="l07673"></a>07673 
<a name="l07674"></a>07674     <span class="keywordflow">if</span> (strcmp(ModelLabel, <span class="stringliteral">"TurbulenceModel_t"</span>)==0) {
<a name="l07675"></a>07675         <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#9aefb3fb2179957b84774f80fc7ca76a">posit_base</a> &amp;&amp; <a class="code" href="cgns__header_8h.html#ebd0971a3f05d514c15194a9a9d08617">posit_zone</a>) {
<a name="l07676"></a>07676             index_dim = cg-&gt;<a class="code" href="structcgns__file.html#0429392e9c26dac2f0b97ae2d2127117">base</a>[<a class="code" href="cgns__header_8h.html#9aefb3fb2179957b84774f80fc7ca76a">posit_base</a>-1].<a class="code" href="structcgns__base.html#abbb754f366f926198416ad91b8155ef">zone</a>[<a class="code" href="cgns__header_8h.html#ebd0971a3f05d514c15194a9a9d08617">posit_zone</a>-1].<a class="code" href="structcgns__zone.html#5ea7c3da009c9add916c0eeca1973c05">index_dim</a>;
<a name="l07677"></a>07677      <span class="comment">/* For TurbulenceModel_t defined under CGNSBase_t */</span>
<a name="l07678"></a>07678         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#9aefb3fb2179957b84774f80fc7ca76a">posit_base</a>) {
<a name="l07679"></a>07679             index_dim = cg-&gt;<a class="code" href="structcgns__file.html#0429392e9c26dac2f0b97ae2d2127117">base</a>[<a class="code" href="cgns__header_8h.html#9aefb3fb2179957b84774f80fc7ca76a">posit_base</a>-1].<a class="code" href="structcgns__base.html#1bee6ac28f8d5df04476d015a8643d3a">cell_dim</a>;
<a name="l07680"></a>07680         } <span class="keywordflow">else</span> {
<a name="l07681"></a>07681             <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Can't find IndexDimension in cg_model_write."</span>);
<a name="l07682"></a>07682             <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#e5e87a97d0361ef2982e0424d2abeb48">CG_NO_INDEX_DIM</a>;
<a name="l07683"></a>07683         }
<a name="l07684"></a>07684         <span class="keywordflow">if</span> (index_dim==1) model-&gt;<a class="code" href="structcgns__model.html#0c1bc7f4d93ce0adcb787c5583e63881">dim_vals</a>=1;
<a name="l07685"></a>07685         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (index_dim==2) model-&gt;<a class="code" href="structcgns__model.html#0c1bc7f4d93ce0adcb787c5583e63881">dim_vals</a>=3;
<a name="l07686"></a>07686         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (index_dim==3) model-&gt;<a class="code" href="structcgns__model.html#0c1bc7f4d93ce0adcb787c5583e63881">dim_vals</a>=6;
<a name="l07687"></a>07687         <span class="keywordflow">else</span> {
<a name="l07688"></a>07688             <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"invalid value for IndexDimension"</span>);
<a name="l07689"></a>07689             <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l07690"></a>07690         }
<a name="l07691"></a>07691     }
<a name="l07692"></a>07692 
<a name="l07693"></a>07693      <span class="comment">/* save data in file */</span>
<a name="l07694"></a>07694     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#dfcc6b9f463371c7fbfb6a9e7307f39a">cgi_posit_id</a>(&amp;posit_id)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l07695"></a>07695     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#731813c34a1fbcd8f9165ec26ac06c71">cgi_write_model</a>(posit_id, model)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l07696"></a>07696     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l07697"></a>07697 }
<a name="l07698"></a>07698 
<a name="l07699"></a><a class="code" href="cgnslib_8h.html#db222c5afdfbc2866d3eb67462e82323">07699</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#73df81a3184b6f0bfc1a57b5982f5f18">cg_array_write</a>(<span class="keywordtype">char</span> <span class="keyword">const</span> * ArrayName, <a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae">DataType_t</a> DataType,
<a name="l07700"></a>07700     <span class="keywordtype">int</span> DataDimension, <span class="keywordtype">int</span> <span class="keyword">const</span> * DimensionVector, <span class="keywordtype">void</span> <span class="keyword">const</span> * Data) {
<a name="l07701"></a>07701     <a class="code" href="structcgns__array.html">cgns_array</a> *array;
<a name="l07702"></a>07702     <span class="keywordtype">int</span> n, ier=0;
<a name="l07703"></a>07703     <span class="keywordtype">double</span> posit_id;
<a name="l07704"></a>07704 
<a name="l07705"></a>07705      <span class="comment">/* verify input */</span>
<a name="l07706"></a>07706     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#b042658423afd0817ab23b3ea7a5e03d">cgi_check_strlen</a>(ArrayName)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l07707"></a>07707     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l07708"></a>07708     <span class="keywordflow">if</span> (DataType!=<a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae1ca5e5244f4627fd3bf71c72015c2060">RealSingle</a> &amp;&amp; DataType!=<a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae5f954e649a6da0e65898e0faf7724549">RealDouble</a> &amp;&amp;
<a name="l07709"></a>07709         DataType!=<a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae1e2f89e867cd91c3de2ea9fbd2ef96a3">Integer</a> &amp;&amp; DataType!=<a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae0b8efba6b691115f12604f2afe5cdcb5">Character</a>) {
<a name="l07710"></a>07710         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Invalid datatype for data array:  %d"</span>, DataType);
<a name="l07711"></a>07711         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l07712"></a>07712     }
<a name="l07713"></a>07713     <span class="keywordflow">if</span> (DataDimension&gt;12) {
<a name="l07714"></a>07714         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Data arrays are limited to 12 dimensions"</span>);
<a name="l07715"></a>07715         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l07716"></a>07716     }
<a name="l07717"></a>07717     <span class="keywordflow">for</span> (n=0; n&lt;DataDimension; n++) {
<a name="l07718"></a>07718         <span class="keywordflow">if</span> (DimensionVector[n]&lt;=0) {
<a name="l07719"></a>07719             <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Invalid array size: %d"</span>,DimensionVector[n]);
<a name="l07720"></a>07720             <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l07721"></a>07721         }
<a name="l07722"></a>07722     }
<a name="l07723"></a>07723 
<a name="l07724"></a>07724      <span class="comment">/* get address */</span>
<a name="l07725"></a>07725     array = <a class="code" href="cgns__header_8h.html#ae47d7326e595167f4bb0e282f85ed70">cgi_array_address</a>(<a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>, 0, ArrayName, &amp;ier);
<a name="l07726"></a>07726     <span class="comment">/* printf("\tcgi_array_address = %x\n",array); */</span>
<a name="l07727"></a>07727 
<a name="l07728"></a>07728     <span class="keywordflow">if</span> (array==0) <span class="keywordflow">return</span> ier;
<a name="l07729"></a>07729 
<a name="l07730"></a>07730      <span class="comment">/* Save data */</span>
<a name="l07731"></a>07731     strcpy(array-&gt;<a class="code" href="structcgns__array.html#b5192b2e796e6224c74ec532ec32abf7">name</a>, ArrayName);
<a name="l07732"></a>07732     strcpy(array-&gt;<a class="code" href="structcgns__array.html#86e4d546d1321bcac60584c413eb0f6d">data_type</a>, <a class="code" href="cgns__header_8h.html#abf7e64b45b7a0d3aa0f56747525065c">cgi_adf_datatype</a>(DataType));
<a name="l07733"></a>07733     array-&gt;<a class="code" href="structcgns__array.html#c7e27870b79e982377b6669e633a32ad">data_dim</a> = DataDimension;
<a name="l07734"></a>07734     <span class="keywordflow">for</span> (n=0; n&lt;DataDimension; n++) array-&gt;<a class="code" href="structcgns__array.html#5ca9ee30477c56421c793e2341f75931">dim_vals</a>[n]=DimensionVector[n];
<a name="l07735"></a>07735 
<a name="l07736"></a>07736      <span class="comment">/* initialize other fields */</span>
<a name="l07737"></a>07737     array-&gt;<a class="code" href="structcgns__array.html#f6f27f42b9ecc89cf0ed39415bca67d1">link</a>=0;
<a name="l07738"></a>07738     array-&gt;<a class="code" href="structcgns__array.html#cdee83a08ec17a8018bf719ef82a3602">ndescr</a>=0;
<a name="l07739"></a>07739     array-&gt;<a class="code" href="structcgns__array.html#6aa9eb3c5ad6bdecf6cd8c2b3d97839c">data_class</a>=<a class="code" href="cgns_keywords_8h.html#6e3a45166e6780b756fef5c427279ca079d3001e5ba3290ed80f0762d51bb379">DataClassNull</a>;
<a name="l07740"></a>07740     array-&gt;<a class="code" href="structcgns__array.html#9b4c6b823f0741729aa08b21a4120308">units</a>=0;
<a name="l07741"></a>07741     array-&gt;<a class="code" href="structcgns__array.html#87b103c38a459cc8a1c6cf06f01aa12a">exponents</a>=0;
<a name="l07742"></a>07742     array-&gt;<a class="code" href="structcgns__array.html#0724545c909f7773439fee292fe3ef5f">convert</a>=0;
<a name="l07743"></a>07743     array-&gt;<a class="code" href="structcgns__array.html#735984d41155bc1032e09bece8f8d66d">data</a>=0;
<a name="l07744"></a>07744 
<a name="l07745"></a>07745      <span class="comment">/* write to disk */</span>
<a name="l07746"></a>07746     if (<a class="code" href="cgns__header_8h.html#dfcc6b9f463371c7fbfb6a9e7307f39a">cgi_posit_id</a>(&amp;posit_id)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l07747"></a>07747     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#184dd1d99e9f4e7b826f84887ba07748">cgi_new_node</a>(posit_id, array-&gt;<a class="code" href="structcgns__array.html#b5192b2e796e6224c74ec532ec32abf7">name</a>, <span class="stringliteral">"DataArray_t"</span>, &amp;array-&gt;<a class="code" href="structcgns__array.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>,
<a name="l07748"></a>07748         array-&gt;<a class="code" href="structcgns__array.html#86e4d546d1321bcac60584c413eb0f6d">data_type</a>, array-&gt;<a class="code" href="structcgns__array.html#c7e27870b79e982377b6669e633a32ad">data_dim</a>, array-&gt;<a class="code" href="structcgns__array.html#5ca9ee30477c56421c793e2341f75931">dim_vals</a>, Data)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l07749"></a>07749 
<a name="l07750"></a>07750     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l07751"></a>07751 }
<a name="l07752"></a>07752 
<a name="l07753"></a><a class="code" href="cgnslib_8h.html#61bc6c62c4276142c37ceec9740552e4">07753</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#601194926dd94ba9b21bf7677ffac76d">cg_integral_write</a>(<span class="keywordtype">char</span> <span class="keyword">const</span> * IntegralDataName) {
<a name="l07754"></a>07754     <a class="code" href="structcgns__integral.html">cgns_integral</a> *integral;
<a name="l07755"></a>07755     <span class="keywordtype">int</span> ier=0;
<a name="l07756"></a>07756     <span class="keywordtype">double</span> posit_id;
<a name="l07757"></a>07757 
<a name="l07758"></a>07758      <span class="comment">/* verify input */</span>
<a name="l07759"></a>07759     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#b042658423afd0817ab23b3ea7a5e03d">cgi_check_strlen</a>(IntegralDataName)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l07760"></a>07760     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l07761"></a>07761 
<a name="l07762"></a>07762     integral = <a class="code" href="cgns__header_8h.html#6e97fb3e35d4d9a105cd059a14ee1713">cgi_integral_address</a>(<a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>, 0, IntegralDataName, &amp;ier);
<a name="l07763"></a>07763     <span class="keywordflow">if</span> (integral==0) <span class="keywordflow">return</span> ier;
<a name="l07764"></a>07764 
<a name="l07765"></a>07765     strcpy(integral-&gt;<a class="code" href="structcgns__integral.html#b5192b2e796e6224c74ec532ec32abf7">name</a>, IntegralDataName);
<a name="l07766"></a>07766 
<a name="l07767"></a>07767      <span class="comment">/* initialize other fields */</span>
<a name="l07768"></a>07768     integral-&gt;<a class="code" href="structcgns__integral.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>=0;
<a name="l07769"></a>07769     integral-&gt;<a class="code" href="structcgns__integral.html#f6f27f42b9ecc89cf0ed39415bca67d1">link</a>=0;
<a name="l07770"></a>07770     integral-&gt;<a class="code" href="structcgns__integral.html#cdee83a08ec17a8018bf719ef82a3602">ndescr</a>=0;
<a name="l07771"></a>07771     integral-&gt;<a class="code" href="structcgns__integral.html#ace0c04d503f8dda2284ae61a8344b8b">narrays</a>=0;
<a name="l07772"></a>07772     integral-&gt;<a class="code" href="structcgns__integral.html#6aa9eb3c5ad6bdecf6cd8c2b3d97839c">data_class</a>=<a class="code" href="cgns_keywords_8h.html#6e3a45166e6780b756fef5c427279ca079d3001e5ba3290ed80f0762d51bb379">DataClassNull</a>;
<a name="l07773"></a>07773     integral-&gt;<a class="code" href="structcgns__integral.html#9b4c6b823f0741729aa08b21a4120308">units</a>=0;
<a name="l07774"></a>07774     integral-&gt;<a class="code" href="structcgns__integral.html#dc1e157d997b3174f9d41c5b645631f9">nuser_data</a>=0;
<a name="l07775"></a>07775 
<a name="l07776"></a>07776      <span class="comment">/* save data in file */</span>
<a name="l07777"></a>07777     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#dfcc6b9f463371c7fbfb6a9e7307f39a">cgi_posit_id</a>(&amp;posit_id)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l07778"></a>07778     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#184dd1d99e9f4e7b826f84887ba07748">cgi_new_node</a>(posit_id, integral-&gt;<a class="code" href="structcgns__integral.html#b5192b2e796e6224c74ec532ec32abf7">name</a>, <span class="stringliteral">"IntegralData_t"</span>,
<a name="l07779"></a>07779         &amp;integral-&gt;<a class="code" href="structcgns__integral.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, <span class="stringliteral">"MT"</span>, 0, 0, 0)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l07780"></a>07780     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l07781"></a>07781 }
<a name="l07782"></a>07782 
<a name="l07783"></a><a class="code" href="cgnslib_8h.html#0b50648f63baede2216e6aae4222dc2f">07783</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#02180f365d7809c49e50919bfd0a9edd">cg_rind_write</a>(<span class="keywordtype">int</span> <span class="keyword">const</span> * RindData) {
<a name="l07784"></a>07784     <span class="keywordtype">int</span> n, ier=0;
<a name="l07785"></a>07785     <span class="keywordtype">int</span> *<a class="code" href="write__rind_8c.html#2566aacf797b3ab4ba9a41d425d41551">rind</a>, index_dim;
<a name="l07786"></a>07786     <span class="keywordtype">double</span> posit_id;
<a name="l07787"></a>07787 
<a name="l07788"></a>07788      <span class="comment">/* verify input */</span>
<a name="l07789"></a>07789     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l07790"></a>07790 
<a name="l07791"></a>07791     rind = <a class="code" href="cgns__header_8h.html#63b853e9f76e3772d0375ce7a34dfbb0">cgi_rind_address</a>(<a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>, &amp;ier);
<a name="l07792"></a>07792     <span class="keywordflow">if</span> (rind==0) <span class="keywordflow">return</span> ier;
<a name="l07793"></a>07793 
<a name="l07794"></a>07794     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#9aefb3fb2179957b84774f80fc7ca76a">posit_base</a> &amp;&amp; <a class="code" href="cgns__header_8h.html#ebd0971a3f05d514c15194a9a9d08617">posit_zone</a>) {
<a name="l07795"></a>07795         index_dim = cg-&gt;<a class="code" href="structcgns__file.html#0429392e9c26dac2f0b97ae2d2127117">base</a>[<a class="code" href="cgns__header_8h.html#9aefb3fb2179957b84774f80fc7ca76a">posit_base</a>-1].<a class="code" href="structcgns__base.html#abbb754f366f926198416ad91b8155ef">zone</a>[<a class="code" href="cgns__header_8h.html#ebd0971a3f05d514c15194a9a9d08617">posit_zone</a>-1].<a class="code" href="structcgns__zone.html#5ea7c3da009c9add916c0eeca1973c05">index_dim</a>;
<a name="l07796"></a>07796     } <span class="keywordflow">else</span> {
<a name="l07797"></a>07797         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Can't find IndexDimension in cg_rind_write."</span>);
<a name="l07798"></a>07798         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#e5e87a97d0361ef2982e0424d2abeb48">CG_NO_INDEX_DIM</a>;
<a name="l07799"></a>07799     }
<a name="l07800"></a>07800 
<a name="l07801"></a>07801     <span class="keywordflow">for</span> (n=0; n&lt;2*index_dim; n++) rind[n]=RindData[n];
<a name="l07802"></a>07802 
<a name="l07803"></a>07803      <span class="comment">/* save data in file &amp; if different from default (6*0) */</span>
<a name="l07804"></a>07804     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#dfcc6b9f463371c7fbfb6a9e7307f39a">cgi_posit_id</a>(&amp;posit_id)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l07805"></a>07805     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#72c54bdfe688e80eadcfec0805e5bf60">cgi_write_rind</a>(posit_id, rind, index_dim)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l07806"></a>07806     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l07807"></a>07807 }
<a name="l07808"></a>07808 
<a name="l07809"></a><a class="code" href="cgnslib_8h.html#ce36434c0d42b65db1adde289e05f648">07809</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#0cdd095729eed75039951521581b73d6">cg_descriptor_write</a>(<span class="keywordtype">char</span> <span class="keyword">const</span> * descr_name, <span class="keywordtype">char</span> <span class="keyword">const</span> * descr_text) {
<a name="l07810"></a>07810     <a class="code" href="structcgns__descr.html">cgns_descr</a> *descr;
<a name="l07811"></a>07811     <span class="keywordtype">int</span> ier=0;
<a name="l07812"></a>07812     <span class="keywordtype">double</span> posit_id;
<a name="l07813"></a>07813 
<a name="l07814"></a>07814      <span class="comment">/* verify input */</span>
<a name="l07815"></a>07815     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#b042658423afd0817ab23b3ea7a5e03d">cgi_check_strlen</a>(descr_name)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l07816"></a>07816     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l07817"></a>07817 
<a name="l07818"></a>07818     descr = <a class="code" href="cgns__header_8h.html#68503a6d943b98292811bcd6930020c2">cgi_descr_address</a>(<a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>, 0, descr_name, &amp;ier);
<a name="l07819"></a>07819     <span class="keywordflow">if</span> (descr==0) <span class="keywordflow">return</span> ier;
<a name="l07820"></a>07820 
<a name="l07821"></a>07821      <span class="comment">/* Save Descriptor_t data */</span>
<a name="l07822"></a>07822     strcpy(descr-&gt;<a class="code" href="structcgns__descr.html#b5192b2e796e6224c74ec532ec32abf7">name</a>, descr_name);
<a name="l07823"></a>07823     <span class="keywordflow">if</span> ((descr-&gt;<a class="code" href="structcgns__descr.html#5633b1433389cec21ade3811bbe9ca5b">text</a> = (<span class="keywordtype">char</span> *)<a class="code" href="cg__malloc_8h.html#535b58ab5aa48e2e86073e334d43fd32">malloc</a>((strlen(descr_text)+1)*<span class="keyword">sizeof</span>(<span class="keywordtype">char</span>)))==NULL) {
<a name="l07824"></a>07824         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Error allocating memory for Descriptor..."</span>);
<a name="l07825"></a>07825         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l07826"></a>07826     }
<a name="l07827"></a>07827     strcpy(descr-&gt;<a class="code" href="structcgns__descr.html#5633b1433389cec21ade3811bbe9ca5b">text</a>, descr_text);
<a name="l07828"></a>07828 
<a name="l07829"></a>07829      <span class="comment">/* initialize other fields */</span>
<a name="l07830"></a>07830     descr-&gt;<a class="code" href="structcgns__descr.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>=0;
<a name="l07831"></a>07831     descr-&gt;<a class="code" href="structcgns__descr.html#f6f27f42b9ecc89cf0ed39415bca67d1">link</a>=0;
<a name="l07832"></a>07832 
<a name="l07833"></a>07833      <span class="comment">/* save data in file */</span>
<a name="l07834"></a>07834     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#dfcc6b9f463371c7fbfb6a9e7307f39a">cgi_posit_id</a>(&amp;posit_id)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l07835"></a>07835     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#5c492e31ca7f568c379cea03d6b56aca">cgi_write_descr</a>(posit_id, descr)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l07836"></a>07836     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l07837"></a>07837 }
<a name="l07838"></a>07838 
<a name="l07839"></a><a class="code" href="cgnslib_8h.html#13ca7907f338e16e3c804a07942878ef">07839</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#6da839d32b20159c4e23ce7c0fd76868">cg_units_write</a>(<a class="code" href="cgns_keywords_8h.html#8f0a5167b1d8319a0e481666e57ceca0">MassUnits_t</a> mass, <a class="code" href="cgns_keywords_8h.html#92ba99c00037b87031c19ec440a4a3ca">LengthUnits_t</a> length, <a class="code" href="cgns_keywords_8h.html#b5fe9a7cbb1e8e49cf4649eeee249cb8">TimeUnits_t</a> time,
<a name="l07840"></a>07840     <a class="code" href="cgns_keywords_8h.html#2d4e2b4a0daece6b3e91b47fafd82ff5">TemperatureUnits_t</a> temperature, <a class="code" href="cgns_keywords_8h.html#9fe6a2bd66677cb82aa84a64f0e7882d">AngleUnits_t</a> angle) {
<a name="l07841"></a>07841     <span class="keywordtype">int</span> ier=0;
<a name="l07842"></a>07842     <a class="code" href="structcgns__units.html">cgns_units</a> *units;
<a name="l07843"></a>07843     <span class="keywordtype">double</span> posit_id;
<a name="l07844"></a>07844 
<a name="l07845"></a>07845      <span class="comment">/* verify input */</span>
<a name="l07846"></a>07846     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l07847"></a>07847     <span class="keywordflow">if</span> (mass &lt; 0 || mass &gt;= <a class="code" href="cgns_keywords_8h.html#c96a4bda33c372a14dc5483f3a79dbc3">NofValidMassUnits</a>) {
<a name="l07848"></a>07848         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Invalid input:  mass unit %d not supported"</span>,mass);
<a name="l07849"></a>07849         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l07850"></a>07850     }
<a name="l07851"></a>07851     <span class="keywordflow">if</span> (length &lt; 0 || length &gt;= <a class="code" href="cgns_keywords_8h.html#3408181646c0547c198171533d62294e">NofValidLengthUnits</a>) {
<a name="l07852"></a>07852         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Invalid input:  length unit %d not supported"</span>, length);
<a name="l07853"></a>07853         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l07854"></a>07854     }
<a name="l07855"></a>07855     <span class="keywordflow">if</span> (time &lt; 0 || time &gt;= <a class="code" href="cgns_keywords_8h.html#8af9ee4e369cb4ad52daa7f33335096d">NofValidTimeUnits</a>) {
<a name="l07856"></a>07856         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Invalid input:  time unit %d not supported"</span>, time);
<a name="l07857"></a>07857         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l07858"></a>07858     }
<a name="l07859"></a>07859     <span class="keywordflow">if</span> (temperature &lt; 0 || temperature &gt;= <a class="code" href="cgns_keywords_8h.html#063b20bdddc67f3107041137aefa2e77">NofValidTemperatureUnits</a>) {
<a name="l07860"></a>07860         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Invalid input:  temperature unit %d not supported"</span>, temperature);
<a name="l07861"></a>07861         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l07862"></a>07862     }
<a name="l07863"></a>07863     <span class="keywordflow">if</span> (angle &lt; 0 || angle &gt;= <a class="code" href="cgns_keywords_8h.html#c5fa0c1105a77dd324c813cd01b2fd95">NofValidAngleUnits</a>) {
<a name="l07864"></a>07864         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Invalid input:  angle unit %d not supported"</span>, angle);
<a name="l07865"></a>07865         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l07866"></a>07866     }
<a name="l07867"></a>07867 
<a name="l07868"></a>07868      <span class="comment">/* get address */</span>
<a name="l07869"></a>07869     units = <a class="code" href="cgns__header_8h.html#67857da0c01260790c462ff0b785c393">cgi_units_address</a>(<a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>, &amp;ier);
<a name="l07870"></a>07870     <span class="keywordflow">if</span> (units==0) <span class="keywordflow">return</span> ier;
<a name="l07871"></a>07871 
<a name="l07872"></a>07872      <span class="comment">/* save data in memory */</span>
<a name="l07873"></a>07873     units-&gt;<a class="code" href="structcgns__units.html#ccdb0cc12819cb949262feb86cdbe070">mass</a> = mass;
<a name="l07874"></a>07874     units-&gt;<a class="code" href="structcgns__units.html#906ce8e5c68c8a9163031bcc3b627891">length</a> = length;
<a name="l07875"></a>07875     units-&gt;<a class="code" href="structcgns__units.html#dc84664f3a054a4a9ae95d4acce1b097">time</a> = time;
<a name="l07876"></a>07876     units-&gt;<a class="code" href="structcgns__units.html#66a97aa58a9b92f7e64a76c91270adaa">temperature</a> = temperature;
<a name="l07877"></a>07877     units-&gt;<a class="code" href="structcgns__units.html#ceb06da2edb11dd80b720fa01af4efb9">angle</a> = angle;
<a name="l07878"></a>07878 
<a name="l07879"></a>07879      <span class="comment">/* initialize other fields */</span>
<a name="l07880"></a>07880     strcpy(units-&gt;<a class="code" href="structcgns__units.html#b5192b2e796e6224c74ec532ec32abf7">name</a>, <span class="stringliteral">"DimensionalUnits"</span>);
<a name="l07881"></a>07881     units-&gt;<a class="code" href="structcgns__units.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a> = 0;
<a name="l07882"></a>07882     units-&gt;<a class="code" href="structcgns__units.html#f6f27f42b9ecc89cf0ed39415bca67d1">link</a>=0;
<a name="l07883"></a>07883     units-&gt;<a class="code" href="structcgns__units.html#ccb2246905fa233d04904cd04c20ab6c">nunits</a> = 5;
<a name="l07884"></a>07884 
<a name="l07885"></a>07885      <span class="comment">/* save data in file */</span>
<a name="l07886"></a>07886     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#dfcc6b9f463371c7fbfb6a9e7307f39a">cgi_posit_id</a>(&amp;posit_id)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l07887"></a>07887     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#06575d81af9a423d4d84ed1ed98357ea">cgi_write_units</a>(posit_id, units)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l07888"></a>07888     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l07889"></a>07889 }
<a name="l07890"></a>07890 
<a name="l07891"></a><a class="code" href="cgnslib_8h.html#f8c823b89a07a3b8cbc4e514e0301a41">07891</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#e2ddf26d7cb5b7e8617bac490dff4900">cg_unitsfull_write</a>(<a class="code" href="cgns_keywords_8h.html#8f0a5167b1d8319a0e481666e57ceca0">MassUnits_t</a> mass, <a class="code" href="cgns_keywords_8h.html#92ba99c00037b87031c19ec440a4a3ca">LengthUnits_t</a> length,
<a name="l07892"></a>07892     <a class="code" href="cgns_keywords_8h.html#b5fe9a7cbb1e8e49cf4649eeee249cb8">TimeUnits_t</a> time, <a class="code" href="cgns_keywords_8h.html#2d4e2b4a0daece6b3e91b47fafd82ff5">TemperatureUnits_t</a> temperature, <a class="code" href="cgns_keywords_8h.html#9fe6a2bd66677cb82aa84a64f0e7882d">AngleUnits_t</a> angle,
<a name="l07893"></a>07893     <a class="code" href="cgns_keywords_8h.html#5d4973c6d234c38906f05d7e95adb91b">ElectricCurrentUnits_t</a> current, <a class="code" href="cgns_keywords_8h.html#cab7dbd0387c45e43fa52b67b1728a83">SubstanceAmountUnits_t</a> amount,
<a name="l07894"></a>07894     <a class="code" href="cgns_keywords_8h.html#2bfd9ba0eb7f7edef0ed7241ca258983">LuminousIntensityUnits_t</a> intensity) {
<a name="l07895"></a>07895     <span class="keywordtype">int</span> ier=0;
<a name="l07896"></a>07896     <a class="code" href="structcgns__units.html">cgns_units</a> *units;
<a name="l07897"></a>07897     <span class="keywordtype">double</span> posit_id;
<a name="l07898"></a>07898 
<a name="l07899"></a>07899      <span class="comment">/* verify input */</span>
<a name="l07900"></a>07900     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l07901"></a>07901     <span class="keywordflow">if</span> (mass &lt; 0 || mass &gt;= <a class="code" href="cgns_keywords_8h.html#c96a4bda33c372a14dc5483f3a79dbc3">NofValidMassUnits</a>) {
<a name="l07902"></a>07902         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Invalid input:  mass unit %d not supported"</span>,mass);
<a name="l07903"></a>07903         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l07904"></a>07904     }
<a name="l07905"></a>07905     <span class="keywordflow">if</span> (length &lt; 0 || length &gt;= <a class="code" href="cgns_keywords_8h.html#3408181646c0547c198171533d62294e">NofValidLengthUnits</a>) {
<a name="l07906"></a>07906         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Invalid input:  length unit %d not supported"</span>, length);
<a name="l07907"></a>07907         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l07908"></a>07908     }
<a name="l07909"></a>07909     <span class="keywordflow">if</span> (time &lt; 0 || time &gt;= <a class="code" href="cgns_keywords_8h.html#8af9ee4e369cb4ad52daa7f33335096d">NofValidTimeUnits</a>) {
<a name="l07910"></a>07910         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Invalid input:  time unit %d not supported"</span>, time);
<a name="l07911"></a>07911         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l07912"></a>07912     }
<a name="l07913"></a>07913     <span class="keywordflow">if</span> (temperature &lt; 0 || temperature &gt;= <a class="code" href="cgns_keywords_8h.html#063b20bdddc67f3107041137aefa2e77">NofValidTemperatureUnits</a>) {
<a name="l07914"></a>07914         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Invalid input:  temperature unit %d not supported"</span>, temperature);
<a name="l07915"></a>07915         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l07916"></a>07916     }
<a name="l07917"></a>07917     <span class="keywordflow">if</span> (angle &lt; 0 || angle &gt;= <a class="code" href="cgns_keywords_8h.html#c5fa0c1105a77dd324c813cd01b2fd95">NofValidAngleUnits</a>) {
<a name="l07918"></a>07918         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Invalid input:  angle unit %d not supported"</span>, angle);
<a name="l07919"></a>07919         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l07920"></a>07920     }
<a name="l07921"></a>07921     <span class="keywordflow">if</span> (current &lt; 0 || current &gt;= <a class="code" href="cgns_keywords_8h.html#b327911b02fba94e704010ded1fbe12f">NofValidElectricCurrentUnits</a>) {
<a name="l07922"></a>07922         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Invalid input:  electric current unit %d not supported"</span>, current);
<a name="l07923"></a>07923         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l07924"></a>07924     }
<a name="l07925"></a>07925     <span class="keywordflow">if</span> (amount &lt; 0 || amount &gt;= <a class="code" href="cgns_keywords_8h.html#b2b47008296dcfea692371c2f4f386f0">NofValidSubstanceAmountUnits</a>) {
<a name="l07926"></a>07926         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Invalid input:  substance amount unit %d not supported"</span>, amount);
<a name="l07927"></a>07927         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l07928"></a>07928     }
<a name="l07929"></a>07929     <span class="keywordflow">if</span> (intensity &lt; 0 || intensity &gt;= <a class="code" href="cgns_keywords_8h.html#17457e5834352cd71ea5f714865d1fe4">NofValidLuminousIntensityUnits</a>) {
<a name="l07930"></a>07930         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Invalid input:  luminous intensity unit %d not supported"</span>, intensity);
<a name="l07931"></a>07931         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l07932"></a>07932     }
<a name="l07933"></a>07933 
<a name="l07934"></a>07934      <span class="comment">/* get address */</span>
<a name="l07935"></a>07935     units = <a class="code" href="cgns__header_8h.html#67857da0c01260790c462ff0b785c393">cgi_units_address</a>(<a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>, &amp;ier);
<a name="l07936"></a>07936     <span class="keywordflow">if</span> (units==0) <span class="keywordflow">return</span> ier;
<a name="l07937"></a>07937 
<a name="l07938"></a>07938      <span class="comment">/* save data in memory */</span>
<a name="l07939"></a>07939     units-&gt;<a class="code" href="structcgns__units.html#ccdb0cc12819cb949262feb86cdbe070">mass</a> = mass;
<a name="l07940"></a>07940     units-&gt;<a class="code" href="structcgns__units.html#906ce8e5c68c8a9163031bcc3b627891">length</a> = length;
<a name="l07941"></a>07941     units-&gt;<a class="code" href="structcgns__units.html#dc84664f3a054a4a9ae95d4acce1b097">time</a> = time;
<a name="l07942"></a>07942     units-&gt;<a class="code" href="structcgns__units.html#66a97aa58a9b92f7e64a76c91270adaa">temperature</a> = temperature;
<a name="l07943"></a>07943     units-&gt;<a class="code" href="structcgns__units.html#ceb06da2edb11dd80b720fa01af4efb9">angle</a> = angle;
<a name="l07944"></a>07944     units-&gt;<a class="code" href="structcgns__units.html#c862b8009a6e0c63151d762732e188b2">current</a> = current;
<a name="l07945"></a>07945     units-&gt;<a class="code" href="structcgns__units.html#de4ddb57616d7bd05e14bbda917fde0b">amount</a> = amount;
<a name="l07946"></a>07946     units-&gt;<a class="code" href="structcgns__units.html#e198b6fd229808a379fbe53bde555861">intensity</a> = intensity;
<a name="l07947"></a>07947 
<a name="l07948"></a>07948      <span class="comment">/* initialize other fields */</span>
<a name="l07949"></a>07949     strcpy(units-&gt;<a class="code" href="structcgns__units.html#b5192b2e796e6224c74ec532ec32abf7">name</a>, <span class="stringliteral">"DimensionalUnits"</span>);
<a name="l07950"></a>07950     units-&gt;<a class="code" href="structcgns__units.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a> = 0;
<a name="l07951"></a>07951     units-&gt;<a class="code" href="structcgns__units.html#f6f27f42b9ecc89cf0ed39415bca67d1">link</a>=0;
<a name="l07952"></a>07952     units-&gt;<a class="code" href="structcgns__units.html#ccb2246905fa233d04904cd04c20ab6c">nunits</a> = 8;
<a name="l07953"></a>07953 
<a name="l07954"></a>07954      <span class="comment">/* save data in file */</span>
<a name="l07955"></a>07955     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#dfcc6b9f463371c7fbfb6a9e7307f39a">cgi_posit_id</a>(&amp;posit_id)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l07956"></a>07956     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#06575d81af9a423d4d84ed1ed98357ea">cgi_write_units</a>(posit_id, units)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l07957"></a>07957     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l07958"></a>07958 }
<a name="l07959"></a>07959 
<a name="l07960"></a><a class="code" href="cgnslib_8h.html#9295e81df27ff10173090aa5dd388bb1">07960</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#0c0fda1f960d2e88fe8ecd065eebb7fe">cg_exponents_write</a>(<a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae">DataType_t</a> DataType, <span class="keywordtype">void</span> <span class="keyword">const</span> * exponents) {
<a name="l07961"></a>07961     <a class="code" href="structcgns__exponent.html">cgns_exponent</a> *exponent;
<a name="l07962"></a>07962     <span class="keywordtype">int</span> ier=0;
<a name="l07963"></a>07963     <span class="keywordtype">double</span> posit_id;
<a name="l07964"></a>07964 
<a name="l07965"></a>07965      <span class="comment">/* verify input */</span>
<a name="l07966"></a>07966     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l07967"></a>07967 
<a name="l07968"></a>07968     exponent = <a class="code" href="cgns__header_8h.html#ad726ad97f6db47bf9de449620054b1e">cgi_exponent_address</a>(<a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>, &amp;ier);
<a name="l07969"></a>07969     <span class="keywordflow">if</span> (exponent==0) <span class="keywordflow">return</span> ier;
<a name="l07970"></a>07970 
<a name="l07971"></a>07971      <span class="comment">/* Save Data */</span>
<a name="l07972"></a>07972     strcpy(exponent-&gt;<a class="code" href="structcgns__exponent.html#86e4d546d1321bcac60584c413eb0f6d">data_type</a>, <a class="code" href="cgns__header_8h.html#abf7e64b45b7a0d3aa0f56747525065c">cgi_adf_datatype</a>(DataType));
<a name="l07973"></a>07973     exponent-&gt;<a class="code" href="structcgns__exponent.html#735984d41155bc1032e09bece8f8d66d">data</a> = (<span class="keywordtype">void</span> *)<a class="code" href="cg__malloc_8h.html#535b58ab5aa48e2e86073e334d43fd32">malloc</a>(5*<a class="code" href="cgns__header_8h.html#c7abea28547e8f0f35e8eaa9d3048889">size_of</a>(exponent-&gt;<a class="code" href="structcgns__exponent.html#86e4d546d1321bcac60584c413eb0f6d">data_type</a>));
<a name="l07974"></a>07974     <span class="keywordflow">if</span> (!exponent-&gt;<a class="code" href="structcgns__exponent.html#735984d41155bc1032e09bece8f8d66d">data</a>) {
<a name="l07975"></a>07975         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Error allocating exponent-&gt;data"</span>);
<a name="l07976"></a>07976         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l07977"></a>07977     }
<a name="l07978"></a>07978 
<a name="l07979"></a>07979     <span class="keywordflow">if</span> (DataType==<a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae1ca5e5244f4627fd3bf71c72015c2060">RealSingle</a>) {
<a name="l07980"></a>07980         (*((<span class="keywordtype">float</span> *)exponent-&gt;<a class="code" href="structcgns__exponent.html#735984d41155bc1032e09bece8f8d66d">data</a>+0)) = (*((<span class="keywordtype">float</span> *) exponents+0));
<a name="l07981"></a>07981         (*((<span class="keywordtype">float</span> *)exponent-&gt;<a class="code" href="structcgns__exponent.html#735984d41155bc1032e09bece8f8d66d">data</a>+1)) = (*((<span class="keywordtype">float</span> *) exponents+1));
<a name="l07982"></a>07982         (*((<span class="keywordtype">float</span> *)exponent-&gt;<a class="code" href="structcgns__exponent.html#735984d41155bc1032e09bece8f8d66d">data</a>+2)) = (*((<span class="keywordtype">float</span> *) exponents+2));
<a name="l07983"></a>07983         (*((<span class="keywordtype">float</span> *)exponent-&gt;<a class="code" href="structcgns__exponent.html#735984d41155bc1032e09bece8f8d66d">data</a>+3)) = (*((<span class="keywordtype">float</span> *) exponents+3));
<a name="l07984"></a>07984         (*((<span class="keywordtype">float</span> *)exponent-&gt;<a class="code" href="structcgns__exponent.html#735984d41155bc1032e09bece8f8d66d">data</a>+4)) = (*((<span class="keywordtype">float</span> *) exponents+4));
<a name="l07985"></a>07985 
<a name="l07986"></a>07986     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (DataType==<a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae5f954e649a6da0e65898e0faf7724549">RealDouble</a>) {
<a name="l07987"></a>07987         (*((<span class="keywordtype">double</span> *)exponent-&gt;<a class="code" href="structcgns__exponent.html#735984d41155bc1032e09bece8f8d66d">data</a>+0)) = (*((<span class="keywordtype">double</span> *) exponents+0));
<a name="l07988"></a>07988         (*((<span class="keywordtype">double</span> *)exponent-&gt;<a class="code" href="structcgns__exponent.html#735984d41155bc1032e09bece8f8d66d">data</a>+1)) = (*((<span class="keywordtype">double</span> *) exponents+1));
<a name="l07989"></a>07989         (*((<span class="keywordtype">double</span> *)exponent-&gt;<a class="code" href="structcgns__exponent.html#735984d41155bc1032e09bece8f8d66d">data</a>+2)) = (*((<span class="keywordtype">double</span> *) exponents+2));
<a name="l07990"></a>07990         (*((<span class="keywordtype">double</span> *)exponent-&gt;<a class="code" href="structcgns__exponent.html#735984d41155bc1032e09bece8f8d66d">data</a>+3)) = (*((<span class="keywordtype">double</span> *) exponents+3));
<a name="l07991"></a>07991         (*((<span class="keywordtype">double</span> *)exponent-&gt;<a class="code" href="structcgns__exponent.html#735984d41155bc1032e09bece8f8d66d">data</a>+4)) = (*((<span class="keywordtype">double</span> *) exponents+4));
<a name="l07992"></a>07992     }
<a name="l07993"></a>07993 
<a name="l07994"></a>07994      <span class="comment">/* initialize other fields */</span>
<a name="l07995"></a>07995     strcpy(exponent-&gt;<a class="code" href="structcgns__exponent.html#b5192b2e796e6224c74ec532ec32abf7">name</a>, <span class="stringliteral">"DimensionalExponents"</span>);
<a name="l07996"></a>07996     exponent-&gt;<a class="code" href="structcgns__exponent.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a> = 0;
<a name="l07997"></a>07997     exponent-&gt;<a class="code" href="structcgns__exponent.html#f6f27f42b9ecc89cf0ed39415bca67d1">link</a> = 0;
<a name="l07998"></a>07998     exponent-&gt;<a class="code" href="structcgns__exponent.html#a4747e75bfeabc8bc71fd144a29d8c5a">nexps</a> = 5;
<a name="l07999"></a>07999 
<a name="l08000"></a>08000      <span class="comment">/* save data in file */</span>
<a name="l08001"></a>08001     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#dfcc6b9f463371c7fbfb6a9e7307f39a">cgi_posit_id</a>(&amp;posit_id)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l08002"></a>08002     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#97b9a062ac2e7cfdb66a440d843b6cd6">cgi_write_exponents</a>(posit_id, exponent)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l08003"></a>08003     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l08004"></a>08004 }
<a name="l08005"></a>08005 
<a name="l08006"></a><a class="code" href="cgnslib_8h.html#e7ee1392c325c4e3c27ab554f5d9463d">08006</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#fceccfab14c8cdfb2d13627eb781c5bd">cg_expfull_write</a>(<a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae">DataType_t</a> DataType, <span class="keywordtype">void</span> <span class="keyword">const</span> * exponents) {
<a name="l08007"></a>08007     <a class="code" href="structcgns__exponent.html">cgns_exponent</a> *exponent;
<a name="l08008"></a>08008     <span class="keywordtype">int</span> ier=0;
<a name="l08009"></a>08009     <span class="keywordtype">double</span> posit_id;
<a name="l08010"></a>08010 
<a name="l08011"></a>08011      <span class="comment">/* verify input */</span>
<a name="l08012"></a>08012     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l08013"></a>08013 
<a name="l08014"></a>08014     exponent = <a class="code" href="cgns__header_8h.html#ad726ad97f6db47bf9de449620054b1e">cgi_exponent_address</a>(<a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>, &amp;ier);
<a name="l08015"></a>08015     <span class="keywordflow">if</span> (exponent==0) <span class="keywordflow">return</span> ier;
<a name="l08016"></a>08016 
<a name="l08017"></a>08017      <span class="comment">/* Save Data */</span>
<a name="l08018"></a>08018     strcpy(exponent-&gt;<a class="code" href="structcgns__exponent.html#86e4d546d1321bcac60584c413eb0f6d">data_type</a>, <a class="code" href="cgns__header_8h.html#abf7e64b45b7a0d3aa0f56747525065c">cgi_adf_datatype</a>(DataType));
<a name="l08019"></a>08019     exponent-&gt;<a class="code" href="structcgns__exponent.html#735984d41155bc1032e09bece8f8d66d">data</a> = (<span class="keywordtype">void</span> *)<a class="code" href="cg__malloc_8h.html#535b58ab5aa48e2e86073e334d43fd32">malloc</a>(8*<a class="code" href="cgns__header_8h.html#c7abea28547e8f0f35e8eaa9d3048889">size_of</a>(exponent-&gt;<a class="code" href="structcgns__exponent.html#86e4d546d1321bcac60584c413eb0f6d">data_type</a>));
<a name="l08020"></a>08020     <span class="keywordflow">if</span> (exponent-&gt;<a class="code" href="structcgns__exponent.html#735984d41155bc1032e09bece8f8d66d">data</a> == NULL) {
<a name="l08021"></a>08021         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Error allocating exponent-&gt;data"</span>);
<a name="l08022"></a>08022         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l08023"></a>08023     }
<a name="l08024"></a>08024 
<a name="l08025"></a>08025     <span class="keywordflow">if</span> (DataType==<a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae1ca5e5244f4627fd3bf71c72015c2060">RealSingle</a>) {
<a name="l08026"></a>08026         (*((<span class="keywordtype">float</span> *)exponent-&gt;<a class="code" href="structcgns__exponent.html#735984d41155bc1032e09bece8f8d66d">data</a>+0)) = (*((<span class="keywordtype">float</span> *) exponents+0));
<a name="l08027"></a>08027         (*((<span class="keywordtype">float</span> *)exponent-&gt;<a class="code" href="structcgns__exponent.html#735984d41155bc1032e09bece8f8d66d">data</a>+1)) = (*((<span class="keywordtype">float</span> *) exponents+1));
<a name="l08028"></a>08028         (*((<span class="keywordtype">float</span> *)exponent-&gt;<a class="code" href="structcgns__exponent.html#735984d41155bc1032e09bece8f8d66d">data</a>+2)) = (*((<span class="keywordtype">float</span> *) exponents+2));
<a name="l08029"></a>08029         (*((<span class="keywordtype">float</span> *)exponent-&gt;<a class="code" href="structcgns__exponent.html#735984d41155bc1032e09bece8f8d66d">data</a>+3)) = (*((<span class="keywordtype">float</span> *) exponents+3));
<a name="l08030"></a>08030         (*((<span class="keywordtype">float</span> *)exponent-&gt;<a class="code" href="structcgns__exponent.html#735984d41155bc1032e09bece8f8d66d">data</a>+4)) = (*((<span class="keywordtype">float</span> *) exponents+4));
<a name="l08031"></a>08031         (*((<span class="keywordtype">float</span> *)exponent-&gt;<a class="code" href="structcgns__exponent.html#735984d41155bc1032e09bece8f8d66d">data</a>+5)) = (*((<span class="keywordtype">float</span> *) exponents+5));
<a name="l08032"></a>08032         (*((<span class="keywordtype">float</span> *)exponent-&gt;<a class="code" href="structcgns__exponent.html#735984d41155bc1032e09bece8f8d66d">data</a>+6)) = (*((<span class="keywordtype">float</span> *) exponents+6));
<a name="l08033"></a>08033         (*((<span class="keywordtype">float</span> *)exponent-&gt;<a class="code" href="structcgns__exponent.html#735984d41155bc1032e09bece8f8d66d">data</a>+7)) = (*((<span class="keywordtype">float</span> *) exponents+7));
<a name="l08034"></a>08034 
<a name="l08035"></a>08035     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (DataType==<a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae5f954e649a6da0e65898e0faf7724549">RealDouble</a>) {
<a name="l08036"></a>08036         (*((<span class="keywordtype">double</span> *)exponent-&gt;<a class="code" href="structcgns__exponent.html#735984d41155bc1032e09bece8f8d66d">data</a>+0)) = (*((<span class="keywordtype">double</span> *) exponents+0));
<a name="l08037"></a>08037         (*((<span class="keywordtype">double</span> *)exponent-&gt;<a class="code" href="structcgns__exponent.html#735984d41155bc1032e09bece8f8d66d">data</a>+1)) = (*((<span class="keywordtype">double</span> *) exponents+1));
<a name="l08038"></a>08038         (*((<span class="keywordtype">double</span> *)exponent-&gt;<a class="code" href="structcgns__exponent.html#735984d41155bc1032e09bece8f8d66d">data</a>+2)) = (*((<span class="keywordtype">double</span> *) exponents+2));
<a name="l08039"></a>08039         (*((<span class="keywordtype">double</span> *)exponent-&gt;<a class="code" href="structcgns__exponent.html#735984d41155bc1032e09bece8f8d66d">data</a>+3)) = (*((<span class="keywordtype">double</span> *) exponents+3));
<a name="l08040"></a>08040         (*((<span class="keywordtype">double</span> *)exponent-&gt;<a class="code" href="structcgns__exponent.html#735984d41155bc1032e09bece8f8d66d">data</a>+4)) = (*((<span class="keywordtype">double</span> *) exponents+4));
<a name="l08041"></a>08041         (*((<span class="keywordtype">double</span> *)exponent-&gt;<a class="code" href="structcgns__exponent.html#735984d41155bc1032e09bece8f8d66d">data</a>+5)) = (*((<span class="keywordtype">double</span> *) exponents+5));
<a name="l08042"></a>08042         (*((<span class="keywordtype">double</span> *)exponent-&gt;<a class="code" href="structcgns__exponent.html#735984d41155bc1032e09bece8f8d66d">data</a>+6)) = (*((<span class="keywordtype">double</span> *) exponents+6));
<a name="l08043"></a>08043         (*((<span class="keywordtype">double</span> *)exponent-&gt;<a class="code" href="structcgns__exponent.html#735984d41155bc1032e09bece8f8d66d">data</a>+7)) = (*((<span class="keywordtype">double</span> *) exponents+7));
<a name="l08044"></a>08044     }
<a name="l08045"></a>08045 
<a name="l08046"></a>08046      <span class="comment">/* initialize other fields */</span>
<a name="l08047"></a>08047     strcpy(exponent-&gt;<a class="code" href="structcgns__exponent.html#b5192b2e796e6224c74ec532ec32abf7">name</a>, <span class="stringliteral">"DimensionalExponents"</span>);
<a name="l08048"></a>08048     exponent-&gt;<a class="code" href="structcgns__exponent.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a> = 0;
<a name="l08049"></a>08049     exponent-&gt;<a class="code" href="structcgns__exponent.html#f6f27f42b9ecc89cf0ed39415bca67d1">link</a> = 0;
<a name="l08050"></a>08050     exponent-&gt;<a class="code" href="structcgns__exponent.html#a4747e75bfeabc8bc71fd144a29d8c5a">nexps</a> = 8;
<a name="l08051"></a>08051 
<a name="l08052"></a>08052      <span class="comment">/* save data in file */</span>
<a name="l08053"></a>08053     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#dfcc6b9f463371c7fbfb6a9e7307f39a">cgi_posit_id</a>(&amp;posit_id)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l08054"></a>08054     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#97b9a062ac2e7cfdb66a440d843b6cd6">cgi_write_exponents</a>(posit_id, exponent)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l08055"></a>08055     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l08056"></a>08056 }
<a name="l08057"></a>08057 
<a name="l08058"></a><a class="code" href="cgnslib_8h.html#d26b39164b8f183e3c9973cf7bdb4614">08058</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#7de5c4c6e1e3f34a2aade7d88d34cb97">cg_conversion_write</a>(<a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae">DataType_t</a> DataType, <span class="keywordtype">void</span> <span class="keyword">const</span> * ConversionFactors) {
<a name="l08059"></a>08059     <a class="code" href="structcgns__conversion.html">cgns_conversion</a> *conversion;
<a name="l08060"></a>08060     <span class="keywordtype">int</span> ier=0, <a class="code" href="_a_d_f__internals_8h.html#830f6050ecf88958651b63cc1abfba2d">dim_vals</a>=2;
<a name="l08061"></a>08061     <span class="keywordtype">double</span> posit_id;
<a name="l08062"></a>08062 
<a name="l08063"></a>08063      <span class="comment">/* verify input */</span>
<a name="l08064"></a>08064     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l08065"></a>08065 
<a name="l08066"></a>08066     conversion = <a class="code" href="cgns__header_8h.html#23100dc1d224c0c2bc18d1ed823adf03">cgi_conversion_address</a>(<a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>, &amp;ier);
<a name="l08067"></a>08067     <span class="keywordflow">if</span> (conversion==0) <span class="keywordflow">return</span> ier;
<a name="l08068"></a>08068 
<a name="l08069"></a>08069      <span class="comment">/* Save data */</span>
<a name="l08070"></a>08070     strcpy(conversion-&gt;<a class="code" href="structcgns__conversion.html#86e4d546d1321bcac60584c413eb0f6d">data_type</a>, <a class="code" href="cgns__header_8h.html#abf7e64b45b7a0d3aa0f56747525065c">cgi_adf_datatype</a>(DataType));
<a name="l08071"></a>08071     conversion-&gt;<a class="code" href="structcgns__conversion.html#735984d41155bc1032e09bece8f8d66d">data</a> = (<span class="keywordtype">void</span> *)<a class="code" href="cg__malloc_8h.html#535b58ab5aa48e2e86073e334d43fd32">malloc</a>(2*<a class="code" href="cgns__header_8h.html#c7abea28547e8f0f35e8eaa9d3048889">size_of</a>(conversion-&gt;<a class="code" href="structcgns__conversion.html#86e4d546d1321bcac60584c413eb0f6d">data_type</a>));
<a name="l08072"></a>08072     <span class="keywordflow">if</span> (!conversion-&gt;<a class="code" href="structcgns__conversion.html#735984d41155bc1032e09bece8f8d66d">data</a>) {
<a name="l08073"></a>08073         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Error allocating conversion-&gt;data"</span>);
<a name="l08074"></a>08074         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l08075"></a>08075     }
<a name="l08076"></a>08076 
<a name="l08077"></a>08077     <span class="keywordflow">if</span> (DataType==<a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae1ca5e5244f4627fd3bf71c72015c2060">RealSingle</a>) {
<a name="l08078"></a>08078         *((<span class="keywordtype">float</span> *) conversion-&gt;<a class="code" href="structcgns__conversion.html#735984d41155bc1032e09bece8f8d66d">data</a>+0) = *((<span class="keywordtype">float</span> *)ConversionFactors+0);
<a name="l08079"></a>08079         *((<span class="keywordtype">float</span> *) conversion-&gt;<a class="code" href="structcgns__conversion.html#735984d41155bc1032e09bece8f8d66d">data</a>+1) = *((<span class="keywordtype">float</span> *)ConversionFactors+1);
<a name="l08080"></a>08080 
<a name="l08081"></a>08081     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (DataType==<a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae5f954e649a6da0e65898e0faf7724549">RealDouble</a>) {
<a name="l08082"></a>08082         *((<span class="keywordtype">double</span> *) conversion-&gt;<a class="code" href="structcgns__conversion.html#735984d41155bc1032e09bece8f8d66d">data</a>+0) = *((<span class="keywordtype">double</span> *)ConversionFactors+0);
<a name="l08083"></a>08083         *((<span class="keywordtype">double</span> *) conversion-&gt;<a class="code" href="structcgns__conversion.html#735984d41155bc1032e09bece8f8d66d">data</a>+1) = *((<span class="keywordtype">double</span> *)ConversionFactors+1);
<a name="l08084"></a>08084     }
<a name="l08085"></a>08085 
<a name="l08086"></a>08086      <span class="comment">/* initialize other fields */</span>
<a name="l08087"></a>08087     strcpy(conversion-&gt;<a class="code" href="structcgns__conversion.html#b5192b2e796e6224c74ec532ec32abf7">name</a>, <span class="stringliteral">"DataConversion"</span>);
<a name="l08088"></a>08088     conversion-&gt;<a class="code" href="structcgns__conversion.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>=0;
<a name="l08089"></a>08089     conversion-&gt;<a class="code" href="structcgns__conversion.html#f6f27f42b9ecc89cf0ed39415bca67d1">link</a>=0;
<a name="l08090"></a>08090 
<a name="l08091"></a>08091      <span class="comment">/* save data in file */</span>
<a name="l08092"></a>08092     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#dfcc6b9f463371c7fbfb6a9e7307f39a">cgi_posit_id</a>(&amp;posit_id)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l08093"></a>08093     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#184dd1d99e9f4e7b826f84887ba07748">cgi_new_node</a>(posit_id, <span class="stringliteral">"DataConversion"</span>, <span class="stringliteral">"DataConversion_t"</span>,
<a name="l08094"></a>08094         &amp;conversion-&gt;<a class="code" href="structcgns__conversion.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, conversion-&gt;<a class="code" href="structcgns__conversion.html#86e4d546d1321bcac60584c413eb0f6d">data_type</a>, 1, &amp;<a class="code" href="_a_d_f__internals_8h.html#830f6050ecf88958651b63cc1abfba2d">dim_vals</a>,
<a name="l08095"></a>08095         conversion-&gt;<a class="code" href="structcgns__conversion.html#735984d41155bc1032e09bece8f8d66d">data</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l08096"></a>08096     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l08097"></a>08097 }
<a name="l08098"></a>08098 
<a name="l08099"></a><a class="code" href="cgnslib_8h.html#fdd9c9f922c1be8fc20e504252942a09">08099</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#f96fe53f459fb12a0ca71e209e3995cb">cg_dataclass_write</a>(<a class="code" href="cgns_keywords_8h.html#6e3a45166e6780b756fef5c427279ca0">DataClass_t</a> dataclass) {
<a name="l08100"></a>08100     <a class="code" href="cgns_keywords_8h.html#6e3a45166e6780b756fef5c427279ca0">DataClass_t</a> *DataClass;
<a name="l08101"></a>08101     <span class="keywordtype">int</span> ier=0;
<a name="l08102"></a>08102     <span class="keywordtype">double</span> posit_id;
<a name="l08103"></a>08103 
<a name="l08104"></a>08104      <span class="comment">/* verify input */</span>
<a name="l08105"></a>08105     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l08106"></a>08106 
<a name="l08107"></a>08107     DataClass = <a class="code" href="cgns__header_8h.html#f50730418efbd44bed948694c641dba4">cgi_dataclass_address</a>(<a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>, &amp;ier);
<a name="l08108"></a>08108     <span class="keywordflow">if</span> (DataClass==0) <span class="keywordflow">return</span> ier;
<a name="l08109"></a>08109 
<a name="l08110"></a>08110     (*DataClass) = dataclass;
<a name="l08111"></a>08111 
<a name="l08112"></a>08112      <span class="comment">/* save data in file */</span>
<a name="l08113"></a>08113     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#dfcc6b9f463371c7fbfb6a9e7307f39a">cgi_posit_id</a>(&amp;posit_id)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l08114"></a>08114     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#306b75140e8a820262b872fe646384ba">cgi_write_dataclass</a>(posit_id, dataclass)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l08115"></a>08115     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l08116"></a>08116 }
<a name="l08117"></a>08117 
<a name="l08118"></a><a class="code" href="cgnslib_8h.html#ecf2cd37ce546c99503b8997a1b778ed">08118</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#8ff9a6952618ebc9f5934b61ad35aa54">cg_gridlocation_write</a>(<a class="code" href="cgns_keywords_8h.html#5a0e596ed46b12f73c2ed1b8b0176e13">GridLocation_t</a> GridLocation) {
<a name="l08119"></a>08119     <a class="code" href="cgns_keywords_8h.html#5a0e596ed46b12f73c2ed1b8b0176e13">GridLocation_t</a> *location;
<a name="l08120"></a>08120     <span class="keywordtype">int</span> ier=0, <a class="code" href="_a_d_f__internals_8h.html#830f6050ecf88958651b63cc1abfba2d">dim_vals</a>;
<a name="l08121"></a>08121     <span class="keywordtype">double</span> posit_id, dummy_id;
<a name="l08122"></a>08122 
<a name="l08123"></a>08123      <span class="comment">/* verify input */</span>
<a name="l08124"></a>08124     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l08125"></a>08125 
<a name="l08126"></a>08126     location = <a class="code" href="cgns__header_8h.html#2a6017a6c42d02861d35c6d8cd2d5dd8">cgi_location_address</a>(<a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>, &amp;ier);
<a name="l08127"></a>08127     <span class="keywordflow">if</span> (location==0) <span class="keywordflow">return</span> ier;
<a name="l08128"></a>08128 
<a name="l08129"></a>08129     <span class="keywordflow">if</span> ((GridLocation == <a class="code" href="cgns_keywords_8h.html#5a0e596ed46b12f73c2ed1b8b0176e13b4cea34ab6a3c3533f2422f66bf8dc3d">IFaceCenter</a> || GridLocation == <a class="code" href="cgns_keywords_8h.html#5a0e596ed46b12f73c2ed1b8b0176e133f9cfc26e3953b1a7f7b8826e119a5d5">JFaceCenter</a> ||
<a name="l08130"></a>08130          GridLocation == <a class="code" href="cgns_keywords_8h.html#5a0e596ed46b12f73c2ed1b8b0176e1387cfa4bdd4bc3bd768c3f0bab84f2143">KFaceCenter</a>) &amp;&amp;
<a name="l08131"></a>08131         cg-&gt;<a class="code" href="structcgns__file.html#0429392e9c26dac2f0b97ae2d2127117">base</a>[<a class="code" href="cgns__header_8h.html#9aefb3fb2179957b84774f80fc7ca76a">posit_base</a>-1].<a class="code" href="structcgns__base.html#abbb754f366f926198416ad91b8155ef">zone</a>[<a class="code" href="cgns__header_8h.html#ebd0971a3f05d514c15194a9a9d08617">posit_zone</a>-1].<a class="code" href="structcgns__zone.html#70e3228eb924895531acd9144d41916f">type</a> != <a class="code" href="cgns_keywords_8h.html#68acb02e36b91d3020f4de86436a07fe8a382d9e08294b2cd243ee60bd75c068">Structured</a>) {
<a name="l08132"></a>08132         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"GridLocation [IJK]FaceCenter only valid for Structured Grid"</span>);
<a name="l08133"></a>08133         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l08134"></a>08134     }
<a name="l08135"></a>08135 
<a name="l08136"></a>08136     ier = 0;
<a name="l08137"></a>08137     <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"FlowSolution_t"</span>)==0 ||
<a name="l08138"></a>08138         strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"DiscreteData_t"</span>)== 0 ||
<a name="l08139"></a>08139         strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"ArbitraryGridMotion_t"</span>)== 0) {
<a name="l08140"></a>08140         <span class="keywordflow">if</span> (GridLocation != <a class="code" href="cgns_keywords_8h.html#5a0e596ed46b12f73c2ed1b8b0176e13d013c4439c3e09308d6b2eef2a4025ae">Vertex</a> &amp;&amp; GridLocation != <a class="code" href="cgns_keywords_8h.html#5a0e596ed46b12f73c2ed1b8b0176e13af82b5a2366c89873ca45b75f6e6ac36">CellCenter</a> &amp;&amp;
<a name="l08141"></a>08141             GridLocation != <a class="code" href="cgns_keywords_8h.html#5a0e596ed46b12f73c2ed1b8b0176e13b4cea34ab6a3c3533f2422f66bf8dc3d">IFaceCenter</a> &amp;&amp; GridLocation != <a class="code" href="cgns_keywords_8h.html#5a0e596ed46b12f73c2ed1b8b0176e133f9cfc26e3953b1a7f7b8826e119a5d5">JFaceCenter</a> &amp;&amp;
<a name="l08142"></a>08142             GridLocation != <a class="code" href="cgns_keywords_8h.html#5a0e596ed46b12f73c2ed1b8b0176e1387cfa4bdd4bc3bd768c3f0bab84f2143">KFaceCenter</a>) ier = 1;
<a name="l08143"></a>08143     }
<a name="l08144"></a>08144     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"OversetHoles_t"</span>)==0) {
<a name="l08145"></a>08145         <span class="keywordflow">if</span> (GridLocation != <a class="code" href="cgns_keywords_8h.html#5a0e596ed46b12f73c2ed1b8b0176e13d013c4439c3e09308d6b2eef2a4025ae">Vertex</a> &amp;&amp; GridLocation != <a class="code" href="cgns_keywords_8h.html#5a0e596ed46b12f73c2ed1b8b0176e13af82b5a2366c89873ca45b75f6e6ac36">CellCenter</a>)
<a name="l08146"></a>08146             ier = 1;
<a name="l08147"></a>08147     }
<a name="l08148"></a>08148     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"GridConnectivity_t"</span>)==0) {
<a name="l08149"></a>08149         <span class="keywordflow">if</span> (GridLocation != <a class="code" href="cgns_keywords_8h.html#5a0e596ed46b12f73c2ed1b8b0176e13d013c4439c3e09308d6b2eef2a4025ae">Vertex</a> &amp;&amp; GridLocation != <a class="code" href="cgns_keywords_8h.html#5a0e596ed46b12f73c2ed1b8b0176e13af82b5a2366c89873ca45b75f6e6ac36">CellCenter</a> &amp;&amp;
<a name="l08150"></a>08150             GridLocation != <a class="code" href="cgns_keywords_8h.html#5a0e596ed46b12f73c2ed1b8b0176e1345f1c1cdb99ea61bfdddc570c6a02bf2">FaceCenter</a> &amp;&amp; GridLocation != <a class="code" href="cgns_keywords_8h.html#5a0e596ed46b12f73c2ed1b8b0176e13b4cea34ab6a3c3533f2422f66bf8dc3d">IFaceCenter</a> &amp;&amp;
<a name="l08151"></a>08151             GridLocation != <a class="code" href="cgns_keywords_8h.html#5a0e596ed46b12f73c2ed1b8b0176e133f9cfc26e3953b1a7f7b8826e119a5d5">JFaceCenter</a> &amp;&amp; GridLocation != <a class="code" href="cgns_keywords_8h.html#5a0e596ed46b12f73c2ed1b8b0176e1387cfa4bdd4bc3bd768c3f0bab84f2143">KFaceCenter</a>)
<a name="l08152"></a>08152             ier = 1;
<a name="l08153"></a>08153     }
<a name="l08154"></a>08154     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"BC_t"</span>)==0) {
<a name="l08155"></a>08155         <span class="keywordflow">if</span> (GridLocation != <a class="code" href="cgns_keywords_8h.html#5a0e596ed46b12f73c2ed1b8b0176e13d013c4439c3e09308d6b2eef2a4025ae">Vertex</a> &amp;&amp; GridLocation != <a class="code" href="cgns_keywords_8h.html#5a0e596ed46b12f73c2ed1b8b0176e1345f1c1cdb99ea61bfdddc570c6a02bf2">FaceCenter</a> &amp;&amp;
<a name="l08156"></a>08156             GridLocation != <a class="code" href="cgns_keywords_8h.html#5a0e596ed46b12f73c2ed1b8b0176e13b4cea34ab6a3c3533f2422f66bf8dc3d">IFaceCenter</a> &amp;&amp; GridLocation != <a class="code" href="cgns_keywords_8h.html#5a0e596ed46b12f73c2ed1b8b0176e133f9cfc26e3953b1a7f7b8826e119a5d5">JFaceCenter</a> &amp;&amp;
<a name="l08157"></a>08157             GridLocation != <a class="code" href="cgns_keywords_8h.html#5a0e596ed46b12f73c2ed1b8b0176e1387cfa4bdd4bc3bd768c3f0bab84f2143">KFaceCenter</a>)
<a name="l08158"></a>08158             ier = 1;
<a name="l08159"></a>08159     }
<a name="l08160"></a>08160     <span class="keywordflow">else</span> {
<a name="l08161"></a>08161         <span class="keywordflow">if</span> (GridLocation &lt; 0 || GridLocation &gt;= <a class="code" href="cgns_keywords_8h.html#1144a15b91557bdde064e950f7922446">NofValidGridLocation</a>)
<a name="l08162"></a>08162             ier = 1;
<a name="l08163"></a>08163     }
<a name="l08164"></a>08164     <span class="keywordflow">if</span> (ier) {
<a name="l08165"></a>08165         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"GridLocation %d not valid for %s"</span>, GridLocation, posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>);
<a name="l08166"></a>08166         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l08167"></a>08167     }
<a name="l08168"></a>08168 
<a name="l08169"></a>08169     (*location) = GridLocation;
<a name="l08170"></a>08170 
<a name="l08171"></a>08171      <span class="comment">/* save data in file */</span>
<a name="l08172"></a>08172     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#dfcc6b9f463371c7fbfb6a9e7307f39a">cgi_posit_id</a>(&amp;posit_id)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l08173"></a>08173     <a class="code" href="_a_d_f__internals_8h.html#830f6050ecf88958651b63cc1abfba2d">dim_vals</a> = strlen(<a class="code" href="cgnslib_8c.html#eb037aad0a1892338bfeeb05176a29bd">GridLocationName</a>[GridLocation]);
<a name="l08174"></a>08174     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#184dd1d99e9f4e7b826f84887ba07748">cgi_new_node</a>(posit_id, <span class="stringliteral">"GridLocation"</span>, <span class="stringliteral">"GridLocation_t"</span>, &amp;dummy_id,
<a name="l08175"></a>08175         <span class="stringliteral">"C1"</span>, 1, &amp;<a class="code" href="_a_d_f__internals_8h.html#830f6050ecf88958651b63cc1abfba2d">dim_vals</a>, (<span class="keywordtype">void</span> *)<a class="code" href="cgnslib_8c.html#eb037aad0a1892338bfeeb05176a29bd">GridLocationName</a>[GridLocation])) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l08176"></a>08176     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l08177"></a>08177 }
<a name="l08178"></a>08178 
<a name="l08179"></a><a class="code" href="cgnslib_8h.html#07e4619ec3218ea67be6676887466d27">08179</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#fc67939839b6b5f9dd1aa382e9afe6cb">cg_ordinal_write</a>(<span class="keywordtype">int</span> Ordinal) {
<a name="l08180"></a>08180     <span class="keywordtype">int</span> *ordinal;
<a name="l08181"></a>08181     <span class="keywordtype">int</span> ier=0;
<a name="l08182"></a>08182     <span class="keywordtype">double</span> posit_id;
<a name="l08183"></a>08183 
<a name="l08184"></a>08184      <span class="comment">/* verify input */</span>
<a name="l08185"></a>08185     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l08186"></a>08186 
<a name="l08187"></a>08187     ordinal = <a class="code" href="cgns__header_8h.html#789d2aeee172b212a9218d32c1c43de9">cgi_ordinal_address</a>(<a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>, &amp;ier);
<a name="l08188"></a>08188     <span class="keywordflow">if</span> (ordinal==0) <span class="keywordflow">return</span> ier;
<a name="l08189"></a>08189 
<a name="l08190"></a>08190     (*ordinal) = Ordinal;
<a name="l08191"></a>08191 
<a name="l08192"></a>08192      <span class="comment">/* save data in file */</span>
<a name="l08193"></a>08193     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#dfcc6b9f463371c7fbfb6a9e7307f39a">cgi_posit_id</a>(&amp;posit_id)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l08194"></a>08194     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#7fbb48c0e4e7c5058317a0c974f57000">cgi_write_ordinal</a>(posit_id, Ordinal)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l08195"></a>08195     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l08196"></a>08196 }
<a name="l08197"></a>08197 
<a name="l08198"></a><a class="code" href="cgnslib_8h.html#5e7fedeace8a91994dc616905e129876">08198</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#7ce0a2c9113bff440109c04d1461b5f3">cg_link_write</a>(<span class="keywordtype">char</span> <span class="keyword">const</span> * nodename, <span class="keywordtype">char</span> <span class="keyword">const</span> * <a class="code" href="_a_d_f__internals_8h.html#1bc14b345d09a9f773dfde50d7f2d830">filename</a>, <span class="keywordtype">char</span> <span class="keyword">const</span> * <a class="code" href="_a_d_f__internals_8h.html#38268b4a37cf5922b6027a50b298b7a5">name_in_file</a>) {
<a name="l08199"></a>08199     <span class="keywordtype">double</span> posit_id, link_id;
<a name="l08200"></a>08200 
<a name="l08201"></a>08201      <span class="comment">/* verify input */</span>
<a name="l08202"></a>08202     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l08203"></a>08203     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#dfcc6b9f463371c7fbfb6a9e7307f39a">cgi_posit_id</a>(&amp;posit_id)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l08204"></a>08204 
<a name="l08205"></a>08205     <span class="comment">/* check for valid posit */</span>
<a name="l08206"></a>08206 
<a name="l08207"></a>08207     <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"DataArray_t"</span>) &amp;&amp;
<a name="l08208"></a>08208         strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"UserDefinedData_t"</span>) &amp;&amp;
<a name="l08209"></a>08209         strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"IntegralData_t"</span>) &amp;&amp;
<a name="l08210"></a>08210         strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"DiscreteData_t"</span>) &amp;&amp;
<a name="l08211"></a>08211         strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"ConvergenceHistory_t"</span>) &amp;&amp;
<a name="l08212"></a>08212         strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"ReferenceState_t"</span>) &amp;&amp;
<a name="l08213"></a>08213         strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"GasModel_t"</span>) &amp;&amp;
<a name="l08214"></a>08214         strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"ViscosityModel_t"</span>) &amp;&amp;
<a name="l08215"></a>08215         strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"ThermalConductivityModel_t"</span>) &amp;&amp;
<a name="l08216"></a>08216         strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"TurbulenceModel_t"</span>) &amp;&amp;
<a name="l08217"></a>08217         strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"TurbulenceClosure_t"</span>) &amp;&amp;
<a name="l08218"></a>08218         strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"ThermalRelaxationModel_t"</span>) &amp;&amp;
<a name="l08219"></a>08219         strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"ChemicalKineticsModel_t"</span>) &amp;&amp;
<a name="l08220"></a>08220         strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"EMElectricFieldModel_t"</span>) &amp;&amp;
<a name="l08221"></a>08221         strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"EMMagneticFieldModel_t"</span>) &amp;&amp;
<a name="l08222"></a>08222         strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"EMConductivityModel_t"</span>) &amp;&amp;
<a name="l08223"></a>08223         strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"GoverningEquations_t"</span>) &amp;&amp;
<a name="l08224"></a>08224         strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"BCData_t"</span>) &amp;&amp;
<a name="l08225"></a>08225         strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"BCDataSet_t"</span>) &amp;&amp;
<a name="l08226"></a>08226         strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"Elements_t"</span>) &amp;&amp;
<a name="l08227"></a>08227         strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"BC_t"</span>) &amp;&amp;
<a name="l08228"></a>08228         strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"ZoneBC_t"</span>) &amp;&amp;
<a name="l08229"></a>08229         strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"OversetHoles_t"</span>) &amp;&amp;
<a name="l08230"></a>08230         strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"GridConnectivity_t"</span>) &amp;&amp;
<a name="l08231"></a>08231         strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"GridConnectivity1to1_t"</span>) &amp;&amp;
<a name="l08232"></a>08232         strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"ZoneGridConnectivity_t"</span>) &amp;&amp;
<a name="l08233"></a>08233         strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"FlowSolution_t"</span>) &amp;&amp;
<a name="l08234"></a>08234         strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"GridCoordinates_t"</span>) &amp;&amp;
<a name="l08235"></a>08235         strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"RigidGridMotion_t"</span>) &amp;&amp;
<a name="l08236"></a>08236         strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"ArbitraryGridMotion_t"</span>) &amp;&amp;
<a name="l08237"></a>08237         strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"ZoneIterativeData_t"</span>) &amp;&amp;
<a name="l08238"></a>08238         strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"BaseIterativeData_t"</span>) &amp;&amp;
<a name="l08239"></a>08239         strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"Zone_t"</span>) &amp;&amp;
<a name="l08240"></a>08240         strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"GeometryReference_t "</span>) &amp;&amp;
<a name="l08241"></a>08241         strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"Family_t"</span>) &amp;&amp;
<a name="l08242"></a>08242         strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"CGNSBase_t"</span>) &amp;&amp;
<a name="l08243"></a>08243         strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"Gravity_t"</span>) &amp;&amp;
<a name="l08244"></a>08244         strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"Axisymmetry_t"</span>) &amp;&amp;
<a name="l08245"></a>08245         strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"RotatingCoordinates_t"</span>) &amp;&amp;
<a name="l08246"></a>08246         strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"BCProperty_t"</span>) &amp;&amp;
<a name="l08247"></a>08247         strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"WallFunction_t"</span>) &amp;&amp;
<a name="l08248"></a>08248         strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"Area_t"</span>) &amp;&amp;
<a name="l08249"></a>08249         strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"GridConnectivityProperty_t"</span>) &amp;&amp;
<a name="l08250"></a>08250         strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"Periodic_t"</span>) &amp;&amp;
<a name="l08251"></a>08251         strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"AverageInterface_t"</span>)) {
<a name="l08252"></a>08252         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Links not supported under '%s' type node"</span>,posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>);
<a name="l08253"></a>08253         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#c0fa66c28774a143f149895c12dd429b">CG_INCORRECT_PATH</a>;
<a name="l08254"></a>08254     }
<a name="l08255"></a>08255 
<a name="l08256"></a>08256 <span class="preprocessor">#if DEBUG_LINKS</span>
<a name="l08257"></a>08257 <span class="preprocessor"></span>        printf(<span class="stringliteral">"Modify link %s -&gt; \"%s&gt;%s\"\n"</span>,
<a name="l08258"></a>08258             nodename, filename, name_in_file);
<a name="l08259"></a>08259 <span class="preprocessor">#endif</span>
<a name="l08260"></a>08260 <span class="preprocessor"></span>
<a name="l08261"></a>08261     <span class="comment">/* Create the ADF link. */</span>
<a name="l08262"></a>08262     <span class="comment">/* If a node already exists by that name, this will fail. */</span>
<a name="l08263"></a>08263     <span class="comment">/* Need to fix this to allow modifying an existing node */</span>
<a name="l08264"></a>08264     <span class="comment">/* but that's going to take a bit of work to keep the */</span>
<a name="l08265"></a>08265     <span class="comment">/* in-core information current */</span>
<a name="l08266"></a>08266 
<a name="l08267"></a>08267     <span class="keywordflow">if</span> (<a class="code" href="cgns__io_8c.html#35d10d85a48e271533e20b949b7d389b">cgio_create_link</a>(cg-&gt;<a class="code" href="structcgns__file.html#98363ec7b27905dbf2c56c6a194c69cc">cgio</a>, posit_id, nodename, filename,
<a name="l08268"></a>08268             name_in_file, &amp;link_id)) {
<a name="l08269"></a>08269         <a class="code" href="cgns__error_8c.html#47dd09a377bc17d5807332f8c475a23b">cg_io_error</a>(<span class="stringliteral">"cgio_create_link"</span>);
<a name="l08270"></a>08270         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l08271"></a>08271     }
<a name="l08272"></a>08272     (cg-&gt;<a class="code" href="structcgns__file.html#518dc951712ff1f919a3af4897ef91b9">added</a>)++;
<a name="l08273"></a>08273     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l08274"></a>08274 }
<a name="l08275"></a>08275 
<a name="l08276"></a>08276 
<a name="l08277"></a><a class="code" href="cgnslib_8h.html#9aaa5d740bc80b5d5fe9ff1a0b12b269">08277</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#407988b0244922c7e0c2724fd7b4d3f4">cg_user_data_write</a>(<span class="keywordtype">char</span> <span class="keyword">const</span> * UserDataName) {
<a name="l08278"></a>08278     <a class="code" href="structcgns__user__data__s.html">cgns_user_data</a> *user_data;
<a name="l08279"></a>08279     <span class="keywordtype">int</span> ier=0;
<a name="l08280"></a>08280     <span class="keywordtype">double</span> posit_id;
<a name="l08281"></a>08281 
<a name="l08282"></a>08282      <span class="comment">/* verify input */</span>
<a name="l08283"></a>08283     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#b042658423afd0817ab23b3ea7a5e03d">cgi_check_strlen</a>(UserDataName)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l08284"></a>08284     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l08285"></a>08285 
<a name="l08286"></a>08286     user_data = <a class="code" href="cgns__header_8h.html#cd6deb7f6e7896663309286cb0b18fcf">cgi_user_data_address</a>(<a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>, 0, UserDataName, &amp;ier);
<a name="l08287"></a>08287     <span class="keywordflow">if</span> (user_data==0) <span class="keywordflow">return</span> ier;
<a name="l08288"></a>08288 
<a name="l08289"></a>08289     strcpy(user_data-&gt;<a class="code" href="structcgns__user__data__s.html#b5192b2e796e6224c74ec532ec32abf7">name</a>, UserDataName);
<a name="l08290"></a>08290 
<a name="l08291"></a>08291      <span class="comment">/* initialize other fields */</span>
<a name="l08292"></a>08292     user_data-&gt;<a class="code" href="structcgns__user__data__s.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>=0;
<a name="l08293"></a>08293     user_data-&gt;<a class="code" href="structcgns__user__data__s.html#f6f27f42b9ecc89cf0ed39415bca67d1">link</a>=0;
<a name="l08294"></a>08294     user_data-&gt;<a class="code" href="structcgns__user__data__s.html#cdee83a08ec17a8018bf719ef82a3602">ndescr</a>=0;
<a name="l08295"></a>08295     user_data-&gt;<a class="code" href="structcgns__user__data__s.html#ace0c04d503f8dda2284ae61a8344b8b">narrays</a>=0;
<a name="l08296"></a>08296     user_data-&gt;<a class="code" href="structcgns__user__data__s.html#6aa9eb3c5ad6bdecf6cd8c2b3d97839c">data_class</a>=<a class="code" href="cgns_keywords_8h.html#6e3a45166e6780b756fef5c427279ca079d3001e5ba3290ed80f0762d51bb379">DataClassNull</a>;
<a name="l08297"></a>08297     user_data-&gt;<a class="code" href="structcgns__user__data__s.html#9b4c6b823f0741729aa08b21a4120308">units</a>=0;
<a name="l08298"></a>08298     user_data-&gt;<a class="code" href="structcgns__user__data__s.html#0e4921cde80f9718431923eedef14779">location</a> = <a class="code" href="cgns_keywords_8h.html#5a0e596ed46b12f73c2ed1b8b0176e13d013c4439c3e09308d6b2eef2a4025ae">Vertex</a>;
<a name="l08299"></a>08299     user_data-&gt;<a class="code" href="structcgns__user__data__s.html#e87a193017e6c339aa4108f69caadbb1">family_name</a>[0] = <span class="charliteral">'\0'</span>;
<a name="l08300"></a>08300     user_data-&gt;<a class="code" href="structcgns__user__data__s.html#6906d66a97c04f02a830a98f4ee90872">ordinal</a> = 0;
<a name="l08301"></a>08301     user_data-&gt;<a class="code" href="structcgns__user__data__s.html#8b7e2cc8709c8363359a7b3f8dba99c1">ptset</a> = 0;
<a name="l08302"></a>08302     user_data-&gt;<a class="code" href="structcgns__user__data__s.html#dc1e157d997b3174f9d41c5b645631f9">nuser_data</a> = 0;
<a name="l08303"></a>08303     user_data-&gt;<a class="code" href="structcgns__user__data__s.html#87e124487b42a321a893b99cccc77917">user_data</a> = 0;
<a name="l08304"></a>08304 
<a name="l08305"></a>08305      <span class="comment">/* save data in file */</span>
<a name="l08306"></a>08306     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#dfcc6b9f463371c7fbfb6a9e7307f39a">cgi_posit_id</a>(&amp;posit_id)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l08307"></a>08307     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#184dd1d99e9f4e7b826f84887ba07748">cgi_new_node</a>(posit_id, user_data-&gt;<a class="code" href="structcgns__user__data__s.html#b5192b2e796e6224c74ec532ec32abf7">name</a>, <span class="stringliteral">"UserDefinedData_t"</span>,
<a name="l08308"></a>08308         &amp;user_data-&gt;<a class="code" href="structcgns__user__data__s.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, <span class="stringliteral">"MT"</span>, 0, 0, 0)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l08309"></a>08309 
<a name="l08310"></a>08310     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l08311"></a>08311 }
<a name="l08312"></a>08312 
<a name="l08313"></a><a class="code" href="cgnslib_8h.html#740f497d508a41ec30e74c984e2f2c56">08313</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#96a4d48a8eb4b12f6496c407c9eb1634">cg_rotating_write</a>(<span class="keywordtype">float</span> <span class="keyword">const</span> *rot_rate, <span class="keywordtype">float</span> <span class="keyword">const</span> *rot_center) {
<a name="l08314"></a>08314     <a class="code" href="structcgns__rotating.html">cgns_rotating</a> *rotating;
<a name="l08315"></a>08315     <a class="code" href="structcgns__base.html">cgns_base</a> *base;
<a name="l08316"></a>08316     <span class="keywordtype">int</span> ier=0, n;
<a name="l08317"></a>08317     <span class="keywordtype">double</span> posit_id;
<a name="l08318"></a>08318 
<a name="l08319"></a>08319      <span class="comment">/* verify input */</span>
<a name="l08320"></a>08320     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l08321"></a>08321 
<a name="l08322"></a>08322     rotating=<a class="code" href="cgns__header_8h.html#25bc81bf341653b0f10334c7f2a1631f">cgi_rotating_address</a>(<a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>, &amp;ier);
<a name="l08323"></a>08323     <span class="keywordflow">if</span> (rotating==0) <span class="keywordflow">return</span> ier;
<a name="l08324"></a>08324 
<a name="l08325"></a>08325     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#9aefb3fb2179957b84774f80fc7ca76a">posit_base</a>) {
<a name="l08326"></a>08326         base = &amp;cg-&gt;<a class="code" href="structcgns__file.html#0429392e9c26dac2f0b97ae2d2127117">base</a>[<a class="code" href="cgns__header_8h.html#9aefb3fb2179957b84774f80fc7ca76a">posit_base</a>-1];
<a name="l08327"></a>08327     } <span class="keywordflow">else</span> {
<a name="l08328"></a>08328         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Can't find the base"</span>);
<a name="l08329"></a>08329         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l08330"></a>08330     }
<a name="l08331"></a>08331 
<a name="l08332"></a>08332     rotating-&gt;<a class="code" href="structcgns__rotating.html#1973739e7639e00a0d5aafe8c355c2aa">array</a> = <a class="code" href="cgns__header_8h.html#948c36b3700de0f3332aa3620eafb0f4">CGNS_NEW</a>(<a class="code" href="structcgns__array.html">cgns_array</a>, 2);
<a name="l08333"></a>08333     rotating-&gt;<a class="code" href="structcgns__rotating.html#ace0c04d503f8dda2284ae61a8344b8b">narrays</a>=2;
<a name="l08334"></a>08334 
<a name="l08335"></a>08335      <span class="comment">/* Create DataArray_t RotationCenter &amp; RotationRateVector under rotating */</span>
<a name="l08336"></a>08336     <span class="keywordflow">for</span> (n=0; n&lt;rotating-&gt;<a class="code" href="structcgns__rotating.html#ace0c04d503f8dda2284ae61a8344b8b">narrays</a>; n++) {
<a name="l08337"></a>08337         strcpy(rotating-&gt;<a class="code" href="structcgns__rotating.html#1973739e7639e00a0d5aafe8c355c2aa">array</a>[n].<a class="code" href="structcgns__array.html#86e4d546d1321bcac60584c413eb0f6d">data_type</a>, <span class="stringliteral">"R4"</span>);
<a name="l08338"></a>08338         rotating-&gt;<a class="code" href="structcgns__rotating.html#1973739e7639e00a0d5aafe8c355c2aa">array</a>[n].<a class="code" href="structcgns__array.html#735984d41155bc1032e09bece8f8d66d">data</a> = (<span class="keywordtype">void</span> *)<a class="code" href="cg__malloc_8h.html#535b58ab5aa48e2e86073e334d43fd32">malloc</a>(base-&gt;<a class="code" href="structcgns__base.html#f210aa767697826c3dc29cfb2ffec256">phys_dim</a>*<span class="keyword">sizeof</span>(<span class="keywordtype">float</span>));
<a name="l08339"></a>08339         <span class="keywordflow">if</span> (!rotating-&gt;<a class="code" href="structcgns__rotating.html#1973739e7639e00a0d5aafe8c355c2aa">array</a>[n].<a class="code" href="structcgns__array.html#735984d41155bc1032e09bece8f8d66d">data</a>) {
<a name="l08340"></a>08340             <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Error allocating rotating-&gt;array[n].data"</span>);
<a name="l08341"></a>08341             <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l08342"></a>08342         }
<a name="l08343"></a>08343         rotating-&gt;<a class="code" href="structcgns__rotating.html#1973739e7639e00a0d5aafe8c355c2aa">array</a>[n].<a class="code" href="structcgns__array.html#c7e27870b79e982377b6669e633a32ad">data_dim</a>=1;
<a name="l08344"></a>08344         rotating-&gt;<a class="code" href="structcgns__rotating.html#1973739e7639e00a0d5aafe8c355c2aa">array</a>[n].<a class="code" href="structcgns__array.html#5ca9ee30477c56421c793e2341f75931">dim_vals</a>[0]=base-&gt;<a class="code" href="structcgns__base.html#f210aa767697826c3dc29cfb2ffec256">phys_dim</a>;
<a name="l08345"></a>08345     }
<a name="l08346"></a>08346     memcpy(rotating-&gt;<a class="code" href="structcgns__rotating.html#1973739e7639e00a0d5aafe8c355c2aa">array</a>[0].<a class="code" href="structcgns__array.html#735984d41155bc1032e09bece8f8d66d">data</a>, rot_center, base-&gt;<a class="code" href="structcgns__base.html#f210aa767697826c3dc29cfb2ffec256">phys_dim</a>*<span class="keyword">sizeof</span>(<span class="keywordtype">float</span>));
<a name="l08347"></a>08347     memcpy(rotating-&gt;<a class="code" href="structcgns__rotating.html#1973739e7639e00a0d5aafe8c355c2aa">array</a>[1].<a class="code" href="structcgns__array.html#735984d41155bc1032e09bece8f8d66d">data</a>, rot_rate, base-&gt;<a class="code" href="structcgns__base.html#f210aa767697826c3dc29cfb2ffec256">phys_dim</a>*<span class="keyword">sizeof</span>(<span class="keywordtype">float</span>));
<a name="l08348"></a>08348     strcpy(rotating-&gt;<a class="code" href="structcgns__rotating.html#1973739e7639e00a0d5aafe8c355c2aa">array</a>[0].<a class="code" href="structcgns__array.html#b5192b2e796e6224c74ec532ec32abf7">name</a>, <span class="stringliteral">"RotationCenter"</span>);
<a name="l08349"></a>08349     strcpy(rotating-&gt;<a class="code" href="structcgns__rotating.html#1973739e7639e00a0d5aafe8c355c2aa">array</a>[1].<a class="code" href="structcgns__array.html#b5192b2e796e6224c74ec532ec32abf7">name</a>, <span class="stringliteral">"RotationRateVector"</span>);
<a name="l08350"></a>08350 
<a name="l08351"></a>08351      <span class="comment">/* initialize other fields of rotating-&gt;array[n] */</span>
<a name="l08352"></a>08352     <span class="keywordflow">for</span> (n=0; n&lt;rotating-&gt;<a class="code" href="structcgns__rotating.html#ace0c04d503f8dda2284ae61a8344b8b">narrays</a>; n++) {
<a name="l08353"></a>08353         rotating-&gt;<a class="code" href="structcgns__rotating.html#1973739e7639e00a0d5aafe8c355c2aa">array</a>[n].<a class="code" href="structcgns__array.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>=0;
<a name="l08354"></a>08354         rotating-&gt;<a class="code" href="structcgns__rotating.html#1973739e7639e00a0d5aafe8c355c2aa">array</a>[n].<a class="code" href="structcgns__array.html#f6f27f42b9ecc89cf0ed39415bca67d1">link</a>=0;
<a name="l08355"></a>08355         rotating-&gt;<a class="code" href="structcgns__rotating.html#1973739e7639e00a0d5aafe8c355c2aa">array</a>[n].<a class="code" href="structcgns__array.html#cdee83a08ec17a8018bf719ef82a3602">ndescr</a>=0;
<a name="l08356"></a>08356         rotating-&gt;<a class="code" href="structcgns__rotating.html#1973739e7639e00a0d5aafe8c355c2aa">array</a>[n].<a class="code" href="structcgns__array.html#6aa9eb3c5ad6bdecf6cd8c2b3d97839c">data_class</a>=<a class="code" href="cgns_keywords_8h.html#6e3a45166e6780b756fef5c427279ca079d3001e5ba3290ed80f0762d51bb379">DataClassNull</a>;
<a name="l08357"></a>08357         rotating-&gt;<a class="code" href="structcgns__rotating.html#1973739e7639e00a0d5aafe8c355c2aa">array</a>[n].<a class="code" href="structcgns__array.html#9b4c6b823f0741729aa08b21a4120308">units</a>=0;
<a name="l08358"></a>08358         rotating-&gt;<a class="code" href="structcgns__rotating.html#1973739e7639e00a0d5aafe8c355c2aa">array</a>[n].<a class="code" href="structcgns__array.html#87b103c38a459cc8a1c6cf06f01aa12a">exponents</a>=0;
<a name="l08359"></a>08359         rotating-&gt;<a class="code" href="structcgns__rotating.html#1973739e7639e00a0d5aafe8c355c2aa">array</a>[n].<a class="code" href="structcgns__array.html#0724545c909f7773439fee292fe3ef5f">convert</a>=0;
<a name="l08360"></a>08360     }
<a name="l08361"></a>08361 
<a name="l08362"></a>08362      <span class="comment">/* initialize other fields of rotating */</span>
<a name="l08363"></a>08363     strcpy(rotating-&gt;<a class="code" href="structcgns__rotating.html#b5192b2e796e6224c74ec532ec32abf7">name</a>, <span class="stringliteral">"RotatingCoordinates"</span>);
<a name="l08364"></a>08364     rotating-&gt;<a class="code" href="structcgns__rotating.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>=0;
<a name="l08365"></a>08365     rotating-&gt;<a class="code" href="structcgns__rotating.html#f6f27f42b9ecc89cf0ed39415bca67d1">link</a>=0;
<a name="l08366"></a>08366     rotating-&gt;<a class="code" href="structcgns__rotating.html#cdee83a08ec17a8018bf719ef82a3602">ndescr</a>=0;
<a name="l08367"></a>08367     rotating-&gt;<a class="code" href="structcgns__rotating.html#6aa9eb3c5ad6bdecf6cd8c2b3d97839c">data_class</a>=<a class="code" href="cgns_keywords_8h.html#6e3a45166e6780b756fef5c427279ca079d3001e5ba3290ed80f0762d51bb379">DataClassNull</a>;
<a name="l08368"></a>08368     rotating-&gt;<a class="code" href="structcgns__rotating.html#9b4c6b823f0741729aa08b21a4120308">units</a>=0;
<a name="l08369"></a>08369     rotating-&gt;<a class="code" href="structcgns__rotating.html#dc1e157d997b3174f9d41c5b645631f9">nuser_data</a>=0;
<a name="l08370"></a>08370 
<a name="l08371"></a>08371      <span class="comment">/* Write to disk */</span>
<a name="l08372"></a>08372     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#dfcc6b9f463371c7fbfb6a9e7307f39a">cgi_posit_id</a>(&amp;posit_id)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l08373"></a>08373     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#49639b62c5825ca640a32081260253a8">cgi_write_rotating</a>(posit_id, rotating)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l08374"></a>08374 
<a name="l08375"></a>08375     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l08376"></a>08376 }
<a name="l08377"></a>08377 
<a name="l08378"></a><a class="code" href="cgnslib_8h.html#4eae1fe64218124e277cb51fcd071c74">08378</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#a4ce93900ad2c4d84bc5534dc25a1365">cg_ptset_write</a>(<a class="code" href="cgns_keywords_8h.html#82fcf406991383f888f145541f6616f5">PointSetType_t</a> ptset_type, <span class="keywordtype">int</span> <a class="code" href="write__bcdata_8c.html#5444c4f4b8152e0b11ea6acae6b6de2a">npnts</a>, <span class="keywordtype">int</span> <span class="keyword">const</span> * <a class="code" href="write__bcdata_8c.html#5e162cfaac90b1bb6effc1042b58b64e">pnts</a>)
<a name="l08379"></a>08379 {
<a name="l08380"></a>08380     <a class="code" href="structcgns__ptset.html">cgns_ptset</a> *ptset = 0;
<a name="l08381"></a>08381     <span class="keywordtype">int</span> <a class="code" href="namespacefmain.html#c6f559daa4a4864f2449315176500469">i</a>, index_dim;
<a name="l08382"></a>08382     <span class="keywordtype">int</span> ier=0;
<a name="l08383"></a>08383 
<a name="l08384"></a>08384      <span class="comment">/* verify input */</span>
<a name="l08385"></a>08385     <span class="keywordflow">if</span>(npnts == 0 || pnts == NULL)
<a name="l08386"></a>08386     {
<a name="l08387"></a>08387         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Invalid input:  npoint=%d, point set type=%s"</span>,
<a name="l08388"></a>08388                    npnts, <a class="code" href="cgnslib_8c.html#4a8e191f04e4a8f19c88e882e5451685">PointSetTypeName</a>[ptset_type]);
<a name="l08389"></a>08389         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l08390"></a>08390     }
<a name="l08391"></a>08391 
<a name="l08392"></a>08392     <span class="keywordflow">if</span> (ptset_type == <a class="code" href="cgns_keywords_8h.html#82fcf406991383f888f145541f6616f5d9df12b6366abf1175abbfca72f5f43e">PointList</a>)
<a name="l08393"></a>08393     {
<a name="l08394"></a>08394         <span class="keywordflow">if</span> (npnts &lt;= 0)
<a name="l08395"></a>08395         {
<a name="l08396"></a>08396             <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Invalid input:  npoint=%d, point set type=%s"</span>,
<a name="l08397"></a>08397                    npnts, <a class="code" href="cgnslib_8c.html#4a8e191f04e4a8f19c88e882e5451685">PointSetTypeName</a>[ptset_type]);
<a name="l08398"></a>08398             <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l08399"></a>08399         }
<a name="l08400"></a>08400     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ptset_type == <a class="code" href="cgns_keywords_8h.html#82fcf406991383f888f145541f6616f5e5d03a0d4cdaa9d5c45a500029bd3783">PointRange</a>)
<a name="l08401"></a>08401     {
<a name="l08402"></a>08402         <span class="keywordflow">if</span> (npnts != 2)
<a name="l08403"></a>08403         {
<a name="l08404"></a>08404             <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Invalid input:  npoint=%d, point set type=%s"</span>,
<a name="l08405"></a>08405                    npnts, <a class="code" href="cgnslib_8c.html#4a8e191f04e4a8f19c88e882e5451685">PointSetTypeName</a>[ptset_type]);
<a name="l08406"></a>08406             <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l08407"></a>08407         }
<a name="l08408"></a>08408     } <span class="keywordflow">else</span>
<a name="l08409"></a>08409     {
<a name="l08410"></a>08410         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Invalid point set type: %d...?"</span>,ptset_type);
<a name="l08411"></a>08411         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l08412"></a>08412     }
<a name="l08413"></a>08413 
<a name="l08414"></a>08414     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#9aefb3fb2179957b84774f80fc7ca76a">posit_base</a> &amp;&amp; <a class="code" href="cgns__header_8h.html#ebd0971a3f05d514c15194a9a9d08617">posit_zone</a>)
<a name="l08415"></a>08415         index_dim = cg-&gt;<a class="code" href="structcgns__file.html#0429392e9c26dac2f0b97ae2d2127117">base</a>[<a class="code" href="cgns__header_8h.html#9aefb3fb2179957b84774f80fc7ca76a">posit_base</a>-1].<a class="code" href="structcgns__base.html#abbb754f366f926198416ad91b8155ef">zone</a>[<a class="code" href="cgns__header_8h.html#ebd0971a3f05d514c15194a9a9d08617">posit_zone</a>-1].<a class="code" href="structcgns__zone.html#5ea7c3da009c9add916c0eeca1973c05">index_dim</a>;
<a name="l08416"></a>08416     <span class="keywordflow">else</span> {
<a name="l08417"></a>08417         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Can not properly resolve IndexDimension unless under a Zone_t node."</span>);
<a name="l08418"></a>08418         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#e5e87a97d0361ef2982e0424d2abeb48">CG_NO_INDEX_DIM</a>;
<a name="l08419"></a>08419     }
<a name="l08420"></a>08420 
<a name="l08421"></a>08421     <span class="comment">/* verify input */</span>
<a name="l08422"></a>08422     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>))
<a name="l08423"></a>08423         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l08424"></a>08424 
<a name="l08425"></a>08425     ptset = <a class="code" href="cgns__header_8h.html#f6cea77ae9249730c4d2e4693a462216">cgi_ptset_address</a>(<a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>, &amp;ier);
<a name="l08426"></a>08426     <span class="keywordflow">if</span> (ptset==0)
<a name="l08427"></a>08427         <span class="keywordflow">return</span> ier;
<a name="l08428"></a>08428 
<a name="l08429"></a>08429     <span class="comment">/* set these with the provided argument data */</span>
<a name="l08430"></a>08430     ptset-&gt;<a class="code" href="structcgns__ptset.html#5aec710ee64d19d29072491968901bb5">type</a> = ptset_type;
<a name="l08431"></a>08431     ptset-&gt;<a class="code" href="structcgns__ptset.html#0306378cd06415f84b10cb3d15516ec3">npts</a> = npnts;
<a name="l08432"></a>08432 
<a name="l08433"></a>08433     <span class="keywordflow">if</span> (ptset_type == <a class="code" href="cgns_keywords_8h.html#82fcf406991383f888f145541f6616f5d9df12b6366abf1175abbfca72f5f43e">PointList</a>)
<a name="l08434"></a>08434     {
<a name="l08435"></a>08435         ptset-&gt;<a class="code" href="structcgns__ptset.html#e2b9734c6e30fe18058a373b8aad77a2">size_of_patch</a> = npnts;
<a name="l08436"></a>08436     }
<a name="l08437"></a>08437     <span class="keywordflow">else</span> <span class="comment">/* PointRange */</span>
<a name="l08438"></a>08438     {
<a name="l08439"></a>08439         ptset-&gt;<a class="code" href="structcgns__ptset.html#e2b9734c6e30fe18058a373b8aad77a2">size_of_patch</a> = 1;
<a name="l08440"></a>08440         <span class="keywordflow">for</span> (i=0; i &lt; index_dim; i++)
<a name="l08441"></a>08441             ptset-&gt;<a class="code" href="structcgns__ptset.html#e2b9734c6e30fe18058a373b8aad77a2">size_of_patch</a> = ptset-&gt;<a class="code" href="structcgns__ptset.html#e2b9734c6e30fe18058a373b8aad77a2">size_of_patch</a> *
<a name="l08442"></a>08442                 (pnts[i+index_dim] - pnts[i]+1);
<a name="l08443"></a>08443     }
<a name="l08444"></a>08444 
<a name="l08445"></a>08445     <span class="comment">/* initialize the following to default values */</span>
<a name="l08446"></a>08446     ptset-&gt;<a class="code" href="structcgns__ptset.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a> = 0;
<a name="l08447"></a>08447     ptset-&gt;<a class="code" href="structcgns__ptset.html#f6f27f42b9ecc89cf0ed39415bca67d1">link</a> = 0;
<a name="l08448"></a>08448     strcpy(ptset-&gt;<a class="code" href="structcgns__ptset.html#b5192b2e796e6224c74ec532ec32abf7">name</a>, <a class="code" href="cgnslib_8c.html#4a8e191f04e4a8f19c88e882e5451685">PointSetTypeName</a>[ptset-&gt;<a class="code" href="structcgns__ptset.html#5aec710ee64d19d29072491968901bb5">type</a>]);
<a name="l08449"></a>08449     strcpy(ptset-&gt;<a class="code" href="structcgns__ptset.html#86e4d546d1321bcac60584c413eb0f6d">data_type</a>,<span class="stringliteral">"I4"</span>);
<a name="l08450"></a>08450 
<a name="l08451"></a>08451      <span class="comment">/* Save Point-Set on Disk */</span>
<a name="l08452"></a>08452     <span class="keywordflow">if</span> (ptset-&gt;<a class="code" href="structcgns__ptset.html#0306378cd06415f84b10cb3d15516ec3">npts</a> &gt; 0)
<a name="l08453"></a>08453     {
<a name="l08454"></a>08454         <span class="keywordtype">double</span> posit_id;
<a name="l08455"></a>08455 
<a name="l08456"></a>08456         <span class="comment">/* write to disk */</span>
<a name="l08457"></a>08457         <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#dfcc6b9f463371c7fbfb6a9e7307f39a">cgi_posit_id</a>(&amp;posit_id))
<a name="l08458"></a>08458             <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l08459"></a>08459 
<a name="l08460"></a>08460         <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#b515c026b136510f7280371efafda974">cgi_write_ptset</a>(posit_id, ptset-&gt;<a class="code" href="structcgns__ptset.html#b5192b2e796e6224c74ec532ec32abf7">name</a>, ptset, index_dim,
<a name="l08461"></a>08461                             (<span class="keywordtype">void</span> *)pnts))
<a name="l08462"></a>08462             <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l08463"></a>08463     }
<a name="l08464"></a>08464 
<a name="l08465"></a>08465     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l08466"></a>08466 }
<a name="l08467"></a>08467 
<a name="l08468"></a><a class="code" href="cgnslib_8h.html#2798a866016bdfdcd5b14cde3ded1dc7">08468</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#89d6aeca101f55618b951793382c341b">cg_field_partial_write</a>(<span class="keywordtype">int</span> file_number, <span class="keywordtype">int</span> B, <span class="keywordtype">int</span> Z, <span class="keywordtype">int</span> S,
<a name="l08469"></a>08469                            <a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae">DataType_t</a> type, <span class="keywordtype">char</span> <span class="keyword">const</span> *fieldname, <span class="keywordtype">int</span> *rmin,
<a name="l08470"></a>08470                            <span class="keywordtype">int</span> *rmax, <span class="keywordtype">void</span> <span class="keyword">const</span> *field_ptr, <span class="keywordtype">int</span> *F) {
<a name="l08471"></a>08471     <a class="code" href="structcgns__zone.html">cgns_zone</a> *zone;
<a name="l08472"></a>08472     <a class="code" href="structcgns__sol.html">cgns_sol</a> *sol;
<a name="l08473"></a>08473     <a class="code" href="structcgns__array.html">cgns_array</a> *field;
<a name="l08474"></a>08474     <span class="keywordtype">int</span> n, index, index_dim, <a class="code" href="_a_d_f__internals_8h.html#c51040a8258f439eeb44220688762801">dims</a>[<a class="code" href="cgns__io_8h.html#7bf0c20b8c1978eb28a1bfcfaa7bf373">CGIO_MAX_DIMENSIONS</a>];
<a name="l08475"></a>08475 
<a name="l08476"></a>08476      <span class="comment">/* verify input */</span>
<a name="l08477"></a>08477     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#b042658423afd0817ab23b3ea7a5e03d">cgi_check_strlen</a>(fieldname)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l08478"></a>08478     <span class="keywordflow">if</span> (type!=<a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae1ca5e5244f4627fd3bf71c72015c2060">RealSingle</a> &amp;&amp; type!=<a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae5f954e649a6da0e65898e0faf7724549">RealDouble</a> &amp;&amp; type!=<a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae1e2f89e867cd91c3de2ea9fbd2ef96a3">Integer</a>) {
<a name="l08479"></a>08479         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Invalid datatype for solution array %s: %d"</span>,fieldname, type);
<a name="l08480"></a>08480         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l08481"></a>08481     }
<a name="l08482"></a>08482 
<a name="l08483"></a>08483     <span class="keywordflow">if</span>(rmin == NULL || rmax == NULL) {
<a name="l08484"></a>08484         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"NULL range value."</span>);
<a name="l08485"></a>08485         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l08486"></a>08486     }
<a name="l08487"></a>08487 
<a name="l08488"></a>08488      <span class="comment">/* get memory addresses */</span>
<a name="l08489"></a>08489     cg = <a class="code" href="cgns__header_8h.html#64a13852e04666fc73b74a8ff7727f4f">cgi_get_file</a>(file_number);
<a name="l08490"></a>08490     <span class="keywordflow">if</span> (cg == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l08491"></a>08491 
<a name="l08492"></a>08492     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l08493"></a>08493 
<a name="l08494"></a>08494     zone = <a class="code" href="cgns__header_8h.html#5ce4ef97dee99baf9183b8c23419bfe0">cgi_get_zone</a>(cg, B, Z);
<a name="l08495"></a>08495     <span class="keywordflow">if</span> (zone==0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l08496"></a>08496 
<a name="l08497"></a>08497     sol = <a class="code" href="cgns__header_8h.html#16decafa9c28c0d177bbebffa327258b">cgi_get_sol</a>(cg, B, Z, S);
<a name="l08498"></a>08498     <span class="keywordflow">if</span> (sol==0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l08499"></a>08499 
<a name="l08500"></a>08500     <span class="comment">/* check for valid ranges */</span>
<a name="l08501"></a>08501     index_dim = zone-&gt;<a class="code" href="structcgns__zone.html#5ea7c3da009c9add916c0eeca1973c05">index_dim</a>;
<a name="l08502"></a>08502     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#d5a03393f2b3476d62c4d4fc03a9aa9a">cgi_datasize</a>(index_dim, zone-&gt;<a class="code" href="structcgns__zone.html#41ee98048c689af7dcf7cf361860ee09">nijk</a>, sol-&gt;<a class="code" href="structcgns__sol.html#0e4921cde80f9718431923eedef14779">location</a>,
<a name="l08503"></a>08503             sol-&gt;<a class="code" href="structcgns__sol.html#e095e97c5a8c7758b4c9d0e463093b57">rind_planes</a>, dims)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l08504"></a>08504     <span class="keywordflow">for</span> (n = 0; n &lt; index_dim; n++) {
<a name="l08505"></a>08505         <span class="keywordflow">if</span> (rmin[n] &gt; rmax[n] || rmin[n] &lt; 1 || rmax[n] &gt; dims[n]) {
<a name="l08506"></a>08506             <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Invalid index ranges."</span>);
<a name="l08507"></a>08507             <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l08508"></a>08508         }
<a name="l08509"></a>08509     }
<a name="l08510"></a>08510 
<a name="l08511"></a>08511      <span class="comment">/* Overwrite a DataArray_t Node: */</span>
<a name="l08512"></a>08512     <span class="keywordflow">for</span> (index=0; index&lt;sol-&gt;<a class="code" href="structcgns__sol.html#6a44392df035942bf1234e9e4414cdf5">nfields</a>; index++) {
<a name="l08513"></a>08513         <span class="keywordflow">if</span> (strcmp(fieldname, sol-&gt;<a class="code" href="structcgns__sol.html#990a8448589e50065dfa499f60fa4888">field</a>[index].<a class="code" href="structcgns__array.html#b5192b2e796e6224c74ec532ec32abf7">name</a>)==0) {
<a name="l08514"></a>08514             <span class="keywordtype">int</span> <a class="code" href="_a_d_f__internals_8h.html#999e0a81005b29035820e1fa954e3e20">m_start</a>[<a class="code" href="cgns__io_8h.html#7bf0c20b8c1978eb28a1bfcfaa7bf373">CGIO_MAX_DIMENSIONS</a>], <a class="code" href="_a_d_f__internals_8h.html#d6d877f4601bbd9ff50ceea04171651f">m_end</a>[<a class="code" href="cgns__io_8h.html#7bf0c20b8c1978eb28a1bfcfaa7bf373">CGIO_MAX_DIMENSIONS</a>];
<a name="l08515"></a>08515             <span class="keywordtype">int</span> m_dim[<a class="code" href="cgns__io_8h.html#7bf0c20b8c1978eb28a1bfcfaa7bf373">CGIO_MAX_DIMENSIONS</a>], stride[<a class="code" href="cgns__io_8h.html#7bf0c20b8c1978eb28a1bfcfaa7bf373">CGIO_MAX_DIMENSIONS</a>];
<a name="l08516"></a>08516 
<a name="l08517"></a>08517             field = &amp;(sol-&gt;<a class="code" href="structcgns__sol.html#990a8448589e50065dfa499f60fa4888">field</a>[index]);
<a name="l08518"></a>08518             <span class="comment">/* data type must be the same */</span>
<a name="l08519"></a>08519             <span class="keywordflow">if</span> (strcmp(field-&gt;<a class="code" href="structcgns__array.html#86e4d546d1321bcac60584c413eb0f6d">data_type</a>, <a class="code" href="cgns__header_8h.html#abf7e64b45b7a0d3aa0f56747525065c">cgi_adf_datatype</a>(type))) {
<a name="l08520"></a>08520                 <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Mismatch in data types."</span>);
<a name="l08521"></a>08521                 <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l08522"></a>08522             }
<a name="l08523"></a>08523             <span class="keywordflow">for</span> (n = 0; n &lt; field-&gt;<a class="code" href="structcgns__array.html#c7e27870b79e982377b6669e633a32ad">data_dim</a>; n++) {
<a name="l08524"></a>08524                 m_start[n] = 1;
<a name="l08525"></a>08525                 m_end[n]   = rmax[n] - rmin[n] + 1;
<a name="l08526"></a>08526                 m_dim[n]   = m_end[n];
<a name="l08527"></a>08527                 stride[n]  = 1;
<a name="l08528"></a>08528             }
<a name="l08529"></a>08529 
<a name="l08530"></a>08530             <span class="keywordflow">if</span> (<a class="code" href="cgns__io_8c.html#81ce019f5dbac418ac46a4cfc046b5f3">cgio_write_data</a>(cg-&gt;<a class="code" href="structcgns__file.html#98363ec7b27905dbf2c56c6a194c69cc">cgio</a>, field-&gt;<a class="code" href="structcgns__array.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, rmin, rmax, stride,
<a name="l08531"></a>08531                     field-&gt;<a class="code" href="structcgns__array.html#c7e27870b79e982377b6669e633a32ad">data_dim</a>, m_dim, m_start, m_end,
<a name="l08532"></a>08532                     stride, (<span class="keywordtype">void</span> *)field_ptr)) {
<a name="l08533"></a>08533                 <a class="code" href="cgns__error_8c.html#47dd09a377bc17d5807332f8c475a23b">cg_io_error</a>(<span class="stringliteral">"cgio_write_data"</span>);
<a name="l08534"></a>08534                 <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l08535"></a>08535             }
<a name="l08536"></a>08536             <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l08537"></a>08537         }
<a name="l08538"></a>08538     }
<a name="l08539"></a>08539 
<a name="l08540"></a>08540      <span class="comment">/* add a DataArray_t Node: */</span>
<a name="l08541"></a>08541     <span class="keywordflow">if</span> (sol-&gt;<a class="code" href="structcgns__sol.html#6a44392df035942bf1234e9e4414cdf5">nfields</a> == 0) {
<a name="l08542"></a>08542         sol-&gt;<a class="code" href="structcgns__sol.html#990a8448589e50065dfa499f60fa4888">field</a> = <a class="code" href="cgns__header_8h.html#948c36b3700de0f3332aa3620eafb0f4">CGNS_NEW</a>(<a class="code" href="structcgns__array.html">cgns_array</a>, sol-&gt;<a class="code" href="structcgns__sol.html#6a44392df035942bf1234e9e4414cdf5">nfields</a>+1);
<a name="l08543"></a>08543     } <span class="keywordflow">else</span> {
<a name="l08544"></a>08544         sol-&gt;<a class="code" href="structcgns__sol.html#990a8448589e50065dfa499f60fa4888">field</a> = <a class="code" href="cgns__header_8h.html#e23e608849b6dc488ccdad466e76e2ad">CGNS_RENEW</a>(<a class="code" href="structcgns__array.html">cgns_array</a>, sol-&gt;<a class="code" href="structcgns__sol.html#6a44392df035942bf1234e9e4414cdf5">nfields</a>+1, sol-&gt;<a class="code" href="structcgns__sol.html#990a8448589e50065dfa499f60fa4888">field</a>);
<a name="l08545"></a>08545     }
<a name="l08546"></a>08546     field = &amp;(sol-&gt;<a class="code" href="structcgns__sol.html#990a8448589e50065dfa499f60fa4888">field</a>[sol-&gt;<a class="code" href="structcgns__sol.html#6a44392df035942bf1234e9e4414cdf5">nfields</a>]);
<a name="l08547"></a>08547     sol-&gt;<a class="code" href="structcgns__sol.html#6a44392df035942bf1234e9e4414cdf5">nfields</a>++;
<a name="l08548"></a>08548     (*F) = sol-&gt;<a class="code" href="structcgns__sol.html#6a44392df035942bf1234e9e4414cdf5">nfields</a>;
<a name="l08549"></a>08549 
<a name="l08550"></a>08550      <span class="comment">/* save data in memory */</span>
<a name="l08551"></a>08551     strcpy(field-&gt;<a class="code" href="structcgns__array.html#86e4d546d1321bcac60584c413eb0f6d">data_type</a>, <a class="code" href="cgns__header_8h.html#abf7e64b45b7a0d3aa0f56747525065c">cgi_adf_datatype</a>(type));
<a name="l08552"></a>08552     strcpy(field-&gt;<a class="code" href="structcgns__array.html#b5192b2e796e6224c74ec532ec32abf7">name</a>, fieldname);
<a name="l08553"></a>08553     field-&gt;<a class="code" href="structcgns__array.html#c7e27870b79e982377b6669e633a32ad">data_dim</a> = index_dim;
<a name="l08554"></a>08554     <span class="keywordflow">for</span> (n = 0; n &lt; index_dim; n++)
<a name="l08555"></a>08555         field-&gt;<a class="code" href="structcgns__array.html#5ca9ee30477c56421c793e2341f75931">dim_vals</a>[n] = dims[n];
<a name="l08556"></a>08556 
<a name="l08557"></a>08557      <span class="comment">/* initialize */</span>
<a name="l08558"></a>08558     field-&gt;<a class="code" href="structcgns__array.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a> = 0;
<a name="l08559"></a>08559     field-&gt;<a class="code" href="structcgns__array.html#f6f27f42b9ecc89cf0ed39415bca67d1">link</a>= 0;
<a name="l08560"></a>08560     field-&gt;<a class="code" href="structcgns__array.html#735984d41155bc1032e09bece8f8d66d">data</a>=0;
<a name="l08561"></a>08561     field-&gt;<a class="code" href="structcgns__array.html#cdee83a08ec17a8018bf719ef82a3602">ndescr</a>= 0;
<a name="l08562"></a>08562     field-&gt;<a class="code" href="structcgns__array.html#6aa9eb3c5ad6bdecf6cd8c2b3d97839c">data_class</a>= <a class="code" href="cgns_keywords_8h.html#6e3a45166e6780b756fef5c427279ca079d3001e5ba3290ed80f0762d51bb379">DataClassNull</a>;
<a name="l08563"></a>08563     field-&gt;<a class="code" href="structcgns__array.html#9b4c6b823f0741729aa08b21a4120308">units</a>= 0;
<a name="l08564"></a>08564     field-&gt;<a class="code" href="structcgns__array.html#87b103c38a459cc8a1c6cf06f01aa12a">exponents</a>= 0;
<a name="l08565"></a>08565     field-&gt;<a class="code" href="structcgns__array.html#0724545c909f7773439fee292fe3ef5f">convert</a>= 0;
<a name="l08566"></a>08566 
<a name="l08567"></a>08567      <span class="comment">/* Save DataArray_t node on disk: */</span>
<a name="l08568"></a>08568     if (<a class="code" href="cgns__header_8h.html#c103871653e4c2144fef6fb7c7fea4c4">cgi_new_node_partial</a>(sol-&gt;<a class="code" href="structcgns__sol.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, field-&gt;<a class="code" href="structcgns__array.html#b5192b2e796e6224c74ec532ec32abf7">name</a>, <span class="stringliteral">"DataArray_t"</span>, &amp;field-&gt;<a class="code" href="structcgns__array.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>,
<a name="l08569"></a>08569         field-&gt;<a class="code" href="structcgns__array.html#86e4d546d1321bcac60584c413eb0f6d">data_type</a>, index_dim, field-&gt;<a class="code" href="structcgns__array.html#5ca9ee30477c56421c793e2341f75931">dim_vals</a>, rmin, rmax,
<a name="l08570"></a>08570         field_ptr))
<a name="l08571"></a>08571         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l08572"></a>08572 
<a name="l08573"></a>08573     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l08574"></a>08574 }
<a name="l08575"></a>08575 
<a name="l08576"></a><a class="code" href="cgnslib_8h.html#7d8418d09c04dcf879ddb77aa655832a">08576</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#d0152a4b69e193047bcbe9b9a9d92ba5">cg_coord_partial_write</a>(<span class="keywordtype">int</span> file_number, <span class="keywordtype">int</span> B, <span class="keywordtype">int</span> Z, <a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae">DataType_t</a> type,
<a name="l08577"></a>08577                            <span class="keywordtype">char</span> <span class="keyword">const</span> *coordname, <span class="keywordtype">int</span> *rmin, <span class="keywordtype">int</span> *rmax,
<a name="l08578"></a>08578                            <span class="keywordtype">void</span> <span class="keyword">const</span> *coord_ptr, <span class="keywordtype">int</span> *<a class="code" href="cgnswin__f_8h.html#1f39f73b12ce2dca81d3aa4b3c4b1824">C</a>) {
<a name="l08579"></a>08579     <a class="code" href="structcgns__zone.html">cgns_zone</a> *zone;
<a name="l08580"></a>08580     <a class="code" href="structcgns__zcoor.html">cgns_zcoor</a> *zcoor;
<a name="l08581"></a>08581     <a class="code" href="structcgns__array.html">cgns_array</a> *<a class="code" href="test__exts_8c.html#b746fd2146196cc6771f0a754171181e">coord</a>;
<a name="l08582"></a>08582     <span class="keywordtype">int</span> n, index, index_dim, <a class="code" href="_a_d_f__internals_8h.html#c51040a8258f439eeb44220688762801">dims</a>[<a class="code" href="cgns__io_8h.html#7bf0c20b8c1978eb28a1bfcfaa7bf373">CGIO_MAX_DIMENSIONS</a>];
<a name="l08583"></a>08583 
<a name="l08584"></a>08584      <span class="comment">/* verify input */</span>
<a name="l08585"></a>08585     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#b042658423afd0817ab23b3ea7a5e03d">cgi_check_strlen</a>(coordname)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l08586"></a>08586     <span class="keywordflow">if</span> (type!=<a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae1ca5e5244f4627fd3bf71c72015c2060">RealSingle</a> &amp;&amp; type!=<a class="code" href="cgns_keywords_8h.html#405dc77179a4a9e1c6ad0a6d252bebae5f954e649a6da0e65898e0faf7724549">RealDouble</a>) {
<a name="l08587"></a>08587         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Invalid datatype for coord. array:  %d"</span>, type);
<a name="l08588"></a>08588         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l08589"></a>08589     }
<a name="l08590"></a>08590 
<a name="l08591"></a>08591     <span class="keywordflow">if</span>(rmin == NULL || rmax == NULL) {
<a name="l08592"></a>08592         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"NULL range value."</span>);
<a name="l08593"></a>08593         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l08594"></a>08594     }
<a name="l08595"></a>08595 
<a name="l08596"></a>08596      <span class="comment">/* get memory address for file */</span>
<a name="l08597"></a>08597     cg = <a class="code" href="cgns__header_8h.html#64a13852e04666fc73b74a8ff7727f4f">cgi_get_file</a>(file_number);
<a name="l08598"></a>08598     <span class="keywordflow">if</span> (cg == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l08599"></a>08599 
<a name="l08600"></a>08600     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l08601"></a>08601 
<a name="l08602"></a>08602      <span class="comment">/* get memory address for zone */</span>
<a name="l08603"></a>08603     zone = <a class="code" href="cgns__header_8h.html#5ce4ef97dee99baf9183b8c23419bfe0">cgi_get_zone</a>(cg, B, Z);
<a name="l08604"></a>08604     <span class="keywordflow">if</span> (zone==0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l08605"></a>08605 
<a name="l08606"></a>08606      <span class="comment">/* Get memory address for node "GridCoordinates" */</span>
<a name="l08607"></a>08607     zcoor = <a class="code" href="cgns__header_8h.html#3e5a876b81ce952b44c23a9b934dbe01">cgi_get_zcoorGC</a>(cg, B, Z);
<a name="l08608"></a>08608     <span class="keywordflow">if</span> (zcoor==0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l08609"></a>08609 
<a name="l08610"></a>08610     <span class="comment">/* check for valid ranges */</span>
<a name="l08611"></a>08611     index_dim = zone-&gt;<a class="code" href="structcgns__zone.html#5ea7c3da009c9add916c0eeca1973c05">index_dim</a>;
<a name="l08612"></a>08612     <span class="keywordflow">for</span> (n = 0; n &lt; index_dim; n++) {
<a name="l08613"></a>08613         dims[n] = zone-&gt;<a class="code" href="structcgns__zone.html#41ee98048c689af7dcf7cf361860ee09">nijk</a>[n] + zcoor-&gt;<a class="code" href="structcgns__zcoor.html#e095e97c5a8c7758b4c9d0e463093b57">rind_planes</a>[2*n] +
<a name="l08614"></a>08614                                   zcoor-&gt;<a class="code" href="structcgns__zcoor.html#e095e97c5a8c7758b4c9d0e463093b57">rind_planes</a>[2*n+1];
<a name="l08615"></a>08615         <span class="keywordflow">if</span> (rmin[n] &gt; rmax[n] || rmin[n] &lt; 1 || rmax[n] &gt; dims[n]) {
<a name="l08616"></a>08616             <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Invalid index ranges."</span>);
<a name="l08617"></a>08617             <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l08618"></a>08618         }
<a name="l08619"></a>08619     }
<a name="l08620"></a>08620 
<a name="l08621"></a>08621      <span class="comment">/* Overwrite a DataArray_t Node of same size, name and data-type: */</span>
<a name="l08622"></a>08622     <span class="keywordflow">for</span> (index=0; index&lt;zcoor-&gt;<a class="code" href="structcgns__zcoor.html#a6cb1b2f94bbe4063ed616bdc8797abf">ncoords</a>; index++) {
<a name="l08623"></a>08623         <span class="keywordflow">if</span> (strcmp(coordname, zcoor-&gt;<a class="code" href="structcgns__zcoor.html#5ab5360b57c24503e4ef160d06387c15">coord</a>[index].<a class="code" href="structcgns__array.html#b5192b2e796e6224c74ec532ec32abf7">name</a>)==0) {
<a name="l08624"></a>08624             <span class="keywordtype">int</span> <a class="code" href="_a_d_f__internals_8h.html#999e0a81005b29035820e1fa954e3e20">m_start</a>[<a class="code" href="cgns__io_8h.html#7bf0c20b8c1978eb28a1bfcfaa7bf373">CGIO_MAX_DIMENSIONS</a>], <a class="code" href="_a_d_f__internals_8h.html#d6d877f4601bbd9ff50ceea04171651f">m_end</a>[<a class="code" href="cgns__io_8h.html#7bf0c20b8c1978eb28a1bfcfaa7bf373">CGIO_MAX_DIMENSIONS</a>];
<a name="l08625"></a>08625             <span class="keywordtype">int</span> m_dim[<a class="code" href="cgns__io_8h.html#7bf0c20b8c1978eb28a1bfcfaa7bf373">CGIO_MAX_DIMENSIONS</a>], stride[<a class="code" href="cgns__io_8h.html#7bf0c20b8c1978eb28a1bfcfaa7bf373">CGIO_MAX_DIMENSIONS</a>];
<a name="l08626"></a>08626 
<a name="l08627"></a>08627             coord = &amp;(zcoor-&gt;<a class="code" href="structcgns__zcoor.html#5ab5360b57c24503e4ef160d06387c15">coord</a>[index]);
<a name="l08628"></a>08628             <span class="comment">/* data type must be the same */</span>
<a name="l08629"></a>08629             <span class="keywordflow">if</span> (strcmp(coord-&gt;<a class="code" href="structcgns__array.html#86e4d546d1321bcac60584c413eb0f6d">data_type</a>,<a class="code" href="cgns__header_8h.html#abf7e64b45b7a0d3aa0f56747525065c">cgi_adf_datatype</a>(type))) {
<a name="l08630"></a>08630                 <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Mismatch in data types."</span>);
<a name="l08631"></a>08631                 <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l08632"></a>08632             }
<a name="l08633"></a>08633             <span class="keywordflow">for</span> (n = 0; n &lt; coord-&gt;<a class="code" href="structcgns__array.html#c7e27870b79e982377b6669e633a32ad">data_dim</a>; n++) {
<a name="l08634"></a>08634                 m_start[n] = 1;
<a name="l08635"></a>08635                 m_end[n]   = rmax[n] - rmin[n] + 1;
<a name="l08636"></a>08636                 m_dim[n]   = m_end[n];
<a name="l08637"></a>08637                 stride[n]  = 1;
<a name="l08638"></a>08638             }
<a name="l08639"></a>08639 
<a name="l08640"></a>08640             <span class="keywordflow">if</span> (<a class="code" href="cgns__io_8c.html#81ce019f5dbac418ac46a4cfc046b5f3">cgio_write_data</a>(cg-&gt;<a class="code" href="structcgns__file.html#98363ec7b27905dbf2c56c6a194c69cc">cgio</a>, coord-&gt;<a class="code" href="structcgns__array.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, rmin, rmax, stride,
<a name="l08641"></a>08641                            coord-&gt;<a class="code" href="structcgns__array.html#c7e27870b79e982377b6669e633a32ad">data_dim</a>, m_dim, m_start, m_end,
<a name="l08642"></a>08642                            stride, (<span class="keywordtype">void</span> *)coord_ptr)) {
<a name="l08643"></a>08643                 <a class="code" href="cgns__error_8c.html#47dd09a377bc17d5807332f8c475a23b">cg_io_error</a>(<span class="stringliteral">"cgio_write_data"</span>);
<a name="l08644"></a>08644                 <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l08645"></a>08645             }
<a name="l08646"></a>08646             <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l08647"></a>08647         }
<a name="l08648"></a>08648     }
<a name="l08649"></a>08649 
<a name="l08650"></a>08650      <span class="comment">/* add a DataArray_t Node: */</span>
<a name="l08651"></a>08651     <span class="keywordflow">if</span> (zcoor-&gt;<a class="code" href="structcgns__zcoor.html#a6cb1b2f94bbe4063ed616bdc8797abf">ncoords</a> == 0) {
<a name="l08652"></a>08652         zcoor-&gt;<a class="code" href="structcgns__zcoor.html#5ab5360b57c24503e4ef160d06387c15">coord</a> = <a class="code" href="cgns__header_8h.html#948c36b3700de0f3332aa3620eafb0f4">CGNS_NEW</a>(<a class="code" href="structcgns__array.html">cgns_array</a>, zcoor-&gt;<a class="code" href="structcgns__zcoor.html#a6cb1b2f94bbe4063ed616bdc8797abf">ncoords</a>+1);
<a name="l08653"></a>08653     } <span class="keywordflow">else</span> {
<a name="l08654"></a>08654         zcoor-&gt;<a class="code" href="structcgns__zcoor.html#5ab5360b57c24503e4ef160d06387c15">coord</a> = <a class="code" href="cgns__header_8h.html#e23e608849b6dc488ccdad466e76e2ad">CGNS_RENEW</a>(<a class="code" href="structcgns__array.html">cgns_array</a>, zcoor-&gt;<a class="code" href="structcgns__zcoor.html#a6cb1b2f94bbe4063ed616bdc8797abf">ncoords</a>+1, zcoor-&gt;<a class="code" href="structcgns__zcoor.html#5ab5360b57c24503e4ef160d06387c15">coord</a>);
<a name="l08655"></a>08655     }
<a name="l08656"></a>08656     coord = &amp;(zcoor-&gt;<a class="code" href="structcgns__zcoor.html#5ab5360b57c24503e4ef160d06387c15">coord</a>[zcoor-&gt;<a class="code" href="structcgns__zcoor.html#a6cb1b2f94bbe4063ed616bdc8797abf">ncoords</a>]);
<a name="l08657"></a>08657     zcoor-&gt;<a class="code" href="structcgns__zcoor.html#a6cb1b2f94bbe4063ed616bdc8797abf">ncoords</a>++;
<a name="l08658"></a>08658     (*C) = zcoor-&gt;<a class="code" href="structcgns__zcoor.html#a6cb1b2f94bbe4063ed616bdc8797abf">ncoords</a>;
<a name="l08659"></a>08659 
<a name="l08660"></a>08660      <span class="comment">/* save coord. data in memory */</span>
<a name="l08661"></a>08661     strcpy(coord-&gt;<a class="code" href="structcgns__array.html#86e4d546d1321bcac60584c413eb0f6d">data_type</a>,<a class="code" href="cgns__header_8h.html#abf7e64b45b7a0d3aa0f56747525065c">cgi_adf_datatype</a>(type));
<a name="l08662"></a>08662     strcpy(coord-&gt;<a class="code" href="structcgns__array.html#b5192b2e796e6224c74ec532ec32abf7">name</a>,coordname);
<a name="l08663"></a>08663     coord-&gt;<a class="code" href="structcgns__array.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>=0;        <span class="comment">/* initialize */</span>
<a name="l08664"></a>08664     coord-&gt;<a class="code" href="structcgns__array.html#f6f27f42b9ecc89cf0ed39415bca67d1">link</a>=0;
<a name="l08665"></a>08665     <span class="keywordflow">for</span> (n = 0; n &lt; index_dim; n++)
<a name="l08666"></a>08666         coord-&gt;<a class="code" href="structcgns__array.html#5ca9ee30477c56421c793e2341f75931">dim_vals</a>[n] = dims[n];
<a name="l08667"></a>08667     coord-&gt;<a class="code" href="structcgns__array.html#c7e27870b79e982377b6669e633a32ad">data_dim</a>=index_dim;
<a name="l08668"></a>08668     coord-&gt;<a class="code" href="structcgns__array.html#735984d41155bc1032e09bece8f8d66d">data</a>=0;
<a name="l08669"></a>08669     coord-&gt;<a class="code" href="structcgns__array.html#cdee83a08ec17a8018bf719ef82a3602">ndescr</a>=0;
<a name="l08670"></a>08670     coord-&gt;<a class="code" href="structcgns__array.html#6aa9eb3c5ad6bdecf6cd8c2b3d97839c">data_class</a>=<a class="code" href="cgns_keywords_8h.html#6e3a45166e6780b756fef5c427279ca079d3001e5ba3290ed80f0762d51bb379">DataClassNull</a>;
<a name="l08671"></a>08671     coord-&gt;<a class="code" href="structcgns__array.html#9b4c6b823f0741729aa08b21a4120308">units</a>=0;
<a name="l08672"></a>08672     coord-&gt;<a class="code" href="structcgns__array.html#87b103c38a459cc8a1c6cf06f01aa12a">exponents</a>=0;
<a name="l08673"></a>08673     coord-&gt;<a class="code" href="structcgns__array.html#0724545c909f7773439fee292fe3ef5f">convert</a>=0;
<a name="l08674"></a>08674 
<a name="l08675"></a>08675      <span class="comment">/* Create GridCoodinates_t node if not already created */</span>
<a name="l08676"></a>08676     if (zcoor-&gt;<a class="code" href="structcgns__zcoor.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a> == 0) {
<a name="l08677"></a>08677         <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#184dd1d99e9f4e7b826f84887ba07748">cgi_new_node</a>(zone-&gt;<a class="code" href="structcgns__zone.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, <span class="stringliteral">"GridCoordinates"</span>, <span class="stringliteral">"GridCoordinates_t"</span>,
<a name="l08678"></a>08678             &amp;zcoor-&gt;<a class="code" href="structcgns__zcoor.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, <span class="stringliteral">"MT"</span>, 0, 0, 0)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l08679"></a>08679     }
<a name="l08680"></a>08680 
<a name="l08681"></a>08681      <span class="comment">/* Create DataArray_t node on disk */</span>
<a name="l08682"></a>08682     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#c103871653e4c2144fef6fb7c7fea4c4">cgi_new_node_partial</a>(zcoor-&gt;<a class="code" href="structcgns__zcoor.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, coord-&gt;<a class="code" href="structcgns__array.html#b5192b2e796e6224c74ec532ec32abf7">name</a>, <span class="stringliteral">"DataArray_t"</span>, &amp;coord-&gt;<a class="code" href="structcgns__array.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>,
<a name="l08683"></a>08683         coord-&gt;<a class="code" href="structcgns__array.html#86e4d546d1321bcac60584c413eb0f6d">data_type</a>, index_dim, coord-&gt;<a class="code" href="structcgns__array.html#5ca9ee30477c56421c793e2341f75931">dim_vals</a>, rmin, rmax,
<a name="l08684"></a>08684         coord_ptr))
<a name="l08685"></a>08685         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l08686"></a>08686 
<a name="l08687"></a>08687     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l08688"></a>08688 }
<a name="l08689"></a>08689 
<a name="l08690"></a><a class="code" href="cgnslib_8h.html#aeb61fe478c7d2b062085e778e189984">08690</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#1e13a8c97d72e39e39ffeadd5e7562b8">cg_section_partial_write</a>(<span class="keywordtype">int</span> file_number, <span class="keywordtype">int</span> B, <span class="keywordtype">int</span> Z,
<a name="l08691"></a>08691                              <span class="keywordtype">char</span> <span class="keyword">const</span> * SectionName, <a class="code" href="cgns_keywords_8h.html#4431a6cae8c3c9182a415851144aeac0">ElementType_t</a> type,
<a name="l08692"></a>08692                              <span class="keywordtype">int</span> <a class="code" href="write__bcdata_8c.html#96c2ad5611cd5302c6e5cf2a9a4bf73b">start</a>, <span class="keywordtype">int</span> end, <span class="keywordtype">int</span> nbndry,
<a name="l08693"></a>08693                              <span class="keywordtype">int</span> <span class="keyword">const</span> * <a class="code" href="test__partial_8c.html#7f858599c75d4d48b0a564d2dbc9f693">elements</a>, <span class="keywordtype">int</span> *S) {
<a name="l08694"></a>08694     <a class="code" href="structcgns__zone.html">cgns_zone</a> *zone;
<a name="l08695"></a>08695     <a class="code" href="structcgns__section.html">cgns_section</a> *section;
<a name="l08696"></a>08696     <span class="keywordtype">int</span> index, ElementDataSize;
<a name="l08697"></a>08697 
<a name="l08698"></a>08698      <span class="comment">/* verify input */</span>
<a name="l08699"></a>08699     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#b042658423afd0817ab23b3ea7a5e03d">cgi_check_strlen</a>(SectionName)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l08700"></a>08700 
<a name="l08701"></a>08701      <span class="comment">/* Can't check the upper limit with NofValidElementTypes because</span>
<a name="l08702"></a>08702 <span class="comment">    for NGON_n, type=NGON_n + npe */</span>
<a name="l08703"></a>08703     <span class="keywordflow">if</span> (type &lt; 0) {
<a name="l08704"></a>08704         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Invalid element type defined for section '%s'"</span>,SectionName);
<a name="l08705"></a>08705         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l08706"></a>08706     }
<a name="l08707"></a>08707     <span class="keywordflow">if</span> (start &lt; 1 || (end-start) &lt; 0) {
<a name="l08708"></a>08708         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Invalid element range defined for section '%s'"</span>,SectionName);
<a name="l08709"></a>08709         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l08710"></a>08710     }
<a name="l08711"></a>08711     <span class="keywordflow">if</span> (nbndry &gt; (end-start+1)) {
<a name="l08712"></a>08712         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Invalid boundary element number for section '%s'"</span>,SectionName);
<a name="l08713"></a>08713         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l08714"></a>08714     }
<a name="l08715"></a>08715     ElementDataSize = <a class="code" href="cgns__header_8h.html#2e35407a6176513c7f10fdae217b8dd7">cgi_element_data_size</a>(type, end-start+1, elements);
<a name="l08716"></a>08716     <span class="keywordflow">if</span> (ElementDataSize &lt; 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l08717"></a>08717 
<a name="l08718"></a>08718      <span class="comment">/* get file and check mode */</span>
<a name="l08719"></a>08719     cg = <a class="code" href="cgns__header_8h.html#64a13852e04666fc73b74a8ff7727f4f">cgi_get_file</a>(file_number);
<a name="l08720"></a>08720     <span class="keywordflow">if</span> (cg == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l08721"></a>08721 
<a name="l08722"></a>08722     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l08723"></a>08723 
<a name="l08724"></a>08724     zone = <a class="code" href="cgns__header_8h.html#5ce4ef97dee99baf9183b8c23419bfe0">cgi_get_zone</a>(cg, B, Z);
<a name="l08725"></a>08725     <span class="keywordflow">if</span> (zone==0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l08726"></a>08726 
<a name="l08727"></a>08727      <span class="comment">/* Overwrite a Elements_t Node: */</span>
<a name="l08728"></a>08728     <span class="keywordflow">for</span> (index=0; index&lt;zone-&gt;<a class="code" href="structcgns__zone.html#62b0a12fb47ee3dd5c39282c5610980c">nsections</a>; index++) {
<a name="l08729"></a>08729         <span class="keywordflow">if</span> (strcmp(SectionName, zone-&gt;<a class="code" href="structcgns__zone.html#c97261a3a3e72190d5ee1faac286eeda">section</a>[index].<a class="code" href="structcgns__section.html#b5192b2e796e6224c74ec532ec32abf7">name</a>)==0) {
<a name="l08730"></a>08730             <span class="keywordtype">int</span> <a class="code" href="namespacefmain.html#c6f559daa4a4864f2449315176500469">i</a>, n, <a class="code" href="write__bcdata_8c.html#a2950136f8c9d193ee20f9e64e5d3f43">size</a>, num, offset;
<a name="l08731"></a>08731             <span class="keywordtype">int</span> oldsize, newsize, elemsize;
<a name="l08732"></a>08732             <span class="keywordtype">int</span> *oldelems, *newelems;
<a name="l08733"></a>08733             <span class="keywordtype">double</span> id;
<a name="l08734"></a>08734 
<a name="l08735"></a>08735             section = &amp;(zone-&gt;<a class="code" href="structcgns__zone.html#c97261a3a3e72190d5ee1faac286eeda">section</a>[index]);
<a name="l08736"></a>08736 
<a name="l08737"></a>08737             <span class="comment">/* must have the existing and new element lists of the same type */</span>
<a name="l08738"></a>08738             <span class="keywordflow">if</span>(type != section-&gt;<a class="code" href="structcgns__section.html#aba2784ee38437a66e1cc555bc27d00a">el_type</a>) {
<a name="l08739"></a>08739                 <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Mismatch in element types for section '%s'"</span>,SectionName);
<a name="l08740"></a>08740                 <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l08741"></a>08741             }
<a name="l08742"></a>08742 
<a name="l08743"></a>08743             <span class="comment">/* get fill-in element type */</span>
<a name="l08744"></a>08744             <span class="keywordflow">if</span> (type == <a class="code" href="cgns_keywords_8h.html#4431a6cae8c3c9182a415851144aeac055c2b4d0f7ac387d0c7216f597dfacd3">MIXED</a>)
<a name="l08745"></a>08745                 elemsize = 2;
<a name="l08746"></a>08746             <span class="keywordflow">else</span> {
<a name="l08747"></a>08747                 <span class="keywordflow">if</span> (<a class="code" href="cgnslib_8c.html#e7291fb6c47f4ff621c022dc5522f48b">cg_npe</a>(type, &amp;elemsize)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l08748"></a>08748                 <span class="keywordflow">if</span> (elemsize &lt;= 0) {
<a name="l08749"></a>08749                     <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Invalid element type"</span>);
<a name="l08750"></a>08750                     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l08751"></a>08751                 }
<a name="l08752"></a>08752             }
<a name="l08753"></a>08753 
<a name="l08754"></a>08754             oldelems = (<span class="keywordtype">int</span> *)section-&gt;<a class="code" href="structcgns__section.html#2c31858307755ffce74be48ed9c17699">connect</a>-&gt;<a class="code" href="structcgns__array.html#735984d41155bc1032e09bece8f8d66d">data</a>;
<a name="l08755"></a>08755             oldsize = section-&gt;<a class="code" href="structcgns__section.html#2c31858307755ffce74be48ed9c17699">connect</a>-&gt;<a class="code" href="structcgns__array.html#5ca9ee30477c56421c793e2341f75931">dim_vals</a>[0];
<a name="l08756"></a>08756             newsize = ElementDataSize;
<a name="l08757"></a>08757 
<a name="l08758"></a>08758             if (end &lt; section-&gt;range[0]) {
<a name="l08759"></a>08759                 newsize += oldsize;
<a name="l08760"></a>08760                 num = section-&gt;<a class="code" href="structcgns__section.html#0ab09fc1a7a4595026e16dad45ebf756">range</a>[0] - end - 1;
<a name="l08761"></a>08761                 <span class="keywordflow">if</span> (num &gt; 0) newsize += (elemsize * num);
<a name="l08762"></a>08762             } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (start &gt; section-&gt;<a class="code" href="structcgns__section.html#0ab09fc1a7a4595026e16dad45ebf756">range</a>[1]) {
<a name="l08763"></a>08763                 newsize += oldsize;
<a name="l08764"></a>08764                 num = start - section-&gt;<a class="code" href="structcgns__section.html#0ab09fc1a7a4595026e16dad45ebf756">range</a>[1] - 1;
<a name="l08765"></a>08765                 <span class="keywordflow">if</span> (num &gt; 0) newsize += (elemsize * num);
<a name="l08766"></a>08766             } <span class="keywordflow">else</span> {
<a name="l08767"></a>08767                 <span class="comment">/* overlap */</span>
<a name="l08768"></a>08768                 <span class="keywordflow">if</span> (start &gt; section-&gt;<a class="code" href="structcgns__section.html#0ab09fc1a7a4595026e16dad45ebf756">range</a>[0]) {
<a name="l08769"></a>08769                     size = <a class="code" href="cgns__header_8h.html#2e35407a6176513c7f10fdae217b8dd7">cgi_element_data_size</a>(type,
<a name="l08770"></a>08770                                start - section-&gt;<a class="code" href="structcgns__section.html#0ab09fc1a7a4595026e16dad45ebf756">range</a>[0], oldelems);
<a name="l08771"></a>08771                     <span class="keywordflow">if</span> (size &lt; 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l08772"></a>08772                     newsize += size;
<a name="l08773"></a>08773                 }
<a name="l08774"></a>08774                 <span class="keywordflow">if</span> (end &lt; section-&gt;range[1]) {
<a name="l08775"></a>08775                     num = end - section-&gt;<a class="code" href="structcgns__section.html#0ab09fc1a7a4595026e16dad45ebf756">range</a>[0] + 1;
<a name="l08776"></a>08776                     offset = <a class="code" href="cgns__header_8h.html#2e35407a6176513c7f10fdae217b8dd7">cgi_element_data_size</a>(type, num, oldelems);
<a name="l08777"></a>08777                     <span class="keywordflow">if</span> (offset &lt; 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l08778"></a>08778                     size = oldsize - offset;
<a name="l08779"></a>08779                     newsize += size;
<a name="l08780"></a>08780                 }
<a name="l08781"></a>08781             }
<a name="l08782"></a>08782 
<a name="l08783"></a>08783             <span class="comment">/* create new element connectivity array */</span>
<a name="l08784"></a>08784 
<a name="l08785"></a>08785             newelems = (<span class="keywordtype">int</span> *) <a class="code" href="cg__malloc_8h.html#535b58ab5aa48e2e86073e334d43fd32">malloc</a> (newsize * <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>));
<a name="l08786"></a>08786             <span class="keywordflow">if</span> (NULL == newelems) {
<a name="l08787"></a>08787                 <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Error allocating new connectivity data"</span>);
<a name="l08788"></a>08788                 <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l08789"></a>08789             }
<a name="l08790"></a>08790             n = 0;
<a name="l08791"></a>08791             <span class="keywordflow">if</span> (start &lt;= section-&gt;range[0]) {
<a name="l08792"></a>08792                 memcpy(newelems, elements, ElementDataSize*<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>));
<a name="l08793"></a>08793                 n += ElementDataSize;
<a name="l08794"></a>08794                 <span class="keywordflow">if</span> (end &lt; section-&gt;range[0]) {
<a name="l08795"></a>08795                     num = section-&gt;<a class="code" href="structcgns__section.html#0ab09fc1a7a4595026e16dad45ebf756">range</a>[0] - end - 1;
<a name="l08796"></a>08796                     <span class="keywordflow">while</span> (num-- &gt; 0) {
<a name="l08797"></a>08797                         <span class="keywordflow">if</span> (type == <a class="code" href="cgns_keywords_8h.html#4431a6cae8c3c9182a415851144aeac055c2b4d0f7ac387d0c7216f597dfacd3">MIXED</a>) {
<a name="l08798"></a>08798                             newelems[n++] = (int)<a class="code" href="cgns_keywords_8h.html#4431a6cae8c3c9182a415851144aeac059a889456a2d742fdca191dccb3e871d">NODE</a>;
<a name="l08799"></a>08799                             newelems[n++] = 0;
<a name="l08800"></a>08800                         } <span class="keywordflow">else</span> {
<a name="l08801"></a>08801                             <span class="keywordflow">for</span> (i = 0; i &lt; elemsize; i++)
<a name="l08802"></a>08802                                 newelems[n++] = 0;
<a name="l08803"></a>08803                         }
<a name="l08804"></a>08804                     }
<a name="l08805"></a>08805                     memcpy(&amp;newelems[n], oldelems, oldsize*<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>));
<a name="l08806"></a>08806                     n += oldsize;
<a name="l08807"></a>08807                 } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (end &lt; section-&gt;range[1]) {
<a name="l08808"></a>08808                     num = end - section-&gt;<a class="code" href="structcgns__section.html#0ab09fc1a7a4595026e16dad45ebf756">range</a>[0] + 1;
<a name="l08809"></a>08809                     offset = <a class="code" href="cgns__header_8h.html#2e35407a6176513c7f10fdae217b8dd7">cgi_element_data_size</a>(type, num, oldelems);
<a name="l08810"></a>08810                     <span class="keywordflow">if</span> (offset &lt; 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l08811"></a>08811                     size = oldsize - offset;
<a name="l08812"></a>08812                     memcpy(&amp;newelems[n], &amp;oldelems[offset], size*<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>));
<a name="l08813"></a>08813                     n += size;
<a name="l08814"></a>08814                 }
<a name="l08815"></a>08815             } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (start &gt; section-&gt;<a class="code" href="structcgns__section.html#0ab09fc1a7a4595026e16dad45ebf756">range</a>[1]) {
<a name="l08816"></a>08816                 memcpy(newelems, oldelems, oldsize*<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>));
<a name="l08817"></a>08817                 n += oldsize;
<a name="l08818"></a>08818                 num = start - section-&gt;<a class="code" href="structcgns__section.html#0ab09fc1a7a4595026e16dad45ebf756">range</a>[1] - 1;
<a name="l08819"></a>08819                 <span class="keywordflow">while</span> (num-- &gt; 0) {
<a name="l08820"></a>08820                     <span class="keywordflow">if</span> (type == <a class="code" href="cgns_keywords_8h.html#4431a6cae8c3c9182a415851144aeac055c2b4d0f7ac387d0c7216f597dfacd3">MIXED</a>) {
<a name="l08821"></a>08821                         newelems[n++] = (int)<a class="code" href="cgns_keywords_8h.html#4431a6cae8c3c9182a415851144aeac059a889456a2d742fdca191dccb3e871d">NODE</a>;
<a name="l08822"></a>08822                         newelems[n++] = 0;
<a name="l08823"></a>08823                     } <span class="keywordflow">else</span> {
<a name="l08824"></a>08824                         <span class="keywordflow">for</span> (i = 0; i &lt; elemsize; i++)
<a name="l08825"></a>08825                             newelems[n++] = 0;
<a name="l08826"></a>08826                     }
<a name="l08827"></a>08827                 }
<a name="l08828"></a>08828                 memcpy(&amp;newelems[n], elements, ElementDataSize*<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>));
<a name="l08829"></a>08829                 n += ElementDataSize;
<a name="l08830"></a>08830             } <span class="keywordflow">else</span> {
<a name="l08831"></a>08831                 num = start - section-&gt;<a class="code" href="structcgns__section.html#0ab09fc1a7a4595026e16dad45ebf756">range</a>[0];
<a name="l08832"></a>08832                 size = <a class="code" href="cgns__header_8h.html#2e35407a6176513c7f10fdae217b8dd7">cgi_element_data_size</a>(type, num, oldelems);
<a name="l08833"></a>08833                 memcpy(newelems, oldelems, size*<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>));
<a name="l08834"></a>08834                 n += size;
<a name="l08835"></a>08835                 memcpy(&amp;newelems[n], elements, ElementDataSize*<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>));
<a name="l08836"></a>08836                 n += ElementDataSize;
<a name="l08837"></a>08837                 <span class="keywordflow">if</span> (end &lt; section-&gt;range[1]) {
<a name="l08838"></a>08838                     num = end - section-&gt;<a class="code" href="structcgns__section.html#0ab09fc1a7a4595026e16dad45ebf756">range</a>[0] + 1;
<a name="l08839"></a>08839                     offset = <a class="code" href="cgns__header_8h.html#2e35407a6176513c7f10fdae217b8dd7">cgi_element_data_size</a>(type, num, oldelems);
<a name="l08840"></a>08840                     <span class="keywordflow">if</span> (offset &lt; 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l08841"></a>08841                     size = oldsize - offset;
<a name="l08842"></a>08842                     memcpy(&amp;newelems[n], &amp;oldelems[offset], size*<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>));
<a name="l08843"></a>08843                     n += size;
<a name="l08844"></a>08844                 }
<a name="l08845"></a>08845             }
<a name="l08846"></a>08846             <span class="keywordflow">if</span> (n != newsize) {
<a name="l08847"></a>08847                 <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"my counting is off !!!\n"</span>);
<a name="l08848"></a>08848                 <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l08849"></a>08849             }
<a name="l08850"></a>08850 
<a name="l08851"></a>08851             <a class="code" href="cg__malloc_8h.html#a7943e5d135734f6801bebcc37401fc0">free</a>(section-&gt;<a class="code" href="structcgns__section.html#2c31858307755ffce74be48ed9c17699">connect</a>-&gt;<a class="code" href="structcgns__array.html#735984d41155bc1032e09bece8f8d66d">data</a>);
<a name="l08852"></a>08852             section-&gt;<a class="code" href="structcgns__section.html#2c31858307755ffce74be48ed9c17699">connect</a>-&gt;<a class="code" href="structcgns__array.html#5ca9ee30477c56421c793e2341f75931">dim_vals</a>[0] = newsize;
<a name="l08853"></a>08853             section-&gt;<a class="code" href="structcgns__section.html#2c31858307755ffce74be48ed9c17699">connect</a>-&gt;<a class="code" href="structcgns__array.html#735984d41155bc1032e09bece8f8d66d">data</a> = newelems;
<a name="l08854"></a>08854 
<a name="l08855"></a>08855             <span class="comment">/* save for parent data */</span>
<a name="l08856"></a>08856 
<a name="l08857"></a>08857             offset  = start &lt; section-&gt;<a class="code" href="structcgns__section.html#0ab09fc1a7a4595026e16dad45ebf756">range</a>[0] ?
<a name="l08858"></a>08858                       section-&gt;<a class="code" href="structcgns__section.html#0ab09fc1a7a4595026e16dad45ebf756">range</a>[0] - start : 0;
<a name="l08859"></a>08859             oldsize = section-&gt;<a class="code" href="structcgns__section.html#0ab09fc1a7a4595026e16dad45ebf756">range</a>[1] - section-&gt;<a class="code" href="structcgns__section.html#0ab09fc1a7a4595026e16dad45ebf756">range</a>[0] + 1;
<a name="l08860"></a>08860 
<a name="l08861"></a>08861             <span class="comment">/* update ranges */</span>
<a name="l08862"></a>08862 
<a name="l08863"></a>08863             <span class="keywordflow">if</span> (start &lt; section-&gt;range[0]) section-&gt;<a class="code" href="structcgns__section.html#0ab09fc1a7a4595026e16dad45ebf756">range</a>[0] = start;
<a name="l08864"></a>08864             <span class="keywordflow">if</span> (end   &gt; section-&gt;<a class="code" href="structcgns__section.html#0ab09fc1a7a4595026e16dad45ebf756">range</a>[1]) section-&gt;<a class="code" href="structcgns__section.html#0ab09fc1a7a4595026e16dad45ebf756">range</a>[1] = end;
<a name="l08865"></a>08865 
<a name="l08866"></a>08866             <span class="comment">/* update ElementRange */</span>
<a name="l08867"></a>08867 
<a name="l08868"></a>08868             <span class="keywordflow">if</span> (<a class="code" href="cgns__io_8c.html#24cc30fd69b9c44ffb201f863f131a5c">cgio_get_node_id</a>(cg-&gt;<a class="code" href="structcgns__file.html#98363ec7b27905dbf2c56c6a194c69cc">cgio</a>, section-&gt;<a class="code" href="structcgns__section.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, <span class="stringliteral">"ElementRange"</span>, &amp;<span class="keywordtype">id</span>)) {
<a name="l08869"></a>08869                 <a class="code" href="cgns__error_8c.html#47dd09a377bc17d5807332f8c475a23b">cg_io_error</a>(<span class="stringliteral">"cgio_get_node_id"</span>);
<a name="l08870"></a>08870                 <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l08871"></a>08871             }
<a name="l08872"></a>08872             <span class="keywordflow">if</span> (<a class="code" href="cgns__io_8c.html#be9f73d86b7055717da0952a3f124baa">cgio_write_all_data</a>(cg-&gt;<a class="code" href="structcgns__file.html#98363ec7b27905dbf2c56c6a194c69cc">cgio</a>, <span class="keywordtype">id</span>, section-&gt;<a class="code" href="structcgns__section.html#0ab09fc1a7a4595026e16dad45ebf756">range</a>)) {
<a name="l08873"></a>08873                 <a class="code" href="cgns__error_8c.html#47dd09a377bc17d5807332f8c475a23b">cg_io_error</a>(<span class="stringliteral">"cgio_write_all_data"</span>);
<a name="l08874"></a>08874                 <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l08875"></a>08875             }
<a name="l08876"></a>08876 
<a name="l08877"></a>08877             <span class="comment">/* update ElementConnectivity */</span>
<a name="l08878"></a>08878 
<a name="l08879"></a>08879             <span class="keywordflow">if</span> (<a class="code" href="cgns__io_8c.html#dc4f4594e5c0327a1da3e5d9399f80fc">cgio_set_dimensions</a>(cg-&gt;<a class="code" href="structcgns__file.html#98363ec7b27905dbf2c56c6a194c69cc">cgio</a>, section-&gt;<a class="code" href="structcgns__section.html#2c31858307755ffce74be48ed9c17699">connect</a>-&gt;<a class="code" href="structcgns__array.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>,
<a name="l08880"></a>08880                     section-&gt;<a class="code" href="structcgns__section.html#2c31858307755ffce74be48ed9c17699">connect</a>-&gt;<a class="code" href="structcgns__array.html#86e4d546d1321bcac60584c413eb0f6d">data_type</a>, 1,
<a name="l08881"></a>08881                     section-&gt;<a class="code" href="structcgns__section.html#2c31858307755ffce74be48ed9c17699">connect</a>-&gt;<a class="code" href="structcgns__array.html#5ca9ee30477c56421c793e2341f75931">dim_vals</a>)) {
<a name="l08882"></a>08882                 <a class="code" href="cgns__error_8c.html#47dd09a377bc17d5807332f8c475a23b">cg_io_error</a>(<span class="stringliteral">"cgio_set_dimensions"</span>);
<a name="l08883"></a>08883                 <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l08884"></a>08884             }
<a name="l08885"></a>08885             <span class="keywordflow">if</span> (<a class="code" href="cgns__io_8c.html#be9f73d86b7055717da0952a3f124baa">cgio_write_all_data</a>(cg-&gt;<a class="code" href="structcgns__file.html#98363ec7b27905dbf2c56c6a194c69cc">cgio</a>, section-&gt;<a class="code" href="structcgns__section.html#2c31858307755ffce74be48ed9c17699">connect</a>-&gt;<a class="code" href="structcgns__array.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, newelems)) {
<a name="l08886"></a>08886                 <a class="code" href="cgns__error_8c.html#47dd09a377bc17d5807332f8c475a23b">cg_io_error</a>(<span class="stringliteral">"cgio_write_all_data"</span>);
<a name="l08887"></a>08887                 <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l08888"></a>08888             }
<a name="l08889"></a>08889 
<a name="l08890"></a>08890             <span class="comment">/* update the parent data array if it exists */</span>
<a name="l08891"></a>08891 
<a name="l08892"></a>08892             <span class="keywordflow">if</span> (section-&gt;<a class="code" href="structcgns__section.html#e62c9afa58926a65c9014d2be3e5f554">parent</a>) {
<a name="l08893"></a>08893                 <span class="keywordtype">int</span> i, <a class="code" href="namespacefmain.html#3025f2b2bc0423c9a3a45cb7261e32eb">j</a>;
<a name="l08894"></a>08894                 oldelems = (<span class="keywordtype">int</span> *)section-&gt;<a class="code" href="structcgns__section.html#e62c9afa58926a65c9014d2be3e5f554">parent</a>-&gt;<a class="code" href="structcgns__array.html#735984d41155bc1032e09bece8f8d66d">data</a>;
<a name="l08895"></a>08895                 newsize = section-&gt;<a class="code" href="structcgns__section.html#0ab09fc1a7a4595026e16dad45ebf756">range</a>[1] - section-&gt;<a class="code" href="structcgns__section.html#0ab09fc1a7a4595026e16dad45ebf756">range</a>[0] + 1;
<a name="l08896"></a>08896                 newelems = (<span class="keywordtype">int</span> *)<a class="code" href="cg__malloc_8h.html#535b58ab5aa48e2e86073e334d43fd32">malloc</a>(4 * newsize * <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>));
<a name="l08897"></a>08897                 <span class="keywordflow">if</span> (NULL == newelems) {
<a name="l08898"></a>08898                     <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Error alocating new parent data"</span>);
<a name="l08899"></a>08899                     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l08900"></a>08900                 }
<a name="l08901"></a>08901                 <span class="keywordflow">for</span> (n = 0; n &lt; 4*newsize; n++)
<a name="l08902"></a>08902                     newelems[n] = 0;
<a name="l08903"></a>08903                 <span class="comment">/* add previous data */</span>
<a name="l08904"></a>08904                 <span class="keywordflow">for</span> (i = 0, num = 0; num &lt; 4; num++) {
<a name="l08905"></a>08905                     j = num * newsize + offset;
<a name="l08906"></a>08906                     <span class="keywordflow">for</span> (n = 0; n &lt; oldsize; n++)
<a name="l08907"></a>08907                         newelems[j++] = oldelems[i++];
<a name="l08908"></a>08908                 }
<a name="l08909"></a>08909                 <span class="comment">/* overwrite with new range */</span>
<a name="l08910"></a>08910                 offset = start - section-&gt;<a class="code" href="structcgns__section.html#0ab09fc1a7a4595026e16dad45ebf756">range</a>[0];
<a name="l08911"></a>08911                 <span class="keywordflow">for</span> (num = 0; num &lt; 4; num++) {
<a name="l08912"></a>08912                     j = num * newsize + offset;
<a name="l08913"></a>08913                     <span class="keywordflow">for</span> (n = start; n &lt;= end; n++)
<a name="l08914"></a>08914                         newelems[j++] = 0;
<a name="l08915"></a>08915                 }
<a name="l08916"></a>08916 
<a name="l08917"></a>08917                 <a class="code" href="cg__malloc_8h.html#a7943e5d135734f6801bebcc37401fc0">free</a>(section-&gt;<a class="code" href="structcgns__section.html#e62c9afa58926a65c9014d2be3e5f554">parent</a>-&gt;<a class="code" href="structcgns__array.html#735984d41155bc1032e09bece8f8d66d">data</a>);
<a name="l08918"></a>08918                 section-&gt;<a class="code" href="structcgns__section.html#e62c9afa58926a65c9014d2be3e5f554">parent</a>-&gt;<a class="code" href="structcgns__array.html#735984d41155bc1032e09bece8f8d66d">data</a> = newelems;
<a name="l08919"></a>08919                 section-&gt;<a class="code" href="structcgns__section.html#e62c9afa58926a65c9014d2be3e5f554">parent</a>-&gt;<a class="code" href="structcgns__array.html#5ca9ee30477c56421c793e2341f75931">dim_vals</a>[0] = newsize;
<a name="l08920"></a>08920 
<a name="l08921"></a>08921                 <span class="comment">/* update on disk */</span>
<a name="l08922"></a>08922 
<a name="l08923"></a>08923                 <span class="keywordflow">if</span> (<a class="code" href="cgns__io_8c.html#dc4f4594e5c0327a1da3e5d9399f80fc">cgio_set_dimensions</a>(cg-&gt;<a class="code" href="structcgns__file.html#98363ec7b27905dbf2c56c6a194c69cc">cgio</a>, section-&gt;<a class="code" href="structcgns__section.html#e62c9afa58926a65c9014d2be3e5f554">parent</a>-&gt;<a class="code" href="structcgns__array.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>,
<a name="l08924"></a>08924                         section-&gt;<a class="code" href="structcgns__section.html#e62c9afa58926a65c9014d2be3e5f554">parent</a>-&gt;<a class="code" href="structcgns__array.html#86e4d546d1321bcac60584c413eb0f6d">data_type</a>, 2,
<a name="l08925"></a>08925                         section-&gt;<a class="code" href="structcgns__section.html#e62c9afa58926a65c9014d2be3e5f554">parent</a>-&gt;<a class="code" href="structcgns__array.html#5ca9ee30477c56421c793e2341f75931">dim_vals</a>)) {
<a name="l08926"></a>08926                     <a class="code" href="cgns__error_8c.html#47dd09a377bc17d5807332f8c475a23b">cg_io_error</a>(<span class="stringliteral">"cgio_set_dimensions"</span>);
<a name="l08927"></a>08927                     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l08928"></a>08928                 }
<a name="l08929"></a>08929                 <span class="keywordflow">if</span> (<a class="code" href="cgns__io_8c.html#be9f73d86b7055717da0952a3f124baa">cgio_write_all_data</a>(cg-&gt;<a class="code" href="structcgns__file.html#98363ec7b27905dbf2c56c6a194c69cc">cgio</a>, section-&gt;<a class="code" href="structcgns__section.html#e62c9afa58926a65c9014d2be3e5f554">parent</a>-&gt;<a class="code" href="structcgns__array.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, newelems)) {
<a name="l08930"></a>08930                     <a class="code" href="cgns__error_8c.html#47dd09a377bc17d5807332f8c475a23b">cg_io_error</a>(<span class="stringliteral">"cgio_write_all_data"</span>);
<a name="l08931"></a>08931                     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l08932"></a>08932                 }
<a name="l08933"></a>08933             }
<a name="l08934"></a>08934 
<a name="l08935"></a>08935             <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l08936"></a>08936         }
<a name="l08937"></a>08937     }
<a name="l08938"></a>08938      <span class="comment">/* add a Elements_t Node: */</span>
<a name="l08939"></a>08939     <span class="keywordflow">if</span> (zone-&gt;<a class="code" href="structcgns__zone.html#62b0a12fb47ee3dd5c39282c5610980c">nsections</a> == 0) {
<a name="l08940"></a>08940         zone-&gt;<a class="code" href="structcgns__zone.html#c97261a3a3e72190d5ee1faac286eeda">section</a> = <a class="code" href="cgns__header_8h.html#948c36b3700de0f3332aa3620eafb0f4">CGNS_NEW</a>(<a class="code" href="structcgns__section.html">cgns_section</a>, zone-&gt;<a class="code" href="structcgns__zone.html#62b0a12fb47ee3dd5c39282c5610980c">nsections</a>+1);
<a name="l08941"></a>08941     } <span class="keywordflow">else</span> {
<a name="l08942"></a>08942         zone-&gt;<a class="code" href="structcgns__zone.html#c97261a3a3e72190d5ee1faac286eeda">section</a> = <a class="code" href="cgns__header_8h.html#e23e608849b6dc488ccdad466e76e2ad">CGNS_RENEW</a>(<a class="code" href="structcgns__section.html">cgns_section</a>, zone-&gt;<a class="code" href="structcgns__zone.html#62b0a12fb47ee3dd5c39282c5610980c">nsections</a>+1, zone-&gt;<a class="code" href="structcgns__zone.html#c97261a3a3e72190d5ee1faac286eeda">section</a>);
<a name="l08943"></a>08943     }
<a name="l08944"></a>08944     section = &amp;(zone-&gt;<a class="code" href="structcgns__zone.html#c97261a3a3e72190d5ee1faac286eeda">section</a>[zone-&gt;<a class="code" href="structcgns__zone.html#62b0a12fb47ee3dd5c39282c5610980c">nsections</a>]);
<a name="l08945"></a>08945     zone-&gt;<a class="code" href="structcgns__zone.html#62b0a12fb47ee3dd5c39282c5610980c">nsections</a>++;
<a name="l08946"></a>08946     (*S) = zone-&gt;<a class="code" href="structcgns__zone.html#62b0a12fb47ee3dd5c39282c5610980c">nsections</a>;
<a name="l08947"></a>08947 
<a name="l08948"></a>08948      <span class="comment">/* save data in memory */</span>
<a name="l08949"></a>08949     strcpy(section-&gt;<a class="code" href="structcgns__section.html#b5192b2e796e6224c74ec532ec32abf7">name</a>, SectionName);
<a name="l08950"></a>08950     section-&gt;<a class="code" href="structcgns__section.html#aba2784ee38437a66e1cc555bc27d00a">el_type</a> = type;
<a name="l08951"></a>08951     section-&gt;<a class="code" href="structcgns__section.html#0ab09fc1a7a4595026e16dad45ebf756">range</a>[0] = start;
<a name="l08952"></a>08952     section-&gt;<a class="code" href="structcgns__section.html#0ab09fc1a7a4595026e16dad45ebf756">range</a>[1] = end;
<a name="l08953"></a>08953     section-&gt;<a class="code" href="structcgns__section.html#2a8c9b8e52efadfcb30b65c67d537896">el_bound</a> = nbndry;
<a name="l08954"></a>08954 
<a name="l08955"></a>08955     section-&gt;<a class="code" href="structcgns__section.html#2c31858307755ffce74be48ed9c17699">connect</a> = <a class="code" href="cgns__header_8h.html#948c36b3700de0f3332aa3620eafb0f4">CGNS_NEW</a>(<a class="code" href="structcgns__array.html">cgns_array</a>, 1);
<a name="l08956"></a>08956     section-&gt;<a class="code" href="structcgns__section.html#2c31858307755ffce74be48ed9c17699">connect</a>-&gt;<a class="code" href="structcgns__array.html#735984d41155bc1032e09bece8f8d66d">data</a> = (<span class="keywordtype">void</span> *)<a class="code" href="cg__malloc_8h.html#535b58ab5aa48e2e86073e334d43fd32">malloc</a>(ElementDataSize*<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>));
<a name="l08957"></a>08957     memcpy(section-&gt;<a class="code" href="structcgns__section.html#2c31858307755ffce74be48ed9c17699">connect</a>-&gt;<a class="code" href="structcgns__array.html#735984d41155bc1032e09bece8f8d66d">data</a>, elements, ElementDataSize*<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>));
<a name="l08958"></a>08958     strcpy(section-&gt;<a class="code" href="structcgns__section.html#2c31858307755ffce74be48ed9c17699">connect</a>-&gt;<a class="code" href="structcgns__array.html#b5192b2e796e6224c74ec532ec32abf7">name</a>,<span class="stringliteral">"ElementConnectivity"</span>);
<a name="l08959"></a>08959     strcpy(section-&gt;<a class="code" href="structcgns__section.html#2c31858307755ffce74be48ed9c17699">connect</a>-&gt;<a class="code" href="structcgns__array.html#86e4d546d1321bcac60584c413eb0f6d">data_type</a>,<span class="stringliteral">"I4"</span>);
<a name="l08960"></a>08960     section-&gt;<a class="code" href="structcgns__section.html#2c31858307755ffce74be48ed9c17699">connect</a>-&gt;<a class="code" href="structcgns__array.html#c7e27870b79e982377b6669e633a32ad">data_dim</a>=1;
<a name="l08961"></a>08961     section-&gt;<a class="code" href="structcgns__section.html#2c31858307755ffce74be48ed9c17699">connect</a>-&gt;<a class="code" href="structcgns__array.html#5ca9ee30477c56421c793e2341f75931">dim_vals</a>[0]=ElementDataSize;
<a name="l08962"></a>08962 
<a name="l08963"></a>08963     <span class="comment">/* initialize ... */</span>
<a name="l08964"></a>08964     section-&gt;<a class="code" href="structcgns__section.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>=0;
<a name="l08965"></a>08965     section-&gt;<a class="code" href="structcgns__section.html#f6f27f42b9ecc89cf0ed39415bca67d1">link</a>=0;
<a name="l08966"></a>08966     section-&gt;<a class="code" href="structcgns__section.html#cdee83a08ec17a8018bf719ef82a3602">ndescr</a>=0;
<a name="l08967"></a>08967     section-&gt;<a class="code" href="structcgns__section.html#e62c9afa58926a65c9014d2be3e5f554">parent</a> = 0;
<a name="l08968"></a>08968     section-&gt;<a class="code" href="structcgns__section.html#dc1e157d997b3174f9d41c5b645631f9">nuser_data</a>=0;
<a name="l08969"></a>08969     section-&gt;<a class="code" href="structcgns__section.html#e095e97c5a8c7758b4c9d0e463093b57">rind_planes</a>=0;
<a name="l08970"></a>08970 
<a name="l08971"></a>08971      <span class="comment">/* initialize other fields */</span>
<a name="l08972"></a>08972     section-&gt;<a class="code" href="structcgns__section.html#2c31858307755ffce74be48ed9c17699">connect</a>-&gt;<a class="code" href="structcgns__array.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>=0;
<a name="l08973"></a>08973     section-&gt;<a class="code" href="structcgns__section.html#2c31858307755ffce74be48ed9c17699">connect</a>-&gt;<a class="code" href="structcgns__array.html#f6f27f42b9ecc89cf0ed39415bca67d1">link</a>=0;
<a name="l08974"></a>08974     section-&gt;<a class="code" href="structcgns__section.html#2c31858307755ffce74be48ed9c17699">connect</a>-&gt;<a class="code" href="structcgns__array.html#cdee83a08ec17a8018bf719ef82a3602">ndescr</a>=0;
<a name="l08975"></a>08975     section-&gt;<a class="code" href="structcgns__section.html#2c31858307755ffce74be48ed9c17699">connect</a>-&gt;<a class="code" href="structcgns__array.html#6aa9eb3c5ad6bdecf6cd8c2b3d97839c">data_class</a>=<a class="code" href="cgns_keywords_8h.html#6e3a45166e6780b756fef5c427279ca079d3001e5ba3290ed80f0762d51bb379">DataClassNull</a>;
<a name="l08976"></a>08976     section-&gt;<a class="code" href="structcgns__section.html#2c31858307755ffce74be48ed9c17699">connect</a>-&gt;<a class="code" href="structcgns__array.html#9b4c6b823f0741729aa08b21a4120308">units</a>=0;
<a name="l08977"></a>08977     section-&gt;<a class="code" href="structcgns__section.html#2c31858307755ffce74be48ed9c17699">connect</a>-&gt;<a class="code" href="structcgns__array.html#87b103c38a459cc8a1c6cf06f01aa12a">exponents</a>=0;
<a name="l08978"></a>08978     section-&gt;<a class="code" href="structcgns__section.html#2c31858307755ffce74be48ed9c17699">connect</a>-&gt;<a class="code" href="structcgns__array.html#0724545c909f7773439fee292fe3ef5f">convert</a>=0;
<a name="l08979"></a>08979 
<a name="l08980"></a>08980     <span class="comment">/* save data in file */</span>
<a name="l08981"></a>08981     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#bda54ec1f363c4d2721feace44fe4d21">cgi_write_section</a>(zone-&gt;<a class="code" href="structcgns__zone.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, section)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l08982"></a>08982     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l08983"></a>08983 }
<a name="l08984"></a>08984 
<a name="l08985"></a><a class="code" href="cgnslib_8h.html#d44f70e867ea65e7729eff02b049b79c">08985</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#8670fdd3e119e62c31b781b21aa44432">cg_parent_data_partial_write</a>(<span class="keywordtype">int</span> file_number, <span class="keywordtype">int</span> B, <span class="keywordtype">int</span> Z, <span class="keywordtype">int</span> S,
<a name="l08986"></a>08986                                  <span class="keywordtype">int</span> <a class="code" href="write__bcdata_8c.html#96c2ad5611cd5302c6e5cf2a9a4bf73b">start</a>, <span class="keywordtype">int</span> end,
<a name="l08987"></a>08987                                  <span class="keywordtype">int</span> <span class="keyword">const</span> *parent_data) {
<a name="l08988"></a>08988     <a class="code" href="structcgns__section.html">cgns_section</a> *section;
<a name="l08989"></a>08989     <a class="code" href="structcgns__array.html">cgns_array</a> *<a class="code" href="test__partial_8c.html#8e99857563320b5d943128e5816b1d70">parent</a>;
<a name="l08990"></a>08990     <span class="keywordtype">int</span> *<a class="code" href="_a_d_f__internals_8h.html#1c4032c79398d15869ce0828a58de11f">data</a>, <a class="code" href="namespacefmain.html#c6f559daa4a4864f2449315176500469">i</a>, <a class="code" href="namespacefmain.html#3025f2b2bc0423c9a3a45cb7261e32eb">j</a>, n;
<a name="l08991"></a>08991     <span class="keywordtype">int</span> num, <a class="code" href="write__bcdata_8c.html#a2950136f8c9d193ee20f9e64e5d3f43">size</a>, offset;
<a name="l08992"></a>08992 
<a name="l08993"></a>08993      <span class="comment">/* get file and check mode */</span>
<a name="l08994"></a>08994     cg = <a class="code" href="cgns__header_8h.html#64a13852e04666fc73b74a8ff7727f4f">cgi_get_file</a>(file_number);
<a name="l08995"></a>08995     <span class="keywordflow">if</span> (cg == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l08996"></a>08996 
<a name="l08997"></a>08997     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l08998"></a>08998 
<a name="l08999"></a>08999     section = <a class="code" href="cgns__header_8h.html#0f40f721f66bc81a686c3ed01ae96e0a">cgi_get_section</a>(cg, B, Z, S);
<a name="l09000"></a>09000     <span class="keywordflow">if</span> (section == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l09001"></a>09001 
<a name="l09002"></a>09002     <span class="comment">/* check input range */</span>
<a name="l09003"></a>09003 
<a name="l09004"></a>09004     size = section-&gt;<a class="code" href="structcgns__section.html#0ab09fc1a7a4595026e16dad45ebf756">range</a>[1] - section-&gt;<a class="code" href="structcgns__section.html#0ab09fc1a7a4595026e16dad45ebf756">range</a>[0] + 1;
<a name="l09005"></a>09005     <span class="keywordflow">if</span> (start &lt; section-&gt;range[0] || end &gt; section-&gt;<a class="code" href="structcgns__section.html#0ab09fc1a7a4595026e16dad45ebf756">range</a>[1] ||
<a name="l09006"></a>09006         start &gt; end) {
<a name="l09007"></a>09007         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Invalid element range for section '%s' parent data"</span>,
<a name="l09008"></a>09008             section-&gt;<a class="code" href="structcgns__section.html#b5192b2e796e6224c74ec532ec32abf7">name</a>);
<a name="l09009"></a>09009         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l09010"></a>09010     }
<a name="l09011"></a>09011     offset = start - section-&gt;<a class="code" href="structcgns__section.html#0ab09fc1a7a4595026e16dad45ebf756">range</a>[0];
<a name="l09012"></a>09012     parent = section-&gt;<a class="code" href="structcgns__section.html#e62c9afa58926a65c9014d2be3e5f554">parent</a>;
<a name="l09013"></a>09013 
<a name="l09014"></a>09014     <span class="keywordflow">if</span> (parent) {
<a name="l09015"></a>09015 
<a name="l09016"></a>09016         <span class="comment">/* make sure parent data is correct */</span>
<a name="l09017"></a>09017 
<a name="l09018"></a>09018         <span class="keywordflow">if</span> (size != parent-&gt;<a class="code" href="structcgns__array.html#5ca9ee30477c56421c793e2341f75931">dim_vals</a>[0]) {
<a name="l09019"></a>09019             <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"internal errror - invalid parent data size !!!"</span>);
<a name="l09020"></a>09020             <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l09021"></a>09021         }
<a name="l09022"></a>09022 
<a name="l09023"></a>09023         data = (<span class="keywordtype">int</span> *)parent-&gt;<a class="code" href="structcgns__array.html#735984d41155bc1032e09bece8f8d66d">data</a>;
<a name="l09024"></a>09024 
<a name="l09025"></a>09025         for (i = 0, num = 0; num &lt; 4; num++) {
<a name="l09026"></a>09026             j = num * size + offset;
<a name="l09027"></a>09027             <span class="keywordflow">for</span> (n = start; n &lt;= end; n++)
<a name="l09028"></a>09028                 data[j++] = parent_data[i++];
<a name="l09029"></a>09029         }
<a name="l09030"></a>09030 
<a name="l09031"></a>09031         <span class="keywordflow">if</span> (<a class="code" href="cgns__io_8c.html#be9f73d86b7055717da0952a3f124baa">cgio_write_all_data</a>(cg-&gt;<a class="code" href="structcgns__file.html#98363ec7b27905dbf2c56c6a194c69cc">cgio</a>, parent-&gt;<a class="code" href="structcgns__array.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, data)) {
<a name="l09032"></a>09032             <a class="code" href="cgns__error_8c.html#47dd09a377bc17d5807332f8c475a23b">cg_io_error</a>(<span class="stringliteral">"cgio_write_all_data"</span>);
<a name="l09033"></a>09033             <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l09034"></a>09034         }
<a name="l09035"></a>09035 
<a name="l09036"></a>09036         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l09037"></a>09037     }
<a name="l09038"></a>09038 
<a name="l09039"></a>09039     <span class="comment">/* create the parent data */</span>
<a name="l09040"></a>09040 
<a name="l09041"></a>09041     data = (<span class="keywordtype">int</span> *) <a class="code" href="cg__malloc_8h.html#535b58ab5aa48e2e86073e334d43fd32">malloc</a> (4*size*<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>));
<a name="l09042"></a>09042     <span class="keywordflow">if</span> (NULL == data) {
<a name="l09043"></a>09043         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Error allocating parent data"</span>);
<a name="l09044"></a>09044         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l09045"></a>09045     }
<a name="l09046"></a>09046     <span class="keywordflow">for</span> (n = 0; n &lt; 4*size; n++)
<a name="l09047"></a>09047         data[n] = 0;
<a name="l09048"></a>09048     <span class="keywordflow">for</span> (i = 0, num = 0; num &lt; 4; num++) {
<a name="l09049"></a>09049         j = num * size + offset;
<a name="l09050"></a>09050         <span class="keywordflow">for</span> (n = start; n &lt;= end; n++)
<a name="l09051"></a>09051             data[j++] = parent_data[i++];
<a name="l09052"></a>09052     }
<a name="l09053"></a>09053 
<a name="l09054"></a>09054     section-&gt;<a class="code" href="structcgns__section.html#e62c9afa58926a65c9014d2be3e5f554">parent</a> = <a class="code" href="cgns__header_8h.html#948c36b3700de0f3332aa3620eafb0f4">CGNS_NEW</a>(<a class="code" href="structcgns__array.html">cgns_array</a>, 1);
<a name="l09055"></a>09055     parent = section-&gt;<a class="code" href="structcgns__section.html#e62c9afa58926a65c9014d2be3e5f554">parent</a>;
<a name="l09056"></a>09056     strcpy(parent-&gt;<a class="code" href="structcgns__array.html#86e4d546d1321bcac60584c413eb0f6d">data_type</a>, <span class="stringliteral">"I4"</span>);
<a name="l09057"></a>09057     strcpy(parent-&gt;<a class="code" href="structcgns__array.html#b5192b2e796e6224c74ec532ec32abf7">name</a>, <span class="stringliteral">"ParentData"</span>);
<a name="l09058"></a>09058     parent-&gt;<a class="code" href="structcgns__array.html#735984d41155bc1032e09bece8f8d66d">data</a> = (<span class="keywordtype">void</span> *)data;
<a name="l09059"></a>09059     parent-&gt;<a class="code" href="structcgns__array.html#c7e27870b79e982377b6669e633a32ad">data_dim</a> =2;
<a name="l09060"></a>09060     parent-&gt;<a class="code" href="structcgns__array.html#5ca9ee30477c56421c793e2341f75931">dim_vals</a>[0]=size;
<a name="l09061"></a>09061     parent-&gt;<a class="code" href="structcgns__array.html#5ca9ee30477c56421c793e2341f75931">dim_vals</a>[1]=4;
<a name="l09062"></a>09062 
<a name="l09063"></a>09063      <span class="comment">/* initialize other fields */</span>
<a name="l09064"></a>09064     parent-&gt;<a class="code" href="structcgns__array.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>=0;
<a name="l09065"></a>09065     parent-&gt;<a class="code" href="structcgns__array.html#f6f27f42b9ecc89cf0ed39415bca67d1">link</a>=0;
<a name="l09066"></a>09066     parent-&gt;<a class="code" href="structcgns__array.html#cdee83a08ec17a8018bf719ef82a3602">ndescr</a>=0;
<a name="l09067"></a>09067     parent-&gt;<a class="code" href="structcgns__array.html#6aa9eb3c5ad6bdecf6cd8c2b3d97839c">data_class</a>=<a class="code" href="cgns_keywords_8h.html#6e3a45166e6780b756fef5c427279ca079d3001e5ba3290ed80f0762d51bb379">DataClassNull</a>;
<a name="l09068"></a>09068     parent-&gt;<a class="code" href="structcgns__array.html#9b4c6b823f0741729aa08b21a4120308">units</a>=0;
<a name="l09069"></a>09069     parent-&gt;<a class="code" href="structcgns__array.html#87b103c38a459cc8a1c6cf06f01aa12a">exponents</a>=0;
<a name="l09070"></a>09070     parent-&gt;<a class="code" href="structcgns__array.html#0724545c909f7773439fee292fe3ef5f">convert</a>=0;
<a name="l09071"></a>09071 
<a name="l09072"></a>09072     <span class="keywordflow">if</span>(<a class="code" href="cgns__header_8h.html#2c75d7a1fe94da29b442e30b06c05035">cgi_write_array</a>(section-&gt;<a class="code" href="structcgns__section.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, section-&gt;<a class="code" href="structcgns__section.html#e62c9afa58926a65c9014d2be3e5f554">parent</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l09073"></a>09073 
<a name="l09074"></a>09074     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l09075"></a>09075 }
<a name="l09076"></a>09076 
<a name="l09077"></a><a class="code" href="cgnslib_8h.html#14706de8e6b8791d8e1293f41c5c584b">09077</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#71bf93f9c0310cde8cba2e0347b24d43">cg_elements_partial_read</a>(<span class="keywordtype">int</span> file_number, <span class="keywordtype">int</span> B, <span class="keywordtype">int</span> Z, <span class="keywordtype">int</span> S,
<a name="l09078"></a>09078                  <span class="keywordtype">int</span> <a class="code" href="write__bcdata_8c.html#96c2ad5611cd5302c6e5cf2a9a4bf73b">start</a>, <span class="keywordtype">int</span> end, <span class="keywordtype">int</span> *<a class="code" href="test__partial_8c.html#7f858599c75d4d48b0a564d2dbc9f693">elements</a>, <span class="keywordtype">int</span> *parent_data) {
<a name="l09079"></a>09079     <a class="code" href="structcgns__section.html">cgns_section</a> *section;
<a name="l09080"></a>09080     <span class="keywordtype">int</span> offset, <a class="code" href="write__bcdata_8c.html#a2950136f8c9d193ee20f9e64e5d3f43">size</a>;
<a name="l09081"></a>09081     <span class="keywordtype">int</span> *<a class="code" href="_a_d_f__internals_8h.html#1c4032c79398d15869ce0828a58de11f">data</a>;
<a name="l09082"></a>09082 
<a name="l09083"></a>09083     cg = <a class="code" href="cgns__header_8h.html#64a13852e04666fc73b74a8ff7727f4f">cgi_get_file</a>(file_number);
<a name="l09084"></a>09084     <span class="keywordflow">if</span> (cg == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l09085"></a>09085 
<a name="l09086"></a>09086      <span class="comment">/* verify input */</span>
<a name="l09087"></a>09087     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l09088"></a>09088 
<a name="l09089"></a>09089     section = <a class="code" href="cgns__header_8h.html#0f40f721f66bc81a686c3ed01ae96e0a">cgi_get_section</a>(cg, B, Z, S);
<a name="l09090"></a>09090     <span class="keywordflow">if</span> (section == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l09091"></a>09091 
<a name="l09092"></a>09092     <span class="comment">/* check the requested element range against the stored element range,</span>
<a name="l09093"></a>09093 <span class="comment">    * and the validity of the requested range</span>
<a name="l09094"></a>09094 <span class="comment">    */</span>
<a name="l09095"></a>09095     <span class="keywordflow">if</span>(start &gt; end || start &lt; section-&gt;range[0] ||
<a name="l09096"></a>09096        end &gt; section-&gt;<a class="code" href="structcgns__section.html#0ab09fc1a7a4595026e16dad45ebf756">range</a>[1]) {
<a name="l09097"></a>09097         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Error in requested element data range."</span>);
<a name="l09098"></a>09098         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l09099"></a>09099     }
<a name="l09100"></a>09100     data = (<span class="keywordtype">int</span> *)section-&gt;<a class="code" href="structcgns__section.html#2c31858307755ffce74be48ed9c17699">connect</a>-&gt;<a class="code" href="structcgns__array.html#735984d41155bc1032e09bece8f8d66d">data</a>;
<a name="l09101"></a>09101 
<a name="l09102"></a>09102     offset = <a class="code" href="cgns__header_8h.html#2e35407a6176513c7f10fdae217b8dd7">cgi_element_data_size</a>(section-&gt;<a class="code" href="structcgns__section.html#aba2784ee38437a66e1cc555bc27d00a">el_type</a>,
<a name="l09103"></a>09103                  start - section-&gt;<a class="code" href="structcgns__section.html#0ab09fc1a7a4595026e16dad45ebf756">range</a>[0], data);
<a name="l09104"></a>09104     size = <a class="code" href="cgns__header_8h.html#2e35407a6176513c7f10fdae217b8dd7">cgi_element_data_size</a>(section-&gt;<a class="code" href="structcgns__section.html#aba2784ee38437a66e1cc555bc27d00a">el_type</a>,
<a name="l09105"></a>09105                  end - start + 1, &amp;data[offset]);
<a name="l09106"></a>09106 
<a name="l09107"></a>09107     memcpy(elements, &amp;data[offset], size*<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>));
<a name="l09108"></a>09108 
<a name="l09109"></a>09109     <span class="keywordflow">if</span> (section-&gt;<a class="code" href="structcgns__section.html#e62c9afa58926a65c9014d2be3e5f554">parent</a> &amp;&amp; parent_data) {
<a name="l09110"></a>09110         <span class="keywordtype">int</span> <a class="code" href="namespacefmain.html#c6f559daa4a4864f2449315176500469">i</a>, <a class="code" href="namespacefmain.html#3025f2b2bc0423c9a3a45cb7261e32eb">j</a>, n, nn;
<a name="l09111"></a>09111         data = (<span class="keywordtype">int</span> *)section-&gt;<a class="code" href="structcgns__section.html#e62c9afa58926a65c9014d2be3e5f554">parent</a>-&gt;<a class="code" href="structcgns__array.html#735984d41155bc1032e09bece8f8d66d">data</a>;
<a name="l09112"></a>09112 
<a name="l09113"></a>09113         offset = start - section-&gt;<a class="code" href="structcgns__section.html#0ab09fc1a7a4595026e16dad45ebf756">range</a>[0];
<a name="l09114"></a>09114         size = section-&gt;<a class="code" href="structcgns__section.html#0ab09fc1a7a4595026e16dad45ebf756">range</a>[1] - section-&gt;<a class="code" href="structcgns__section.html#0ab09fc1a7a4595026e16dad45ebf756">range</a>[0] + 1;
<a name="l09115"></a>09115 
<a name="l09116"></a>09116         for (n = 0, j = 0; j &lt; 4; j++) {
<a name="l09117"></a>09117             nn = j * size + offset;
<a name="l09118"></a>09118             <span class="keywordflow">for</span> (i = start; i &lt;= end; i++)
<a name="l09119"></a>09119                 parent_data[n++] = data[nn++];
<a name="l09120"></a>09120         }
<a name="l09121"></a>09121     }
<a name="l09122"></a>09122     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l09123"></a>09123 }
<a name="l09124"></a>09124 
<a name="l09125"></a><a class="code" href="cgnslib_8h.html#0db821147aedb0174d84d0efe3736981">09125</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#1db41b0ba512201ea794123417991bc0">cg_ElementPartialSize</a>(<span class="keywordtype">int</span> file_number, <span class="keywordtype">int</span> B, <span class="keywordtype">int</span> Z, <span class="keywordtype">int</span> S,
<a name="l09126"></a>09126         <span class="keywordtype">int</span> <a class="code" href="write__bcdata_8c.html#96c2ad5611cd5302c6e5cf2a9a4bf73b">start</a>, <span class="keywordtype">int</span> end, <span class="keywordtype">int</span> *ElementDataSize) {
<a name="l09127"></a>09127     <a class="code" href="structcgns__section.html">cgns_section</a> *section;
<a name="l09128"></a>09128     <span class="keywordtype">int</span> <a class="code" href="write__bcdata_8c.html#a2950136f8c9d193ee20f9e64e5d3f43">size</a>, offset, *<a class="code" href="_a_d_f__internals_8h.html#1c4032c79398d15869ce0828a58de11f">data</a>;
<a name="l09129"></a>09129 
<a name="l09130"></a>09130     cg = <a class="code" href="cgns__header_8h.html#64a13852e04666fc73b74a8ff7727f4f">cgi_get_file</a>(file_number);
<a name="l09131"></a>09131     <span class="keywordflow">if</span> (cg == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l09132"></a>09132 
<a name="l09133"></a>09133      <span class="comment">/* verify input */</span>
<a name="l09134"></a>09134     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l09135"></a>09135 
<a name="l09136"></a>09136     section = <a class="code" href="cgns__header_8h.html#0f40f721f66bc81a686c3ed01ae96e0a">cgi_get_section</a>(cg, B, Z, S);
<a name="l09137"></a>09137     <span class="keywordflow">if</span> (section == 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l09138"></a>09138 
<a name="l09139"></a>09139     <span class="keywordflow">if</span> (start &gt; end || start &lt; section-&gt;range[0] ||
<a name="l09140"></a>09140         end &gt; section-&gt;<a class="code" href="structcgns__section.html#0ab09fc1a7a4595026e16dad45ebf756">range</a>[1]) {
<a name="l09141"></a>09141         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Invalid range for section '%s'"</span>, section-&gt;<a class="code" href="structcgns__section.html#b5192b2e796e6224c74ec532ec32abf7">name</a>);
<a name="l09142"></a>09142         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l09143"></a>09143     }
<a name="l09144"></a>09144 
<a name="l09145"></a>09145     data = (<span class="keywordtype">int</span> *)section-&gt;<a class="code" href="structcgns__section.html#2c31858307755ffce74be48ed9c17699">connect</a>-&gt;<a class="code" href="structcgns__array.html#735984d41155bc1032e09bece8f8d66d">data</a>;
<a name="l09146"></a>09146     offset = <a class="code" href="cgns__header_8h.html#2e35407a6176513c7f10fdae217b8dd7">cgi_element_data_size</a>(section-&gt;<a class="code" href="structcgns__section.html#aba2784ee38437a66e1cc555bc27d00a">el_type</a>,
<a name="l09147"></a>09147                  start - section-&gt;<a class="code" href="structcgns__section.html#0ab09fc1a7a4595026e16dad45ebf756">range</a>[0], data);
<a name="l09148"></a>09148     <span class="keywordflow">if</span> (offset &lt; 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l09149"></a>09149     size = <a class="code" href="cgns__header_8h.html#2e35407a6176513c7f10fdae217b8dd7">cgi_element_data_size</a>(section-&gt;<a class="code" href="structcgns__section.html#aba2784ee38437a66e1cc555bc27d00a">el_type</a>,
<a name="l09150"></a>09150                end - start + 1, &amp;data[offset]);
<a name="l09151"></a>09151     <span class="keywordflow">if</span> (size &lt; 0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l09152"></a>09152     *ElementDataSize = size;
<a name="l09153"></a>09153     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l09154"></a>09154 }
<a name="l09155"></a>09155 
<a name="l09156"></a><a class="code" href="cgnslib_8h.html#66b4bf7105d9438f3eb581ec954a1a28">09156</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#ff90a11ca1cd526e420163efbc1c8c14">cg_bcdataset_write</a>(<span class="keywordtype">char</span> *name, <a class="code" href="cgns_keywords_8h.html#44b677e45de9f4d98475b69a56eec4e1">BCType_t</a> BCType, <a class="code" href="cgns_keywords_8h.html#3be0aed74a9dad8d4558fa68ff3e737d">BCDataType_t</a> BCDataType)
<a name="l09157"></a>09157 {
<a name="l09158"></a>09158     <a class="code" href="structcgns__dataset.html">cgns_dataset</a> *dataset = 0;
<a name="l09159"></a>09159     <a class="code" href="structcgns__bcdata.html">cgns_bcdata</a> *bcdata = 0;
<a name="l09160"></a>09160     <span class="keywordtype">int</span> length;
<a name="l09161"></a>09161     <span class="keywordtype">int</span> ierr=0;
<a name="l09162"></a>09162     <span class="keywordtype">double</span> posit_id;
<a name="l09163"></a>09163 
<a name="l09164"></a>09164      <span class="comment">/* verify input */</span>
<a name="l09165"></a>09165     <span class="keywordflow">if</span> (BCType&lt;0 || BCType&gt;=<a class="code" href="cgns_keywords_8h.html#bf6f54174df8990df78582b7706aa8be">NofValidBCTypes</a>) {
<a name="l09166"></a>09166         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Invalid BCType:  %d"</span>,BCType);
<a name="l09167"></a>09167         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l09168"></a>09168     }
<a name="l09169"></a>09169 
<a name="l09170"></a>09170     <span class="keywordflow">if</span> (BCDataType&lt;0 || BCDataType&gt;=<a class="code" href="cgns_keywords_8h.html#6d5a35b1d55444a926c9c0e3ba1f5817">NofValidBCDataTypes</a>) {
<a name="l09171"></a>09171         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"BCDataType %d not valid"</span>,BCDataType);
<a name="l09172"></a>09172         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l09173"></a>09173     }
<a name="l09174"></a>09174 
<a name="l09175"></a>09175     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#b042658423afd0817ab23b3ea7a5e03d">cgi_check_strlen</a>(name)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l09176"></a>09176 
<a name="l09177"></a>09177     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l09178"></a>09178 
<a name="l09179"></a>09179     <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"FamilyBC_t"</span>)==0)
<a name="l09180"></a>09180     {
<a name="l09181"></a>09181         <a class="code" href="structcgns__fambc.html">cgns_fambc</a> *fambc = (<a class="code" href="structcgns__fambc.html">cgns_fambc</a> *)posit-&gt;<a class="code" href="structcgns__posit.html#3378c1daf2fcc2b6ce28d61681bbe575">posit</a>;
<a name="l09182"></a>09182         <a class="code" href="structcgns__dataset.html">cgns_dataset</a> *dataset_tmp = fambc-&gt;<a class="code" href="structcgns__fambc.html#cf40da8e525cc82b05d405b4f9ad3b99">dataset</a>;
<a name="l09183"></a>09183         <span class="keywordtype">int</span> index, ndataset = fambc-&gt;<a class="code" href="structcgns__fambc.html#64ec9db7756548dd7935ab504da21bfe">ndataset</a>;
<a name="l09184"></a>09184 
<a name="l09185"></a>09185         for (index=0; index &lt; ndataset; ++index)
<a name="l09186"></a>09186             <span class="keywordflow">if</span> (strcmp(name, dataset_tmp[index].name)==0)
<a name="l09187"></a>09187                 dataset = &amp;dataset_tmp[index];
<a name="l09188"></a>09188     }
<a name="l09189"></a>09189 
<a name="l09190"></a>09190     <span class="keywordflow">if</span>(dataset)
<a name="l09191"></a>09191     {
<a name="l09192"></a>09192         <span class="comment">/* Overwrite a BCDataSet_t node : */</span>
<a name="l09193"></a>09193         <span class="keywordflow">if</span> (dataset-&gt;<a class="code" href="structcgns__dataset.html#48997bc56a21c2c5ea2b12a397067609">dirichlet</a> &amp;&amp; BCDataType==<a class="code" href="cgns_keywords_8h.html#3be0aed74a9dad8d4558fa68ff3e737dd2ba0bf65961bac8373de60a7e6571b9">Dirichlet</a>)
<a name="l09194"></a>09194         {
<a name="l09195"></a>09195             <span class="keywordflow">if</span> (cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a> == <a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>) {
<a name="l09196"></a>09196                 <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Dirichlet data already defined under BCDataSet_t '%s'"</span>,
<a name="l09197"></a>09197                           dataset-&gt;<a class="code" href="structcgns__dataset.html#b5192b2e796e6224c74ec532ec32abf7">name</a>);
<a name="l09198"></a>09198                 <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l09199"></a>09199             } <span class="keywordflow">else</span> {
<a name="l09200"></a>09200                 <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#032ae98a5be795f845bb5cc7d63750e4">cgi_delete_node</a>(dataset-&gt;<a class="code" href="structcgns__dataset.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, dataset-&gt;<a class="code" href="structcgns__dataset.html#48997bc56a21c2c5ea2b12a397067609">dirichlet</a>-&gt;<a class="code" href="structcgns__bcdata.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>))
<a name="l09201"></a>09201                     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l09202"></a>09202                 <a class="code" href="cgns__header_8h.html#1328c1e1642cffec0bd80c89167b3dd7">cgi_free_bcdata</a>(dataset-&gt;<a class="code" href="structcgns__dataset.html#48997bc56a21c2c5ea2b12a397067609">dirichlet</a>);
<a name="l09203"></a>09203             }
<a name="l09204"></a>09204         }
<a name="l09205"></a>09205         <span class="keywordflow">else</span> <span class="keywordflow">if</span>(dataset-&gt;<a class="code" href="structcgns__dataset.html#9e5bbe656ff3e9bd4e5c6d0c29ade2a9">neumann</a> &amp;&amp; BCDataType==<a class="code" href="cgns_keywords_8h.html#3be0aed74a9dad8d4558fa68ff3e737d2d800ee9173ede696b1d91d5b665d5b3">Neumann</a>)
<a name="l09206"></a>09206         {
<a name="l09207"></a>09207             <span class="keywordflow">if</span> (cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a> == <a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>) {
<a name="l09208"></a>09208                 <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Neumann data already defined under BCDataSet_t '%s'"</span>,
<a name="l09209"></a>09209                           dataset-&gt;<a class="code" href="structcgns__dataset.html#b5192b2e796e6224c74ec532ec32abf7">name</a>);
<a name="l09210"></a>09210                 <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l09211"></a>09211             } <span class="keywordflow">else</span> {
<a name="l09212"></a>09212                 <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#032ae98a5be795f845bb5cc7d63750e4">cgi_delete_node</a>(dataset-&gt;<a class="code" href="structcgns__dataset.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, dataset-&gt;<a class="code" href="structcgns__dataset.html#9e5bbe656ff3e9bd4e5c6d0c29ade2a9">neumann</a>-&gt;<a class="code" href="structcgns__bcdata.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>))
<a name="l09213"></a>09213                     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l09214"></a>09214                 <a class="code" href="cgns__header_8h.html#1328c1e1642cffec0bd80c89167b3dd7">cgi_free_bcdata</a>(dataset-&gt;<a class="code" href="structcgns__dataset.html#9e5bbe656ff3e9bd4e5c6d0c29ade2a9">neumann</a>);
<a name="l09215"></a>09215             }
<a name="l09216"></a>09216         }
<a name="l09217"></a>09217     }
<a name="l09218"></a>09218     <span class="keywordflow">else</span>
<a name="l09219"></a>09219     {
<a name="l09220"></a>09220         <span class="comment">/* get memory address for BCDataSet_t node */</span>
<a name="l09221"></a>09221         dataset = <a class="code" href="cgns__header_8h.html#fa0dd5f0cd83910293d777aad29aa07d">cgi_bcdataset_address</a>(<a class="code" href="cgns_keywords_8h.html#dc012d0ea1bbdffacb66122513190399">CG_MODE_WRITE</a>, 0, name, &amp;ierr);
<a name="l09222"></a>09222         <span class="keywordflow">if</span> (dataset == 0) <span class="keywordflow">return</span> ierr;
<a name="l09223"></a>09223 
<a name="l09224"></a>09224         <span class="comment">/* save data in memory */</span>
<a name="l09225"></a>09225         dataset-&gt;<a class="code" href="structcgns__dataset.html#3559c6e2ba54cdf205f7b0229c1f43de">type</a> = BCType;
<a name="l09226"></a>09226         strcpy(dataset-&gt;<a class="code" href="structcgns__dataset.html#b5192b2e796e6224c74ec532ec32abf7">name</a>, name);
<a name="l09227"></a>09227 
<a name="l09228"></a>09228         <span class="comment">/* initialize other fields */</span>
<a name="l09229"></a>09229         dataset-&gt;<a class="code" href="structcgns__dataset.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a> = 0;
<a name="l09230"></a>09230         dataset-&gt;<a class="code" href="structcgns__dataset.html#f6f27f42b9ecc89cf0ed39415bca67d1">link</a>=0;
<a name="l09231"></a>09231         dataset-&gt;<a class="code" href="structcgns__dataset.html#cdee83a08ec17a8018bf719ef82a3602">ndescr</a>=0;
<a name="l09232"></a>09232         dataset-&gt;<a class="code" href="structcgns__dataset.html#48997bc56a21c2c5ea2b12a397067609">dirichlet</a>=0;
<a name="l09233"></a>09233         dataset-&gt;<a class="code" href="structcgns__dataset.html#9e5bbe656ff3e9bd4e5c6d0c29ade2a9">neumann</a>=0;
<a name="l09234"></a>09234         dataset-&gt;<a class="code" href="structcgns__dataset.html#15c8ead849bcf27b5e35f578c29e6aff">state</a>=0;
<a name="l09235"></a>09235         dataset-&gt;<a class="code" href="structcgns__dataset.html#6aa9eb3c5ad6bdecf6cd8c2b3d97839c">data_class</a>=<a class="code" href="cgns_keywords_8h.html#6e3a45166e6780b756fef5c427279ca079d3001e5ba3290ed80f0762d51bb379">DataClassNull</a>;
<a name="l09236"></a>09236         dataset-&gt;<a class="code" href="structcgns__dataset.html#9b4c6b823f0741729aa08b21a4120308">units</a>=0;
<a name="l09237"></a>09237         dataset-&gt;<a class="code" href="structcgns__dataset.html#dc1e157d997b3174f9d41c5b645631f9">nuser_data</a>=0;
<a name="l09238"></a>09238 
<a name="l09239"></a>09239         <span class="comment">/* write to disk */</span>
<a name="l09240"></a>09240         <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#dfcc6b9f463371c7fbfb6a9e7307f39a">cgi_posit_id</a>(&amp;posit_id))
<a name="l09241"></a>09241             <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l09242"></a>09242 
<a name="l09243"></a>09243         <span class="comment">/* save data in file */</span>
<a name="l09244"></a>09244         length = strlen(<a class="code" href="cgnslib_8c.html#524bd2d700c329555ff489a4a15a239b">BCTypeName</a>[dataset-&gt;<a class="code" href="structcgns__dataset.html#3559c6e2ba54cdf205f7b0229c1f43de">type</a>]);
<a name="l09245"></a>09245         <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#184dd1d99e9f4e7b826f84887ba07748">cgi_new_node</a>(posit_id, dataset-&gt;<a class="code" href="structcgns__dataset.html#b5192b2e796e6224c74ec532ec32abf7">name</a>, <span class="stringliteral">"BCDataSet_t"</span>, &amp;dataset-&gt;<a class="code" href="structcgns__dataset.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>,
<a name="l09246"></a>09246                         <span class="stringliteral">"C1"</span>, 1, &amp;length, (<span class="keywordtype">void</span> *)<a class="code" href="cgnslib_8c.html#524bd2d700c329555ff489a4a15a239b">BCTypeName</a>[dataset-&gt;<a class="code" href="structcgns__dataset.html#3559c6e2ba54cdf205f7b0229c1f43de">type</a>]))
<a name="l09247"></a>09247             <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l09248"></a>09248     }
<a name="l09249"></a>09249 
<a name="l09250"></a>09250     <span class="keywordflow">if</span> (BCDataType==<a class="code" href="cgns_keywords_8h.html#3be0aed74a9dad8d4558fa68ff3e737dd2ba0bf65961bac8373de60a7e6571b9">Dirichlet</a>) {
<a name="l09251"></a>09251         <span class="keywordflow">if</span> ( !dataset-&gt;<a class="code" href="structcgns__dataset.html#48997bc56a21c2c5ea2b12a397067609">dirichlet</a>)
<a name="l09252"></a>09252             dataset-&gt;<a class="code" href="structcgns__dataset.html#48997bc56a21c2c5ea2b12a397067609">dirichlet</a> = <a class="code" href="cgns__header_8h.html#948c36b3700de0f3332aa3620eafb0f4">CGNS_NEW</a>(<a class="code" href="structcgns__bcdata.html">cgns_bcdata</a>,1);
<a name="l09253"></a>09253 
<a name="l09254"></a>09254         strcpy(dataset-&gt;<a class="code" href="structcgns__dataset.html#48997bc56a21c2c5ea2b12a397067609">dirichlet</a>-&gt;<a class="code" href="structcgns__bcdata.html#b5192b2e796e6224c74ec532ec32abf7">name</a>, <span class="stringliteral">"DirichletData"</span>);
<a name="l09255"></a>09255         bcdata = dataset-&gt;<a class="code" href="structcgns__dataset.html#48997bc56a21c2c5ea2b12a397067609">dirichlet</a>;
<a name="l09256"></a>09256     } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(BCDataType==<a class="code" href="cgns_keywords_8h.html#3be0aed74a9dad8d4558fa68ff3e737d2d800ee9173ede696b1d91d5b665d5b3">Neumann</a>){
<a name="l09257"></a>09257         <span class="keywordflow">if</span> ( !dataset-&gt;<a class="code" href="structcgns__dataset.html#9e5bbe656ff3e9bd4e5c6d0c29ade2a9">neumann</a>)
<a name="l09258"></a>09258             dataset-&gt;<a class="code" href="structcgns__dataset.html#9e5bbe656ff3e9bd4e5c6d0c29ade2a9">neumann</a> = <a class="code" href="cgns__header_8h.html#948c36b3700de0f3332aa3620eafb0f4">CGNS_NEW</a>(<a class="code" href="structcgns__bcdata.html">cgns_bcdata</a>,1);
<a name="l09259"></a>09259 
<a name="l09260"></a>09260         strcpy(dataset-&gt;<a class="code" href="structcgns__dataset.html#9e5bbe656ff3e9bd4e5c6d0c29ade2a9">neumann</a>-&gt;<a class="code" href="structcgns__bcdata.html#b5192b2e796e6224c74ec532ec32abf7">name</a>, <span class="stringliteral">"NeumannData"</span>);
<a name="l09261"></a>09261         bcdata = dataset-&gt;<a class="code" href="structcgns__dataset.html#9e5bbe656ff3e9bd4e5c6d0c29ade2a9">neumann</a>;
<a name="l09262"></a>09262     }
<a name="l09263"></a>09263     <span class="keywordflow">else</span> {
<a name="l09264"></a>09264         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"BCDataType is not Dirichlet or Neumann"</span>);
<a name="l09265"></a>09265         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l09266"></a>09266     }
<a name="l09267"></a>09267 
<a name="l09268"></a>09268      <span class="comment">/* initialize other fields */</span>
<a name="l09269"></a>09269     bcdata-&gt;<a class="code" href="structcgns__bcdata.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a> = 0;
<a name="l09270"></a>09270     bcdata-&gt;<a class="code" href="structcgns__bcdata.html#f6f27f42b9ecc89cf0ed39415bca67d1">link</a>=0;
<a name="l09271"></a>09271     bcdata-&gt;<a class="code" href="structcgns__bcdata.html#cdee83a08ec17a8018bf719ef82a3602">ndescr</a>=0;
<a name="l09272"></a>09272     bcdata-&gt;<a class="code" href="structcgns__bcdata.html#6aa9eb3c5ad6bdecf6cd8c2b3d97839c">data_class</a>=<a class="code" href="cgns_keywords_8h.html#6e3a45166e6780b756fef5c427279ca079d3001e5ba3290ed80f0762d51bb379">DataClassNull</a>;
<a name="l09273"></a>09273     bcdata-&gt;<a class="code" href="structcgns__bcdata.html#9b4c6b823f0741729aa08b21a4120308">units</a>=0;
<a name="l09274"></a>09274     bcdata-&gt;<a class="code" href="structcgns__bcdata.html#ace0c04d503f8dda2284ae61a8344b8b">narrays</a>=0;
<a name="l09275"></a>09275     bcdata-&gt;<a class="code" href="structcgns__bcdata.html#dc1e157d997b3174f9d41c5b645631f9">nuser_data</a>=0;
<a name="l09276"></a>09276 
<a name="l09277"></a>09277     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#184dd1d99e9f4e7b826f84887ba07748">cgi_new_node</a>(dataset-&gt;<a class="code" href="structcgns__dataset.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>, bcdata-&gt;<a class="code" href="structcgns__bcdata.html#b5192b2e796e6224c74ec532ec32abf7">name</a>, <span class="stringliteral">"BCData_t"</span>, &amp;bcdata-&gt;<a class="code" href="structcgns__bcdata.html#e73d8fab0b44acec1c88ef0f1a07f08a">id</a>,
<a name="l09278"></a>09278         <span class="stringliteral">"MT"</span>, 0, 0, 0)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l09279"></a>09279 
<a name="l09280"></a>09280     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l09281"></a>09281 }
<a name="l09282"></a>09282 
<a name="l09283"></a><a class="code" href="cgnslib_8h.html#cf8aee9fcfb573f4bec3953f6f674837">09283</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#3aedffe64d3a57dbe9fd408261123322">cg_bcdataset_info</a>(<span class="keywordtype">int</span> *n_dataset)
<a name="l09284"></a>09284 {
<a name="l09285"></a>09285     <span class="comment">/* check for valid posit */</span>
<a name="l09286"></a>09286     <span class="keywordflow">if</span> (posit == 0) {
<a name="l09287"></a>09287         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"No current position set by cg_goto\n"</span>);
<a name="l09288"></a>09288         (*n_dataset) = 0;
<a name="l09289"></a>09289         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l09290"></a>09290     }
<a name="l09291"></a>09291 
<a name="l09292"></a>09292     <span class="comment">/* Possible parents of BCDataSet_t node:</span>
<a name="l09293"></a>09293 <span class="comment">     * Implemented:</span>
<a name="l09294"></a>09294 <span class="comment">     *  FamilyBC_t</span>
<a name="l09295"></a>09295 <span class="comment">     * Unimplemented:</span>
<a name="l09296"></a>09296 <span class="comment">     *</span>
<a name="l09297"></a>09297 <span class="comment">     */</span>
<a name="l09298"></a>09298     <span class="keywordflow">if</span>(strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"FamilyBC_t"</span>) ==0)
<a name="l09299"></a>09299     {
<a name="l09300"></a>09300         <a class="code" href="structcgns__fambc.html">cgns_fambc</a> *fambc = (<a class="code" href="structcgns__fambc.html">cgns_fambc</a> *)posit-&gt;<a class="code" href="structcgns__posit.html#3378c1daf2fcc2b6ce28d61681bbe575">posit</a>;
<a name="l09301"></a>09301         *n_dataset = fambc-&gt;<a class="code" href="structcgns__fambc.html#64ec9db7756548dd7935ab504da21bfe">ndataset</a>;
<a name="l09302"></a>09302     }
<a name="l09303"></a>09303     <span class="keywordflow">else</span>{
<a name="l09304"></a>09304         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"FamilyBC_t node not supported under '%s' type node"</span>,posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>);
<a name="l09305"></a>09305 
<a name="l09306"></a>09306         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#c0fa66c28774a143f149895c12dd429b">CG_INCORRECT_PATH</a>;
<a name="l09307"></a>09307     }
<a name="l09308"></a>09308 
<a name="l09309"></a>09309     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l09310"></a>09310 }
<a name="l09311"></a>09311 
<a name="l09312"></a><a class="code" href="cgnslib_8h.html#d0b2658ab7e3a69879c1204c2c48be98">09312</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#15119844d83979c9b97ccb51d55bd057">cg_bcdataset_read</a>(<span class="keywordtype">int</span> index, <span class="keywordtype">char</span> *name, <a class="code" href="cgns_keywords_8h.html#44b677e45de9f4d98475b69a56eec4e1">BCType_t</a> *BCType,
<a name="l09313"></a>09313                       <span class="keywordtype">int</span> *DirichletFlag, <span class="keywordtype">int</span> *NeumannFlag)
<a name="l09314"></a>09314 {
<a name="l09315"></a>09315     <a class="code" href="structcgns__dataset.html">cgns_dataset</a> *dataset;
<a name="l09316"></a>09316     <span class="keywordtype">int</span> ier = 0;
<a name="l09317"></a>09317 
<a name="l09318"></a>09318     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#ee7488925162b5b1062738d570f6d74b">cgi_check_mode</a>(cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>, cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>, <a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l09319"></a>09319 
<a name="l09320"></a>09320     dataset = <a class="code" href="cgns__header_8h.html#fa0dd5f0cd83910293d777aad29aa07d">cgi_bcdataset_address</a>(<a class="code" href="cgns_keywords_8h.html#eca03512ad78c691a2015799ba394b46">CG_MODE_READ</a>, index, NULL, &amp;ier);
<a name="l09321"></a>09321     <span class="keywordflow">if</span> (dataset==0) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l09322"></a>09322 
<a name="l09323"></a>09323     strcpy(name, dataset-&gt;<a class="code" href="structcgns__dataset.html#b5192b2e796e6224c74ec532ec32abf7">name</a>);
<a name="l09324"></a>09324     *BCType = dataset-&gt;<a class="code" href="structcgns__dataset.html#3559c6e2ba54cdf205f7b0229c1f43de">type</a>;
<a name="l09325"></a>09325     <span class="keywordflow">if</span> (dataset-&gt;<a class="code" href="structcgns__dataset.html#48997bc56a21c2c5ea2b12a397067609">dirichlet</a>) *DirichletFlag=1;
<a name="l09326"></a>09326     <span class="keywordflow">else</span>                    *DirichletFlag=0;
<a name="l09327"></a>09327     <span class="keywordflow">if</span> (dataset-&gt;<a class="code" href="structcgns__dataset.html#9e5bbe656ff3e9bd4e5c6d0c29ade2a9">neumann</a>) *NeumannFlag=1;
<a name="l09328"></a>09328     <span class="keywordflow">else</span>                  *NeumannFlag=0;
<a name="l09329"></a>09329 
<a name="l09330"></a>09330     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l09331"></a>09331 }
<a name="l09332"></a>09332 
<a name="l09333"></a>09333 <span class="comment">/****************************************************************************/</span>
<a name="l09334"></a><a class="code" href="cgnslib_8h.html#016ec509461cbf1236a830cd27815bf1">09334</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#e7291fb6c47f4ff621c022dc5522f48b">cg_npe</a>(<a class="code" href="cgns_keywords_8h.html#4431a6cae8c3c9182a415851144aeac0">ElementType_t</a> type, <span class="keywordtype">int</span> *npe) {
<a name="l09335"></a>09335     <span class="keyword">static</span> <span class="keywordtype">int</span> el_size[<a class="code" href="cgns_keywords_8h.html#058dc8d7fafdb4b484144df5f83b437b">NofValidElementTypes</a>] = {
<a name="l09336"></a>09336         0,  <span class="comment">/* ElementTypeNull */</span>
<a name="l09337"></a>09337         0,  <span class="comment">/* ElementTypeUserDefined */</span>
<a name="l09338"></a>09338         1,  <span class="comment">/* NODE */</span>
<a name="l09339"></a>09339         2,  <span class="comment">/* BAR_2 */</span>
<a name="l09340"></a>09340         3,  <span class="comment">/* BAR_3 */</span>
<a name="l09341"></a>09341         3,  <span class="comment">/* TRI_3 */</span>
<a name="l09342"></a>09342         6,  <span class="comment">/* TRI_6 */</span>
<a name="l09343"></a>09343         4,  <span class="comment">/* QUAD_4 */</span>
<a name="l09344"></a>09344         8,  <span class="comment">/* QUAD_8 */</span>
<a name="l09345"></a>09345         9,  <span class="comment">/* QUAD_9 */</span>
<a name="l09346"></a>09346         4,  <span class="comment">/* TETRA_4 */</span>
<a name="l09347"></a>09347         10, <span class="comment">/* TETRA_10 */</span>
<a name="l09348"></a>09348         5,  <span class="comment">/* PYRA_5 */</span>
<a name="l09349"></a>09349         13, <span class="comment">/* PYRA_13 */</span>
<a name="l09350"></a>09350         14, <span class="comment">/* PYRA_14 */</span>
<a name="l09351"></a>09351         6,  <span class="comment">/* PENTA_6 */</span>
<a name="l09352"></a>09352         15, <span class="comment">/* PENTA_15 */</span>
<a name="l09353"></a>09353         18, <span class="comment">/* PENTA_18 */</span>
<a name="l09354"></a>09354         8,  <span class="comment">/* HEXA_8 */</span>
<a name="l09355"></a>09355         20, <span class="comment">/* HEXA_20 */</span>
<a name="l09356"></a>09356         27, <span class="comment">/* HEXA_27 */</span>
<a name="l09357"></a>09357         0,  <span class="comment">/* MIXED */</span>
<a name="l09358"></a>09358         0,  <span class="comment">/* NGON_n */</span>
<a name="l09359"></a>09359         0,  <span class="comment">/* NFACE_n */</span> };
<a name="l09360"></a>09360     <span class="keywordflow">if</span>(type &lt; 0 || type &gt;= <a class="code" href="cgns_keywords_8h.html#058dc8d7fafdb4b484144df5f83b437b">NofValidElementTypes</a>) {
<a name="l09361"></a>09361         *npe = -1;
<a name="l09362"></a>09362         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Invalid element type"</span>);
<a name="l09363"></a>09363         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l09364"></a>09364 
<a name="l09365"></a>09365     }
<a name="l09366"></a>09366     (*npe) = el_size[type];
<a name="l09367"></a>09367     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l09368"></a>09368 }
<a name="l09369"></a>09369 
<a name="l09370"></a>09370 <span class="comment">/*****************************************************************************\</span>
<a name="l09371"></a>09371 <span class="comment"> *            General Delete Function</span>
<a name="l09372"></a>09372 <span class="comment">\*****************************************************************************/</span>
<a name="l09373"></a>09373 
<a name="l09374"></a><a class="code" href="cgnslib_8h.html#9e8608aa94ac9229c1f2eac3a7140570">09374</a> <span class="keywordtype">int</span> <a class="code" href="cgnslib_8c.html#3704b6cdc5352c2caf35fa3324e6dee7">cg_delete_node</a>(<span class="keywordtype">char</span> *node_name) {
<a name="l09375"></a>09375     <span class="keywordtype">int</span> n, m, index_dim;
<a name="l09376"></a>09376     <span class="keywordtype">double</span> posit_id, node_id;
<a name="l09377"></a>09377     <a class="code" href="cgns__header_8h.html#3643549b6f6f5f037878b262787434c0">char_33</a> node_label;
<a name="l09378"></a>09378 
<a name="l09379"></a>09379      <span class="comment">/* verify input */</span>
<a name="l09380"></a>09380     <span class="keywordflow">if</span> (cg-&gt;<a class="code" href="structcgns__file.html#1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a> != <a class="code" href="cgns_keywords_8h.html#a3eda4df29cceb4ed9a9c5d5d8f663d7">CG_MODE_MODIFY</a>) {
<a name="l09381"></a>09381         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"File %s must be opened in mode modify to delete a node"</span>, cg-&gt;<a class="code" href="structcgns__file.html#eac90097f29f7529968697163cea5c18">filename</a>);
<a name="l09382"></a>09382         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l09383"></a>09383     }
<a name="l09384"></a>09384      <span class="comment">/* ADF ID of parent = posit_id */</span>
<a name="l09385"></a>09385     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#dfcc6b9f463371c7fbfb6a9e7307f39a">cgi_posit_id</a>(&amp;posit_id)) <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l09386"></a>09386 
<a name="l09387"></a>09387      <span class="comment">/* ADF ID of node */</span>
<a name="l09388"></a>09388     <span class="keywordflow">if</span> (<a class="code" href="cgns__io_8c.html#24cc30fd69b9c44ffb201f863f131a5c">cgio_get_node_id</a>(cg-&gt;<a class="code" href="structcgns__file.html#98363ec7b27905dbf2c56c6a194c69cc">cgio</a>, posit_id, node_name, &amp;node_id)) {
<a name="l09389"></a>09389         <a class="code" href="cgns__error_8c.html#47dd09a377bc17d5807332f8c475a23b">cg_io_error</a>(<span class="stringliteral">"cgio_get_node_id"</span>);
<a name="l09390"></a>09390         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l09391"></a>09391     }
<a name="l09392"></a>09392      <span class="comment">/* Get label of node to be deleted */</span>
<a name="l09393"></a>09393     <span class="keywordflow">if</span> (<a class="code" href="cgns__io_8c.html#7719923b6219b000d054bebcd3ee14e8">cgio_get_label</a>(cg-&gt;<a class="code" href="structcgns__file.html#98363ec7b27905dbf2c56c6a194c69cc">cgio</a>, node_id, node_label)) {
<a name="l09394"></a>09394         <a class="code" href="cgns__error_8c.html#47dd09a377bc17d5807332f8c475a23b">cg_io_error</a>(<span class="stringliteral">"cgio_get_label"</span>);
<a name="l09395"></a>09395         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l09396"></a>09396     }
<a name="l09397"></a>09397 
<a name="l09398"></a>09398 <span class="comment">/* Nodes that can't be deleted */</span>
<a name="l09399"></a>09399     <span class="keywordflow">if</span> (
<a name="l09400"></a>09400         (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"Zone_t"</span>)==0 &amp;&amp;
<a name="l09401"></a>09401          strcmp(node_label,<span class="stringliteral">"ZoneType_t"</span>)==0 ) ||
<a name="l09402"></a>09402 
<a name="l09403"></a>09403         (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"GridConnectivity1to1_t"</span>)==0 &amp;&amp;
<a name="l09404"></a>09404          (strcmp(node_name,<span class="stringliteral">"PointRange"</span>)==0 ||
<a name="l09405"></a>09405           strcmp(node_name,<span class="stringliteral">"PointRangeDonor"</span>)==0) ) ||
<a name="l09406"></a>09406 
<a name="l09407"></a>09407         (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"OversetHoles_t"</span>)==0 &amp;&amp;
<a name="l09408"></a>09408          (strcmp(node_label,<span class="stringliteral">"IndexRange_t"</span>)==0 ||
<a name="l09409"></a>09409           strcmp(node_name,<span class="stringliteral">"PointList"</span>)==0) ) ||
<a name="l09410"></a>09410 
<a name="l09411"></a>09411         (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"GridConnectivity_t"</span>)==0 &amp;&amp;
<a name="l09412"></a>09412          (strcmp(node_name,<span class="stringliteral">"PointRange"</span>)==0 ||
<a name="l09413"></a>09413           strcmp(node_name,<span class="stringliteral">"PointList"</span>)==0 ||
<a name="l09414"></a>09414           strcmp(node_name,<span class="stringliteral">"CellListDonor"</span>)==0 ||
<a name="l09415"></a>09415           strcmp(node_name,<span class="stringliteral">"PointListDonor"</span>)==0 ||
<a name="l09416"></a>09416           strcmp(node_name,<span class="stringliteral">"InterpolantsDonor"</span>)==0) ) ||
<a name="l09417"></a>09417 
<a name="l09418"></a>09418         (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"BC_t"</span>)==0 &amp;&amp;
<a name="l09419"></a>09419          (strcmp(node_name,<span class="stringliteral">"PointList"</span>)==0 ||
<a name="l09420"></a>09420           strcmp(node_name,<span class="stringliteral">"PointRange"</span>)==0 ||
<a name="l09421"></a>09421           strcmp(node_name,<span class="stringliteral">"ElementList"</span>)==0 ||
<a name="l09422"></a>09422           strcmp(node_name,<span class="stringliteral">"ElementRange"</span>)==0) ) ||
<a name="l09423"></a>09423 
<a name="l09424"></a>09424         (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"GeometryReference_t"</span>)==0 &amp;&amp;
<a name="l09425"></a>09425          (strcmp(node_name,<span class="stringliteral">"GeometryFile"</span>)==0 ||
<a name="l09426"></a>09426           strcmp(node_name,<span class="stringliteral">"GeometryFormat"</span>)==0) ) ||
<a name="l09427"></a>09427 
<a name="l09428"></a>09428         (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"Elements_t"</span>)==0 &amp;&amp;
<a name="l09429"></a>09429          (strcmp(node_name,<span class="stringliteral">"ElementRange"</span>)==0 ||
<a name="l09430"></a>09430           strcmp(node_name,<span class="stringliteral">"ElementConnectivity"</span>)==0) ) ||
<a name="l09431"></a>09431 
<a name="l09432"></a>09432         (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"Gravity_t"</span>)==0 &amp;&amp;
<a name="l09433"></a>09433          strcmp(node_name,<span class="stringliteral">"GravityVector"</span>)==0) ||
<a name="l09434"></a>09434 
<a name="l09435"></a>09435         (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"Axisymmetry_t"</span>)==0 &amp;&amp;
<a name="l09436"></a>09436          (strcmp(node_name,<span class="stringliteral">"AxisymmetryReferencePoint"</span>)==0 ||
<a name="l09437"></a>09437           strcmp(node_name,<span class="stringliteral">"AxisymmetryAxisVector"</span>)==0) ) ||
<a name="l09438"></a>09438 
<a name="l09439"></a>09439         (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"RotatingCoordinates_t"</span>)==0 &amp;&amp;
<a name="l09440"></a>09440          (strcmp(node_name,<span class="stringliteral">"RotationCenter"</span>)==0 ||
<a name="l09441"></a>09441           strcmp(node_name,<span class="stringliteral">"RotationRateVector"</span>)==0) ) ||
<a name="l09442"></a>09442 
<a name="l09443"></a>09443         (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"WallFunction_t"</span>)==0 &amp;&amp;
<a name="l09444"></a>09444          strcmp(node_label,<span class="stringliteral">"WallFunctionType_t"</span>)==0) ||
<a name="l09445"></a>09445 
<a name="l09446"></a>09446         (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"Area_t"</span>)==0 &amp;&amp;
<a name="l09447"></a>09447          (strcmp(node_label,<span class="stringliteral">"AreaType_t"</span>)==0 ||
<a name="l09448"></a>09448           strcmp(node_label,<span class="stringliteral">"DataArray_t"</span>)==0) ) ||
<a name="l09449"></a>09449 
<a name="l09450"></a>09450         (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"Periodic_t"</span>)==0 &amp;&amp;
<a name="l09451"></a>09451          strcmp(node_label,<span class="stringliteral">"DataArray_t"</span>)==0) ||
<a name="l09452"></a>09452 
<a name="l09453"></a>09453         (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"AverageInterface_t"</span>)==0 &amp;&amp;
<a name="l09454"></a>09454          strcmp(node_label,<span class="stringliteral">"AverageInterfaceType_t"</span>)==0)
<a name="l09455"></a>09455 
<a name="l09456"></a>09456     ) {
<a name="l09457"></a>09457         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Node '%s' under '%s' can not be deleted"</span>,node_name,posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>);
<a name="l09458"></a>09458         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l09459"></a>09459     }
<a name="l09460"></a>09460 
<a name="l09461"></a>09461      <span class="comment">/* Delete node_id under posit_id */</span>
<a name="l09462"></a>09462     <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#032ae98a5be795f845bb5cc7d63750e4">cgi_delete_node</a>(posit_id, node_id)) {
<a name="l09463"></a>09463         <span class="comment">/*printf("posit-&gt;label=%s, node_name=%s\n",posit-&gt;label,node_name);*/</span>
<a name="l09464"></a>09464         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l09465"></a>09465     }
<a name="l09466"></a>09466 
<a name="l09467"></a>09467 <span class="comment">/* Remove from internal database */</span>
<a name="l09468"></a>09468 <span class="comment">/* Children of CGNSBase_t */</span>
<a name="l09469"></a>09469     <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"CGNSBase_t"</span>)==0) {
<a name="l09470"></a>09470         <a class="code" href="structcgns__base.html">cgns_base</a> *<a class="code" href="test__partial_8c.html#8e99857563320b5d943128e5816b1d70">parent</a> = (<a class="code" href="structcgns__base.html">cgns_base</a> *)posit-&gt;<a class="code" href="structcgns__posit.html#3378c1daf2fcc2b6ce28d61681bbe575">posit</a>;
<a name="l09471"></a>09471 
<a name="l09472"></a>09472      <span class="comment">/* Case 1: node_label = can have multiple occurence:  */</span>
<a name="l09473"></a>09473         if (strcmp(node_label,<span class="stringliteral">"Zone_t"</span>)==0) <a class="code" href="cgns__header_8h.html#2309708834802b571e31310885d0fb1c">CGNS_DELETE_SHIFT</a>(nzones, zone)
<a name="l09474"></a>09474         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(node_label,<span class="stringliteral">"Family_t"</span>)==0) <a class="code" href="cgns__header_8h.html#2309708834802b571e31310885d0fb1c">CGNS_DELETE_SHIFT</a>(nfamilies, family)
<a name="l09475"></a>09475         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(node_label,<span class="stringliteral">"IntegralData_t"</span>)==0) <a class="code" href="cgns__header_8h.html#2309708834802b571e31310885d0fb1c">CGNS_DELETE_SHIFT</a>(nintegrals, integral)
<a name="l09476"></a>09476         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(node_label,<span class="stringliteral">"Descriptor_t"</span>)==0) <a class="code" href="cgns__header_8h.html#2309708834802b571e31310885d0fb1c">CGNS_DELETE_SHIFT</a>(ndescr, descr)
<a name="l09477"></a>09477         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(node_label,<span class="stringliteral">"UserDefinedData_t"</span>)==0) <a class="code" href="cgns__header_8h.html#2309708834802b571e31310885d0fb1c">CGNS_DELETE_SHIFT</a>(nuser_data, user_data)
<a name="l09478"></a>09478 
<a name="l09479"></a>09479      <span class="comment">/* Case 2: node_label = can only occur once under parent: */</span>
<a name="l09480"></a>09480         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(node_name,<span class="stringliteral">"SimulationType"</span>)==0) {
<a name="l09481"></a>09481             parent-&gt;<a class="code" href="structcgns__base.html#2cd15f8599e5adccf7ab541dc06ead76">type</a> = <a class="code" href="cgns_keywords_8h.html#9e78c57e09b9a11a016f0c65bc00f18534a74ddd77ccd6c0451aa1fe923213a3">SimulationTypeNull</a>;
<a name="l09482"></a>09482             parent-&gt;<a class="code" href="structcgns__base.html#510eb2e9a2ea6c68c6704102e55f1cf8">type_id</a> = 0;
<a name="l09483"></a>09483         }
<a name="l09484"></a>09484         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(node_label,<span class="stringliteral">"BaseIterativeData_t"</span>)==0) parent-&gt;<a class="code" href="structcgns__base.html#134f6be7ea56b1eb7de26b1fd1a13da8">biter</a>=0;
<a name="l09485"></a>09485         <span class="keywordflow">else</span> if (strcmp(node_name,<span class="stringliteral">"GlobalConvergenceHistory"</span>)==0) parent-&gt;<a class="code" href="structcgns__base.html#50e909b889f18d0bdefa3bace81b97fc">converg</a>=0;
<a name="l09486"></a>09486         <span class="keywordflow">else</span> if (strcmp(node_name,<span class="stringliteral">"FlowEquationSet"</span>)==0) parent-&gt;<a class="code" href="structcgns__base.html#78f18d3602ebdbbb09f57520adf4e93d">equations</a>=0;
<a name="l09487"></a>09487         <span class="keywordflow">else</span> if (strcmp(node_name,<span class="stringliteral">"DimensionalUnits"</span>)==0) parent-&gt;<a class="code" href="structcgns__base.html#9b4c6b823f0741729aa08b21a4120308">units</a>=0;
<a name="l09488"></a>09488         <span class="keywordflow">else</span> if (strcmp(node_name,<span class="stringliteral">"ReferenceState"</span>)==0) parent-&gt;<a class="code" href="structcgns__base.html#15c8ead849bcf27b5e35f578c29e6aff">state</a>=0;
<a name="l09489"></a>09489         <span class="keywordflow">else</span> if (strcmp(node_name,<span class="stringliteral">"DataClass"</span>)==0) parent-&gt;<a class="code" href="structcgns__base.html#6aa9eb3c5ad6bdecf6cd8c2b3d97839c">data_class</a> = <a class="code" href="cgns_keywords_8h.html#6e3a45166e6780b756fef5c427279ca079d3001e5ba3290ed80f0762d51bb379">DataClassNull</a>;
<a name="l09490"></a>09490         <span class="keywordflow">else</span> if (strcmp(node_name,<span class="stringliteral">"Gravity"</span>)==0) parent-&gt;<a class="code" href="structcgns__base.html#0ab3298330c91c5b654e01b956906dd5">gravity</a>=0;
<a name="l09491"></a>09491         <span class="keywordflow">else</span> if (strcmp(node_name,<span class="stringliteral">"Axisymmetry"</span>)==0) parent-&gt;<a class="code" href="structcgns__base.html#8666c44ea0abaf51e4b0dc837478c1ca">axisym</a>=0;
<a name="l09492"></a>09492         <span class="keywordflow">else</span> if (strcmp(node_name,<span class="stringliteral">"RotatingCoordinates"</span>)==0) parent-&gt;<a class="code" href="structcgns__base.html#099f512c1cddfafbbec61c0ccf30923a">rotating</a>=0;
<a name="l09493"></a>09493 
<a name="l09494"></a>09494 <span class="comment">/* Children of Zone_t */</span>
<a name="l09495"></a>09495     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"Zone_t"</span>)==0) {
<a name="l09496"></a>09496         <a class="code" href="structcgns__zone.html">cgns_zone</a> *<a class="code" href="test__partial_8c.html#8e99857563320b5d943128e5816b1d70">parent</a> = (<a class="code" href="structcgns__zone.html">cgns_zone</a> *)posit-&gt;<a class="code" href="structcgns__posit.html#3378c1daf2fcc2b6ce28d61681bbe575">posit</a>;
<a name="l09497"></a>09497         if (strcmp(node_label,<span class="stringliteral">"GridCoordinates_t"</span>)==0) <a class="code" href="cgns__header_8h.html#2309708834802b571e31310885d0fb1c">CGNS_DELETE_SHIFT</a>(nzcoor, zcoor)
<a name="l09498"></a>09498         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(node_label,<span class="stringliteral">"DiscreteData_t"</span>)==0) <a class="code" href="cgns__header_8h.html#2309708834802b571e31310885d0fb1c">CGNS_DELETE_SHIFT</a>(ndiscrete, discrete)
<a name="l09499"></a>09499         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(node_label,<span class="stringliteral">"Elements_t"</span>)==0) <a class="code" href="cgns__header_8h.html#2309708834802b571e31310885d0fb1c">CGNS_DELETE_SHIFT</a>(nsections, section)
<a name="l09500"></a>09500         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(node_label,<span class="stringliteral">"FlowSolution_t"</span>)==0) <a class="code" href="cgns__header_8h.html#2309708834802b571e31310885d0fb1c">CGNS_DELETE_SHIFT</a>(nsols, sol)
<a name="l09501"></a>09501         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(node_label,<span class="stringliteral">"RigidGridMotion_t"</span>)==0)<a class="code" href="cgns__header_8h.html#2309708834802b571e31310885d0fb1c">CGNS_DELETE_SHIFT</a>(nrmotions, rmotion)
<a name="l09502"></a>09502         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(node_label,<span class="stringliteral">"ArbitraryGridMotion_t"</span>)==0) <a class="code" href="cgns__header_8h.html#2309708834802b571e31310885d0fb1c">CGNS_DELETE_SHIFT</a>(namotions, amotion)
<a name="l09503"></a>09503         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(node_label,<span class="stringliteral">"IntegralData_t"</span>)==0) <a class="code" href="cgns__header_8h.html#2309708834802b571e31310885d0fb1c">CGNS_DELETE_SHIFT</a>(nintegrals, integral)
<a name="l09504"></a>09504         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(node_label,<span class="stringliteral">"UserDefinedData_t"</span>)==0) <a class="code" href="cgns__header_8h.html#2309708834802b571e31310885d0fb1c">CGNS_DELETE_SHIFT</a>(nuser_data, user_data)
<a name="l09505"></a>09505         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(node_label,<span class="stringliteral">"Descriptor_t"</span>)==0) <a class="code" href="cgns__header_8h.html#2309708834802b571e31310885d0fb1c">CGNS_DELETE_SHIFT</a>(ndescr, descr)
<a name="l09506"></a>09506         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(node_name,<span class="stringliteral">"ZoneBC"</span>)==0) parent-&gt;<a class="code" href="structcgns__zone.html#62ddad6dbb0ac4c3ccb1757ba06ff602">zboco</a>=0;
<a name="l09507"></a>09507         <span class="keywordflow">else</span> if (strcmp(node_name,<span class="stringliteral">"Ordinal"</span>)==0) parent-&gt;<a class="code" href="structcgns__zone.html#6906d66a97c04f02a830a98f4ee90872">ordinal</a>=0;
<a name="l09508"></a>09508         <span class="keywordflow">else</span> if (strcmp(node_name,<span class="stringliteral">"ZoneGridConnectivity"</span>)==0) parent-&gt;<a class="code" href="structcgns__zone.html#fdd87cca91a43359ebe1709c59d073ad">zconn</a>=0;
<a name="l09509"></a>09509         <span class="keywordflow">else</span> if (strcmp(node_label,<span class="stringliteral">"ZoneIterativeData_t"</span>)==0) parent-&gt;<a class="code" href="structcgns__zone.html#2acf48f1297eeab90d6b9c7d76c14a25">ziter</a>=0;
<a name="l09510"></a>09510         <span class="keywordflow">else</span> if (strcmp(node_name,<span class="stringliteral">"ReferenceState"</span>)==0) parent-&gt;<a class="code" href="structcgns__zone.html#15c8ead849bcf27b5e35f578c29e6aff">state</a>=0;
<a name="l09511"></a>09511         <span class="keywordflow">else</span> if (strcmp(node_name,<span class="stringliteral">"DataClass"</span>)==0) parent-&gt;<a class="code" href="structcgns__zone.html#6aa9eb3c5ad6bdecf6cd8c2b3d97839c">data_class</a> = <a class="code" href="cgns_keywords_8h.html#6e3a45166e6780b756fef5c427279ca079d3001e5ba3290ed80f0762d51bb379">DataClassNull</a>;
<a name="l09512"></a>09512         <span class="keywordflow">else</span> if (strcmp(node_name,<span class="stringliteral">"FamilyName"</span>)==0) parent-&gt;<a class="code" href="structcgns__zone.html#e87a193017e6c339aa4108f69caadbb1">family_name</a>[0]=<span class="charliteral">'\0'</span>;
<a name="l09513"></a>09513         <span class="keywordflow">else</span> if (strcmp(node_name,<span class="stringliteral">"DimensionalUnits"</span>)==0) parent-&gt;<a class="code" href="structcgns__zone.html#9b4c6b823f0741729aa08b21a4120308">units</a>=0;
<a name="l09514"></a>09514         <span class="keywordflow">else</span> if (strcmp(node_name,<span class="stringliteral">"FlowEquationSet"</span>)==0) parent-&gt;<a class="code" href="structcgns__zone.html#78f18d3602ebdbbb09f57520adf4e93d">equations</a>=0;
<a name="l09515"></a>09515         <span class="keywordflow">else</span> if (strcmp(node_name,<span class="stringliteral">"ZoneConvergenceHistory"</span>)==0) parent-&gt;<a class="code" href="structcgns__zone.html#50e909b889f18d0bdefa3bace81b97fc">converg</a>=0;
<a name="l09516"></a>09516         <span class="keywordflow">else</span> if (strcmp(node_name,<span class="stringliteral">"RotatingCoordinates"</span>)==0) parent-&gt;<a class="code" href="structcgns__zone.html#099f512c1cddfafbbec61c0ccf30923a">rotating</a>=0;
<a name="l09517"></a>09517      <span class="comment">/* ZoneType can not be deleted */</span>
<a name="l09518"></a>09518 
<a name="l09519"></a>09519 <span class="comment">/* Children of GridCoordinates_t */</span>
<a name="l09520"></a>09520     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"GridCoordinates_t"</span>)==0) {
<a name="l09521"></a>09521         <a class="code" href="structcgns__zcoor.html">cgns_zcoor</a> *<a class="code" href="test__partial_8c.html#8e99857563320b5d943128e5816b1d70">parent</a> = (<a class="code" href="structcgns__zcoor.html">cgns_zcoor</a> *)posit-&gt;<a class="code" href="structcgns__posit.html#3378c1daf2fcc2b6ce28d61681bbe575">posit</a>;
<a name="l09522"></a>09522         if (strcmp(node_label,<span class="stringliteral">"DataArray_t"</span>)==0) <a class="code" href="cgns__header_8h.html#2309708834802b571e31310885d0fb1c">CGNS_DELETE_SHIFT</a>(ncoords, <a class="code" href="test__exts_8c.html#b746fd2146196cc6771f0a754171181e">coord</a>)
<a name="l09523"></a>09523         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(node_label,<span class="stringliteral">"Descriptor_t"</span>)==0) <a class="code" href="cgns__header_8h.html#2309708834802b571e31310885d0fb1c">CGNS_DELETE_SHIFT</a>(ndescr, descr)
<a name="l09524"></a>09524         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(node_label,<span class="stringliteral">"UserDefinedData_t"</span>)==0) <a class="code" href="cgns__header_8h.html#2309708834802b571e31310885d0fb1c">CGNS_DELETE_SHIFT</a>(nuser_data, user_data)
<a name="l09525"></a>09525         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(node_name,<span class="stringliteral">"Rind"</span>)==0) {
<a name="l09526"></a>09526             <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#9aefb3fb2179957b84774f80fc7ca76a">posit_base</a> &amp;&amp; <a class="code" href="cgns__header_8h.html#ebd0971a3f05d514c15194a9a9d08617">posit_zone</a>) {
<a name="l09527"></a>09527                 index_dim = cg-&gt;<a class="code" href="structcgns__file.html#0429392e9c26dac2f0b97ae2d2127117">base</a>[<a class="code" href="cgns__header_8h.html#9aefb3fb2179957b84774f80fc7ca76a">posit_base</a>-1].<a class="code" href="structcgns__base.html#abbb754f366f926198416ad91b8155ef">zone</a>[<a class="code" href="cgns__header_8h.html#ebd0971a3f05d514c15194a9a9d08617">posit_zone</a>-1].<a class="code" href="structcgns__zone.html#5ea7c3da009c9add916c0eeca1973c05">index_dim</a>;
<a name="l09528"></a>09528             } <span class="keywordflow">else</span> {
<a name="l09529"></a>09529                 <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Can't find IndexDimension in cg_delete"</span>);
<a name="l09530"></a>09530                 <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#e5e87a97d0361ef2982e0424d2abeb48">CG_NO_INDEX_DIM</a>;
<a name="l09531"></a>09531             }
<a name="l09532"></a>09532             <span class="keywordflow">for</span> (n=0; n&lt;2*index_dim; n++) parent-&gt;<a class="code" href="structcgns__zcoor.html#e095e97c5a8c7758b4c9d0e463093b57">rind_planes</a>[n] = 0;
<a name="l09533"></a>09533         }
<a name="l09534"></a>09534         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(node_name,<span class="stringliteral">"DataClass"</span>)==0) parent-&gt;<a class="code" href="structcgns__zcoor.html#6aa9eb3c5ad6bdecf6cd8c2b3d97839c">data_class</a> = <a class="code" href="cgns_keywords_8h.html#6e3a45166e6780b756fef5c427279ca079d3001e5ba3290ed80f0762d51bb379">DataClassNull</a>;
<a name="l09535"></a>09535         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(node_name,<span class="stringliteral">"DimensionalUnits"</span>)==0) parent-&gt;<a class="code" href="structcgns__zcoor.html#9b4c6b823f0741729aa08b21a4120308">units</a>=0;
<a name="l09536"></a>09536 
<a name="l09537"></a>09537 <span class="comment">/* Children of DataArray_t */</span>
<a name="l09538"></a>09538     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"DataArray_t"</span>)==0) {
<a name="l09539"></a>09539         <a class="code" href="structcgns__array.html">cgns_array</a> *<a class="code" href="test__partial_8c.html#8e99857563320b5d943128e5816b1d70">parent</a> = (<a class="code" href="structcgns__array.html">cgns_array</a> *)posit-&gt;<a class="code" href="structcgns__posit.html#3378c1daf2fcc2b6ce28d61681bbe575">posit</a>;
<a name="l09540"></a>09540         if (strcmp(node_label,<span class="stringliteral">"Descriptor_t"</span>)==0) <a class="code" href="cgns__header_8h.html#2309708834802b571e31310885d0fb1c">CGNS_DELETE_SHIFT</a>(ndescr, descr)
<a name="l09541"></a>09541         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(node_name,<span class="stringliteral">"DataClass"</span>)==0) parent-&gt;<a class="code" href="structcgns__array.html#6aa9eb3c5ad6bdecf6cd8c2b3d97839c">data_class</a> = <a class="code" href="cgns_keywords_8h.html#6e3a45166e6780b756fef5c427279ca079d3001e5ba3290ed80f0762d51bb379">DataClassNull</a>;
<a name="l09542"></a>09542         <span class="keywordflow">else</span> if (strcmp(node_name,<span class="stringliteral">"DimensionalExponents"</span>)==0) parent-&gt;<a class="code" href="structcgns__array.html#87b103c38a459cc8a1c6cf06f01aa12a">exponents</a>=0;
<a name="l09543"></a>09543         <span class="keywordflow">else</span> if (strcmp(node_name,<span class="stringliteral">"DataConversion"</span>)==0) parent-&gt;<a class="code" href="structcgns__array.html#0724545c909f7773439fee292fe3ef5f">convert</a>=0;
<a name="l09544"></a>09544         <span class="keywordflow">else</span> if (strcmp(node_name,<span class="stringliteral">"DimensionalUnits"</span>)==0) parent-&gt;<a class="code" href="structcgns__array.html#9b4c6b823f0741729aa08b21a4120308">units</a>=0;
<a name="l09545"></a>09545 
<a name="l09546"></a>09546 <span class="comment">/* Children of FlowSolution_t */</span>
<a name="l09547"></a>09547     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"FlowSolution_t"</span>)==0) {
<a name="l09548"></a>09548         <a class="code" href="structcgns__sol.html">cgns_sol</a> *<a class="code" href="test__partial_8c.html#8e99857563320b5d943128e5816b1d70">parent</a> = (<a class="code" href="structcgns__sol.html">cgns_sol</a> *)posit-&gt;<a class="code" href="structcgns__posit.html#3378c1daf2fcc2b6ce28d61681bbe575">posit</a>;
<a name="l09549"></a>09549         if (strcmp(node_label,<span class="stringliteral">"Descriptor_t"</span>)==0) <a class="code" href="cgns__header_8h.html#2309708834802b571e31310885d0fb1c">CGNS_DELETE_SHIFT</a>(ndescr, descr)
<a name="l09550"></a>09550         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(node_label,<span class="stringliteral">"UserDefinedData_t"</span>)==0) <a class="code" href="cgns__header_8h.html#2309708834802b571e31310885d0fb1c">CGNS_DELETE_SHIFT</a>(nuser_data, user_data)
<a name="l09551"></a>09551         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(node_label,<span class="stringliteral">"DataArray_t"</span>)==0) <a class="code" href="cgns__header_8h.html#2309708834802b571e31310885d0fb1c">CGNS_DELETE_SHIFT</a>(nfields, field)
<a name="l09552"></a>09552         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(node_name,<span class="stringliteral">"DataClass"</span>)==0) parent-&gt;<a class="code" href="structcgns__sol.html#6aa9eb3c5ad6bdecf6cd8c2b3d97839c">data_class</a> = <a class="code" href="cgns_keywords_8h.html#6e3a45166e6780b756fef5c427279ca079d3001e5ba3290ed80f0762d51bb379">DataClassNull</a>;
<a name="l09553"></a>09553         <span class="keywordflow">else</span> if (strcmp(node_name,<span class="stringliteral">"DimensionalUnits"</span>)==0) parent-&gt;<a class="code" href="structcgns__sol.html#9b4c6b823f0741729aa08b21a4120308">units</a>=0;
<a name="l09554"></a>09554         <span class="keywordflow">else</span> if (strcmp(node_name,<span class="stringliteral">"GridLocation"</span>)==0) parent-&gt;<a class="code" href="structcgns__sol.html#0e4921cde80f9718431923eedef14779">location</a>=<a class="code" href="cgns_keywords_8h.html#5a0e596ed46b12f73c2ed1b8b0176e13c9c232ebd47fa5fdd990defd6f18cabe">GridLocationNull</a>;
<a name="l09555"></a>09555         <span class="keywordflow">else</span> if (strcmp(node_name,<span class="stringliteral">"Rind"</span>)==0) {
<a name="l09556"></a>09556             <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#9aefb3fb2179957b84774f80fc7ca76a">posit_base</a> &amp;&amp; <a class="code" href="cgns__header_8h.html#ebd0971a3f05d514c15194a9a9d08617">posit_zone</a>) {
<a name="l09557"></a>09557                 index_dim = cg-&gt;<a class="code" href="structcgns__file.html#0429392e9c26dac2f0b97ae2d2127117">base</a>[<a class="code" href="cgns__header_8h.html#9aefb3fb2179957b84774f80fc7ca76a">posit_base</a>-1].<a class="code" href="structcgns__base.html#abbb754f366f926198416ad91b8155ef">zone</a>[<a class="code" href="cgns__header_8h.html#ebd0971a3f05d514c15194a9a9d08617">posit_zone</a>-1].<a class="code" href="structcgns__zone.html#5ea7c3da009c9add916c0eeca1973c05">index_dim</a>;
<a name="l09558"></a>09558             } <span class="keywordflow">else</span> {
<a name="l09559"></a>09559                 <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Can't find IndexDimension in cg_delete"</span>);
<a name="l09560"></a>09560                 <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#e5e87a97d0361ef2982e0424d2abeb48">CG_NO_INDEX_DIM</a>;
<a name="l09561"></a>09561             }
<a name="l09562"></a>09562             <span class="keywordflow">for</span> (n=0; n&lt;2*index_dim; n++) parent-&gt;<a class="code" href="structcgns__sol.html#e095e97c5a8c7758b4c9d0e463093b57">rind_planes</a>[n] = 0;
<a name="l09563"></a>09563         }
<a name="l09564"></a>09564 
<a name="l09565"></a>09565 <span class="comment">/* Children of ZoneGridConnectivity_t */</span>
<a name="l09566"></a>09566     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"ZoneGridConnectivity_t"</span>)==0) {
<a name="l09567"></a>09567         <a class="code" href="structcgns__zconn.html">cgns_zconn</a> *<a class="code" href="test__partial_8c.html#8e99857563320b5d943128e5816b1d70">parent</a> = (<a class="code" href="structcgns__zconn.html">cgns_zconn</a> *)posit-&gt;<a class="code" href="structcgns__posit.html#3378c1daf2fcc2b6ce28d61681bbe575">posit</a>;
<a name="l09568"></a>09568         if (strcmp(node_label,<span class="stringliteral">"Descriptor_t"</span>)==0) <a class="code" href="cgns__header_8h.html#2309708834802b571e31310885d0fb1c">CGNS_DELETE_SHIFT</a>(ndescr, descr)
<a name="l09569"></a>09569         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(node_label,<span class="stringliteral">"UserDefinedData_t"</span>)==0) <a class="code" href="cgns__header_8h.html#2309708834802b571e31310885d0fb1c">CGNS_DELETE_SHIFT</a>(nuser_data, user_data)
<a name="l09570"></a>09570         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(node_label,<span class="stringliteral">"GridConnectivity1to1_t"</span>)==0) <a class="code" href="cgns__header_8h.html#2309708834802b571e31310885d0fb1c">CGNS_DELETE_SHIFT</a>(n1to1, one21)
<a name="l09571"></a>09571         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(node_label,<span class="stringliteral">"GridConnectivity_t"</span>)==0) <a class="code" href="cgns__header_8h.html#2309708834802b571e31310885d0fb1c">CGNS_DELETE_SHIFT</a>(nconns, conn)
<a name="l09572"></a>09572         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(node_label,<span class="stringliteral">"OversetHoles_t"</span>)==0) <a class="code" href="cgns__header_8h.html#2309708834802b571e31310885d0fb1c">CGNS_DELETE_SHIFT</a>(nholes, hole)
<a name="l09573"></a>09573 
<a name="l09574"></a>09574 <span class="comment">/* Children of OversetHoles_t */</span>
<a name="l09575"></a>09575     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"OversetHoles_t"</span>)==0) {
<a name="l09576"></a>09576         <a class="code" href="structcgns__hole.html">cgns_hole</a> *<a class="code" href="test__partial_8c.html#8e99857563320b5d943128e5816b1d70">parent</a> = (<a class="code" href="structcgns__hole.html">cgns_hole</a> *)posit-&gt;<a class="code" href="structcgns__posit.html#3378c1daf2fcc2b6ce28d61681bbe575">posit</a>;
<a name="l09577"></a>09577         if (strcmp(node_label,<span class="stringliteral">"Descriptor_t"</span>)==0) <a class="code" href="cgns__header_8h.html#2309708834802b571e31310885d0fb1c">CGNS_DELETE_SHIFT</a>(ndescr, descr)
<a name="l09578"></a>09578         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(node_label,<span class="stringliteral">"UserDefinedData_t"</span>)==0) <a class="code" href="cgns__header_8h.html#2309708834802b571e31310885d0fb1c">CGNS_DELETE_SHIFT</a>(nuser_data, user_data)
<a name="l09579"></a>09579         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(node_name,<span class="stringliteral">"GridLocation"</span>)==0) parent-&gt;<a class="code" href="structcgns__hole.html#0e4921cde80f9718431923eedef14779">location</a>=<a class="code" href="cgns_keywords_8h.html#5a0e596ed46b12f73c2ed1b8b0176e13c9c232ebd47fa5fdd990defd6f18cabe">GridLocationNull</a>;
<a name="l09580"></a>09580      <span class="comment">/* IndexRange_t &amp; IndexArray_t can't be deleted */</span>
<a name="l09581"></a>09581 
<a name="l09582"></a>09582 <span class="comment">/* Children of GridConnectivity_t */</span>
<a name="l09583"></a>09583     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"GridConnectivity_t"</span>)==0) {
<a name="l09584"></a>09584         <a class="code" href="structcgns__conn.html">cgns_conn</a> *<a class="code" href="test__partial_8c.html#8e99857563320b5d943128e5816b1d70">parent</a> = (<a class="code" href="structcgns__conn.html">cgns_conn</a> *)posit-&gt;<a class="code" href="structcgns__posit.html#3378c1daf2fcc2b6ce28d61681bbe575">posit</a>;
<a name="l09585"></a>09585         if (strcmp(node_label,<span class="stringliteral">"Descriptor_t"</span>)==0) <a class="code" href="cgns__header_8h.html#2309708834802b571e31310885d0fb1c">CGNS_DELETE_SHIFT</a>(ndescr, descr)
<a name="l09586"></a>09586         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(node_label,<span class="stringliteral">"UserDefinedData_t"</span>)==0) <a class="code" href="cgns__header_8h.html#2309708834802b571e31310885d0fb1c">CGNS_DELETE_SHIFT</a>(nuser_data, user_data)
<a name="l09587"></a>09587 <span class="comment">/* test */</span>  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(node_name,<span class="stringliteral">"InterpolantsDonor"</span>)==0) {
<a name="l09588"></a>09588             <span class="keywordflow">if</span> (parent-&gt;<a class="code" href="structcgns__conn.html#44fbe065ea74769988785453c9fbd2c1">dptset</a>.<a class="code" href="structcgns__ptset.html#5aec710ee64d19d29072491968901bb5">type</a>==<a class="code" href="cgns_keywords_8h.html#82fcf406991383f888f145541f6616f5bbbff63b3b10923bda220174f8603760">CellListDonor</a>) {
<a name="l09589"></a>09589                 <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Node '%s' under '%s' can not be deleted"</span>,node_name,posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>);
<a name="l09590"></a>09590                 <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l09591"></a>09591             } <span class="keywordflow">else</span> {
<a name="l09592"></a>09592                 <a class="code" href="cgns__header_8h.html#2309708834802b571e31310885d0fb1c">CGNS_DELETE_SHIFT</a>(narrays, interpolants)
<a name="l09593"></a>09593             }
<a name="l09594"></a>09594         }
<a name="l09595"></a>09595         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(node_name,<span class="stringliteral">"GridLocation"</span>)==0) parent-&gt;<a class="code" href="structcgns__conn.html#0e4921cde80f9718431923eedef14779">location</a>=<a class="code" href="cgns_keywords_8h.html#5a0e596ed46b12f73c2ed1b8b0176e13c9c232ebd47fa5fdd990defd6f18cabe">GridLocationNull</a>;
<a name="l09596"></a>09596         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(node_name,<span class="stringliteral">"Ordinal"</span>)==0) parent-&gt;<a class="code" href="structcgns__conn.html#6906d66a97c04f02a830a98f4ee90872">ordinal</a>=0;
<a name="l09597"></a>09597 <span class="comment">/* test */</span>  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(node_name,<span class="stringliteral">"GridConnectivityType"</span>)==0) parent-&gt;<a class="code" href="structcgns__conn.html#02645da6b20f22c6f0bd10e2f44a881c">type</a>=<a class="code" href="cgns_keywords_8h.html#63b65ef61e306a412f1fabc9be3cc6d0dc1da9126a5237afd491eb50df6d3a10">GridConnectivityTypeNull</a>;
<a name="l09598"></a>09598         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(node_name,<span class="stringliteral">"GridConnectivityProperty"</span>)==0) parent-&gt;<a class="code" href="structcgns__conn.html#40c7a3c103adb7e58c56b24ce67bde0f">cprop</a>=0;
<a name="l09599"></a>09599      <span class="comment">/* IndexArray_t &amp; IndexRange_t can't be deleted */</span>
<a name="l09600"></a>09600 
<a name="l09601"></a>09601 <span class="comment">/* Children of GridConnectivity1to1_t */</span>
<a name="l09602"></a>09602     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"GridConnectivity1to1_t"</span>)==0) {
<a name="l09603"></a>09603         <a class="code" href="structcgns__1to1.html">cgns_1to1</a> *<a class="code" href="test__partial_8c.html#8e99857563320b5d943128e5816b1d70">parent</a> = (<a class="code" href="structcgns__1to1.html">cgns_1to1</a> *)posit-&gt;<a class="code" href="structcgns__posit.html#3378c1daf2fcc2b6ce28d61681bbe575">posit</a>;
<a name="l09604"></a>09604         if (strcmp(node_label,<span class="stringliteral">"Descriptor_t"</span>)==0) <a class="code" href="cgns__header_8h.html#2309708834802b571e31310885d0fb1c">CGNS_DELETE_SHIFT</a>(ndescr, descr)
<a name="l09605"></a>09605         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(node_label,<span class="stringliteral">"UserDefinedData_t"</span>)==0) <a class="code" href="cgns__header_8h.html#2309708834802b571e31310885d0fb1c">CGNS_DELETE_SHIFT</a>(nuser_data, user_data)
<a name="l09606"></a>09606         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(node_name,<span class="stringliteral">"Ordinal"</span>)==0) parent-&gt;<a class="code" href="structcgns__1to1.html#6906d66a97c04f02a830a98f4ee90872">ordinal</a>=0;
<a name="l09607"></a>09607      <span class="comment">/* PointRange, PointRangeDonor, Transform can't be deleted */</span>
<a name="l09608"></a>09608 
<a name="l09609"></a>09609 <span class="comment">/* Children of ZoneBC_t */</span>
<a name="l09610"></a>09610     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"ZoneBC_t"</span>)==0) {
<a name="l09611"></a>09611         <a class="code" href="structcgns__zboco.html">cgns_zboco</a> *<a class="code" href="test__partial_8c.html#8e99857563320b5d943128e5816b1d70">parent</a> = (<a class="code" href="structcgns__zboco.html">cgns_zboco</a> *)posit-&gt;<a class="code" href="structcgns__posit.html#3378c1daf2fcc2b6ce28d61681bbe575">posit</a>;
<a name="l09612"></a>09612         if (strcmp(node_label,<span class="stringliteral">"Descriptor_t"</span>)==0) <a class="code" href="cgns__header_8h.html#2309708834802b571e31310885d0fb1c">CGNS_DELETE_SHIFT</a>(ndescr, descr)
<a name="l09613"></a>09613         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(node_label,<span class="stringliteral">"UserDefinedData_t"</span>)==0) <a class="code" href="cgns__header_8h.html#2309708834802b571e31310885d0fb1c">CGNS_DELETE_SHIFT</a>(nuser_data, user_data)
<a name="l09614"></a>09614         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(node_label,<span class="stringliteral">"BC_t"</span>)==0) <a class="code" href="cgns__header_8h.html#2309708834802b571e31310885d0fb1c">CGNS_DELETE_SHIFT</a>(nbocos, boco)
<a name="l09615"></a>09615         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(node_name,<span class="stringliteral">"DataClass"</span>)==0) parent-&gt;<a class="code" href="structcgns__zboco.html#6aa9eb3c5ad6bdecf6cd8c2b3d97839c">data_class</a> = <a class="code" href="cgns_keywords_8h.html#6e3a45166e6780b756fef5c427279ca079d3001e5ba3290ed80f0762d51bb379">DataClassNull</a>;
<a name="l09616"></a>09616         <span class="keywordflow">else</span> if (strcmp(node_name,<span class="stringliteral">"DimensionalUnits"</span>)==0) parent-&gt;<a class="code" href="structcgns__zboco.html#9b4c6b823f0741729aa08b21a4120308">units</a>=0;
<a name="l09617"></a>09617         <span class="keywordflow">else</span> if (strcmp(node_name,<span class="stringliteral">"ReferenceState"</span>)==0) parent-&gt;<a class="code" href="structcgns__zboco.html#15c8ead849bcf27b5e35f578c29e6aff">state</a>=0;
<a name="l09618"></a>09618 
<a name="l09619"></a>09619 <span class="comment">/* Children of BC_t */</span>
<a name="l09620"></a>09620     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"BC_t"</span>)==0) {
<a name="l09621"></a>09621         <a class="code" href="structcgns__boco.html">cgns_boco</a> *<a class="code" href="test__partial_8c.html#8e99857563320b5d943128e5816b1d70">parent</a> = (<a class="code" href="structcgns__boco.html">cgns_boco</a> *)posit-&gt;<a class="code" href="structcgns__posit.html#3378c1daf2fcc2b6ce28d61681bbe575">posit</a>;
<a name="l09622"></a>09622         if (strcmp(node_label,<span class="stringliteral">"Descriptor_t"</span>)==0) <a class="code" href="cgns__header_8h.html#2309708834802b571e31310885d0fb1c">CGNS_DELETE_SHIFT</a>(ndescr, descr)
<a name="l09623"></a>09623         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(node_label,<span class="stringliteral">"UserDefinedData_t"</span>)==0) <a class="code" href="cgns__header_8h.html#2309708834802b571e31310885d0fb1c">CGNS_DELETE_SHIFT</a>(nuser_data, user_data)
<a name="l09624"></a>09624         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(node_label,<span class="stringliteral">"BCDataSet_t"</span>)==0) <a class="code" href="cgns__header_8h.html#2309708834802b571e31310885d0fb1c">CGNS_DELETE_SHIFT</a>(ndataset, dataset)
<a name="l09625"></a>09625         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(node_name,<span class="stringliteral">"DataClass"</span>)==0) parent-&gt;<a class="code" href="structcgns__boco.html#6aa9eb3c5ad6bdecf6cd8c2b3d97839c">data_class</a> = <a class="code" href="cgns_keywords_8h.html#6e3a45166e6780b756fef5c427279ca079d3001e5ba3290ed80f0762d51bb379">DataClassNull</a>;
<a name="l09626"></a>09626         <span class="keywordflow">else</span> if (strcmp(node_name,<span class="stringliteral">"DimensionalUnits"</span>)==0) parent-&gt;<a class="code" href="structcgns__boco.html#9b4c6b823f0741729aa08b21a4120308">units</a>=0;
<a name="l09627"></a>09627         <span class="keywordflow">else</span> if (strcmp(node_name,<span class="stringliteral">"GridLocation"</span>)==0) parent-&gt;<a class="code" href="structcgns__boco.html#0e4921cde80f9718431923eedef14779">location</a>=<a class="code" href="cgns_keywords_8h.html#5a0e596ed46b12f73c2ed1b8b0176e13c9c232ebd47fa5fdd990defd6f18cabe">GridLocationNull</a>;
<a name="l09628"></a>09628         <span class="keywordflow">else</span> if (strcmp(node_name,<span class="stringliteral">"InwardNormalIndex"</span>)==0) parent-&gt;<a class="code" href="structcgns__boco.html#c82853e05a91f5be1f4d8cd1176df05b">Nindex</a>=0;
<a name="l09629"></a>09629         <span class="keywordflow">else</span> if (strcmp(node_name,<span class="stringliteral">"InwardNormalList"</span>)==0) parent-&gt;<a class="code" href="structcgns__boco.html#768ab32276e8694960d095f945951a26">normal</a>=0;
<a name="l09630"></a>09630         <span class="keywordflow">else</span> if (strcmp(node_name,<span class="stringliteral">"ReferenceState"</span>)==0) parent-&gt;<a class="code" href="structcgns__boco.html#15c8ead849bcf27b5e35f578c29e6aff">state</a>=0;
<a name="l09631"></a>09631         <span class="keywordflow">else</span> if (strcmp(node_name,<span class="stringliteral">"FamilyName"</span>)==0) parent-&gt;<a class="code" href="structcgns__boco.html#e87a193017e6c339aa4108f69caadbb1">family_name</a>[0]=<span class="charliteral">'\0'</span>;
<a name="l09632"></a>09632         <span class="keywordflow">else</span> if (strcmp(node_name,<span class="stringliteral">"Ordinal"</span>)==0) parent-&gt;<a class="code" href="structcgns__boco.html#6906d66a97c04f02a830a98f4ee90872">ordinal</a>=0;
<a name="l09633"></a>09633         <span class="keywordflow">else</span> if (strcmp(node_name,<span class="stringliteral">"BCProperty"</span>)==0) parent-&gt;<a class="code" href="structcgns__boco.html#2caa25832810f091f3a8e999e9f3d54c">bprop</a>=0;
<a name="l09634"></a>09634      <span class="comment">/* IndexRange_t PointRange &amp; IndexArray_t PointList can't be deleted */</span>
<a name="l09635"></a>09635 
<a name="l09636"></a>09636 <span class="comment">/* Children of BCDataSet_t */</span>
<a name="l09637"></a>09637     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"BCDataSet_t"</span>)==0) {
<a name="l09638"></a>09638         <a class="code" href="structcgns__dataset.html">cgns_dataset</a> *<a class="code" href="test__partial_8c.html#8e99857563320b5d943128e5816b1d70">parent</a> = (<a class="code" href="structcgns__dataset.html">cgns_dataset</a> *)posit-&gt;<a class="code" href="structcgns__posit.html#3378c1daf2fcc2b6ce28d61681bbe575">posit</a>;
<a name="l09639"></a>09639         if (strcmp(node_label,<span class="stringliteral">"Descriptor_t"</span>)==0) <a class="code" href="cgns__header_8h.html#2309708834802b571e31310885d0fb1c">CGNS_DELETE_SHIFT</a>(ndescr, descr)
<a name="l09640"></a>09640         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(node_label,<span class="stringliteral">"UserDefinedData_t"</span>)==0) <a class="code" href="cgns__header_8h.html#2309708834802b571e31310885d0fb1c">CGNS_DELETE_SHIFT</a>(nuser_data, user_data)
<a name="l09641"></a>09641         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(node_name,<span class="stringliteral">"DataClass"</span>)==0) parent-&gt;<a class="code" href="structcgns__dataset.html#6aa9eb3c5ad6bdecf6cd8c2b3d97839c">data_class</a> = <a class="code" href="cgns_keywords_8h.html#6e3a45166e6780b756fef5c427279ca079d3001e5ba3290ed80f0762d51bb379">DataClassNull</a>;
<a name="l09642"></a>09642         <span class="keywordflow">else</span> if (strcmp(node_name,<span class="stringliteral">"DimensionalUnits"</span>)==0) parent-&gt;<a class="code" href="structcgns__dataset.html#9b4c6b823f0741729aa08b21a4120308">units</a>=0;
<a name="l09643"></a>09643         <span class="keywordflow">else</span> if (strcmp(node_name,<span class="stringliteral">"DirichletData"</span>)==0) parent-&gt;<a class="code" href="structcgns__dataset.html#48997bc56a21c2c5ea2b12a397067609">dirichlet</a>=0;
<a name="l09644"></a>09644         <span class="keywordflow">else</span> if (strcmp(node_name,<span class="stringliteral">"NeumannData"</span>)==0) parent-&gt;<a class="code" href="structcgns__dataset.html#9e5bbe656ff3e9bd4e5c6d0c29ade2a9">neumann</a>=0;
<a name="l09645"></a>09645         <span class="keywordflow">else</span> if (strcmp(node_name,<span class="stringliteral">"ReferenceState"</span>)==0) parent-&gt;<a class="code" href="structcgns__dataset.html#15c8ead849bcf27b5e35f578c29e6aff">state</a>=0;
<a name="l09646"></a>09646         <span class="keywordflow">else</span> if (strcmp(node_name,<span class="stringliteral">"GridLocation"</span>)==0) parent-&gt;<a class="code" href="structcgns__dataset.html#0e4921cde80f9718431923eedef14779">location</a>=<a class="code" href="cgns_keywords_8h.html#5a0e596ed46b12f73c2ed1b8b0176e13c9c232ebd47fa5fdd990defd6f18cabe">GridLocationNull</a>;
<a name="l09647"></a>09647         <span class="comment">/* IndexRange_t PointRange &amp; IndexArray_t PointList can't be deleted */</span>
<a name="l09648"></a>09648 
<a name="l09649"></a>09649 <span class="comment">/* Children of BCData_t */</span>
<a name="l09650"></a>09650     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"BCData_t"</span>)==0) {
<a name="l09651"></a>09651         <a class="code" href="structcgns__bcdata.html">cgns_bcdata</a> *<a class="code" href="test__partial_8c.html#8e99857563320b5d943128e5816b1d70">parent</a> = (<a class="code" href="structcgns__bcdata.html">cgns_bcdata</a> *)posit-&gt;<a class="code" href="structcgns__posit.html#3378c1daf2fcc2b6ce28d61681bbe575">posit</a>;
<a name="l09652"></a>09652         if (strcmp(node_label,<span class="stringliteral">"Descriptor_t"</span>)==0) <a class="code" href="cgns__header_8h.html#2309708834802b571e31310885d0fb1c">CGNS_DELETE_SHIFT</a>(ndescr, descr)
<a name="l09653"></a>09653         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(node_label,<span class="stringliteral">"UserDefinedData_t"</span>)==0) <a class="code" href="cgns__header_8h.html#2309708834802b571e31310885d0fb1c">CGNS_DELETE_SHIFT</a>(nuser_data, user_data)
<a name="l09654"></a>09654         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(node_label,<span class="stringliteral">"DataArray_t"</span>)==0) <a class="code" href="cgns__header_8h.html#2309708834802b571e31310885d0fb1c">CGNS_DELETE_SHIFT</a>(narrays, array)
<a name="l09655"></a>09655         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(node_name,<span class="stringliteral">"DataClass"</span>)==0) parent-&gt;<a class="code" href="structcgns__bcdata.html#6aa9eb3c5ad6bdecf6cd8c2b3d97839c">data_class</a> = <a class="code" href="cgns_keywords_8h.html#6e3a45166e6780b756fef5c427279ca079d3001e5ba3290ed80f0762d51bb379">DataClassNull</a>;
<a name="l09656"></a>09656         <span class="keywordflow">else</span> if (strcmp(node_name,<span class="stringliteral">"DimensionalUnits"</span>)==0) parent-&gt;<a class="code" href="structcgns__bcdata.html#9b4c6b823f0741729aa08b21a4120308">units</a>=0;
<a name="l09657"></a>09657 
<a name="l09658"></a>09658 <span class="comment">/* Children of DiscreteData_t */</span>
<a name="l09659"></a>09659     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"DiscreteData_t"</span>)==0) {
<a name="l09660"></a>09660         <a class="code" href="structcgns__discrete.html">cgns_discrete</a> *<a class="code" href="test__partial_8c.html#8e99857563320b5d943128e5816b1d70">parent</a> = (<a class="code" href="structcgns__discrete.html">cgns_discrete</a> *)posit-&gt;<a class="code" href="structcgns__posit.html#3378c1daf2fcc2b6ce28d61681bbe575">posit</a>;
<a name="l09661"></a>09661         if (strcmp(node_label,<span class="stringliteral">"Descriptor_t"</span>)==0) <a class="code" href="cgns__header_8h.html#2309708834802b571e31310885d0fb1c">CGNS_DELETE_SHIFT</a>(ndescr, descr)
<a name="l09662"></a>09662         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(node_label,<span class="stringliteral">"UserDefinedData_t"</span>)==0) <a class="code" href="cgns__header_8h.html#2309708834802b571e31310885d0fb1c">CGNS_DELETE_SHIFT</a>(nuser_data, user_data)
<a name="l09663"></a>09663         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(node_label,<span class="stringliteral">"DataArray_t"</span>)==0) <a class="code" href="cgns__header_8h.html#2309708834802b571e31310885d0fb1c">CGNS_DELETE_SHIFT</a>(narrays, array)
<a name="l09664"></a>09664         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(node_name,<span class="stringliteral">"DataClass"</span>)==0) parent-&gt;<a class="code" href="structcgns__discrete.html#6aa9eb3c5ad6bdecf6cd8c2b3d97839c">data_class</a> = <a class="code" href="cgns_keywords_8h.html#6e3a45166e6780b756fef5c427279ca079d3001e5ba3290ed80f0762d51bb379">DataClassNull</a>;
<a name="l09665"></a>09665         <span class="keywordflow">else</span> if (strcmp(node_name,<span class="stringliteral">"DimensionalUnits"</span>)==0) parent-&gt;<a class="code" href="structcgns__discrete.html#9b4c6b823f0741729aa08b21a4120308">units</a>=0;
<a name="l09666"></a>09666         <span class="keywordflow">else</span> if (strcmp(node_name,<span class="stringliteral">"GridLocation"</span>)==0) parent-&gt;<a class="code" href="structcgns__discrete.html#0e4921cde80f9718431923eedef14779">location</a>=<a class="code" href="cgns_keywords_8h.html#5a0e596ed46b12f73c2ed1b8b0176e13c9c232ebd47fa5fdd990defd6f18cabe">GridLocationNull</a>;
<a name="l09667"></a>09667         <span class="keywordflow">else</span> if (strcmp(node_name,<span class="stringliteral">"Rind"</span>)==0) {
<a name="l09668"></a>09668             <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#9aefb3fb2179957b84774f80fc7ca76a">posit_base</a> &amp;&amp; <a class="code" href="cgns__header_8h.html#ebd0971a3f05d514c15194a9a9d08617">posit_zone</a>) {
<a name="l09669"></a>09669                 index_dim = cg-&gt;<a class="code" href="structcgns__file.html#0429392e9c26dac2f0b97ae2d2127117">base</a>[<a class="code" href="cgns__header_8h.html#9aefb3fb2179957b84774f80fc7ca76a">posit_base</a>-1].<a class="code" href="structcgns__base.html#abbb754f366f926198416ad91b8155ef">zone</a>[<a class="code" href="cgns__header_8h.html#ebd0971a3f05d514c15194a9a9d08617">posit_zone</a>-1].<a class="code" href="structcgns__zone.html#5ea7c3da009c9add916c0eeca1973c05">index_dim</a>;
<a name="l09670"></a>09670             } <span class="keywordflow">else</span> {
<a name="l09671"></a>09671                 <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Can't find IndexDimension in cg_delete"</span>);
<a name="l09672"></a>09672                 <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#e5e87a97d0361ef2982e0424d2abeb48">CG_NO_INDEX_DIM</a>;
<a name="l09673"></a>09673             }
<a name="l09674"></a>09674             <span class="keywordflow">for</span> (n=0; n&lt;2*index_dim; n++) parent-&gt;<a class="code" href="structcgns__discrete.html#e095e97c5a8c7758b4c9d0e463093b57">rind_planes</a>[n] = 0;
<a name="l09675"></a>09675         }
<a name="l09676"></a>09676 
<a name="l09677"></a>09677 <span class="comment">/* Children of FlowEquationSet_t */</span>
<a name="l09678"></a>09678     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"FlowEquationSet_t"</span>)==0) {
<a name="l09679"></a>09679         <a class="code" href="structcgns__equations.html">cgns_equations</a> *<a class="code" href="test__partial_8c.html#8e99857563320b5d943128e5816b1d70">parent</a> = (<a class="code" href="structcgns__equations.html">cgns_equations</a> *)posit-&gt;<a class="code" href="structcgns__posit.html#3378c1daf2fcc2b6ce28d61681bbe575">posit</a>;
<a name="l09680"></a>09680         if (strcmp(node_label,<span class="stringliteral">"Descriptor_t"</span>)==0) <a class="code" href="cgns__header_8h.html#2309708834802b571e31310885d0fb1c">CGNS_DELETE_SHIFT</a>(ndescr, descr)
<a name="l09681"></a>09681         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(node_label,<span class="stringliteral">"UserDefinedData_t"</span>)==0) <a class="code" href="cgns__header_8h.html#2309708834802b571e31310885d0fb1c">CGNS_DELETE_SHIFT</a>(nuser_data, user_data)
<a name="l09682"></a>09682         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(node_name,<span class="stringliteral">"DataClass"</span>)==0) parent-&gt;<a class="code" href="structcgns__equations.html#6aa9eb3c5ad6bdecf6cd8c2b3d97839c">data_class</a> = <a class="code" href="cgns_keywords_8h.html#6e3a45166e6780b756fef5c427279ca079d3001e5ba3290ed80f0762d51bb379">DataClassNull</a>;
<a name="l09683"></a>09683         <span class="keywordflow">else</span> if (strcmp(node_name,<span class="stringliteral">"DimensionalUnits"</span>)==0) parent-&gt;<a class="code" href="structcgns__equations.html#9b4c6b823f0741729aa08b21a4120308">units</a>=0;
<a name="l09684"></a>09684         <span class="keywordflow">else</span> if (strcmp(node_name,<span class="stringliteral">"GoverningEquations"</span>)==0) parent-&gt;<a class="code" href="structcgns__equations.html#4cedde0decc1ffb50a76ff632660ac26">governing</a>=0;
<a name="l09685"></a>09685         <span class="keywordflow">else</span> if (strcmp(node_name,<span class="stringliteral">"GasModel"</span>)==0) parent-&gt;<a class="code" href="structcgns__equations.html#21034bf378329608d1dbc2a02d4587d3">gas</a>=0;
<a name="l09686"></a>09686         <span class="keywordflow">else</span> if (strcmp(node_name,<span class="stringliteral">"ViscosityModel"</span>)==0) parent-&gt;<a class="code" href="structcgns__equations.html#ec3c2c1a1587557a32fb201b00bd0c35">visc</a>=0;
<a name="l09687"></a>09687         <span class="keywordflow">else</span> if (strcmp(node_name,<span class="stringliteral">"ThermalRelaxationModel"</span>)==0) parent-&gt;<a class="code" href="structcgns__equations.html#b1cb762cc36947e17f3034755d346a39">relaxation</a>=0;
<a name="l09688"></a>09688         <span class="keywordflow">else</span> if (strcmp(node_name,<span class="stringliteral">"ThermalConductivityModel"</span>)==0) parent-&gt;<a class="code" href="structcgns__equations.html#366946fce927d499aae02bac600944bc">conduct</a>=0;
<a name="l09689"></a>09689         <span class="keywordflow">else</span> if (strcmp(node_name,<span class="stringliteral">"ChemicalKineticsModel"</span>)==0) parent-&gt;<a class="code" href="structcgns__equations.html#720db91659fafeaf32aa9be7aad1034e">chemkin</a>=0;
<a name="l09690"></a>09690         <span class="keywordflow">else</span> if (strcmp(node_name,<span class="stringliteral">"EMElectricFieldModel"</span>)==0) parent-&gt;<a class="code" href="structcgns__equations.html#2c39257e6300c6d38b83fe375e6d68c1">elecfield</a>=0;
<a name="l09691"></a>09691         <span class="keywordflow">else</span> if (strcmp(node_name,<span class="stringliteral">"EMMagneticFieldModel"</span>)==0) parent-&gt;<a class="code" href="structcgns__equations.html#ddc478d211550ffbd7fa178b5230497b">magnfield</a>=0;
<a name="l09692"></a>09692         <span class="keywordflow">else</span> if (strcmp(node_name,<span class="stringliteral">"EMConductivityModel"</span>)==0) parent-&gt;<a class="code" href="structcgns__equations.html#3718c1414689ccf8b82af7efdbbd2461">emconduct</a>=0;
<a name="l09693"></a>09693         <span class="keywordflow">else</span> if (strcmp(node_name,<span class="stringliteral">"TurbulenceModel"</span>)==0) parent-&gt;<a class="code" href="structcgns__equations.html#1cbe673027cbfbf45921d374c7ad052a">turbulence</a>=0;
<a name="l09694"></a>09694         <span class="keywordflow">else</span> if (strcmp(node_name,<span class="stringliteral">"TurbulenceClosure"</span>)==0) parent-&gt;<a class="code" href="structcgns__equations.html#954b06228938d2a19e4d35aba8027433">closure</a>=0;
<a name="l09695"></a>09695         <span class="keywordflow">else</span> if (strcmp(node_name,<span class="stringliteral">"EquationDimension"</span>)==0) parent-&gt;<a class="code" href="structcgns__equations.html#698de3d7bf6f9585878ac4cf71013e48">equation_dim</a>=0;
<a name="l09696"></a>09696 
<a name="l09697"></a>09697 <span class="comment">/* Children of GoverningEquations_t */</span>
<a name="l09698"></a>09698     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"GoverningEquations_t"</span>)==0) {
<a name="l09699"></a>09699         <a class="code" href="structcgns__governing.html">cgns_governing</a> *<a class="code" href="test__partial_8c.html#8e99857563320b5d943128e5816b1d70">parent</a> = (<a class="code" href="structcgns__governing.html">cgns_governing</a> *)posit-&gt;<a class="code" href="structcgns__posit.html#3378c1daf2fcc2b6ce28d61681bbe575">posit</a>;
<a name="l09700"></a>09700         if (strcmp(node_label,<span class="stringliteral">"Descriptor_t"</span>)==0) <a class="code" href="cgns__header_8h.html#2309708834802b571e31310885d0fb1c">CGNS_DELETE_SHIFT</a>(ndescr, descr)
<a name="l09701"></a>09701         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(node_label,<span class="stringliteral">"UserDefinedData_t"</span>)==0) <a class="code" href="cgns__header_8h.html#2309708834802b571e31310885d0fb1c">CGNS_DELETE_SHIFT</a>(nuser_data, user_data)
<a name="l09702"></a>09702         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(node_name,<span class="stringliteral">"DiffusionModel"</span>)==0) parent-&gt;<a class="code" href="structcgns__governing.html#d5f42f2af19bc6458308a01dbf0685c8">diffusion_model</a>=0;
<a name="l09703"></a>09703 
<a name="l09704"></a>09704 <span class="comment">/* Children of xxxModel_t */</span>
<a name="l09705"></a>09705     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"GasModel_t"</span>)==0 ||
<a name="l09706"></a>09706            strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"ViscosityModel_t"</span>)==0 ||
<a name="l09707"></a>09707            strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"ThermalConductivityModel_t"</span>)==0 ||
<a name="l09708"></a>09708            strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"TurbulenceModel_t"</span>)==0 ||
<a name="l09709"></a>09709            strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"TurbulenceClosure_t"</span>)==0 ||
<a name="l09710"></a>09710            strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"ThermalRelaxationModel_t"</span>)==0 ||
<a name="l09711"></a>09711            strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"ChemicalKineticsModel_t"</span>)==0 ||
<a name="l09712"></a>09712            strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"EMElectricFieldModel_t"</span>)==0 ||
<a name="l09713"></a>09713            strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"EMMagneticFieldModel_t"</span>)==0 ||
<a name="l09714"></a>09714            strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"EMConductivityModel_t"</span>)==0) {
<a name="l09715"></a>09715         <a class="code" href="structcgns__model.html">cgns_model</a> *<a class="code" href="test__partial_8c.html#8e99857563320b5d943128e5816b1d70">parent</a> = (<a class="code" href="structcgns__model.html">cgns_model</a> *)posit-&gt;<a class="code" href="structcgns__posit.html#3378c1daf2fcc2b6ce28d61681bbe575">posit</a>;
<a name="l09716"></a>09716         if (strcmp(node_label,<span class="stringliteral">"Descriptor_t"</span>)==0) <a class="code" href="cgns__header_8h.html#2309708834802b571e31310885d0fb1c">CGNS_DELETE_SHIFT</a>(ndescr, descr)
<a name="l09717"></a>09717         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(node_label,<span class="stringliteral">"UserDefinedData_t"</span>)==0) <a class="code" href="cgns__header_8h.html#2309708834802b571e31310885d0fb1c">CGNS_DELETE_SHIFT</a>(nuser_data, user_data)
<a name="l09718"></a>09718         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(node_label,<span class="stringliteral">"DataArray_t"</span>)==0) <a class="code" href="cgns__header_8h.html#2309708834802b571e31310885d0fb1c">CGNS_DELETE_SHIFT</a>(narrays, array)
<a name="l09719"></a>09719         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(node_name,<span class="stringliteral">"DataClass"</span>)==0) parent-&gt;<a class="code" href="structcgns__model.html#6aa9eb3c5ad6bdecf6cd8c2b3d97839c">data_class</a> = <a class="code" href="cgns_keywords_8h.html#6e3a45166e6780b756fef5c427279ca079d3001e5ba3290ed80f0762d51bb379">DataClassNull</a>;
<a name="l09720"></a>09720         <span class="keywordflow">else</span> if (strcmp(node_name,<span class="stringliteral">"DimensionalUnits"</span>)==0) parent-&gt;<a class="code" href="structcgns__model.html#9b4c6b823f0741729aa08b21a4120308">units</a>=0;
<a name="l09721"></a>09721         <span class="keywordflow">else</span> if (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"TurbulenceModel_t"</span>)==0 &amp;&amp; strcmp(node_name,<span class="stringliteral">"DiffusionModel"</span>)==0)
<a name="l09722"></a>09722         parent-&gt;<a class="code" href="structcgns__model.html#d5f42f2af19bc6458308a01dbf0685c8">diffusion_model</a>=0;
<a name="l09723"></a>09723 
<a name="l09724"></a>09724 <span class="comment">/* Children of ConvergenceHistory_t */</span>
<a name="l09725"></a>09725     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"ConvergenceHistory_t"</span>)==0) {
<a name="l09726"></a>09726         <a class="code" href="structcgns__converg.html">cgns_converg</a> *<a class="code" href="test__partial_8c.html#8e99857563320b5d943128e5816b1d70">parent</a> = (<a class="code" href="structcgns__converg.html">cgns_converg</a> *)posit-&gt;<a class="code" href="structcgns__posit.html#3378c1daf2fcc2b6ce28d61681bbe575">posit</a>;
<a name="l09727"></a>09727         if (strcmp(node_name,<span class="stringliteral">"NormDefinitions"</span>)==0) parent-&gt;<a class="code" href="structcgns__converg.html#d99d78819e8b715593726a92e6562629">NormDefinitions</a>=0;
<a name="l09728"></a>09728         <span class="keywordflow">else</span> if (strcmp(node_label,<span class="stringliteral">"Descriptor_t"</span>)==0) <a class="code" href="cgns__header_8h.html#2309708834802b571e31310885d0fb1c">CGNS_DELETE_SHIFT</a>(ndescr, descr)
<a name="l09729"></a>09729         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(node_label,<span class="stringliteral">"UserDefinedData_t"</span>)==0) <a class="code" href="cgns__header_8h.html#2309708834802b571e31310885d0fb1c">CGNS_DELETE_SHIFT</a>(nuser_data, user_data)
<a name="l09730"></a>09730         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(node_label,<span class="stringliteral">"DataArray_t"</span>)==0) <a class="code" href="cgns__header_8h.html#2309708834802b571e31310885d0fb1c">CGNS_DELETE_SHIFT</a>(narrays, array)
<a name="l09731"></a>09731         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(node_name,<span class="stringliteral">"DataClass"</span>)==0) parent-&gt;<a class="code" href="structcgns__converg.html#6aa9eb3c5ad6bdecf6cd8c2b3d97839c">data_class</a> = <a class="code" href="cgns_keywords_8h.html#6e3a45166e6780b756fef5c427279ca079d3001e5ba3290ed80f0762d51bb379">DataClassNull</a>;
<a name="l09732"></a>09732         <span class="keywordflow">else</span> if (strcmp(node_name,<span class="stringliteral">"DimensionalUnits"</span>)==0) parent-&gt;<a class="code" href="structcgns__converg.html#9b4c6b823f0741729aa08b21a4120308">units</a>=0;
<a name="l09733"></a>09733 
<a name="l09734"></a>09734 <span class="comment">/* Children of IntegralData_t */</span>
<a name="l09735"></a>09735     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"IntegralData_t"</span>)==0) {
<a name="l09736"></a>09736         <a class="code" href="structcgns__integral.html">cgns_integral</a> *<a class="code" href="test__partial_8c.html#8e99857563320b5d943128e5816b1d70">parent</a> = (<a class="code" href="structcgns__integral.html">cgns_integral</a> *)posit-&gt;<a class="code" href="structcgns__posit.html#3378c1daf2fcc2b6ce28d61681bbe575">posit</a>;
<a name="l09737"></a>09737         if (strcmp(node_label,<span class="stringliteral">"Descriptor_t"</span>)==0) <a class="code" href="cgns__header_8h.html#2309708834802b571e31310885d0fb1c">CGNS_DELETE_SHIFT</a>(ndescr, descr)
<a name="l09738"></a>09738         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(node_label,<span class="stringliteral">"UserDefinedData_t"</span>)==0) <a class="code" href="cgns__header_8h.html#2309708834802b571e31310885d0fb1c">CGNS_DELETE_SHIFT</a>(nuser_data, user_data)
<a name="l09739"></a>09739         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(node_label,<span class="stringliteral">"DataArray_t"</span>)==0) <a class="code" href="cgns__header_8h.html#2309708834802b571e31310885d0fb1c">CGNS_DELETE_SHIFT</a>(narrays, array)
<a name="l09740"></a>09740         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(node_name,<span class="stringliteral">"DataClass"</span>)==0) parent-&gt;<a class="code" href="structcgns__integral.html#6aa9eb3c5ad6bdecf6cd8c2b3d97839c">data_class</a> = <a class="code" href="cgns_keywords_8h.html#6e3a45166e6780b756fef5c427279ca079d3001e5ba3290ed80f0762d51bb379">DataClassNull</a>;
<a name="l09741"></a>09741         <span class="keywordflow">else</span> if (strcmp(node_name,<span class="stringliteral">"DimensionalUnits"</span>)==0) parent-&gt;<a class="code" href="structcgns__integral.html#9b4c6b823f0741729aa08b21a4120308">units</a>=0;
<a name="l09742"></a>09742 
<a name="l09743"></a>09743 <span class="comment">/* Children of ReferenceState_t */</span>
<a name="l09744"></a>09744     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"ReferenceState_t"</span>)==0) {
<a name="l09745"></a>09745         <a class="code" href="structcgns__state.html">cgns_state</a> *<a class="code" href="test__partial_8c.html#8e99857563320b5d943128e5816b1d70">parent</a> = (<a class="code" href="structcgns__state.html">cgns_state</a> *)posit-&gt;<a class="code" href="structcgns__posit.html#3378c1daf2fcc2b6ce28d61681bbe575">posit</a>;
<a name="l09746"></a>09746         if (strcmp(node_name,<span class="stringliteral">"ReferenceStateDescription"</span>)==0) parent-&gt;<a class="code" href="structcgns__state.html#37ba757b84628410da818ed0943f407d">StateDescription</a>=0;
<a name="l09747"></a>09747         <span class="keywordflow">else</span> if (strcmp(node_label,<span class="stringliteral">"Descriptor_t"</span>)==0) <a class="code" href="cgns__header_8h.html#2309708834802b571e31310885d0fb1c">CGNS_DELETE_SHIFT</a>(ndescr, descr)
<a name="l09748"></a>09748         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(node_label,<span class="stringliteral">"UserDefinedData_t"</span>)==0) <a class="code" href="cgns__header_8h.html#2309708834802b571e31310885d0fb1c">CGNS_DELETE_SHIFT</a>(nuser_data, user_data)
<a name="l09749"></a>09749         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(node_label,<span class="stringliteral">"DataArray_t"</span>)==0) <a class="code" href="cgns__header_8h.html#2309708834802b571e31310885d0fb1c">CGNS_DELETE_SHIFT</a>(narrays, array)
<a name="l09750"></a>09750         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(node_name,<span class="stringliteral">"DataClass"</span>)==0) parent-&gt;<a class="code" href="structcgns__state.html#6aa9eb3c5ad6bdecf6cd8c2b3d97839c">data_class</a> = <a class="code" href="cgns_keywords_8h.html#6e3a45166e6780b756fef5c427279ca079d3001e5ba3290ed80f0762d51bb379">DataClassNull</a>;
<a name="l09751"></a>09751         <span class="keywordflow">else</span> if (strcmp(node_name,<span class="stringliteral">"DimensionalUnits"</span>)==0) parent-&gt;<a class="code" href="structcgns__state.html#9b4c6b823f0741729aa08b21a4120308">units</a>=0;
<a name="l09752"></a>09752 
<a name="l09753"></a>09753 <span class="comment">/* Children of Family_t */</span>
<a name="l09754"></a>09754     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"Family_t"</span>)==0) {
<a name="l09755"></a>09755         <a class="code" href="structcgns__family.html">cgns_family</a> *<a class="code" href="test__partial_8c.html#8e99857563320b5d943128e5816b1d70">parent</a> = (<a class="code" href="structcgns__family.html">cgns_family</a> *)posit-&gt;<a class="code" href="structcgns__posit.html#3378c1daf2fcc2b6ce28d61681bbe575">posit</a>;
<a name="l09756"></a>09756         if (strcmp(node_label,<span class="stringliteral">"Descriptor_t"</span>)==0) <a class="code" href="cgns__header_8h.html#2309708834802b571e31310885d0fb1c">CGNS_DELETE_SHIFT</a>(ndescr, descr)
<a name="l09757"></a>09757         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(node_label,<span class="stringliteral">"UserDefinedData_t"</span>)==0) <a class="code" href="cgns__header_8h.html#2309708834802b571e31310885d0fb1c">CGNS_DELETE_SHIFT</a>(nuser_data, user_data)
<a name="l09758"></a>09758         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(node_label,<span class="stringliteral">"GeometryReference_t"</span>)==0) <a class="code" href="cgns__header_8h.html#2309708834802b571e31310885d0fb1c">CGNS_DELETE_SHIFT</a>(ngeos, geo)
<a name="l09759"></a>09759         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(node_label,<span class="stringliteral">"FamilyBC_t"</span>)==0) <a class="code" href="cgns__header_8h.html#2309708834802b571e31310885d0fb1c">CGNS_DELETE_SHIFT</a>(nfambc, fambc)
<a name="l09760"></a>09760         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(node_name,<span class="stringliteral">"Ordinal"</span>)==0) parent-&gt;<a class="code" href="structcgns__family.html#6906d66a97c04f02a830a98f4ee90872">ordinal</a>=0;
<a name="l09761"></a>09761         <span class="keywordflow">else</span> if (strcmp(node_name,<span class="stringliteral">"RotatingCoordinates"</span>)==0) parent-&gt;<a class="code" href="structcgns__family.html#099f512c1cddfafbbec61c0ccf30923a">rotating</a>=0;
<a name="l09762"></a>09762 <span class="comment">/* Children of FamilyBC_t */</span>
<a name="l09763"></a>09763     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"FamilyBC_t"</span>)==0) {
<a name="l09764"></a>09764         <a class="code" href="structcgns__fambc.html">cgns_fambc</a> *<a class="code" href="test__partial_8c.html#8e99857563320b5d943128e5816b1d70">parent</a> = (<a class="code" href="structcgns__fambc.html">cgns_fambc</a> *)posit-&gt;<a class="code" href="structcgns__posit.html#3378c1daf2fcc2b6ce28d61681bbe575">posit</a>;
<a name="l09765"></a>09765         if (strcmp(node_label,<span class="stringliteral">"BCDataSet_t"</span>)==0) <a class="code" href="cgns__header_8h.html#2309708834802b571e31310885d0fb1c">CGNS_DELETE_SHIFT</a>(ndataset, dataset)
<a name="l09766"></a>09766 
<a name="l09767"></a>09767 <span class="comment">/* Children of GeometryReference_t */</span>
<a name="l09768"></a>09768     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"GeometryReference_t"</span>)==0) {
<a name="l09769"></a>09769         <a class="code" href="structcgns__geo.html">cgns_geo</a> *<a class="code" href="test__partial_8c.html#8e99857563320b5d943128e5816b1d70">parent</a> = (<a class="code" href="structcgns__geo.html">cgns_geo</a> *)posit-&gt;<a class="code" href="structcgns__posit.html#3378c1daf2fcc2b6ce28d61681bbe575">posit</a>;
<a name="l09770"></a>09770         if (strcmp(node_label,<span class="stringliteral">"Descriptor_t"</span>)==0) <a class="code" href="cgns__header_8h.html#2309708834802b571e31310885d0fb1c">CGNS_DELETE_SHIFT</a>(ndescr, descr)
<a name="l09771"></a>09771         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(node_label,<span class="stringliteral">"UserDefinedData_t"</span>)==0) <a class="code" href="cgns__header_8h.html#2309708834802b571e31310885d0fb1c">CGNS_DELETE_SHIFT</a>(nuser_data, user_data)
<a name="l09772"></a>09772         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(node_label,<span class="stringliteral">"GeometryEntity_t"</span>)==0) <a class="code" href="cgns__header_8h.html#2309708834802b571e31310885d0fb1c">CGNS_DELETE_SHIFT</a>(npart, part)
<a name="l09773"></a>09773      <span class="comment">/* GeometryFile and GeometryFormat can not be deleted */</span>
<a name="l09774"></a>09774 
<a name="l09775"></a>09775 <span class="comment">/* Children of Elements_t */</span>
<a name="l09776"></a>09776     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"Elements_t"</span>)==0) {
<a name="l09777"></a>09777         <a class="code" href="structcgns__section.html">cgns_section</a> *<a class="code" href="test__partial_8c.html#8e99857563320b5d943128e5816b1d70">parent</a> = (<a class="code" href="structcgns__section.html">cgns_section</a> *)posit-&gt;<a class="code" href="structcgns__posit.html#3378c1daf2fcc2b6ce28d61681bbe575">posit</a>;
<a name="l09778"></a>09778         if (strcmp(node_label,<span class="stringliteral">"Descriptor_t"</span>)==0) <a class="code" href="cgns__header_8h.html#2309708834802b571e31310885d0fb1c">CGNS_DELETE_SHIFT</a>(ndescr, descr)
<a name="l09779"></a>09779         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(node_label,<span class="stringliteral">"UserDefinedData_t"</span>)==0) <a class="code" href="cgns__header_8h.html#2309708834802b571e31310885d0fb1c">CGNS_DELETE_SHIFT</a>(nuser_data, user_data)
<a name="l09780"></a>09780         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(node_name,<span class="stringliteral">"ParentData"</span>)==0) parent-&gt;<a class="code" href="structcgns__section.html#e62c9afa58926a65c9014d2be3e5f554">parent</a>=0;
<a name="l09781"></a>09781      <span class="comment">/* ElementRange and ElementConnectivity can not be deleted */</span>
<a name="l09782"></a>09782 
<a name="l09783"></a>09783 <span class="comment">/* Children of RigidGridMotion_t */</span>
<a name="l09784"></a>09784     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"RigidGridMotion_t"</span>)==0) {
<a name="l09785"></a>09785         <a class="code" href="structcgns__rmotion.html">cgns_rmotion</a> *<a class="code" href="test__partial_8c.html#8e99857563320b5d943128e5816b1d70">parent</a> = (<a class="code" href="structcgns__rmotion.html">cgns_rmotion</a> *)posit-&gt;<a class="code" href="structcgns__posit.html#3378c1daf2fcc2b6ce28d61681bbe575">posit</a>;
<a name="l09786"></a>09786         if (strcmp(node_label,<span class="stringliteral">"Descriptor_t"</span>)==0) <a class="code" href="cgns__header_8h.html#2309708834802b571e31310885d0fb1c">CGNS_DELETE_SHIFT</a>(ndescr, descr)
<a name="l09787"></a>09787         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(node_label,<span class="stringliteral">"UserDefinedData_t"</span>)==0) <a class="code" href="cgns__header_8h.html#2309708834802b571e31310885d0fb1c">CGNS_DELETE_SHIFT</a>(nuser_data, user_data)
<a name="l09788"></a>09788         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(node_label,<span class="stringliteral">"DataArray_t"</span>)==0) <a class="code" href="cgns__header_8h.html#2309708834802b571e31310885d0fb1c">CGNS_DELETE_SHIFT</a>(narrays, array)
<a name="l09789"></a>09789         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(node_name,<span class="stringliteral">"DataClass"</span>)==0) parent-&gt;<a class="code" href="structcgns__rmotion.html#6aa9eb3c5ad6bdecf6cd8c2b3d97839c">data_class</a> = <a class="code" href="cgns_keywords_8h.html#6e3a45166e6780b756fef5c427279ca079d3001e5ba3290ed80f0762d51bb379">DataClassNull</a>;
<a name="l09790"></a>09790         <span class="keywordflow">else</span> if (strcmp(node_name,<span class="stringliteral">"DimensionalUnits"</span>)==0) parent-&gt;<a class="code" href="structcgns__rmotion.html#9b4c6b823f0741729aa08b21a4120308">units</a>=0;
<a name="l09791"></a>09791 
<a name="l09792"></a>09792 <span class="comment">/* Children of ArbitraryGridMotion_t */</span>
<a name="l09793"></a>09793     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"ArbitraryGridMotion_t"</span>)==0) {
<a name="l09794"></a>09794         <a class="code" href="structcgns__amotion.html">cgns_amotion</a> *<a class="code" href="test__partial_8c.html#8e99857563320b5d943128e5816b1d70">parent</a> = (<a class="code" href="structcgns__amotion.html">cgns_amotion</a> *)posit-&gt;<a class="code" href="structcgns__posit.html#3378c1daf2fcc2b6ce28d61681bbe575">posit</a>;
<a name="l09795"></a>09795         if (strcmp(node_label,<span class="stringliteral">"Descriptor_t"</span>)==0) <a class="code" href="cgns__header_8h.html#2309708834802b571e31310885d0fb1c">CGNS_DELETE_SHIFT</a>(ndescr, descr)
<a name="l09796"></a>09796         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(node_label,<span class="stringliteral">"UserDefinedData_t"</span>)==0) <a class="code" href="cgns__header_8h.html#2309708834802b571e31310885d0fb1c">CGNS_DELETE_SHIFT</a>(nuser_data, user_data)
<a name="l09797"></a>09797         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(node_label,<span class="stringliteral">"DataArray_t"</span>)==0) <a class="code" href="cgns__header_8h.html#2309708834802b571e31310885d0fb1c">CGNS_DELETE_SHIFT</a>(narrays, array)
<a name="l09798"></a>09798         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(node_name,<span class="stringliteral">"DataClass"</span>)==0) parent-&gt;<a class="code" href="structcgns__amotion.html#6aa9eb3c5ad6bdecf6cd8c2b3d97839c">data_class</a> = <a class="code" href="cgns_keywords_8h.html#6e3a45166e6780b756fef5c427279ca079d3001e5ba3290ed80f0762d51bb379">DataClassNull</a>;
<a name="l09799"></a>09799         <span class="keywordflow">else</span> if (strcmp(node_name,<span class="stringliteral">"DimensionalUnits"</span>)==0) parent-&gt;<a class="code" href="structcgns__amotion.html#9b4c6b823f0741729aa08b21a4120308">units</a>=0;
<a name="l09800"></a>09800         <span class="keywordflow">else</span> if (strcmp(node_name,<span class="stringliteral">"GridLocation"</span>)==0) parent-&gt;<a class="code" href="structcgns__amotion.html#0e4921cde80f9718431923eedef14779">location</a>=<a class="code" href="cgns_keywords_8h.html#5a0e596ed46b12f73c2ed1b8b0176e13c9c232ebd47fa5fdd990defd6f18cabe">GridLocationNull</a>;
<a name="l09801"></a>09801         <span class="keywordflow">else</span> if (strcmp(node_name,<span class="stringliteral">"Rind"</span>)==0) {
<a name="l09802"></a>09802             <span class="keywordflow">if</span> (<a class="code" href="cgns__header_8h.html#9aefb3fb2179957b84774f80fc7ca76a">posit_base</a> &amp;&amp; <a class="code" href="cgns__header_8h.html#ebd0971a3f05d514c15194a9a9d08617">posit_zone</a>) {
<a name="l09803"></a>09803                 index_dim = cg-&gt;<a class="code" href="structcgns__file.html#0429392e9c26dac2f0b97ae2d2127117">base</a>[<a class="code" href="cgns__header_8h.html#9aefb3fb2179957b84774f80fc7ca76a">posit_base</a>-1].<a class="code" href="structcgns__base.html#abbb754f366f926198416ad91b8155ef">zone</a>[<a class="code" href="cgns__header_8h.html#ebd0971a3f05d514c15194a9a9d08617">posit_zone</a>-1].<a class="code" href="structcgns__zone.html#5ea7c3da009c9add916c0eeca1973c05">index_dim</a>;
<a name="l09804"></a>09804             } <span class="keywordflow">else</span> {
<a name="l09805"></a>09805                 <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Can't find IndexDimension in cg_delete"</span>);
<a name="l09806"></a>09806                 <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#e5e87a97d0361ef2982e0424d2abeb48">CG_NO_INDEX_DIM</a>;
<a name="l09807"></a>09807             }
<a name="l09808"></a>09808             <span class="keywordflow">for</span> (n=0; n&lt;2*index_dim; n++) parent-&gt;<a class="code" href="structcgns__amotion.html#e095e97c5a8c7758b4c9d0e463093b57">rind_planes</a>[n] = 0;
<a name="l09809"></a>09809         }
<a name="l09810"></a>09810 
<a name="l09811"></a>09811 <span class="comment">/* Children of BaseIterativeData_t */</span>
<a name="l09812"></a>09812     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"BaseIterativeData_t"</span>)==0) {
<a name="l09813"></a>09813         <a class="code" href="structcgns__biter.html">cgns_biter</a> *<a class="code" href="test__partial_8c.html#8e99857563320b5d943128e5816b1d70">parent</a> = (<a class="code" href="structcgns__biter.html">cgns_biter</a> *)posit-&gt;<a class="code" href="structcgns__posit.html#3378c1daf2fcc2b6ce28d61681bbe575">posit</a>;
<a name="l09814"></a>09814         if (strcmp(node_label,<span class="stringliteral">"Descriptor_t"</span>)==0) <a class="code" href="cgns__header_8h.html#2309708834802b571e31310885d0fb1c">CGNS_DELETE_SHIFT</a>(ndescr, descr)
<a name="l09815"></a>09815         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(node_label,<span class="stringliteral">"UserDefinedData_t"</span>)==0) <a class="code" href="cgns__header_8h.html#2309708834802b571e31310885d0fb1c">CGNS_DELETE_SHIFT</a>(nuser_data, user_data)
<a name="l09816"></a>09816         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(node_label,<span class="stringliteral">"DataArray_t"</span>)==0) <a class="code" href="cgns__header_8h.html#2309708834802b571e31310885d0fb1c">CGNS_DELETE_SHIFT</a>(narrays, array)
<a name="l09817"></a>09817         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(node_name,<span class="stringliteral">"DataClass"</span>)==0) parent-&gt;<a class="code" href="structcgns__biter.html#6aa9eb3c5ad6bdecf6cd8c2b3d97839c">data_class</a> = <a class="code" href="cgns_keywords_8h.html#6e3a45166e6780b756fef5c427279ca079d3001e5ba3290ed80f0762d51bb379">DataClassNull</a>;
<a name="l09818"></a>09818         <span class="keywordflow">else</span> if (strcmp(node_name,<span class="stringliteral">"DimensionalUnits"</span>)==0) parent-&gt;<a class="code" href="structcgns__biter.html#9b4c6b823f0741729aa08b21a4120308">units</a>=0;
<a name="l09819"></a>09819 
<a name="l09820"></a>09820 <span class="comment">/* Children of ZoneIterativeData_t */</span>
<a name="l09821"></a>09821     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"ZoneIterativeData_t"</span>)==0) {
<a name="l09822"></a>09822         <a class="code" href="structcgns__ziter.html">cgns_ziter</a> *<a class="code" href="test__partial_8c.html#8e99857563320b5d943128e5816b1d70">parent</a> = (<a class="code" href="structcgns__ziter.html">cgns_ziter</a> *)posit-&gt;<a class="code" href="structcgns__posit.html#3378c1daf2fcc2b6ce28d61681bbe575">posit</a>;
<a name="l09823"></a>09823         if (strcmp(node_label,<span class="stringliteral">"Descriptor_t"</span>)==0) <a class="code" href="cgns__header_8h.html#2309708834802b571e31310885d0fb1c">CGNS_DELETE_SHIFT</a>(ndescr, descr)
<a name="l09824"></a>09824         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(node_label,<span class="stringliteral">"UserDefinedData_t"</span>)==0) <a class="code" href="cgns__header_8h.html#2309708834802b571e31310885d0fb1c">CGNS_DELETE_SHIFT</a>(nuser_data, user_data)
<a name="l09825"></a>09825         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(node_label,<span class="stringliteral">"DataArray_t"</span>)==0) <a class="code" href="cgns__header_8h.html#2309708834802b571e31310885d0fb1c">CGNS_DELETE_SHIFT</a>(narrays, array)
<a name="l09826"></a>09826         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(node_name,<span class="stringliteral">"DataClass"</span>)==0) parent-&gt;<a class="code" href="structcgns__ziter.html#6aa9eb3c5ad6bdecf6cd8c2b3d97839c">data_class</a> = <a class="code" href="cgns_keywords_8h.html#6e3a45166e6780b756fef5c427279ca079d3001e5ba3290ed80f0762d51bb379">DataClassNull</a>;
<a name="l09827"></a>09827         <span class="keywordflow">else</span> if (strcmp(node_name,<span class="stringliteral">"DimensionalUnits"</span>)==0) parent-&gt;<a class="code" href="structcgns__ziter.html#9b4c6b823f0741729aa08b21a4120308">units</a>=0;
<a name="l09828"></a>09828 
<a name="l09829"></a>09829 <span class="comment">/* Children of UserDefinedData_t */</span>
<a name="l09830"></a>09830     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"UserDefinedData_t"</span>)==0) {
<a name="l09831"></a>09831         <a class="code" href="structcgns__user__data__s.html">cgns_user_data</a> *<a class="code" href="test__partial_8c.html#8e99857563320b5d943128e5816b1d70">parent</a> = (<a class="code" href="structcgns__user__data__s.html">cgns_user_data</a> *)posit-&gt;<a class="code" href="structcgns__posit.html#3378c1daf2fcc2b6ce28d61681bbe575">posit</a>;
<a name="l09832"></a>09832         if (strcmp(node_label,<span class="stringliteral">"Descriptor_t"</span>)==0) <a class="code" href="cgns__header_8h.html#2309708834802b571e31310885d0fb1c">CGNS_DELETE_SHIFT</a>(ndescr, descr)
<a name="l09833"></a>09833         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(node_label,<span class="stringliteral">"DataArray_t"</span>)==0) <a class="code" href="cgns__header_8h.html#2309708834802b571e31310885d0fb1c">CGNS_DELETE_SHIFT</a>(narrays, array)
<a name="l09834"></a>09834         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(node_name,<span class="stringliteral">"DataClass"</span>)==0) parent-&gt;<a class="code" href="structcgns__user__data__s.html#6aa9eb3c5ad6bdecf6cd8c2b3d97839c">data_class</a> = <a class="code" href="cgns_keywords_8h.html#6e3a45166e6780b756fef5c427279ca079d3001e5ba3290ed80f0762d51bb379">DataClassNull</a>;
<a name="l09835"></a>09835         <span class="keywordflow">else</span> if (strcmp(node_name,<span class="stringliteral">"DimensionalUnits"</span>)==0) parent-&gt;<a class="code" href="structcgns__user__data__s.html#9b4c6b823f0741729aa08b21a4120308">units</a>=0;
<a name="l09836"></a>09836         <span class="keywordflow">else</span> if (strcmp(node_label,<span class="stringliteral">"UserDefinedData_t"</span>)==0) <a class="code" href="cgns__header_8h.html#2309708834802b571e31310885d0fb1c">CGNS_DELETE_SHIFT</a>(nuser_data, user_data)
<a name="l09837"></a>09837         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(node_name,<span class="stringliteral">"GridLocation"</span>)==0) parent-&gt;<a class="code" href="structcgns__user__data__s.html#0e4921cde80f9718431923eedef14779">location</a>=<a class="code" href="cgns_keywords_8h.html#5a0e596ed46b12f73c2ed1b8b0176e13c9c232ebd47fa5fdd990defd6f18cabe">GridLocationNull</a>;
<a name="l09838"></a>09838         <span class="keywordflow">else</span> if (strcmp(node_name,<span class="stringliteral">"FamilyName"</span>)==0) parent-&gt;<a class="code" href="structcgns__user__data__s.html#e87a193017e6c339aa4108f69caadbb1">family_name</a>[0]=<span class="charliteral">'\0'</span>;
<a name="l09839"></a>09839         <span class="keywordflow">else</span> if (strcmp(node_name,<span class="stringliteral">"Ordinal"</span>)==0) parent-&gt;<a class="code" href="structcgns__user__data__s.html#6906d66a97c04f02a830a98f4ee90872">ordinal</a>=0;
<a name="l09840"></a>09840         <span class="comment">/* IndexRange_t PointRange &amp; IndexArray_t PointList can't be deleted */</span>
<a name="l09841"></a>09841 
<a name="l09842"></a>09842 <span class="comment">/* Children of Gravity_t */</span>
<a name="l09843"></a>09843     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"Gravity_t"</span>)==0) {
<a name="l09844"></a>09844         <a class="code" href="structcgns__gravity.html">cgns_gravity</a> *<a class="code" href="test__partial_8c.html#8e99857563320b5d943128e5816b1d70">parent</a> = (<a class="code" href="structcgns__gravity.html">cgns_gravity</a> *)posit-&gt;<a class="code" href="structcgns__posit.html#3378c1daf2fcc2b6ce28d61681bbe575">posit</a>;
<a name="l09845"></a>09845         if (strcmp(node_label,<span class="stringliteral">"Descriptor_t"</span>)==0) <a class="code" href="cgns__header_8h.html#2309708834802b571e31310885d0fb1c">CGNS_DELETE_SHIFT</a>(ndescr, descr)
<a name="l09846"></a>09846         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(node_label,<span class="stringliteral">"UserDefinedData_t"</span>)==0) <a class="code" href="cgns__header_8h.html#2309708834802b571e31310885d0fb1c">CGNS_DELETE_SHIFT</a>(nuser_data, user_data)
<a name="l09847"></a>09847         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(node_name,<span class="stringliteral">"DataClass"</span>)==0) parent-&gt;<a class="code" href="structcgns__gravity.html#6aa9eb3c5ad6bdecf6cd8c2b3d97839c">data_class</a> = <a class="code" href="cgns_keywords_8h.html#6e3a45166e6780b756fef5c427279ca079d3001e5ba3290ed80f0762d51bb379">DataClassNull</a>;
<a name="l09848"></a>09848         <span class="keywordflow">else</span> if (strcmp(node_name,<span class="stringliteral">"DimensionalUnits"</span>)==0) parent-&gt;<a class="code" href="structcgns__gravity.html#9b4c6b823f0741729aa08b21a4120308">units</a>=0;
<a name="l09849"></a>09849 
<a name="l09850"></a>09850 <span class="comment">/* Children of Axisymmetry_t */</span>
<a name="l09851"></a>09851     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"Axisymmetry_t"</span>)==0) {
<a name="l09852"></a>09852         <a class="code" href="structcgns__axisym.html">cgns_axisym</a> *<a class="code" href="test__partial_8c.html#8e99857563320b5d943128e5816b1d70">parent</a> = (<a class="code" href="structcgns__axisym.html">cgns_axisym</a> *)posit-&gt;<a class="code" href="structcgns__posit.html#3378c1daf2fcc2b6ce28d61681bbe575">posit</a>;
<a name="l09853"></a>09853         if (strcmp(node_label,<span class="stringliteral">"Descriptor_t"</span>)==0) <a class="code" href="cgns__header_8h.html#2309708834802b571e31310885d0fb1c">CGNS_DELETE_SHIFT</a>(ndescr, descr)
<a name="l09854"></a>09854         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(node_label,<span class="stringliteral">"UserDefinedData_t"</span>)==0) <a class="code" href="cgns__header_8h.html#2309708834802b571e31310885d0fb1c">CGNS_DELETE_SHIFT</a>(nuser_data, user_data)
<a name="l09855"></a>09855         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(node_label,<span class="stringliteral">"DataArray_t"</span>)==0) <a class="code" href="cgns__header_8h.html#2309708834802b571e31310885d0fb1c">CGNS_DELETE_SHIFT</a>(narrays, array)
<a name="l09856"></a>09856         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(node_name,<span class="stringliteral">"DataClass"</span>)==0) parent-&gt;<a class="code" href="structcgns__axisym.html#6aa9eb3c5ad6bdecf6cd8c2b3d97839c">data_class</a> = <a class="code" href="cgns_keywords_8h.html#6e3a45166e6780b756fef5c427279ca079d3001e5ba3290ed80f0762d51bb379">DataClassNull</a>;
<a name="l09857"></a>09857         <span class="keywordflow">else</span> if (strcmp(node_name,<span class="stringliteral">"DimensionalUnits"</span>)==0) parent-&gt;<a class="code" href="structcgns__axisym.html#9b4c6b823f0741729aa08b21a4120308">units</a>=0;
<a name="l09858"></a>09858 
<a name="l09859"></a>09859 <span class="comment">/* RotatingCoordinates_t */</span>
<a name="l09860"></a>09860     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"RotatingCoordinates_t"</span>)==0) {
<a name="l09861"></a>09861         <a class="code" href="structcgns__rotating.html">cgns_rotating</a> *<a class="code" href="test__partial_8c.html#8e99857563320b5d943128e5816b1d70">parent</a> = (<a class="code" href="structcgns__rotating.html">cgns_rotating</a> *)posit-&gt;<a class="code" href="structcgns__posit.html#3378c1daf2fcc2b6ce28d61681bbe575">posit</a>;
<a name="l09862"></a>09862         if (strcmp(node_label,<span class="stringliteral">"Descriptor_t"</span>)==0) <a class="code" href="cgns__header_8h.html#2309708834802b571e31310885d0fb1c">CGNS_DELETE_SHIFT</a>(ndescr, descr)
<a name="l09863"></a>09863         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(node_label,<span class="stringliteral">"UserDefinedData_t"</span>)==0) <a class="code" href="cgns__header_8h.html#2309708834802b571e31310885d0fb1c">CGNS_DELETE_SHIFT</a>(nuser_data, user_data)
<a name="l09864"></a>09864         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(node_label,<span class="stringliteral">"DataArray_t"</span>)==0) <a class="code" href="cgns__header_8h.html#2309708834802b571e31310885d0fb1c">CGNS_DELETE_SHIFT</a>(narrays, array)
<a name="l09865"></a>09865         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(node_name,<span class="stringliteral">"DataClass"</span>)==0) parent-&gt;<a class="code" href="structcgns__rotating.html#6aa9eb3c5ad6bdecf6cd8c2b3d97839c">data_class</a> = <a class="code" href="cgns_keywords_8h.html#6e3a45166e6780b756fef5c427279ca079d3001e5ba3290ed80f0762d51bb379">DataClassNull</a>;
<a name="l09866"></a>09866         <span class="keywordflow">else</span> if (strcmp(node_name,<span class="stringliteral">"DimensionalUnits"</span>)==0) parent-&gt;<a class="code" href="structcgns__rotating.html#9b4c6b823f0741729aa08b21a4120308">units</a>=0;
<a name="l09867"></a>09867 
<a name="l09868"></a>09868 <span class="comment">/* BCProperty_t */</span>
<a name="l09869"></a>09869     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"BCProperty_t"</span>)==0) {
<a name="l09870"></a>09870         <a class="code" href="structcgns__bprop.html">cgns_bprop</a> *<a class="code" href="test__partial_8c.html#8e99857563320b5d943128e5816b1d70">parent</a> = (<a class="code" href="structcgns__bprop.html">cgns_bprop</a> *)posit-&gt;<a class="code" href="structcgns__posit.html#3378c1daf2fcc2b6ce28d61681bbe575">posit</a>;
<a name="l09871"></a>09871         if (strcmp(node_label,<span class="stringliteral">"Descriptor_t"</span>)==0) <a class="code" href="cgns__header_8h.html#2309708834802b571e31310885d0fb1c">CGNS_DELETE_SHIFT</a>(ndescr, descr)
<a name="l09872"></a>09872         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(node_label,<span class="stringliteral">"UserDefinedData_t"</span>)==0) <a class="code" href="cgns__header_8h.html#2309708834802b571e31310885d0fb1c">CGNS_DELETE_SHIFT</a>(nuser_data, user_data)
<a name="l09873"></a>09873         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(node_name,<span class="stringliteral">"WallFunction"</span>)==0) parent-&gt;<a class="code" href="structcgns__bprop.html#48539e283bf0e0472f540626012a2e5d">bcwall</a> = 0;
<a name="l09874"></a>09874         <span class="keywordflow">else</span> if (strcmp(node_name,<span class="stringliteral">"Area"</span>)==0) parent-&gt;<a class="code" href="structcgns__bprop.html#59fb70e66df69b0d03abbae651cd9106">bcarea</a> = 0;
<a name="l09875"></a>09875 
<a name="l09876"></a>09876 <span class="comment">/* WallFunction_t */</span>
<a name="l09877"></a>09877     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"WallFunction_t"</span>)==0) {
<a name="l09878"></a>09878         <a class="code" href="structcgns__bcwall.html">cgns_bcwall</a> *<a class="code" href="test__partial_8c.html#8e99857563320b5d943128e5816b1d70">parent</a> = (<a class="code" href="structcgns__bcwall.html">cgns_bcwall</a> *)posit-&gt;<a class="code" href="structcgns__posit.html#3378c1daf2fcc2b6ce28d61681bbe575">posit</a>;
<a name="l09879"></a>09879         if (strcmp(node_label,<span class="stringliteral">"Descriptor_t"</span>)==0) <a class="code" href="cgns__header_8h.html#2309708834802b571e31310885d0fb1c">CGNS_DELETE_SHIFT</a>(ndescr, descr)
<a name="l09880"></a>09880         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(node_label,<span class="stringliteral">"UserDefinedData_t"</span>)==0) <a class="code" href="cgns__header_8h.html#2309708834802b571e31310885d0fb1c">CGNS_DELETE_SHIFT</a>(nuser_data, user_data)
<a name="l09881"></a>09881         <span class="comment">/* node WallFunctionType can't be deleted */</span>
<a name="l09882"></a>09882 
<a name="l09883"></a>09883 <span class="comment">/* Area_t */</span>
<a name="l09884"></a>09884     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"Area_t"</span>)==0) {
<a name="l09885"></a>09885         <a class="code" href="structcgns__bcarea.html">cgns_bcarea</a> *<a class="code" href="test__partial_8c.html#8e99857563320b5d943128e5816b1d70">parent</a> = (<a class="code" href="structcgns__bcarea.html">cgns_bcarea</a> *)posit-&gt;<a class="code" href="structcgns__posit.html#3378c1daf2fcc2b6ce28d61681bbe575">posit</a>;
<a name="l09886"></a>09886         if (strcmp(node_label,<span class="stringliteral">"Descriptor_t"</span>)==0) <a class="code" href="cgns__header_8h.html#2309708834802b571e31310885d0fb1c">CGNS_DELETE_SHIFT</a>(ndescr, descr)
<a name="l09887"></a>09887         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(node_label,<span class="stringliteral">"UserDefinedData_t"</span>)==0) <a class="code" href="cgns__header_8h.html#2309708834802b571e31310885d0fb1c">CGNS_DELETE_SHIFT</a>(nuser_data, user_data)
<a name="l09888"></a>09888         <span class="comment">/* nodes AreaType, SurfaceArea and RegionName can't be deleted */</span>
<a name="l09889"></a>09889 
<a name="l09890"></a>09890 <span class="comment">/* GridConnectivityProperty_t */</span>
<a name="l09891"></a>09891     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"GridConnectivityProperty_t"</span>)==0) {
<a name="l09892"></a>09892         <a class="code" href="structcgns__cprop.html">cgns_cprop</a> *<a class="code" href="test__partial_8c.html#8e99857563320b5d943128e5816b1d70">parent</a> = (<a class="code" href="structcgns__cprop.html">cgns_cprop</a> *)posit-&gt;<a class="code" href="structcgns__posit.html#3378c1daf2fcc2b6ce28d61681bbe575">posit</a>;
<a name="l09893"></a>09893         if (strcmp(node_label,<span class="stringliteral">"Descriptor_t"</span>)==0) <a class="code" href="cgns__header_8h.html#2309708834802b571e31310885d0fb1c">CGNS_DELETE_SHIFT</a>(ndescr, descr)
<a name="l09894"></a>09894         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(node_label,<span class="stringliteral">"UserDefinedData_t"</span>)==0) <a class="code" href="cgns__header_8h.html#2309708834802b571e31310885d0fb1c">CGNS_DELETE_SHIFT</a>(nuser_data, user_data)
<a name="l09895"></a>09895         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(node_name,<span class="stringliteral">"Periodic"</span>)==0) parent-&gt;<a class="code" href="structcgns__cprop.html#677b1d1bc529c4733f1133bbe71e79e1">cperio</a>=0;
<a name="l09896"></a>09896         <span class="keywordflow">else</span> if (strcmp(node_name,<span class="stringliteral">"AverageInterface"</span>)==0) parent-&gt;<a class="code" href="structcgns__cprop.html#095d77a2e3cd512d29b64f42c8b2bdc3">caverage</a>=0;
<a name="l09897"></a>09897 
<a name="l09898"></a>09898 <span class="comment">/* Periodic_t */</span>
<a name="l09899"></a>09899     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"Periodic_t"</span>)==0) {
<a name="l09900"></a>09900         <a class="code" href="structcgns__cperio.html">cgns_cperio</a> *<a class="code" href="test__partial_8c.html#8e99857563320b5d943128e5816b1d70">parent</a> = (<a class="code" href="structcgns__cperio.html">cgns_cperio</a> *)posit-&gt;<a class="code" href="structcgns__posit.html#3378c1daf2fcc2b6ce28d61681bbe575">posit</a>;
<a name="l09901"></a>09901         if (strcmp(node_label,<span class="stringliteral">"Descriptor_t"</span>)==0) <a class="code" href="cgns__header_8h.html#2309708834802b571e31310885d0fb1c">CGNS_DELETE_SHIFT</a>(ndescr, descr)
<a name="l09902"></a>09902         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(node_label,<span class="stringliteral">"UserDefinedData_t"</span>)==0) <a class="code" href="cgns__header_8h.html#2309708834802b571e31310885d0fb1c">CGNS_DELETE_SHIFT</a>(nuser_data, user_data)
<a name="l09903"></a>09903         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(node_name,<span class="stringliteral">"DataClass"</span>)==0) parent-&gt;<a class="code" href="structcgns__cperio.html#6aa9eb3c5ad6bdecf6cd8c2b3d97839c">data_class</a> = <a class="code" href="cgns_keywords_8h.html#6e3a45166e6780b756fef5c427279ca079d3001e5ba3290ed80f0762d51bb379">DataClassNull</a>;
<a name="l09904"></a>09904         <span class="keywordflow">else</span> if (strcmp(node_name,<span class="stringliteral">"DimensionalUnits"</span>)==0) parent-&gt;<a class="code" href="structcgns__cperio.html#9b4c6b823f0741729aa08b21a4120308">units</a>=0;
<a name="l09905"></a>09905         <span class="comment">/* RotationCenter, RotationAngle and Translation can't be deleted */</span>
<a name="l09906"></a>09906 
<a name="l09907"></a>09907 <span class="comment">/* AverageInterface_t */</span>
<a name="l09908"></a>09908     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>,<span class="stringliteral">"AverageInterface_t"</span>)==0) {
<a name="l09909"></a>09909         <a class="code" href="structcgns__caverage.html">cgns_caverage</a> *<a class="code" href="test__partial_8c.html#8e99857563320b5d943128e5816b1d70">parent</a> = (<a class="code" href="structcgns__caverage.html">cgns_caverage</a> *)posit-&gt;<a class="code" href="structcgns__posit.html#3378c1daf2fcc2b6ce28d61681bbe575">posit</a>;
<a name="l09910"></a>09910         if (strcmp(node_label,<span class="stringliteral">"Descriptor_t"</span>)==0) <a class="code" href="cgns__header_8h.html#2309708834802b571e31310885d0fb1c">CGNS_DELETE_SHIFT</a>(ndescr, descr)
<a name="l09911"></a>09911         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(node_label,<span class="stringliteral">"UserDefinedData_t"</span>)==0) <a class="code" href="cgns__header_8h.html#2309708834802b571e31310885d0fb1c">CGNS_DELETE_SHIFT</a>(nuser_data, user_data)
<a name="l09912"></a>09912         <span class="comment">/* AverageInterfaceType can't be deleted */</span>
<a name="l09913"></a>09913 
<a name="l09914"></a>09914     } <span class="keywordflow">else</span> {
<a name="l09915"></a>09915         <a class="code" href="cgns__error_8c.html#67e0c94b0721d43f34f5f69135499341">cgi_error</a>(<span class="stringliteral">"Unrecognized label: '%s'"</span>,posit-&gt;<a class="code" href="structcgns__posit.html#44cb595dfc5bed72bf99c8b67f608183">label</a>);
<a name="l09916"></a>09916         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l09917"></a>09917     }
<a name="l09918"></a>09918     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l09919"></a>09919 }
<a name="l09920"></a>09920 
<a name="l09921"></a>09921 <span class="comment">/*****************************************************************************\</span>
<a name="l09922"></a>09922 <span class="comment"> *            Free library malloced memory</span>
<a name="l09923"></a>09923 <span class="comment">\*****************************************************************************/</span>
<a name="l09924"></a>09924 
<a name="l09925"></a><a class="code" href="cgnslib_8h.html#915a14726923ad1fa7df9a48006a499c">09925</a> <span class="keywordtype">int</span> <a class="code" href="cgnscheck_8c.html#ef3e96336f03537d68b69b28c9332cf4">cg_free</a>(<span class="keywordtype">void</span> *<a class="code" href="_a_d_f__internals_8h.html#1c4032c79398d15869ce0828a58de11f">data</a>) {
<a name="l09926"></a>09926     <span class="keywordflow">if</span> (data != NULL) {
<a name="l09927"></a>09927         <a class="code" href="cgns__header_8h.html#80f020bd3f157b4396939147cf4c215e">CGNS_FREE</a> (data);
<a name="l09928"></a>09928         <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#19bc5a320676b72d79aab883accaa598">CG_OK</a>;
<a name="l09929"></a>09929     }
<a name="l09930"></a>09930     <span class="keywordflow">return</span> <a class="code" href="cgns_keywords_8h.html#f34da5a9fd67b522360a8306b019df34">CG_ERROR</a>;
<a name="l09931"></a>09931 }
</pre></div></div>
<hr size="1"><address style="text-align: right;"><small>Generated on Thu Jun 25 10:29:46 2009 for CGNS by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.9 </small></address>
</body>
</html>
