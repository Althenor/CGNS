
To compile the cgnstools library under Unix, Linux, Cygwin, Mac, .etc:

  chmod +x configure
  ./configure [options]
  make [target]

The arguments in [] are optional, and if given should be specified
without the [].

NOTE: When specifying directories (as for --with-cgns=CGNSdir) don't
use ~ to refer to you home directory. This is expanded by csh, not sh,
and thus won't work with the configure script. Use $HOME instead.

The recognized options to configure are:

--enable-gcc
  Normally, the configure script will search for the native C compiler (cc)
  before trying to find gcc. This option reverses this order.

--with-system=XXX
  overrides the default system type (see below) and sets the system type
  to 'XXX'. If not given, the system type will be determined from the
  'cgsystem' script.

--enable-64bit
  This option turns on 64-bit compilation, where applicable. If using gcc
  this will be enabled by default.

--disable-cut
  This sets the NO_CUTTING_PLANE compiler flag to disable a cutting plane
  is cgnsplot. A cutting plane results in more memory being used by the
  program since the entire volume mesh is saved rather than just the
  boundary mesh.

--disable-mesh
  This sets the NO_MESH_BOUNDARIES compiler flag to disable the generation
  of imin,imax,jmin,jmax,kmin and kmax boundary regions for structured
  zones.

--with-cgns=CGNSdir
  Specify the location of the CGNS library distribution directory. You will
  need the CGNS distribution (not the installed version) since the cgns_io.h
  header, cgnscheck.c and cgnsversion.c files are required. If not specifed,
  'configure' will search for it.

--with-tcl=TCLdir
--with-tk=TKdir
  This sets the path to the Tcl and/or Tk source distribution. If not
  given, 'configure' will try first to find an installed version to use,
  then locally for a source distribution. If only one of these are given,
  the other will be set from that value. For example:
    "--with-tcl=$HOME/tcl8.3.1" will automatically set
    "--with-tk=$HOME/tk8.3.1".
  The "tkConfig.sh" file from either the installed or source distribution
  version is used to set the link options to be used in linking the
  adfwish, plotwish, and calcwish executable.

--enable-multi
  This enables multi-platform support when installing. If enabled, all
  shell scripts will be installed to the "$bindir" directory (see below),
  and the machine dependent executables will be installed to
  "$bindir/$SYSTEM". This is mostly usefull when installing locally,
  i.e. './configure --prefix=$HOME --enable-multi' will result in the
  shell scripts being installed in "~/bin" and the executables in
  "~/bin/FOO", assuming the sytem type is "FOO". This allows multiple
  platform executables to share the same disk.

--prefix=PREFIX
--exec_prefix=EPREFIX
--bindir=BINDIR
--datadir=DATADIR
  These set the installation directories for executables and Tcl scripts.
  By default, the executables are installed in "/usr/local/bin" and
  "/usr/local/bin/cgnswish", and the Tcl scripts in
  "/usr/local/share/cgnstools". PREFIX sets the root location for the
  installation (i.e. the "/usr/local" part). If EPREFIX is set, it defines
  the root location for the executables (by default it's the same as PREFIX).
  BINDIR and DATADIR explicitly set the installation directories for the
  executables and Tcl scripts. By default these are "$EPREFIX/bin" and
  "$PREFIX/share/cgnstools", respectively. The executable installation
  directory is also affected by the "--enable-multi" flag.
  See the autoconf documentation for a description of these options,
  or run './configure --help' for a brief overview.


The configure script creates "Makefile", "make.defs", and "cgconfig". The
"make.defs" file contains the system dependent settings, and is included
by "Makefile". If you need to modify any of the settings, edit this file
before running make. The "cgconfig" file contains run-time settings,
and is sourced by the the 'adfviewer', 'cgnscalc' and 'cgnsplot' shell
scripts when they are executed.

NOTE: When building on multiple platforms, you will need to run
'make distclean' before re-running 'configure' on the new platform.

The available make targets are:

default
  This is the default target (if target is not given). This builds
  the adfviewer, cgnscalc, tools, and utility programs. Depending on the
  results from the 'configure', this may also build cgnsplot (if
  'configure' was able to find OpenGL headers).

all
  This is similar to the "default" target, except that cgnsplot
  is included, regardless of the 'configure' run results.

adfviewer
cgnscalc
cgnsplot
tools
utilities
  Builds the specified program.

install
  Installs the "default" programs and Tcl scripts. Builds the
  executables if needed. You will need write permission to the
  installation directories.

install-all
  Similar to "install", but installs everything.

install-adfviewer
install-cgnscalc
install-cgnsplot
install-tools
install-utilities
  Installs the specified program.

uninstall
  Uninstalls the executables and Tcl scripts. You will need write
  permission to the installation directories.

clean
  This removes all the object files and executables.

distclean
  Removes the object files, executables and files generated by
  'configure'. You need to do this before building on a new platform.

----------------------------------------------------------------------

Multiple platform support is limited to installing the code on a
shared disk. If you are building on only one platform, don't have
a shared disk, or are installing to system directories, you probably
don't need to worry about this.

For example, to set up the code in your home directory which is shared
by a Sun and a SGI, do

  ./configure --prefix=$HOME --enable-multi
  make install
  make distclean

on each machine. This will result in the "adfviewer", "cgnsplot", .etc
shell scripts being installed in ~/bin and the Tcl scripts in
~/share/cgnstools. The machine dependent executables will be installed
in ~/bin/SUN4 for the Sun and ~/bin/SGI6 for the SGI. If your PATH
includes ~/bin, you should be able to run the programs from either
platform without any special considerations, since the shell scripts
will select the appropiate machine dependent executables.

----------------------------------------------------------------------

The system type is determined by executing the 'cgsystem' script.

  ./cgsystem [[-][enable-]64[bit]]

Again, everything in [] are optional, and the [] are not included.
If no arguments are given, then 'cgsystem' returns the default
system type. The '[-][enable-]64[bit]' option enables 64-bit as for
the 'configure' script.

Currently defined system types are:

  ALPHA		DEC Alpha/OSF
  APOLLO	HP 300 running Domain/OS
  BSD386	80[345]86 running BSD
  BSDM68K	Motorola 68K running NetBSD
  BSDMIPS	Mips running NetBSD
  CONVEX	Convex
  CRAY		Cray, Cray-2, Cray XMP
  CYGWIN	POSIX emulation on top of Windows
  DARWIN	Macintosh running Darwin
  DEC		DEC
  FREEBSD	FreeBSD
  HPPA		HP 9000 PA-Risc
  HPPA10	HP 9000 PA-Risc running OS 10.x
  HPPA11	HP 9000 PA-Risc running OS 11.x (32-bit)
  HPPA64	HP 9000 PA-Risc running OS 11.x (64-bit)
  HPIT		HP with 64-bit Intel processor (32-bit)
  HPIT64	HP with 64-bit Intel processor (64-bit)
  HP		HP
  I860		Intel Hypercube
  IBM		IBM running AIX
  IBM64		IBM with AIX 4.3 or above (64-bit)
  LINUX		Linux
  LINUX64	64-bit Linux
  M88K		Motorola M88100 running Real/IX
  MACOSX	Power Macintosh runing OSx
  NETBSD	NetBSD not defined elseware
  NEXT		NeXT
  OS2		OS/2
  PGON		Intel Paragon
  SGI5		Silicon Graphics running OS 5.x
  SGI6		Silicon Graphics running OS 6.x
  SGI64		Silicon Graphics (64-bit)
  SGI		Silicon Graphics
  SUN3		Sun 3
  SUN4		Sun 4, 4c, sparc, .etc
  SUN64		Sun 4 (64-bit)
  SUN		Sun
  VAX		DEC/Microvax
  UNKNOWN	couldn't determine system type

Executing './cgsystem [-]help', will display the above information.

----------------------------------------------------------------------

Building cgnstools under Cygwin and Windows

Additional headers from the Tcl/Tk source distribution are needed
to build the programs under Cygwin and Windows. Header files for
Tcl/Tk versions 8.0, 8.3 and 8.4 under Cygwin are included in the
"cygwin" subdirectory. The 'configure' script will set the include
path for compiling to one of these if the installed version of
Tcl/Tk matches. If not, you will need to obtain the Tcl/Tk source
distribution, and edit the "make.defs" file to set the include paths.

In the case of Windows, I would recommend that you download the
"win_install" zip file from the SourceForge site. This contains
a InstallShield installation program which installs everything.
If you really want to build the code, then you will need the Tcl/Tk
source distribution. Run the "configure.bat" file to create the
Makefile and the "make.win" include file. You may need to edit the
"make.win" and to set the compile options. Then run

  nmake [install]

to build the code. You may also need to edit the batch files in the
"adfviewer", "cgnscalc", and "cgnsplot" directories to set the
directories. You may also edit the "build.bat" file, set the options
there, and then run

  build.bat all install

----------------------------------------------------------------------

If you have any additions or corrections to make, please send them to:

Bruce Wedan
bruce.wedan@ansys.com

